import{S as x,i as ee,s as te,e as P,t as A,c as T,a as R,h as Q,d as h,g as y,L as w,j as me,b as E,a6 as et,a7 as Ee,O as pe,R as ge,a8 as tt,E as Y,a9 as nt,a3 as lt,aa as at,U as K,V as B,w as I,x as S,y as V,P as G,q as g,o as k,B as q,k as U,m as F,n as H,p as J,l as M,ab as Ie,T as Me,K as oe,Q as Se}from"../chunks/index-4f5f6f58.js";import{w as He}from"../chunks/index-c6e8df40.js";import{V as le,S as X,v as rt,j as it,k as st,l as ot,m as ut,c as ft,n as pt}from"../chunks/shapes-f7969361.js";import{n as ce,a as fe,g as ct}from"../chunks/index.browser-1d75288f.js";import{S as _t,_ as dt,a as mt}from"../chunks/sidebarTile-7590f97d.js";import{I as Je,B as Xe,F as gt,a as ht}from"../chunks/fontGenerator-18cf161f.js";import{I as _e}from"../chunks/inputNumber-d0b3ce63.js";import{L as Z}from"../chunks/label-22d06055.js";import{G as $t}from"../chunks/glyphsField-5eb43179.js";function Ve(r,e,n){const t=r.slice();return t[6]=e[n],t}function qe(r,e){let n,t=e[6].label+"",a,i;return{key:r,first:null,c(){n=P("option"),a=A(t),this.h()},l(l){n=T(l,"OPTION",{});var o=R(n);a=Q(o,t),o.forEach(h),this.h()},h(){n.__value=i=e[6].value,n.value=n.__value,this.first=n},m(l,o){y(l,n,o),w(n,a)},p(l,o){e=l,o&2&&t!==(t=e[6].label+"")&&me(a,t),o&2&&i!==(i=e[6].value)&&(n.__value=i,n.value=n.__value)},d(l){l&&h(n)}}}function vt(r){let e,n=[],t=new Map,a,i,l=r[1];const o=s=>s[6].label;for(let s=0;s<l.length;s+=1){let u=Ve(r,l,s),f=o(u);t.set(f,n[s]=qe(f,u))}return{c(){e=P("select");for(let s=0;s<n.length;s+=1)n[s].c();this.h()},l(s){e=T(s,"SELECT",{class:!0,name:!0,id:!0});var u=R(e);for(let f=0;f<n.length;f+=1)n[f].l(u);u.forEach(h),this.h()},h(){E(e,"class","block h-10 bg-slate-200 font-mono rounded-none"),E(e,"name",r[2]),E(e,"id",r[2]),r[0]===void 0&&et(()=>r[4].call(e))},m(s,u){y(s,e,u);for(let f=0;f<n.length;f+=1)n[f].m(e,null);Ee(e,r[0]),a||(i=[pe(e,"change",r[4]),pe(e,"change",r[3])],a=!0)},p(s,[u]){u&2&&(l=s[1],n=ge(n,u,o,1,s,l,t,e,tt,qe,null,Ve)),u&4&&E(e,"name",s[2]),u&4&&E(e,"id",s[2]),u&3&&Ee(e,s[0])},i:Y,o:Y,d(s){s&&h(e);for(let u=0;u<n.length;u+=1)n[u].d();a=!1,nt(i)}}}function bt(r,e,n){let{options:t}=e,{value:a}=e,{name:i=ce(5)}=e;const l=lt();function o(){l("changed",a)}function s(){a=at(this),n(0,a),n(1,t)}return r.$$set=u=>{"options"in u&&n(1,t=u.options),"value"in u&&n(0,a=u.value),"name"in u&&n(2,i=u.name)},[a,t,i,o,s]}class se extends x{constructor(e){super(),ee(this,e,bt,vt,te,{options:1,value:0,name:2})}}function kt(r){let e,n,t;function a(l){r[5](l)}let i={};return r[0]!==void 0&&(i.value=r[0]),e=new Je({props:i}),K.push(()=>B(e,"value",a)),{c(){I(e.$$.fragment)},l(l){S(e.$$.fragment,l)},m(l,o){V(e,l,o),t=!0},p(l,[o]){const s={};!n&&o&1&&(n=!0,s.value=l[0],G(()=>n=!1)),e.$set(s)},i(l){t||(g(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){q(e,l)}}}function yt(r,e,n){let{value:t=[]}=e,{parseNumbers:a=!1}=e,{parseBooleans:i=!1}=e,{separator:l=";"}=e,o="";u();function s(){const _=o.split(l).map(d=>d.trim()).filter(d=>d);!a&&!i?n(1,t=[..._]):a?n(1,t=[..._.map(d=>parseFloat(d)).filter(d=>!isNaN(d))]):i&&n(1,t=[..._.map(d=>d=="true"?!0:d=="false"?!1:null).filter(d=>d!==null)])}function u(){t.length&&n(0,o=t.join(`${l} `))}function f(_){o=_,n(0,o)}return r.$$set=_=>{"value"in _&&n(1,t=_.value),"parseNumbers"in _&&n(2,a=_.parseNumbers),"parseBooleans"in _&&n(3,i=_.parseBooleans),"separator"in _&&n(4,l=_.separator)},r.$$.update=()=>{r.$$.dirty&1&&s()},[o,t,a,i,l,f]}class he extends x{constructor(e){super(),ee(this,e,yt,kt,te,{value:1,parseNumbers:2,parseBooleans:3,separator:4})}}function De(r){let e,n,t,a,i,l,o,s;function u(c){r[6](c)}let f={options:r[3]};r[1]!==void 0&&(f.value=r[1]),n=new se({props:f}),K.push(()=>B(n,"value",u)),n.$on("changed",r[2]);const _=[Et,wt],d=[];function b(c,$){return c[0].value.kind=="fixed"?0:c[0].value.kind=="choice"?1:-1}return~(l=b(r))&&(o=d[l]=_[l](r)),{c(){e=P("div"),I(n.$$.fragment),a=U(),i=P("div"),o&&o.c(),this.h()},l(c){e=T(c,"DIV",{class:!0});var $=R(e);S(n.$$.fragment,$),a=F($),i=T($,"DIV",{class:!0});var m=R(i);o&&o.l(m),m.forEach(h),$.forEach(h),this.h()},h(){E(i,"class","flex flex-row space-x-2"),E(e,"class","flex flex-row space-x-4")},m(c,$){y(c,e,$),V(n,e,null),w(e,a),w(e,i),~l&&d[l].m(i,null),s=!0},p(c,$){const m={};!t&&$&2&&(t=!0,m.value=c[1],G(()=>t=!1)),n.$set(m);let p=l;l=b(c),l===p?~l&&d[l].p(c,$):(o&&(H(),k(d[p],1,1,()=>{d[p]=null}),J()),~l?(o=d[l],o?o.p(c,$):(o=d[l]=_[l](c),o.c()),g(o,1),o.m(i,null)):o=null)},i(c){s||(g(n.$$.fragment,c),g(o),s=!0)},o(c){k(n.$$.fragment,c),k(o),s=!1},d(c){c&&h(e),q(n),~l&&d[l].d()}}}function wt(r){let e,n,t;function a(l){r[8](l)}let i={parseBooleans:!0};return r[0].value.data.options!==void 0&&(i.value=r[0].value.data.options),e=new he({props:i}),K.push(()=>B(e,"value",a)),{c(){I(e.$$.fragment)},l(l){S(e.$$.fragment,l)},m(l,o){V(e,l,o),t=!0},p(l,o){const s={};!n&&o&1&&(n=!0,s.value=l[0].value.data.options,G(()=>n=!1)),e.$set(s)},i(l){t||(g(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){q(e,l)}}}function Et(r){let e,n,t;function a(l){r[7](l)}let i={options:r[4]};return r[0].value.data!==void 0&&(i.value=r[0].value.data),e=new se({props:i}),K.push(()=>B(e,"value",a)),{c(){I(e.$$.fragment)},l(l){S(e.$$.fragment,l)},m(l,o){V(e,l,o),t=!0},p(l,o){const s={};!n&&o&1&&(n=!0,s.value=l[0].value.data,G(()=>n=!1)),e.$set(s)},i(l){t||(g(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){q(e,l)}}}function It(r){let e,n,t=r[0]&&De(r);return{c(){t&&t.c(),e=M()},l(a){t&&t.l(a),e=M()},m(a,i){t&&t.m(a,i),y(a,e,i),n=!0},p(a,[i]){a[0]?t?(t.p(a,i),i&1&&g(t,1)):(t=De(a),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(H(),k(t,1,1,()=>{t=null}),J())},i(a){n||(g(t),n=!0)},o(a){k(t),n=!1},d(a){t&&t.d(a),a&&h(e)}}}function St(r,e,n){let{prop:t}=e,{defaults:a={fixed:!1,choice:{options:[!1,!0]}}}=e,i;t&&(i=t.value.kind,i!=t.value.kind&&l(i));function l(b){n(0,t.value.kind=b,t),n(0,t.value.data=a[b],t)}function o(b){const c=b.detail;l(c)}const s=[{label:"fixed",value:le.Fixed},{label:"choice",value:le.Choice}],u=[{label:"true",value:!0},{label:"false",value:!1}];function f(b){i=b,n(1,i)}function _(b){r.$$.not_equal(t.value.data,b)&&(t.value.data=b,n(0,t))}function d(b){r.$$.not_equal(t.value.data.options,b)&&(t.value.data.options=b,n(0,t))}return r.$$set=b=>{"prop"in b&&n(0,t=b.prop),"defaults"in b&&n(5,a=b.defaults)},[t,i,o,s,u,a,f,_,d]}class Vt extends x{constructor(e){super(),ee(this,e,St,It,te,{prop:0,defaults:5})}}function Ne(r){let e,n,t,a,i,l,o,s;function u(c){r[5](c)}let f={options:r[3]};r[1]!==void 0&&(f.value=r[1]),n=new se({props:f}),K.push(()=>B(n,"value",u)),n.$on("changed",r[2]);const _=[Nt,Dt,qt],d=[];function b(c,$){return c[0].value.kind=="fixed"?0:c[0].value.kind=="range"?1:c[0].value.kind=="choice"?2:-1}return~(l=b(r))&&(o=d[l]=_[l](r)),{c(){e=P("div"),I(n.$$.fragment),a=U(),i=P("div"),o&&o.c(),this.h()},l(c){e=T(c,"DIV",{class:!0});var $=R(e);S(n.$$.fragment,$),a=F($),i=T($,"DIV",{class:!0});var m=R(i);o&&o.l(m),m.forEach(h),$.forEach(h),this.h()},h(){E(i,"class","flex flex-row space-x-2"),E(e,"class","flex flex-row space-x-4")},m(c,$){y(c,e,$),V(n,e,null),w(e,a),w(e,i),~l&&d[l].m(i,null),s=!0},p(c,$){const m={};!t&&$&2&&(t=!0,m.value=c[1],G(()=>t=!1)),n.$set(m);let p=l;l=b(c),l===p?~l&&d[l].p(c,$):(o&&(H(),k(d[p],1,1,()=>{d[p]=null}),J()),~l?(o=d[l],o?o.p(c,$):(o=d[l]=_[l](c),o.c()),g(o,1),o.m(i,null)):o=null)},i(c){s||(g(n.$$.fragment,c),g(o),s=!0)},o(c){k(n.$$.fragment,c),k(o),s=!1},d(c){c&&h(e),q(n),~l&&d[l].d()}}}function qt(r){let e,n,t;function a(l){r[9](l)}let i={parseNumbers:!0};return r[0].value.data.options!==void 0&&(i.value=r[0].value.data.options),e=new he({props:i}),K.push(()=>B(e,"value",a)),{c(){I(e.$$.fragment)},l(l){S(e.$$.fragment,l)},m(l,o){V(e,l,o),t=!0},p(l,o){const s={};!n&&o&1&&(n=!0,s.value=l[0].value.data.options,G(()=>n=!1)),e.$set(s)},i(l){t||(g(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){q(e,l)}}}function Dt(r){let e,n,t,a,i,l,o,s,u,f,_,d,b;function c(v){r[7](v)}let $={name:"min"};r[0].value.data.min!==void 0&&($.value=r[0].value.data.min),t=new _e({props:$}),K.push(()=>B(t,"value",c)),l=new Z({props:{target:"min",$$slots:{default:[Pt]},$$scope:{ctx:r}}});function m(v){r[8](v)}let p={name:"max"};return r[0].value.data.max!==void 0&&(p.value=r[0].value.data.max),u=new _e({props:p}),K.push(()=>B(u,"value",m)),d=new Z({props:{target:"max",$$slots:{default:[Tt]},$$scope:{ctx:r}}}),{c(){e=P("div"),n=P("div"),I(t.$$.fragment),i=U(),I(l.$$.fragment),o=U(),s=P("div"),I(u.$$.fragment),_=U(),I(d.$$.fragment),this.h()},l(v){e=T(v,"DIV",{class:!0});var D=R(e);n=T(D,"DIV",{class:!0});var L=R(n);S(t.$$.fragment,L),i=F(L),S(l.$$.fragment,L),L.forEach(h),o=F(D),s=T(D,"DIV",{class:!0});var C=R(s);S(u.$$.fragment,C),_=F(C),S(d.$$.fragment,C),C.forEach(h),D.forEach(h),this.h()},h(){E(n,"class","flex flex-row flex-nowrap items-center space-x-2"),E(s,"class","flex flex-row flex-nowrap items-center space-x-2"),E(e,"class","space-y-2")},m(v,D){y(v,e,D),w(e,n),V(t,n,null),w(n,i),V(l,n,null),w(e,o),w(e,s),V(u,s,null),w(s,_),V(d,s,null),b=!0},p(v,D){const L={};!a&&D&1&&(a=!0,L.value=v[0].value.data.min,G(()=>a=!1)),t.$set(L);const C={};D&2048&&(C.$$scope={dirty:D,ctx:v}),l.$set(C);const ne={};!f&&D&1&&(f=!0,ne.value=v[0].value.data.max,G(()=>f=!1)),u.$set(ne);const z={};D&2048&&(z.$$scope={dirty:D,ctx:v}),d.$set(z)},i(v){b||(g(t.$$.fragment,v),g(l.$$.fragment,v),g(u.$$.fragment,v),g(d.$$.fragment,v),b=!0)},o(v){k(t.$$.fragment,v),k(l.$$.fragment,v),k(u.$$.fragment,v),k(d.$$.fragment,v),b=!1},d(v){v&&h(e),q(t),q(l),q(u),q(d)}}}function Nt(r){let e,n,t;function a(l){r[6](l)}let i={};return r[0].value.data!==void 0&&(i.value=r[0].value.data),e=new _e({props:i}),K.push(()=>B(e,"value",a)),{c(){I(e.$$.fragment)},l(l){S(e.$$.fragment,l)},m(l,o){V(e,l,o),t=!0},p(l,o){const s={};!n&&o&1&&(n=!0,s.value=l[0].value.data,G(()=>n=!1)),e.$set(s)},i(l){t||(g(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){q(e,l)}}}function Pt(r){let e;return{c(){e=A("min")},l(n){e=Q(n,"min")},m(n,t){y(n,e,t)},d(n){n&&h(e)}}}function Tt(r){let e;return{c(){e=A("max")},l(n){e=Q(n,"max")},m(n,t){y(n,e,t)},d(n){n&&h(e)}}}function Rt(r){let e,n,t=r[0]&&Ne(r);return{c(){t&&t.c(),e=M()},l(a){t&&t.l(a),e=M()},m(a,i){t&&t.m(a,i),y(a,e,i),n=!0},p(a,[i]){a[0]?t?(t.p(a,i),i&1&&g(t,1)):(t=Ne(a),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(H(),k(t,1,1,()=>{t=null}),J())},i(a){n||(g(t),n=!0)},o(a){k(t),n=!1},d(a){t&&t.d(a),a&&h(e)}}}function Ut(r,e,n){let{prop:t}=e,{defaults:a={fixed:1,choice:{options:[1,2]},range:{min:1,max:2}}}=e,i;t&&(i=t.value.kind,i!=t.value.kind&&l(i));function l(c){n(0,t.value.kind=c,t),n(0,t.value.data=a[c],t)}function o(c){const $=c.detail;l($)}const s=[{label:"fixed",value:le.Fixed},{label:"choice",value:le.Choice},{label:"range",value:le.Range}];function u(c){i=c,n(1,i)}function f(c){r.$$.not_equal(t.value.data,c)&&(t.value.data=c,n(0,t))}function _(c){r.$$.not_equal(t.value.data.min,c)&&(t.value.data.min=c,n(0,t))}function d(c){r.$$.not_equal(t.value.data.max,c)&&(t.value.data.max=c,n(0,t))}function b(c){r.$$.not_equal(t.value.data.options,c)&&(t.value.data.options=c,n(0,t))}return r.$$set=c=>{"prop"in c&&n(0,t=c.prop),"defaults"in c&&n(4,a=c.defaults)},[t,i,o,s,a,u,f,_,d,b]}class ue extends x{constructor(e){super(),ee(this,e,Ut,Rt,te,{prop:0,defaults:4})}}function Pe(r){let e,n,t,a,i,l,o,s;function u(c){r[6](c)}let f={options:r[3]};r[1]!==void 0&&(f.value=r[1]),n=new se({props:f}),K.push(()=>B(n,"value",u)),n.$on("changed",r[2]);const _=[Ot,Ft],d=[];function b(c,$){return c[0].value.kind=="fixed"?0:c[0].value.kind=="choice"?1:-1}return~(l=b(r))&&(o=d[l]=_[l](r)),{c(){e=P("div"),I(n.$$.fragment),a=U(),i=P("div"),o&&o.c(),this.h()},l(c){e=T(c,"DIV",{class:!0});var $=R(e);S(n.$$.fragment,$),a=F($),i=T($,"DIV",{class:!0});var m=R(i);o&&o.l(m),m.forEach(h),$.forEach(h),this.h()},h(){E(i,"class","flex flex-row space-x-2"),E(e,"class","flex flex-row space-x-4")},m(c,$){y(c,e,$),V(n,e,null),w(e,a),w(e,i),~l&&d[l].m(i,null),s=!0},p(c,$){const m={};!t&&$&2&&(t=!0,m.value=c[1],G(()=>t=!1)),n.$set(m);let p=l;l=b(c),l===p?~l&&d[l].p(c,$):(o&&(H(),k(d[p],1,1,()=>{d[p]=null}),J()),~l?(o=d[l],o?o.p(c,$):(o=d[l]=_[l](c),o.c()),g(o,1),o.m(i,null)):o=null)},i(c){s||(g(n.$$.fragment,c),g(o),s=!0)},o(c){k(n.$$.fragment,c),k(o),s=!1},d(c){c&&h(e),q(n),~l&&d[l].d()}}}function Ft(r){let e,n,t;function a(l){r[8](l)}let i={};return r[0].value.data.options!==void 0&&(i.value=r[0].value.data.options),e=new he({props:i}),K.push(()=>B(e,"value",a)),{c(){I(e.$$.fragment)},l(l){S(e.$$.fragment,l)},m(l,o){V(e,l,o),t=!0},p(l,o){const s={};!n&&o&1&&(n=!0,s.value=l[0].value.data.options,G(()=>n=!1)),e.$set(s)},i(l){t||(g(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){q(e,l)}}}function Ot(r){let e,n,t;function a(l){r[7](l)}let i={options:r[4]};return r[0].value.data!==void 0&&(i.value=r[0].value.data),e=new se({props:i}),K.push(()=>B(e,"value",a)),{c(){I(e.$$.fragment)},l(l){S(e.$$.fragment,l)},m(l,o){V(e,l,o),t=!0},p(l,o){const s={};!n&&o&1&&(n=!0,s.value=l[0].value.data,G(()=>n=!1)),e.$set(s)},i(l){t||(g(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){q(e,l)}}}function Kt(r){let e,n,t=r[0]&&Pe(r);return{c(){t&&t.c(),e=M()},l(a){t&&t.l(a),e=M()},m(a,i){t&&t.m(a,i),y(a,e,i),n=!0},p(a,[i]){a[0]?t?(t.p(a,i),i&1&&g(t,1)):(t=Pe(a),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(H(),k(t,1,1,()=>{t=null}),J())},i(a){n||(g(t),n=!0)},o(a){k(t),n=!1},d(a){t&&t.d(a),a&&h(e)}}}function Bt(r,e,n){let{prop:t}=e,{defaults:a={fixed:"NE",choice:{options:["NE","NW"]}}}=e,i;t&&(i=t.value.kind,i!=t.value.kind&&l(i));function l(b){n(0,t.value.kind=b,t),n(0,t.value.data=a[b],t)}function o(b){const c=b.detail;l(c)}const s=[{label:"fixed",value:le.Fixed},{label:"choice",value:le.Choice}],u=[{label:"NW",value:"NW"},{label:"NE",value:"NE"},{label:"SW",value:"SW"},{label:"SE",value:"SE"}];function f(b){i=b,n(1,i)}function _(b){r.$$.not_equal(t.value.data,b)&&(t.value.data=b,n(0,t))}function d(b){r.$$.not_equal(t.value.data.options,b)&&(t.value.data.options=b,n(0,t))}return r.$$set=b=>{"prop"in b&&n(0,t=b.prop),"defaults"in b&&n(5,a=b.defaults)},[t,i,o,s,u,a,f,_,d]}class Gt extends x{constructor(e){super(),ee(this,e,Bt,Kt,te,{prop:0,defaults:5})}}function Te(r){let e,n,t;return{c(){e=P("input"),this.h()},l(a){e=T(a,"INPUT",{type:!0,accept:!0}),this.h()},h(){E(e,"type","file"),E(e,"accept","image/svg+xml")},m(a,i){y(a,e,i),n||(t=pe(e,"change",r[3]),n=!0)},p:Y,d(a){a&&h(e),n=!1,t()}}}function Lt(r){let e,n,t,a,i,l,o;return l=new Xe({props:{$$slots:{default:[At]},$$scope:{ctx:r}}}),l.$on("click",r[4]),{c(){e=P("div"),n=P("div"),t=P("img"),i=U(),I(l.$$.fragment),this.h()},l(s){e=T(s,"DIV",{class:!0});var u=R(e);n=T(u,"DIV",{class:!0});var f=R(n);t=T(f,"IMG",{class:!0,src:!0,alt:!0}),f.forEach(h),i=F(u),S(l.$$.fragment,u),u.forEach(h),this.h()},h(){E(t,"class","w-20 h-20 object-cover"),Ie(t.src,a=r[0])||E(t,"src",a),E(t,"alt","up"),E(n,"class","bg-white"),E(e,"class","flex flex-row bg-slate-300 border-slate-300 border-2 w-fit items-center")},m(s,u){y(s,e,u),w(e,n),w(n,t),w(e,i),V(l,e,null),o=!0},p(s,u){(!o||u&1&&!Ie(t.src,a=s[0]))&&E(t,"src",a);const f={};u&32&&(f.$$scope={dirty:u,ctx:s}),l.$set(f)},i(s){o||(g(l.$$.fragment,s),o=!0)},o(s){k(l.$$.fragment,s),o=!1},d(s){s&&h(e),q(l)}}}function zt(r){let e,n;return{c(){e=P("p"),n=A("Loading...")},l(t){e=T(t,"P",{});var a=R(e);n=Q(a,"Loading..."),a.forEach(h)},m(t,a){y(t,e,a),w(e,n)},p:Y,i:Y,o:Y,d(t){t&&h(e)}}}function At(r){let e;return{c(){e=A("x")},l(n){e=Q(n,"x")},m(n,t){y(n,e,t)},d(n){n&&h(e)}}}function Qt(r){let e,n,t,a,i,l=!r[0]&&Te(r);const o=[zt,Lt],s=[];function u(f,_){return f[2]?0:f[0]?1:-1}return~(n=u(r))&&(t=s[n]=o[n](r)),{c(){l&&l.c(),e=U(),t&&t.c(),a=M()},l(f){l&&l.l(f),e=F(f),t&&t.l(f),a=M()},m(f,_){l&&l.m(f,_),y(f,e,_),~n&&s[n].m(f,_),y(f,a,_),i=!0},p(f,[_]){f[0]?l&&(l.d(1),l=null):l?l.p(f,_):(l=Te(f),l.c(),l.m(e.parentNode,e));let d=n;n=u(f),n===d?~n&&s[n].p(f,_):(t&&(H(),k(s[d],1,1,()=>{s[d]=null}),J()),~n?(t=s[n],t?t.p(f,_):(t=s[n]=o[n](f),t.c()),g(t,1),t.m(a.parentNode,a)):t=null)},i(f){i||(g(t),i=!0)},o(f){k(t),i=!1},d(f){l&&l.d(f),f&&h(e),~n&&s[n].d(f),f&&h(a)}}}function Ct(r,e,n){let{dataUrl:t}=e,a=!1,i;function l(){i=this.files,n(1,i)}const o=()=>{n(0,t="")};return r.$$set=s=>{"dataUrl"in s&&n(0,t=s.dataUrl)},r.$$.update=()=>{if(r.$$.dirty&2&&i){n(2,a=!0);const s=i[0],u=new FileReader;u.readAsDataURL(s),u.onload=()=>{const f=u.result;n(0,t=f),n(2,a=!1)}}},[t,i,a,l,o]}class Wt extends x{constructor(e){super(),ee(this,e,Ct,Qt,te,{dataUrl:0})}}function Re(r){let e,n,t;function a(l){r[1](l)}let i={};return r[0].value.data!==void 0&&(i.dataUrl=r[0].value.data),e=new Wt({props:i}),K.push(()=>B(e,"dataUrl",a)),{c(){I(e.$$.fragment)},l(l){S(e.$$.fragment,l)},m(l,o){V(e,l,o),t=!0},p(l,o){const s={};!n&&o&1&&(n=!0,s.dataUrl=l[0].value.data,G(()=>n=!1)),e.$set(s)},i(l){t||(g(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){q(e,l)}}}function jt(r){let e,n,t=r[0].value.kind==le.Fixed&&Re(r);return{c(){t&&t.c(),e=M()},l(a){t&&t.l(a),e=M()},m(a,i){t&&t.m(a,i),y(a,e,i),n=!0},p(a,[i]){a[0].value.kind==le.Fixed?t?(t.p(a,i),i&1&&g(t,1)):(t=Re(a),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(H(),k(t,1,1,()=>{t=null}),J())},i(a){n||(g(t),n=!0)},o(a){k(t),n=!1},d(a){t&&t.d(a),a&&h(e)}}}function Mt(r,e,n){let{prop:t}=e;function a(i){r.$$.not_equal(t.value.data,i)&&(t.value.data=i,n(0,t))}return r.$$set=i=>{"prop"in i&&n(0,t=i.prop)},[t,a]}class Ht extends x{constructor(e){super(),ee(this,e,Mt,jt,te,{prop:0})}}function Jt(r){let e;return{c(){e=A("Forma")},l(n){e=Q(n,"Forma")},m(n,t){y(n,e,t)},d(n){n&&h(e)}}}function Ue(r){let e,n,t,a,i,l,o,s,u,f,_,d,b,c,$,m,p,v,D,L,C,ne,z=r[0].shape.kind==X.SVG&&Fe(r);a=new Z({props:{target:"scale_x",$$slots:{default:[Yt]},$$scope:{ctx:r}}});function Ye(N){r[8](N)}let $e={};r[0].shape.props.scale_x!==void 0&&($e.prop=r[0].shape.props.scale_x),l=new ue({props:$e}),K.push(()=>B(l,"prop",Ye)),f=new Z({props:{target:"scale_y",$$slots:{default:[Zt]},$$scope:{ctx:r}}});function Ze(N){r[9](N)}let ve={};r[0].shape.props.scale_y!==void 0&&(ve.prop=r[0].shape.props.scale_y),d=new ue({props:ve}),K.push(()=>B(d,"prop",Ze)),m=new Z({props:{target:"rotation",$$slots:{default:[xt]},$$scope:{ctx:r}}});function xe(N){r[10](N)}let be={defaults:r[4]};r[0].shape.props.rotation!==void 0&&(be.prop=r[0].shape.props.rotation),v=new ue({props:be}),K.push(()=>B(v,"prop",xe));let W=(r[0].shape.kind==X.Quarter||r[0].shape.kind==X.Ellipse)&&Oe(r),j=r[0].shape.kind==X.Quarter&&Ke(r);return{c(){e=P("div"),z&&z.c(),n=U(),t=P("div"),I(a.$$.fragment),i=U(),I(l.$$.fragment),s=U(),u=P("div"),I(f.$$.fragment),_=U(),I(d.$$.fragment),c=U(),$=P("div"),I(m.$$.fragment),p=U(),I(v.$$.fragment),L=U(),W&&W.c(),C=U(),j&&j.c(),this.h()},l(N){e=T(N,"DIV",{class:!0});var O=R(e);z&&z.l(O),n=F(O),t=T(O,"DIV",{class:!0});var ae=R(t);S(a.$$.fragment,ae),i=F(ae),S(l.$$.fragment,ae),ae.forEach(h),s=F(O),u=T(O,"DIV",{class:!0});var re=R(u);S(f.$$.fragment,re),_=F(re),S(d.$$.fragment,re),re.forEach(h),c=F(O),$=T(O,"DIV",{class:!0});var ie=R($);S(m.$$.fragment,ie),p=F(ie),S(v.$$.fragment,ie),ie.forEach(h),L=F(O),W&&W.l(O),C=F(O),j&&j.l(O),O.forEach(h),this.h()},h(){E(t,"class","block"),E(u,"class","block"),E($,"class","block"),E(e,"class","space-y-4 pl-8")},m(N,O){y(N,e,O),z&&z.m(e,null),w(e,n),w(e,t),V(a,t,null),w(t,i),V(l,t,null),w(e,s),w(e,u),V(f,u,null),w(u,_),V(d,u,null),w(e,c),w(e,$),V(m,$,null),w($,p),V(v,$,null),w(e,L),W&&W.m(e,null),w(e,C),j&&j.m(e,null),ne=!0},p(N,O){N[0].shape.kind==X.SVG?z?(z.p(N,O),O&1&&g(z,1)):(z=Fe(N),z.c(),g(z,1),z.m(e,n)):z&&(H(),k(z,1,1,()=>{z=null}),J());const ae={};O&16384&&(ae.$$scope={dirty:O,ctx:N}),a.$set(ae);const re={};!o&&O&1&&(o=!0,re.prop=N[0].shape.props.scale_x,G(()=>o=!1)),l.$set(re);const ie={};O&16384&&(ie.$$scope={dirty:O,ctx:N}),f.$set(ie);const ke={};!b&&O&1&&(b=!0,ke.prop=N[0].shape.props.scale_y,G(()=>b=!1)),d.$set(ke);const ye={};O&16384&&(ye.$$scope={dirty:O,ctx:N}),m.$set(ye);const we={};!D&&O&1&&(D=!0,we.prop=N[0].shape.props.rotation,G(()=>D=!1)),v.$set(we),N[0].shape.kind==X.Quarter||N[0].shape.kind==X.Ellipse?W?(W.p(N,O),O&1&&g(W,1)):(W=Oe(N),W.c(),g(W,1),W.m(e,C)):W&&(H(),k(W,1,1,()=>{W=null}),J()),N[0].shape.kind==X.Quarter?j?(j.p(N,O),O&1&&g(j,1)):(j=Ke(N),j.c(),g(j,1),j.m(e,null)):j&&(H(),k(j,1,1,()=>{j=null}),J())},i(N){ne||(g(z),g(a.$$.fragment,N),g(l.$$.fragment,N),g(f.$$.fragment,N),g(d.$$.fragment,N),g(m.$$.fragment,N),g(v.$$.fragment,N),g(W),g(j),ne=!0)},o(N){k(z),k(a.$$.fragment,N),k(l.$$.fragment,N),k(f.$$.fragment,N),k(d.$$.fragment,N),k(m.$$.fragment,N),k(v.$$.fragment,N),k(W),k(j),ne=!1},d(N){N&&h(e),z&&z.d(),q(a),q(l),q(f),q(d),q(m),q(v),W&&W.d(),j&&j.d()}}}function Fe(r){let e,n,t,a,i,l;n=new Z({props:{target:"",$$slots:{default:[Xt]},$$scope:{ctx:r}}});function o(u){r[7](u)}let s={};return r[0].shape.props.path!==void 0&&(s.prop=r[0].shape.props.path),a=new Ht({props:s}),K.push(()=>B(a,"prop",o)),{c(){e=P("div"),I(n.$$.fragment),t=U(),I(a.$$.fragment),this.h()},l(u){e=T(u,"DIV",{class:!0});var f=R(e);S(n.$$.fragment,f),t=F(f),S(a.$$.fragment,f),f.forEach(h),this.h()},h(){E(e,"class","block")},m(u,f){y(u,e,f),V(n,e,null),w(e,t),V(a,e,null),l=!0},p(u,f){const _={};f&16384&&(_.$$scope={dirty:f,ctx:u}),n.$set(_);const d={};!i&&f&1&&(i=!0,d.prop=u[0].shape.props.path,G(()=>i=!1)),a.$set(d)},i(u){l||(g(n.$$.fragment,u),g(a.$$.fragment,u),l=!0)},o(u){k(n.$$.fragment,u),k(a.$$.fragment,u),l=!1},d(u){u&&h(e),q(n),q(a)}}}function Xt(r){let e;return{c(){e=A("SVG Path")},l(n){e=Q(n,"SVG Path")},m(n,t){y(n,e,t)},d(n){n&&h(e)}}}function Yt(r){let e;return{c(){e=A("Scala orizzontale")},l(n){e=Q(n,"Scala orizzontale")},m(n,t){y(n,e,t)},d(n){n&&h(e)}}}function Zt(r){let e;return{c(){e=A("Scala verticale")},l(n){e=Q(n,"Scala verticale")},m(n,t){y(n,e,t)},d(n){n&&h(e)}}}function xt(r){let e;return{c(){e=A("Rotazione")},l(n){e=Q(n,"Rotazione")},m(n,t){y(n,e,t)},d(n){n&&h(e)}}}function Oe(r){let e,n,t,a,i,l,o,s,u,f,_,d;n=new Z({props:{target:"squaring",$$slots:{default:[en]},$$scope:{ctx:r}}});function b(p){r[11](p)}let c={defaults:r[5]};r[0].shape.props.squaring!==void 0&&(c.prop=r[0].shape.props.squaring),a=new ue({props:c}),K.push(()=>B(a,"prop",b)),s=new Z({props:{target:"negative",$$slots:{default:[tn]},$$scope:{ctx:r}}});function $(p){r[12](p)}let m={};return r[0].shape.props.negative!==void 0&&(m.prop=r[0].shape.props.negative),f=new Vt({props:m}),K.push(()=>B(f,"prop",$)),{c(){e=P("div"),I(n.$$.fragment),t=U(),I(a.$$.fragment),l=U(),o=P("div"),I(s.$$.fragment),u=U(),I(f.$$.fragment),this.h()},l(p){e=T(p,"DIV",{class:!0});var v=R(e);S(n.$$.fragment,v),t=F(v),S(a.$$.fragment,v),v.forEach(h),l=F(p),o=T(p,"DIV",{class:!0});var D=R(o);S(s.$$.fragment,D),u=F(D),S(f.$$.fragment,D),D.forEach(h),this.h()},h(){E(e,"class","block"),E(o,"class","block")},m(p,v){y(p,e,v),V(n,e,null),w(e,t),V(a,e,null),y(p,l,v),y(p,o,v),V(s,o,null),w(o,u),V(f,o,null),d=!0},p(p,v){const D={};v&16384&&(D.$$scope={dirty:v,ctx:p}),n.$set(D);const L={};!i&&v&1&&(i=!0,L.prop=p[0].shape.props.squaring,G(()=>i=!1)),a.$set(L);const C={};v&16384&&(C.$$scope={dirty:v,ctx:p}),s.$set(C);const ne={};!_&&v&1&&(_=!0,ne.prop=p[0].shape.props.negative,G(()=>_=!1)),f.$set(ne)},i(p){d||(g(n.$$.fragment,p),g(a.$$.fragment,p),g(s.$$.fragment,p),g(f.$$.fragment,p),d=!0)},o(p){k(n.$$.fragment,p),k(a.$$.fragment,p),k(s.$$.fragment,p),k(f.$$.fragment,p),d=!1},d(p){p&&h(e),q(n),q(a),p&&h(l),p&&h(o),q(s),q(f)}}}function en(r){let e;return{c(){e=A("Squadratura")},l(n){e=Q(n,"Squadratura")},m(n,t){y(n,e,t)},d(n){n&&h(e)}}}function tn(r){let e;return{c(){e=A("Negativo")},l(n){e=Q(n,"Negativo")},m(n,t){y(n,e,t)},d(n){n&&h(e)}}}function Ke(r){let e,n,t,a,i,l;n=new Z({props:{target:"orientamento",$$slots:{default:[nn]},$$scope:{ctx:r}}});function o(u){r[13](u)}let s={};return r[0].shape.props.orientation!==void 0&&(s.prop=r[0].shape.props.orientation),a=new Gt({props:s}),K.push(()=>B(a,"prop",o)),{c(){e=P("div"),I(n.$$.fragment),t=U(),I(a.$$.fragment),this.h()},l(u){e=T(u,"DIV",{class:!0});var f=R(e);S(n.$$.fragment,f),t=F(f),S(a.$$.fragment,f),f.forEach(h),this.h()},h(){E(e,"class","block")},m(u,f){y(u,e,f),V(n,e,null),w(e,t),V(a,e,null),l=!0},p(u,f){const _={};f&16384&&(_.$$scope={dirty:f,ctx:u}),n.$set(_);const d={};!i&&f&1&&(i=!0,d.prop=u[0].shape.props.orientation,G(()=>i=!1)),a.$set(d)},i(u){l||(g(n.$$.fragment,u),g(a.$$.fragment,u),l=!0)},o(u){k(n.$$.fragment,u),k(a.$$.fragment,u),l=!1},d(u){u&&h(e),q(n),q(a)}}}function nn(r){let e;return{c(){e=A("Orientamento")},l(n){e=Q(n,"Orientamento")},m(n,t){y(n,e,t)},d(n){n&&h(e)}}}function ln(r){let e,n,t=r[0].symbol+"",a,i,l,o,s,u,f,_,d,b;s=new Z({props:{target:"shape",$$slots:{default:[Jt]},$$scope:{ctx:r}}});function c(p){r[6](p)}let $={options:r[3]};r[1]!==void 0&&($.value=r[1]),f=new se({props:$}),K.push(()=>B(f,"value",c)),f.$on("changed",r[2]);let m=r[0].shape.kind!=X.Void&&Ue(r);return{c(){e=P("div"),n=P("div"),a=A(t),i=U(),l=P("div"),o=P("div"),I(s.$$.fragment),u=U(),I(f.$$.fragment),d=U(),m&&m.c(),this.h()},l(p){e=T(p,"DIV",{class:!0});var v=R(e);n=T(v,"DIV",{class:!0});var D=R(n);a=Q(D,t),D.forEach(h),i=F(v),l=T(v,"DIV",{class:!0});var L=R(l);o=T(L,"DIV",{class:!0});var C=R(o);S(s.$$.fragment,C),u=F(C),S(f.$$.fragment,C),C.forEach(h),d=F(L),m&&m.l(L),L.forEach(h),v.forEach(h),this.h()},h(){E(n,"class","text-xl p-4 bg-slate-800 text-white font-mono"),E(o,"class","space-y-1"),E(l,"class","space-y-8 px-0 pt-4"),E(e,"class","flex flex-col flex-nowrap")},m(p,v){y(p,e,v),w(e,n),w(n,a),w(e,i),w(e,l),w(l,o),V(s,o,null),w(o,u),V(f,o,null),w(l,d),m&&m.m(l,null),b=!0},p(p,[v]){(!b||v&1)&&t!==(t=p[0].symbol+"")&&me(a,t);const D={};v&16384&&(D.$$scope={dirty:v,ctx:p}),s.$set(D);const L={};!_&&v&2&&(_=!0,L.value=p[1],G(()=>_=!1)),f.$set(L),p[0].shape.kind!=X.Void?m?(m.p(p,v),v&1&&g(m,1)):(m=Ue(p),m.c(),g(m,1),m.m(l,null)):m&&(H(),k(m,1,1,()=>{m=null}),J())},i(p){b||(g(s.$$.fragment,p),g(f.$$.fragment,p),g(m),b=!0)},o(p){k(s.$$.fragment,p),k(f.$$.fragment,p),k(m),b=!1},d(p){p&&h(e),q(s),q(f),m&&m.d()}}}function an(r,e,n){let{rule:t}=e,a=t.shape.kind;a!=t.shape.kind&&i();function i(){const p={void:rt,rectangle:it,ellipse:st,quarter:ot,svg:ut};n(0,t.shape.props=p[a],t),n(0,t.shape.kind=a,t)}const l=[{label:"rectangle",value:X.Rectangle},{label:"ellipse",value:X.Ellipse},{label:"quarter",value:X.Quarter},{label:"void",value:X.Void},{label:"svg",value:X.SVG}],o={fixed:0,choice:{options:[0,45]},range:{min:0,max:90}},s={fixed:.56,choice:{options:[0,.56,1]},range:{min:0,max:1}};function u(p){a=p,n(1,a)}function f(p){r.$$.not_equal(t.shape.props.path,p)&&(t.shape.props.path=p,n(0,t))}function _(p){r.$$.not_equal(t.shape.props.scale_x,p)&&(t.shape.props.scale_x=p,n(0,t))}function d(p){r.$$.not_equal(t.shape.props.scale_y,p)&&(t.shape.props.scale_y=p,n(0,t))}function b(p){r.$$.not_equal(t.shape.props.rotation,p)&&(t.shape.props.rotation=p,n(0,t))}function c(p){r.$$.not_equal(t.shape.props.squaring,p)&&(t.shape.props.squaring=p,n(0,t))}function $(p){r.$$.not_equal(t.shape.props.negative,p)&&(t.shape.props.negative=p,n(0,t))}function m(p){r.$$.not_equal(t.shape.props.orientation,p)&&(t.shape.props.orientation=p,n(0,t))}return r.$$set=p=>{"rule"in p&&n(0,t=p.rule)},[t,a,i,l,o,s,u,f,_,d,b,c,$,m]}class rn extends x{constructor(e){super(),ee(this,e,an,ln,te,{rule:0})}}function Be(r,e,n){const t=r.slice();return t[2]=e[n],t[3]=e,t[4]=n,t}function sn(r){let e,n;return{c(){e=P("p"),n=A("Inizia a disegnare un glifo per modificare la sintassi!"),this.h()},l(t){e=T(t,"P",{class:!0});var a=R(e);n=Q(a,"Inizia a disegnare un glifo per modificare la sintassi!"),a.forEach(h),this.h()},h(){E(e,"class","font-mono w-full border-2 border-slate-200 text-slate-300 p-12")},m(t,a){y(t,e,a),w(e,n)},p:Y,i:Y,o:Y,d(t){t&&h(e)}}}function on(r){let e=[],n=new Map,t,a,i=r[0].rules;const l=o=>o[2].symbol;for(let o=0;o<i.length;o+=1){let s=Be(r,i,o),u=l(s);n.set(u,e[o]=Ge(u,s))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();t=M()},l(o){for(let s=0;s<e.length;s+=1)e[s].l(o);t=M()},m(o,s){for(let u=0;u<e.length;u+=1)e[u].m(o,s);y(o,t,s),a=!0},p(o,s){s&1&&(i=o[0].rules,H(),e=ge(e,s,l,1,o,i,n,t.parentNode,Me,Ge,t,Be),J())},i(o){if(!a){for(let s=0;s<i.length;s+=1)g(e[s]);a=!0}},o(o){for(let s=0;s<e.length;s+=1)k(e[s]);a=!1},d(o){for(let s=0;s<e.length;s+=1)e[s].d(o);o&&h(t)}}}function Ge(r,e){let n,t,a,i;function l(s){e[1](s,e[2],e[3],e[4])}let o={};return e[2]!==void 0&&(o.rule=e[2]),t=new rn({props:o}),K.push(()=>B(t,"rule",l)),{key:r,first:null,c(){n=M(),I(t.$$.fragment),this.h()},l(s){n=M(),S(t.$$.fragment,s),this.h()},h(){this.first=n},m(s,u){y(s,n,u),V(t,s,u),i=!0},p(s,u){e=s;const f={};!a&&u&1&&(a=!0,f.rule=e[2],G(()=>a=!1)),t.$set(f)},i(s){i||(g(t.$$.fragment,s),i=!0)},o(s){k(t.$$.fragment,s),i=!1},d(s){s&&h(n),q(t,s)}}}function un(r){let e,n,t,a,i,l,o;const s=[on,sn],u=[];function f(_,d){return _[0].rules.length?0:1}return i=f(r),l=u[i]=s[i](r),{c(){e=P("p"),n=A("Regole sintassi"),t=U(),a=P("div"),l.c(),this.h()},l(_){e=T(_,"P",{class:!0});var d=R(e);n=Q(d,"Regole sintassi"),d.forEach(h),t=F(_),a=T(_,"DIV",{class:!0});var b=R(a);l.l(b),b.forEach(h),this.h()},h(){E(e,"class","text-small font-mono text-slate-900 mb-2 text-sm"),E(a,"class","block space-y-12")},m(_,d){y(_,e,d),w(e,n),y(_,t,d),y(_,a,d),u[i].m(a,null),o=!0},p(_,[d]){let b=i;i=f(_),i===b?u[i].p(_,d):(H(),k(u[b],1,1,()=>{u[b]=null}),J(),l=u[i],l?l.p(_,d):(l=u[i]=s[i](_),l.c()),g(l,1),l.m(a,null))},i(_){o||(g(l),o=!0)},o(_){k(l),o=!1},d(_){_&&h(e),_&&h(t),_&&h(a),u[i].d()}}}function fn(r,e,n){let{syntax:t}=e;function a(i,l,o,s){o[s]=i,n(0,t)}return r.$$set=i=>{"syntax"in i&&n(0,t=i.syntax)},[t,a]}class pn extends x{constructor(e){super(),ee(this,e,fn,un,te,{syntax:0})}}function cn(r){let e;return{c(){e=A("Preview text")},l(n){e=Q(n,"Preview text")},m(n,t){y(n,e,t)},d(n){n&&h(e)}}}function Le(r){let e,n;return e=new gt({props:{syntax:r[0],glyphs:r[1],$$slots:{default:[_n,({font:t})=>({7:t}),({font:t})=>t?128:0]},$$scope:{ctx:r}}}),{c(){I(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,a){V(e,t,a),n=!0},p(t,a){const i={};a&1&&(i.syntax=t[0]),a&2&&(i.glyphs=t[1]),a&388&&(i.$$scope={dirty:a,ctx:t}),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function ze(r){let e,n;return e=new ht({props:{font:r[7],text:r[2]}}),{c(){I(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,a){V(e,t,a),n=!0},p(t,a){const i={};a&128&&(i.font=t[7]),a&4&&(i.text=t[2]),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function _n(r){let e,n,t=r[7]&&ze(r);return{c(){t&&t.c(),e=M()},l(a){t&&t.l(a),e=M()},m(a,i){t&&t.m(a,i),y(a,e,i),n=!0},p(a,i){a[7]?t?(t.p(a,i),i&128&&g(t,1)):(t=ze(a),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(H(),k(t,1,1,()=>{t=null}),J())},i(a){n||(g(t),n=!0)},o(a){k(t),n=!1},d(a){t&&t.d(a),a&&h(e)}}}function dn(r){let e,n,t,a,i,l,o,s,u,f;t=new Z({props:{target:"previewText",$$slots:{default:[cn]},$$scope:{ctx:r}}});function _(m){r[4](m)}function d(m){r[5](m)}function b(m){r[6](m)}let c={name:"previewText"};r[3]!==void 0&&(c.text=r[3]),r[1]!==void 0&&(c.glyphs=r[1]),r[2]!==void 0&&(c.validText=r[2]),i=new $t({props:c}),K.push(()=>B(i,"text",_)),K.push(()=>B(i,"glyphs",d)),K.push(()=>B(i,"validText",b));let $=r[1].length&&r[0]&&Le(r);return{c(){e=P("div"),n=P("div"),I(t.$$.fragment),a=U(),I(i.$$.fragment),u=U(),$&&$.c(),this.h()},l(m){e=T(m,"DIV",{class:!0});var p=R(e);n=T(p,"DIV",{class:!0});var v=R(n);S(t.$$.fragment,v),a=F(v),S(i.$$.fragment,v),v.forEach(h),u=F(p),$&&$.l(p),p.forEach(h),this.h()},h(){E(n,"class","space-y-2 overflow-x-hidden shrink-0 sticky top-0 border-b border-b-gray-200 bg-white"),E(e,"class","space-y-8")},m(m,p){y(m,e,p),w(e,n),V(t,n,null),w(n,a),V(i,n,null),w(e,u),$&&$.m(e,null),f=!0},p(m,[p]){const v={};p&256&&(v.$$scope={dirty:p,ctx:m}),t.$set(v);const D={};!l&&p&8&&(l=!0,D.text=m[3],G(()=>l=!1)),!o&&p&2&&(o=!0,D.glyphs=m[1],G(()=>o=!1)),!s&&p&4&&(s=!0,D.validText=m[2],G(()=>s=!1)),i.$set(D),m[1].length&&m[0]?$?($.p(m,p),p&3&&g($,1)):($=Le(m),$.c(),g($,1),$.m(e,null)):$&&(H(),k($,1,1,()=>{$=null}),J())},i(m){f||(g(t.$$.fragment,m),g(i.$$.fragment,m),g($),f=!0)},o(m){k(t.$$.fragment,m),k(i.$$.fragment,m),k($),f=!1},d(m){m&&h(e),q(t),q(i),$&&$.d()}}}const Ae=He("hello");function mn(r,e,n){let t,a=Y;oe(r,Ae,_=>n(3,t=_)),r.$$.on_destroy.push(()=>a());let{syntax:i}=e,l=[],o="";function s(_){t=_,Ae.set(t)}function u(_){l=_,n(1,l)}function f(_){o=_,n(2,o)}return r.$$set=_=>{"syntax"in _&&n(0,i=_.syntax)},[i,l,o,t,s,u,f]}class gn extends x{constructor(e){super(),ee(this,e,mn,dn,te,{syntax:0})}}function Qe(r,e,n){const t=r.slice();return t[10]=e[n],t}function hn(r){let e;return{c(){e=A("+ Aggiungi stile")},l(n){e=Q(n,"+ Aggiungi stile")},m(n,t){y(n,e,t)},d(n){n&&h(e)}}}function $n(r){let e,n;return e=new Xe({props:{$$slots:{default:[hn]},$$scope:{ctx:r}}}),e.$on("click",r[3]),{c(){I(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,a){V(e,t,a),n=!0},p(t,a){const i={};a&8192&&(i.$$scope={dirty:a,ctx:t}),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function vn(r){let e;return{c(){e=A("Lista stili")},l(n){e=Q(n,"Lista stili")},m(n,t){y(n,e,t)},d(n){n&&h(e)}}}function bn(r){let e=r[10].name+"",n,t;return{c(){n=A(e),t=U()},l(a){n=Q(a,e),t=F(a)},m(a,i){y(a,n,i),y(a,t,i)},p(a,i){i&2&&e!==(e=a[10].name+"")&&me(n,e)},d(a){a&&h(n),a&&h(t)}}}function Ce(r,e){let n,t,a;return t=new mt({props:{selection:de,id:e[10].id,$$slots:{default:[bn]},$$scope:{ctx:e}}}),{key:r,first:null,c(){n=M(),I(t.$$.fragment),this.h()},l(i){n=M(),S(t.$$.fragment,i),this.h()},h(){this.first=n},m(i,l){y(i,n,l),V(t,i,l),a=!0},p(i,l){e=i;const o={};l&2&&(o.id=e[10].id),l&8194&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(i){a||(g(t.$$.fragment,i),a=!0)},o(i){k(t.$$.fragment,i),a=!1},d(i){i&&h(n),q(t,i)}}}function kn(r){let e=[],n=new Map,t,a,i=r[1];const l=o=>o[10].id;for(let o=0;o<i.length;o+=1){let s=Qe(r,i,o),u=l(s);n.set(u,e[o]=Ce(u,s))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();t=M()},l(o){for(let s=0;s<e.length;s+=1)e[s].l(o);t=M()},m(o,s){for(let u=0;u<e.length;u+=1)e[u].m(o,s);y(o,t,s),a=!0},p(o,s){s&2&&(i=o[1],H(),e=ge(e,s,l,1,o,i,n,t.parentNode,Me,Ce,t,Qe),J())},i(o){if(!a){for(let s=0;s<i.length;s+=1)g(e[s]);a=!0}},o(o){for(let s=0;s<e.length;s+=1)k(e[s]);a=!1},d(o){for(let s=0;s<e.length;s+=1)e[s].d(o);o&&h(t)}}}function We(r){let e,n,t,a,i,l,o,s,u,f,_,d;function b(p){r[5](p)}let c={name:"styleName"};r[0].name!==void 0&&(c.value=r[0].name),i=new Je({props:c}),K.push(()=>B(i,"value",b));function $(p){r[6](p)}let m={};return r[1][r[2]]!==void 0&&(m.syntax=r[1][r[2]]),f=new pn({props:m}),K.push(()=>B(f,"syntax",$)),{c(){e=P("div"),n=P("p"),t=A("Nome stile"),a=U(),I(i.$$.fragment),o=U(),s=P("hr"),u=U(),I(f.$$.fragment),this.h()},l(p){e=T(p,"DIV",{class:!0});var v=R(e);n=T(v,"P",{class:!0});var D=R(n);t=Q(D,"Nome stile"),D.forEach(h),a=F(v),S(i.$$.fragment,v),v.forEach(h),o=F(p),s=T(p,"HR",{}),u=F(p),S(f.$$.fragment,p),this.h()},h(){E(n,"class","text-small font-mono text-slate-900 mb-2 text-sm"),E(e,"class","flex flex-col mb-8")},m(p,v){y(p,e,v),w(e,n),w(n,t),w(e,a),V(i,e,null),y(p,o,v),y(p,s,v),y(p,u,v),V(f,p,v),d=!0},p(p,v){const D={};!l&&v&1&&(l=!0,D.value=p[0].name,G(()=>l=!1)),i.$set(D);const L={};!_&&v&6&&(_=!0,L.syntax=p[1][p[2]],G(()=>_=!1)),f.$set(L)},i(p){d||(g(i.$$.fragment,p),g(f.$$.fragment,p),d=!0)},o(p){k(i.$$.fragment,p),k(f.$$.fragment,p),d=!1},d(p){p&&h(e),q(i),p&&h(o),p&&h(s),p&&h(u),q(f,p)}}}function je(r){let e,n;return e=new gn({props:{syntax:r[0]}}),{c(){I(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,a){V(e,t,a),n=!0},p(t,a){const i={};a&1&&(i.syntax=t[0]),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function yn(r){let e,n,t,a,i,l,o;n=new _t({props:{$$slots:{items:[kn],listTitle:[vn],topArea:[$n]},$$scope:{ctx:r}}});let s=r[0]&&r[2]!==void 0&&We(r),u=r[0]&&je(r);return{c(){e=P("div"),I(n.$$.fragment),t=U(),a=P("div"),s&&s.c(),i=U(),l=P("div"),u&&u.c(),this.h()},l(f){e=T(f,"DIV",{class:!0});var _=R(e);S(n.$$.fragment,_),t=F(_),a=T(_,"DIV",{class:!0});var d=R(a);s&&s.l(d),d.forEach(h),i=F(_),l=T(_,"DIV",{class:!0});var b=R(l);u&&u.l(b),b.forEach(h),_.forEach(h),this.h()},h(){E(a,"class","p-8 space-y-8 overflow-y-auto"),E(l,"class","p-8 border border-l-gray-300 overflow-y-scroll"),E(e,"class","h-full flex flex-row flex-nowrap items-stretch")},m(f,_){y(f,e,_),V(n,e,null),w(e,t),w(e,a),s&&s.m(a,null),w(e,i),w(e,l),u&&u.m(l,null),o=!0},p(f,[_]){const d={};_&8194&&(d.$$scope={dirty:_,ctx:f}),n.$set(d),f[0]&&f[2]!==void 0?s?(s.p(f,_),_&5&&g(s,1)):(s=We(f),s.c(),g(s,1),s.m(a,null)):s&&(H(),k(s,1,1,()=>{s=null}),J()),f[0]?u?(u.p(f,_),_&1&&g(u,1)):(u=je(f),u.c(),g(u,1),u.m(l,null)):u&&(H(),k(u,1,1,()=>{u=null}),J())},i(f){o||(g(n.$$.fragment,f),g(s),g(u),o=!0)},o(f){k(n.$$.fragment,f),k(s),k(u),o=!1},d(f){f&&h(e),q(n),s&&s.d(),u&&u.d()}}}const de=He("");function wn(r,e){for(let n of r.rules)if(n.symbol==e)return n;throw new Error("missingSymbol")}function En(r,e,n){let t,a,i=Y,l;oe(r,fe,c=>n(1,t=c)),oe(r,de,c=>n(4,a=c)),oe(r,ct,c=>n(7,l=c)),r.$$.on_destroy.push(()=>i());for(let c of t){const $=c.rules.map(m=>m.symbol);for(let m of o(l))$.includes(m)||c.rules.push(ft(m));for(let m of $)if(!o(l).includes(m)){const p=wn(c,m),v=c.rules.indexOf(p);c.rules.splice(v,1)}}function o(c){const $=[];for(const m of c){const p=m.structure.replace(/(\r\n|\n|\r)/gm,"");p&&$.push(...p.split(""))}return dt.uniq($)}function s(c=null){const $=pt(c||ce(5),ce(5),o(l));Se(fe,t=[...t,$],t),Se(de,a=$.id,a)}function u(){s()}t.length||s("Regular");let f,_;function d(c){r.$$.not_equal(f.name,c)&&(f.name=c,n(0,f),n(1,t),n(4,a))}function b(c){r.$$.not_equal(t[_],c)&&(t[_]=c,fe.set(t))}return r.$$.update=()=>{r.$$.dirty&18&&n(0,f=t.find(c=>c.id==a)),r.$$.dirty&3&&f&&n(2,_=t.indexOf(f))},[f,t,_,u,a,d,b]}class Un extends x{constructor(e){super(),ee(this,e,En,yn,te,{})}}export{de as currentSyntaxId,Un as default};
