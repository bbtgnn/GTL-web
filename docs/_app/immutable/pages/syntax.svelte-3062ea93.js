import{S as Y,i as Z,s as x,e as P,t as j,c as K,a as O,h as U,d as v,g as y,M as E,j as _e,b as D,L as We,a2 as ke,T as ye,W as fe,a3 as Ce,E as se,a4 as Me,a5 as je,a6 as Ue,P as A,Q as F,w as I,x as q,y as V,U as L,q as b,o as k,B as N,k as T,m as z,n as H,p as X,l as M,X as de,K as we,V as He}from"../chunks/index-95fb9bf0.js";import{V as ae,S as G,v as Xe,r as Ge,f as Je,q as Ye,_ as Ze,h as xe,i as et}from"../chunks/lodash-26b3c147.js";import{s as oe,g as tt}from"../chunks/index-cef5641d.js";import{n as pe}from"../chunks/index.browser-85ea5a5b.js";import{I as Fe}from"../chunks/inputText-2d31c270.js";import{I as ce,L as J}from"../chunks/label-7ace5b01.js";import{S as nt,a as lt}from"../chunks/sidebarTile-895ed734.js";import{B as at}from"../chunks/button-4eba3675.js";import"../chunks/index-19ccdd16.js";function Ee(a,e,n){const t=a.slice();return t[6]=e[n],t}function Se(a,e){let n,t=e[6].label+"",s,r;return{key:a,first:null,c(){n=P("option"),s=j(t),this.h()},l(l){n=K(l,"OPTION",{});var i=O(n);s=U(i,t),i.forEach(v),this.h()},h(){n.__value=r=e[6].value,n.value=n.__value,this.first=n},m(l,i){y(l,n,i),E(n,s)},p(l,i){e=l,i&2&&t!==(t=e[6].label+"")&&_e(s,t),i&2&&r!==(r=e[6].value)&&(n.__value=r,n.value=n.__value)},d(l){l&&v(n)}}}function rt(a){let e,n=[],t=new Map,s,r,l=a[1];const i=o=>o[6].label;for(let o=0;o<l.length;o+=1){let f=Ee(a,l,o),d=i(f);t.set(d,n[o]=Se(d,f))}return{c(){e=P("select");for(let o=0;o<n.length;o+=1)n[o].c();this.h()},l(o){e=K(o,"SELECT",{class:!0,name:!0,id:!0});var f=O(e);for(let d=0;d<n.length;d+=1)n[d].l(f);f.forEach(v),this.h()},h(){D(e,"class","block h-10 bg-slate-200 font-mono rounded-none"),D(e,"name",a[2]),D(e,"id",a[2]),a[0]===void 0&&We(()=>a[4].call(e))},m(o,f){y(o,e,f);for(let d=0;d<n.length;d+=1)n[d].m(e,null);ke(e,a[0]),s||(r=[ye(e,"change",a[4]),ye(e,"change",a[3])],s=!0)},p(o,[f]){f&2&&(l=o[1],n=fe(n,f,i,1,o,l,t,e,Ce,Se,null,Ee)),f&4&&D(e,"name",o[2]),f&4&&D(e,"id",o[2]),f&3&&ke(e,o[0])},i:se,o:se,d(o){o&&v(e);for(let f=0;f<n.length;f+=1)n[f].d();s=!1,Me(r)}}}function it(a,e,n){let{options:t}=e,{value:s}=e,{name:r=pe(5)}=e;const l=je();function i(){l("changed",s)}function o(){s=Ue(this),n(0,s),n(1,t)}return a.$$set=f=>{"options"in f&&n(1,t=f.options),"value"in f&&n(0,s=f.value),"name"in f&&n(2,r=f.name)},[s,t,r,i,o]}class re extends Y{constructor(e){super(),Z(this,e,it,rt,x,{options:1,value:0,name:2})}}function st(a){let e,n,t;function s(l){a[5](l)}let r={};return a[0]!==void 0&&(r.value=a[0]),e=new Fe({props:r}),A.push(()=>F(e,"value",s)),{c(){I(e.$$.fragment)},l(l){q(e.$$.fragment,l)},m(l,i){V(e,l,i),t=!0},p(l,[i]){const o={};!n&&i&1&&(n=!0,o.value=l[0],L(()=>n=!1)),e.$set(o)},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){N(e,l)}}}function ot(a,e,n){let{value:t=[]}=e,{parseNumbers:s=!1}=e,{parseBooleans:r=!1}=e,{separator:l=";"}=e,i="";f();function o(){const m=i.split(l).map(p=>p.trim()).filter(p=>p);!s&&!r?n(1,t=[...m]):s?n(1,t=[...m.map(p=>parseFloat(p)).filter(p=>!isNaN(p))]):r&&n(1,t=[...m.map(p=>p=="true"?!0:p=="false"?!1:null).filter(p=>p!==null)])}function f(){t.length&&n(0,i=t.join(`${l} `))}function d(m){i=m,n(0,i)}return a.$$set=m=>{"value"in m&&n(1,t=m.value),"parseNumbers"in m&&n(2,s=m.parseNumbers),"parseBooleans"in m&&n(3,r=m.parseBooleans),"separator"in m&&n(4,l=m.separator)},a.$$.update=()=>{a.$$.dirty&1&&o()},[i,t,s,r,l,d]}class me extends Y{constructor(e){super(),Z(this,e,ot,st,x,{value:1,parseNumbers:2,parseBooleans:3,separator:4})}}function Ie(a){let e,n,t,s,r,l,i,o;function f(u){a[6](u)}let d={options:a[3]};a[1]!==void 0&&(d.value=a[1]),n=new re({props:d}),A.push(()=>F(n,"value",f)),n.$on("changed",a[2]);const m=[ft,ut],p=[];function c(u,h){return u[0].value.kind=="fixed"?0:u[0].value.kind=="choice"?1:-1}return~(l=c(a))&&(i=p[l]=m[l](a)),{c(){e=P("div"),I(n.$$.fragment),s=T(),r=P("div"),i&&i.c(),this.h()},l(u){e=K(u,"DIV",{class:!0});var h=O(e);q(n.$$.fragment,h),s=z(h),r=K(h,"DIV",{class:!0});var g=O(r);i&&i.l(g),g.forEach(v),h.forEach(v),this.h()},h(){D(r,"class","flex flex-row space-x-2"),D(e,"class","flex flex-row space-x-4")},m(u,h){y(u,e,h),V(n,e,null),E(e,s),E(e,r),~l&&p[l].m(r,null),o=!0},p(u,h){const g={};!t&&h&2&&(t=!0,g.value=u[1],L(()=>t=!1)),n.$set(g);let _=l;l=c(u),l===_?~l&&p[l].p(u,h):(i&&(H(),k(p[_],1,1,()=>{p[_]=null}),X()),~l?(i=p[l],i?i.p(u,h):(i=p[l]=m[l](u),i.c()),b(i,1),i.m(r,null)):i=null)},i(u){o||(b(n.$$.fragment,u),b(i),o=!0)},o(u){k(n.$$.fragment,u),k(i),o=!1},d(u){u&&v(e),N(n),~l&&p[l].d()}}}function ut(a){let e,n,t;function s(l){a[8](l)}let r={parseBooleans:!0};return a[0].value.data.options!==void 0&&(r.value=a[0].value.data.options),e=new me({props:r}),A.push(()=>F(e,"value",s)),{c(){I(e.$$.fragment)},l(l){q(e.$$.fragment,l)},m(l,i){V(e,l,i),t=!0},p(l,i){const o={};!n&&i&1&&(n=!0,o.value=l[0].value.data.options,L(()=>n=!1)),e.$set(o)},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){N(e,l)}}}function ft(a){let e,n,t;function s(l){a[7](l)}let r={options:a[4]};return a[0].value.data!==void 0&&(r.value=a[0].value.data),e=new re({props:r}),A.push(()=>F(e,"value",s)),{c(){I(e.$$.fragment)},l(l){q(e.$$.fragment,l)},m(l,i){V(e,l,i),t=!0},p(l,i){const o={};!n&&i&1&&(n=!0,o.value=l[0].value.data,L(()=>n=!1)),e.$set(o)},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){N(e,l)}}}function pt(a){let e,n,t=a[0]&&Ie(a);return{c(){t&&t.c(),e=M()},l(s){t&&t.l(s),e=M()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,[r]){s[0]?t?(t.p(s,r),r&1&&b(t,1)):(t=Ie(s),t.c(),b(t,1),t.m(e.parentNode,e)):t&&(H(),k(t,1,1,()=>{t=null}),X())},i(s){n||(b(t),n=!0)},o(s){k(t),n=!1},d(s){t&&t.d(s),s&&v(e)}}}function ct(a,e,n){let{prop:t}=e,{defaults:s={fixed:!1,choice:{options:[!1,!0]}}}=e,r;t&&(r=t.value.kind,r!=t.value.kind&&l(r));function l(c){n(0,t.value.kind=c,t),n(0,t.value.data=s[c],t)}function i(c){const u=c.detail;l(u)}const o=[{label:"fixed",value:ae.Fixed},{label:"choice",value:ae.Choice}],f=[{label:"true",value:!0},{label:"false",value:!1}];function d(c){r=c,n(1,r)}function m(c){a.$$.not_equal(t.value.data,c)&&(t.value.data=c,n(0,t))}function p(c){a.$$.not_equal(t.value.data.options,c)&&(t.value.data.options=c,n(0,t))}return a.$$set=c=>{"prop"in c&&n(0,t=c.prop),"defaults"in c&&n(5,s=c.defaults)},[t,r,i,o,f,s,d,m,p]}class _t extends Y{constructor(e){super(),Z(this,e,ct,pt,x,{prop:0,defaults:5})}}function qe(a){let e,n,t,s,r,l,i,o;function f(u){a[5](u)}let d={options:a[3]};a[1]!==void 0&&(d.value=a[1]),n=new re({props:d}),A.push(()=>F(n,"value",f)),n.$on("changed",a[2]);const m=[gt,mt,dt],p=[];function c(u,h){return u[0].value.kind=="fixed"?0:u[0].value.kind=="range"?1:u[0].value.kind=="choice"?2:-1}return~(l=c(a))&&(i=p[l]=m[l](a)),{c(){e=P("div"),I(n.$$.fragment),s=T(),r=P("div"),i&&i.c(),this.h()},l(u){e=K(u,"DIV",{class:!0});var h=O(e);q(n.$$.fragment,h),s=z(h),r=K(h,"DIV",{class:!0});var g=O(r);i&&i.l(g),g.forEach(v),h.forEach(v),this.h()},h(){D(r,"class","flex flex-row space-x-2"),D(e,"class","flex flex-row space-x-4")},m(u,h){y(u,e,h),V(n,e,null),E(e,s),E(e,r),~l&&p[l].m(r,null),o=!0},p(u,h){const g={};!t&&h&2&&(t=!0,g.value=u[1],L(()=>t=!1)),n.$set(g);let _=l;l=c(u),l===_?~l&&p[l].p(u,h):(i&&(H(),k(p[_],1,1,()=>{p[_]=null}),X()),~l?(i=p[l],i?i.p(u,h):(i=p[l]=m[l](u),i.c()),b(i,1),i.m(r,null)):i=null)},i(u){o||(b(n.$$.fragment,u),b(i),o=!0)},o(u){k(n.$$.fragment,u),k(i),o=!1},d(u){u&&v(e),N(n),~l&&p[l].d()}}}function dt(a){let e,n,t;function s(l){a[9](l)}let r={parseNumbers:!0};return a[0].value.data.options!==void 0&&(r.value=a[0].value.data.options),e=new me({props:r}),A.push(()=>F(e,"value",s)),{c(){I(e.$$.fragment)},l(l){q(e.$$.fragment,l)},m(l,i){V(e,l,i),t=!0},p(l,i){const o={};!n&&i&1&&(n=!0,o.value=l[0].value.data.options,L(()=>n=!1)),e.$set(o)},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){N(e,l)}}}function mt(a){let e,n,t,s,r,l,i,o,f,d,m,p,c;function u($){a[7]($)}let h={name:"min"};a[0].value.data.min!==void 0&&(h.value=a[0].value.data.min),t=new ce({props:h}),A.push(()=>F(t,"value",u)),l=new J({props:{target:"min",$$slots:{default:[ht]},$$scope:{ctx:a}}});function g($){a[8]($)}let _={name:"max"};return a[0].value.data.max!==void 0&&(_.value=a[0].value.data.max),f=new ce({props:_}),A.push(()=>F(f,"value",g)),p=new J({props:{target:"max",$$slots:{default:[$t]},$$scope:{ctx:a}}}),{c(){e=P("div"),n=P("div"),I(t.$$.fragment),r=T(),I(l.$$.fragment),i=T(),o=P("div"),I(f.$$.fragment),m=T(),I(p.$$.fragment),this.h()},l($){e=K($,"DIV",{class:!0});var S=O(e);n=K(S,"DIV",{class:!0});var R=O(n);q(t.$$.fragment,R),r=z(R),q(l.$$.fragment,R),R.forEach(v),i=z(S),o=K(S,"DIV",{class:!0});var Q=O(o);q(f.$$.fragment,Q),m=z(Q),q(p.$$.fragment,Q),Q.forEach(v),S.forEach(v),this.h()},h(){D(n,"class","flex flex-row flex-nowrap items-center space-x-2"),D(o,"class","flex flex-row flex-nowrap items-center space-x-2"),D(e,"class","space-y-2")},m($,S){y($,e,S),E(e,n),V(t,n,null),E(n,r),V(l,n,null),E(e,i),E(e,o),V(f,o,null),E(o,m),V(p,o,null),c=!0},p($,S){const R={};!s&&S&1&&(s=!0,R.value=$[0].value.data.min,L(()=>s=!1)),t.$set(R);const Q={};S&2048&&(Q.$$scope={dirty:S,ctx:$}),l.$set(Q);const ee={};!d&&S&1&&(d=!0,ee.value=$[0].value.data.max,L(()=>d=!1)),f.$set(ee);const ie={};S&2048&&(ie.$$scope={dirty:S,ctx:$}),p.$set(ie)},i($){c||(b(t.$$.fragment,$),b(l.$$.fragment,$),b(f.$$.fragment,$),b(p.$$.fragment,$),c=!0)},o($){k(t.$$.fragment,$),k(l.$$.fragment,$),k(f.$$.fragment,$),k(p.$$.fragment,$),c=!1},d($){$&&v(e),N(t),N(l),N(f),N(p)}}}function gt(a){let e,n,t;function s(l){a[6](l)}let r={};return a[0].value.data!==void 0&&(r.value=a[0].value.data),e=new ce({props:r}),A.push(()=>F(e,"value",s)),{c(){I(e.$$.fragment)},l(l){q(e.$$.fragment,l)},m(l,i){V(e,l,i),t=!0},p(l,i){const o={};!n&&i&1&&(n=!0,o.value=l[0].value.data,L(()=>n=!1)),e.$set(o)},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){N(e,l)}}}function ht(a){let e;return{c(){e=j("min")},l(n){e=U(n,"min")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function $t(a){let e;return{c(){e=j("max")},l(n){e=U(n,"max")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function vt(a){let e,n,t=a[0]&&qe(a);return{c(){t&&t.c(),e=M()},l(s){t&&t.l(s),e=M()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,[r]){s[0]?t?(t.p(s,r),r&1&&b(t,1)):(t=qe(s),t.c(),b(t,1),t.m(e.parentNode,e)):t&&(H(),k(t,1,1,()=>{t=null}),X())},i(s){n||(b(t),n=!0)},o(s){k(t),n=!1},d(s){t&&t.d(s),s&&v(e)}}}function bt(a,e,n){let{prop:t}=e,{defaults:s={fixed:1,choice:{options:[1,2]},range:{min:1,max:2}}}=e,r;t&&(r=t.value.kind,r!=t.value.kind&&l(r));function l(u){n(0,t.value.kind=u,t),n(0,t.value.data=s[u],t)}function i(u){const h=u.detail;l(h)}const o=[{label:"fixed",value:ae.Fixed},{label:"choice",value:ae.Choice},{label:"range",value:ae.Range}];function f(u){r=u,n(1,r)}function d(u){a.$$.not_equal(t.value.data,u)&&(t.value.data=u,n(0,t))}function m(u){a.$$.not_equal(t.value.data.min,u)&&(t.value.data.min=u,n(0,t))}function p(u){a.$$.not_equal(t.value.data.max,u)&&(t.value.data.max=u,n(0,t))}function c(u){a.$$.not_equal(t.value.data.options,u)&&(t.value.data.options=u,n(0,t))}return a.$$set=u=>{"prop"in u&&n(0,t=u.prop),"defaults"in u&&n(4,s=u.defaults)},[t,r,i,o,s,f,d,m,p,c]}class ue extends Y{constructor(e){super(),Z(this,e,bt,vt,x,{prop:0,defaults:4})}}function Ve(a){let e,n,t,s,r,l,i,o;function f(u){a[6](u)}let d={options:a[3]};a[1]!==void 0&&(d.value=a[1]),n=new re({props:d}),A.push(()=>F(n,"value",f)),n.$on("changed",a[2]);const m=[yt,kt],p=[];function c(u,h){return u[0].value.kind=="fixed"?0:u[0].value.kind=="choice"?1:-1}return~(l=c(a))&&(i=p[l]=m[l](a)),{c(){e=P("div"),I(n.$$.fragment),s=T(),r=P("div"),i&&i.c(),this.h()},l(u){e=K(u,"DIV",{class:!0});var h=O(e);q(n.$$.fragment,h),s=z(h),r=K(h,"DIV",{class:!0});var g=O(r);i&&i.l(g),g.forEach(v),h.forEach(v),this.h()},h(){D(r,"class","flex flex-row space-x-2"),D(e,"class","flex flex-row space-x-4")},m(u,h){y(u,e,h),V(n,e,null),E(e,s),E(e,r),~l&&p[l].m(r,null),o=!0},p(u,h){const g={};!t&&h&2&&(t=!0,g.value=u[1],L(()=>t=!1)),n.$set(g);let _=l;l=c(u),l===_?~l&&p[l].p(u,h):(i&&(H(),k(p[_],1,1,()=>{p[_]=null}),X()),~l?(i=p[l],i?i.p(u,h):(i=p[l]=m[l](u),i.c()),b(i,1),i.m(r,null)):i=null)},i(u){o||(b(n.$$.fragment,u),b(i),o=!0)},o(u){k(n.$$.fragment,u),k(i),o=!1},d(u){u&&v(e),N(n),~l&&p[l].d()}}}function kt(a){let e,n,t;function s(l){a[8](l)}let r={};return a[0].value.data.options!==void 0&&(r.value=a[0].value.data.options),e=new me({props:r}),A.push(()=>F(e,"value",s)),{c(){I(e.$$.fragment)},l(l){q(e.$$.fragment,l)},m(l,i){V(e,l,i),t=!0},p(l,i){const o={};!n&&i&1&&(n=!0,o.value=l[0].value.data.options,L(()=>n=!1)),e.$set(o)},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){N(e,l)}}}function yt(a){let e,n,t;function s(l){a[7](l)}let r={options:a[4]};return a[0].value.data!==void 0&&(r.value=a[0].value.data),e=new re({props:r}),A.push(()=>F(e,"value",s)),{c(){I(e.$$.fragment)},l(l){q(e.$$.fragment,l)},m(l,i){V(e,l,i),t=!0},p(l,i){const o={};!n&&i&1&&(n=!0,o.value=l[0].value.data,L(()=>n=!1)),e.$set(o)},i(l){t||(b(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){N(e,l)}}}function wt(a){let e,n,t=a[0]&&Ve(a);return{c(){t&&t.c(),e=M()},l(s){t&&t.l(s),e=M()},m(s,r){t&&t.m(s,r),y(s,e,r),n=!0},p(s,[r]){s[0]?t?(t.p(s,r),r&1&&b(t,1)):(t=Ve(s),t.c(),b(t,1),t.m(e.parentNode,e)):t&&(H(),k(t,1,1,()=>{t=null}),X())},i(s){n||(b(t),n=!0)},o(s){k(t),n=!1},d(s){t&&t.d(s),s&&v(e)}}}function Et(a,e,n){let{prop:t}=e,{defaults:s={fixed:"NE",choice:{options:["NE","NW"]}}}=e,r;t&&(r=t.value.kind,r!=t.value.kind&&l(r));function l(c){n(0,t.value.kind=c,t),n(0,t.value.data=s[c],t)}function i(c){const u=c.detail;l(u)}const o=[{label:"fixed",value:ae.Fixed},{label:"choice",value:ae.Choice}],f=[{label:"NW",value:"NW"},{label:"NE",value:"NE"},{label:"SW",value:"SW"},{label:"SE",value:"SE"}];function d(c){r=c,n(1,r)}function m(c){a.$$.not_equal(t.value.data,c)&&(t.value.data=c,n(0,t))}function p(c){a.$$.not_equal(t.value.data.options,c)&&(t.value.data.options=c,n(0,t))}return a.$$set=c=>{"prop"in c&&n(0,t=c.prop),"defaults"in c&&n(5,s=c.defaults)},[t,r,i,o,f,s,d,m,p]}class St extends Y{constructor(e){super(),Z(this,e,Et,wt,x,{prop:0,defaults:5})}}function It(a){let e;return{c(){e=j("Forma")},l(n){e=U(n,"Forma")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function Ne(a){let e,n,t,s,r,l,i,o,f,d,m,p,c,u,h,g,_,$,S,R,Q;t=new J({props:{target:"scale_x",$$slots:{default:[qt]},$$scope:{ctx:a}}});function ee(w){a[7](w)}let ie={};a[0].shape.props.scale_x!==void 0&&(ie.prop=a[0].shape.props.scale_x),r=new ue({props:ie}),A.push(()=>F(r,"prop",ee)),f=new J({props:{target:"scale_y",$$slots:{default:[Vt]},$$scope:{ctx:a}}});function Le(w){a[8](w)}let ge={};a[0].shape.props.scale_y!==void 0&&(ge.prop=a[0].shape.props.scale_y),m=new ue({props:ge}),A.push(()=>F(m,"prop",Le)),h=new J({props:{target:"rotation",$$slots:{default:[Nt]},$$scope:{ctx:a}}});function Qe(w){a[9](w)}let he={defaults:a[4]};a[0].shape.props.rotation!==void 0&&(he.prop=a[0].shape.props.rotation),_=new ue({props:he}),A.push(()=>F(_,"prop",Qe));let W=(a[0].shape.kind==G.Quarter||a[0].shape.kind==G.Ellipse)&&De(a),C=a[0].shape.kind==G.Quarter&&Pe(a);return{c(){e=P("div"),n=P("div"),I(t.$$.fragment),s=T(),I(r.$$.fragment),i=T(),o=P("div"),I(f.$$.fragment),d=T(),I(m.$$.fragment),c=T(),u=P("div"),I(h.$$.fragment),g=T(),I(_.$$.fragment),S=T(),W&&W.c(),R=T(),C&&C.c(),this.h()},l(w){e=K(w,"DIV",{class:!0});var B=O(e);n=K(B,"DIV",{class:!0});var te=O(n);q(t.$$.fragment,te),s=z(te),q(r.$$.fragment,te),te.forEach(v),i=z(B),o=K(B,"DIV",{class:!0});var ne=O(o);q(f.$$.fragment,ne),d=z(ne),q(m.$$.fragment,ne),ne.forEach(v),c=z(B),u=K(B,"DIV",{class:!0});var le=O(u);q(h.$$.fragment,le),g=z(le),q(_.$$.fragment,le),le.forEach(v),S=z(B),W&&W.l(B),R=z(B),C&&C.l(B),B.forEach(v),this.h()},h(){D(n,"class","block"),D(o,"class","block"),D(u,"class","block"),D(e,"class","space-y-4 pl-8")},m(w,B){y(w,e,B),E(e,n),V(t,n,null),E(n,s),V(r,n,null),E(e,i),E(e,o),V(f,o,null),E(o,d),V(m,o,null),E(e,c),E(e,u),V(h,u,null),E(u,g),V(_,u,null),E(e,S),W&&W.m(e,null),E(e,R),C&&C.m(e,null),Q=!0},p(w,B){const te={};B&8192&&(te.$$scope={dirty:B,ctx:w}),t.$set(te);const ne={};!l&&B&1&&(l=!0,ne.prop=w[0].shape.props.scale_x,L(()=>l=!1)),r.$set(ne);const le={};B&8192&&(le.$$scope={dirty:B,ctx:w}),f.$set(le);const $e={};!p&&B&1&&(p=!0,$e.prop=w[0].shape.props.scale_y,L(()=>p=!1)),m.$set($e);const ve={};B&8192&&(ve.$$scope={dirty:B,ctx:w}),h.$set(ve);const be={};!$&&B&1&&($=!0,be.prop=w[0].shape.props.rotation,L(()=>$=!1)),_.$set(be),w[0].shape.kind==G.Quarter||w[0].shape.kind==G.Ellipse?W?(W.p(w,B),B&1&&b(W,1)):(W=De(w),W.c(),b(W,1),W.m(e,R)):W&&(H(),k(W,1,1,()=>{W=null}),X()),w[0].shape.kind==G.Quarter?C?(C.p(w,B),B&1&&b(C,1)):(C=Pe(w),C.c(),b(C,1),C.m(e,null)):C&&(H(),k(C,1,1,()=>{C=null}),X())},i(w){Q||(b(t.$$.fragment,w),b(r.$$.fragment,w),b(f.$$.fragment,w),b(m.$$.fragment,w),b(h.$$.fragment,w),b(_.$$.fragment,w),b(W),b(C),Q=!0)},o(w){k(t.$$.fragment,w),k(r.$$.fragment,w),k(f.$$.fragment,w),k(m.$$.fragment,w),k(h.$$.fragment,w),k(_.$$.fragment,w),k(W),k(C),Q=!1},d(w){w&&v(e),N(t),N(r),N(f),N(m),N(h),N(_),W&&W.d(),C&&C.d()}}}function qt(a){let e;return{c(){e=j("Scala orizzontale")},l(n){e=U(n,"Scala orizzontale")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function Vt(a){let e;return{c(){e=j("Scala verticale")},l(n){e=U(n,"Scala verticale")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function Nt(a){let e;return{c(){e=j("Rotazione")},l(n){e=U(n,"Rotazione")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function De(a){let e,n,t,s,r,l,i,o,f,d,m,p;n=new J({props:{target:"squaring",$$slots:{default:[Dt]},$$scope:{ctx:a}}});function c(_){a[10](_)}let u={defaults:a[5]};a[0].shape.props.squaring!==void 0&&(u.prop=a[0].shape.props.squaring),s=new ue({props:u}),A.push(()=>F(s,"prop",c)),o=new J({props:{target:"negative",$$slots:{default:[Pt]},$$scope:{ctx:a}}});function h(_){a[11](_)}let g={};return a[0].shape.props.negative!==void 0&&(g.prop=a[0].shape.props.negative),d=new _t({props:g}),A.push(()=>F(d,"prop",h)),{c(){e=P("div"),I(n.$$.fragment),t=T(),I(s.$$.fragment),l=T(),i=P("div"),I(o.$$.fragment),f=T(),I(d.$$.fragment),this.h()},l(_){e=K(_,"DIV",{class:!0});var $=O(e);q(n.$$.fragment,$),t=z($),q(s.$$.fragment,$),$.forEach(v),l=z(_),i=K(_,"DIV",{class:!0});var S=O(i);q(o.$$.fragment,S),f=z(S),q(d.$$.fragment,S),S.forEach(v),this.h()},h(){D(e,"class","block"),D(i,"class","block")},m(_,$){y(_,e,$),V(n,e,null),E(e,t),V(s,e,null),y(_,l,$),y(_,i,$),V(o,i,null),E(i,f),V(d,i,null),p=!0},p(_,$){const S={};$&8192&&(S.$$scope={dirty:$,ctx:_}),n.$set(S);const R={};!r&&$&1&&(r=!0,R.prop=_[0].shape.props.squaring,L(()=>r=!1)),s.$set(R);const Q={};$&8192&&(Q.$$scope={dirty:$,ctx:_}),o.$set(Q);const ee={};!m&&$&1&&(m=!0,ee.prop=_[0].shape.props.negative,L(()=>m=!1)),d.$set(ee)},i(_){p||(b(n.$$.fragment,_),b(s.$$.fragment,_),b(o.$$.fragment,_),b(d.$$.fragment,_),p=!0)},o(_){k(n.$$.fragment,_),k(s.$$.fragment,_),k(o.$$.fragment,_),k(d.$$.fragment,_),p=!1},d(_){_&&v(e),N(n),N(s),_&&v(l),_&&v(i),N(o),N(d)}}}function Dt(a){let e;return{c(){e=j("Squadratura")},l(n){e=U(n,"Squadratura")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function Pt(a){let e;return{c(){e=j("Negativo")},l(n){e=U(n,"Negativo")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function Pe(a){let e,n,t,s,r,l;n=new J({props:{target:"orientamento",$$slots:{default:[Kt]},$$scope:{ctx:a}}});function i(f){a[12](f)}let o={};return a[0].shape.props.orientation!==void 0&&(o.prop=a[0].shape.props.orientation),s=new St({props:o}),A.push(()=>F(s,"prop",i)),{c(){e=P("div"),I(n.$$.fragment),t=T(),I(s.$$.fragment),this.h()},l(f){e=K(f,"DIV",{class:!0});var d=O(e);q(n.$$.fragment,d),t=z(d),q(s.$$.fragment,d),d.forEach(v),this.h()},h(){D(e,"class","block")},m(f,d){y(f,e,d),V(n,e,null),E(e,t),V(s,e,null),l=!0},p(f,d){const m={};d&8192&&(m.$$scope={dirty:d,ctx:f}),n.$set(m);const p={};!r&&d&1&&(r=!0,p.prop=f[0].shape.props.orientation,L(()=>r=!1)),s.$set(p)},i(f){l||(b(n.$$.fragment,f),b(s.$$.fragment,f),l=!0)},o(f){k(n.$$.fragment,f),k(s.$$.fragment,f),l=!1},d(f){f&&v(e),N(n),N(s)}}}function Kt(a){let e;return{c(){e=j("Orientamento")},l(n){e=U(n,"Orientamento")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function Ot(a){let e,n,t=a[0].symbol+"",s,r,l,i,o,f,d,m,p,c;o=new J({props:{target:"shape",$$slots:{default:[It]},$$scope:{ctx:a}}});function u(_){a[6](_)}let h={options:a[3]};a[1]!==void 0&&(h.value=a[1]),d=new re({props:h}),A.push(()=>F(d,"value",u)),d.$on("changed",a[2]);let g=a[0].shape.kind!=G.Void&&Ne(a);return{c(){e=P("div"),n=P("div"),s=j(t),r=T(),l=P("div"),i=P("div"),I(o.$$.fragment),f=T(),I(d.$$.fragment),p=T(),g&&g.c(),this.h()},l(_){e=K(_,"DIV",{class:!0});var $=O(e);n=K($,"DIV",{class:!0});var S=O(n);s=U(S,t),S.forEach(v),r=z($),l=K($,"DIV",{class:!0});var R=O(l);i=K(R,"DIV",{class:!0});var Q=O(i);q(o.$$.fragment,Q),f=z(Q),q(d.$$.fragment,Q),Q.forEach(v),p=z(R),g&&g.l(R),R.forEach(v),$.forEach(v),this.h()},h(){D(n,"class","text-xl p-4 bg-slate-800 text-white font-mono"),D(i,"class","space-y-1"),D(l,"class","space-y-8 px-0 pt-4"),D(e,"class","flex flex-col flex-nowrap")},m(_,$){y(_,e,$),E(e,n),E(n,s),E(e,r),E(e,l),E(l,i),V(o,i,null),E(i,f),V(d,i,null),E(l,p),g&&g.m(l,null),c=!0},p(_,[$]){(!c||$&1)&&t!==(t=_[0].symbol+"")&&_e(s,t);const S={};$&8192&&(S.$$scope={dirty:$,ctx:_}),o.$set(S);const R={};!m&&$&2&&(m=!0,R.value=_[1],L(()=>m=!1)),d.$set(R),_[0].shape.kind!=G.Void?g?(g.p(_,$),$&1&&b(g,1)):(g=Ne(_),g.c(),b(g,1),g.m(l,null)):g&&(H(),k(g,1,1,()=>{g=null}),X())},i(_){c||(b(o.$$.fragment,_),b(d.$$.fragment,_),b(g),c=!0)},o(_){k(o.$$.fragment,_),k(d.$$.fragment,_),k(g),c=!1},d(_){_&&v(e),N(o),N(d),g&&g.d()}}}function Rt(a,e,n){let{rule:t}=e,s=t.shape.kind;s!=t.shape.kind&&r();function r(){const g={void:Xe,rectangle:Ge,ellipse:Je,quarter:Ye};n(0,t.shape.props=g[s],t),n(0,t.shape.kind=s,t)}const l=[{label:"rectangle",value:G.Rectangle},{label:"ellipse",value:G.Ellipse},{label:"quarter",value:G.Quarter},{label:"void",value:G.Void}],i={fixed:0,choice:{options:[0,45]},range:{min:0,max:90}},o={fixed:.56,choice:{options:[0,.56,1]},range:{min:0,max:1}};function f(g){s=g,n(1,s)}function d(g){a.$$.not_equal(t.shape.props.scale_x,g)&&(t.shape.props.scale_x=g,n(0,t))}function m(g){a.$$.not_equal(t.shape.props.scale_y,g)&&(t.shape.props.scale_y=g,n(0,t))}function p(g){a.$$.not_equal(t.shape.props.rotation,g)&&(t.shape.props.rotation=g,n(0,t))}function c(g){a.$$.not_equal(t.shape.props.squaring,g)&&(t.shape.props.squaring=g,n(0,t))}function u(g){a.$$.not_equal(t.shape.props.negative,g)&&(t.shape.props.negative=g,n(0,t))}function h(g){a.$$.not_equal(t.shape.props.orientation,g)&&(t.shape.props.orientation=g,n(0,t))}return a.$$set=g=>{"rule"in g&&n(0,t=g.rule)},[t,s,r,l,i,o,f,d,m,p,c,u,h]}class Bt extends Y{constructor(e){super(),Z(this,e,Rt,Ot,x,{rule:0})}}function Ke(a,e,n){const t=a.slice();return t[2]=e[n],t[3]=e,t[4]=n,t}function Tt(a){let e,n;return{c(){e=P("p"),n=j("Inizia a disegnare un glifo per modificare la sintassi!"),this.h()},l(t){e=K(t,"P",{class:!0});var s=O(e);n=U(s,"Inizia a disegnare un glifo per modificare la sintassi!"),s.forEach(v),this.h()},h(){D(e,"class","font-mono w-full border-2 border-slate-200 text-slate-300 p-12")},m(t,s){y(t,e,s),E(e,n)},p:se,i:se,o:se,d(t){t&&v(e)}}}function zt(a){let e=[],n=new Map,t,s,r=a[0].rules;const l=i=>i[2].symbol;for(let i=0;i<r.length;i+=1){let o=Ke(a,r,i),f=l(o);n.set(f,e[i]=Oe(f,o))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();t=M()},l(i){for(let o=0;o<e.length;o+=1)e[o].l(i);t=M()},m(i,o){for(let f=0;f<e.length;f+=1)e[f].m(i,o);y(i,t,o),s=!0},p(i,o){o&1&&(r=i[0].rules,H(),e=fe(e,o,l,1,i,r,n,t.parentNode,de,Oe,t,Ke),X())},i(i){if(!s){for(let o=0;o<r.length;o+=1)b(e[o]);s=!0}},o(i){for(let o=0;o<e.length;o+=1)k(e[o]);s=!1},d(i){for(let o=0;o<e.length;o+=1)e[o].d(i);i&&v(t)}}}function Oe(a,e){let n,t,s,r;function l(o){e[1](o,e[2],e[3],e[4])}let i={};return e[2]!==void 0&&(i.rule=e[2]),t=new Bt({props:i}),A.push(()=>F(t,"rule",l)),{key:a,first:null,c(){n=M(),I(t.$$.fragment),this.h()},l(o){n=M(),q(t.$$.fragment,o),this.h()},h(){this.first=n},m(o,f){y(o,n,f),V(t,o,f),r=!0},p(o,f){e=o;const d={};!s&&f&1&&(s=!0,d.rule=e[2],L(()=>s=!1)),t.$set(d)},i(o){r||(b(t.$$.fragment,o),r=!0)},o(o){k(t.$$.fragment,o),r=!1},d(o){o&&v(n),N(t,o)}}}function At(a){let e,n,t,s,r,l,i;const o=[zt,Tt],f=[];function d(m,p){return m[0].rules.length?0:1}return r=d(a),l=f[r]=o[r](a),{c(){e=P("p"),n=j("Regole sintassi"),t=T(),s=P("div"),l.c(),this.h()},l(m){e=K(m,"P",{class:!0});var p=O(e);n=U(p,"Regole sintassi"),p.forEach(v),t=z(m),s=K(m,"DIV",{class:!0});var c=O(s);l.l(c),c.forEach(v),this.h()},h(){D(e,"class","text-small font-mono text-slate-900 mb-2 text-sm"),D(s,"class","block space-y-12")},m(m,p){y(m,e,p),E(e,n),y(m,t,p),y(m,s,p),f[r].m(s,null),i=!0},p(m,[p]){let c=r;r=d(m),r===c?f[r].p(m,p):(H(),k(f[c],1,1,()=>{f[c]=null}),X(),l=f[r],l?l.p(m,p):(l=f[r]=o[r](m),l.c()),b(l,1),l.m(s,null))},i(m){i||(b(l),i=!0)},o(m){k(l),i=!1},d(m){m&&v(e),m&&v(t),m&&v(s),f[r].d()}}}function Ft(a,e,n){let{syntax:t}=e;function s(r,l,i,o){i[o]=r,n(0,t)}return a.$$set=r=>{"syntax"in r&&n(0,t=r.syntax)},[t,s]}class Lt extends Y{constructor(e){super(),Z(this,e,Ft,At,x,{syntax:0})}}function Re(a,e,n){const t=a.slice();return t[9]=e[n],t[10]=e,t[11]=n,t}function Be(a,e,n){const t=a.slice();return t[9]=e[n],t}function Qt(a){let e;return{c(){e=j("+ Aggiungi stile")},l(n){e=U(n,"+ Aggiungi stile")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function Wt(a){let e,n;return e=new at({props:{$$slots:{default:[Qt]},$$scope:{ctx:a}}}),e.$on("click",a[2]),{c(){I(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,s){V(e,t,s),n=!0},p(t,s){const r={};s&16384&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){n||(b(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){N(e,t)}}}function Ct(a){let e;return{c(){e=j("Lista stili")},l(n){e=U(n,"Lista stili")},m(n,t){y(n,e,t)},d(n){n&&v(e)}}}function Mt(a){let e=a[9].name+"",n,t;return{c(){n=j(e),t=T()},l(s){n=U(s,e),t=z(s)},m(s,r){y(s,n,r),y(s,t,r)},p(s,r){r&2&&e!==(e=s[9].name+"")&&_e(n,e)},d(s){s&&v(n),s&&v(t)}}}function Te(a,e){let n,t,s;return t=new lt({props:{id:e[9].id,$$slots:{default:[Mt]},$$scope:{ctx:e}}}),{key:a,first:null,c(){n=M(),I(t.$$.fragment),this.h()},l(r){n=M(),q(t.$$.fragment,r),this.h()},h(){this.first=n},m(r,l){y(r,n,l),V(t,r,l),s=!0},p(r,l){e=r;const i={};l&2&&(i.id=e[9].id),l&16386&&(i.$$scope={dirty:l,ctx:e}),t.$set(i)},i(r){s||(b(t.$$.fragment,r),s=!0)},o(r){k(t.$$.fragment,r),s=!1},d(r){r&&v(n),N(t,r)}}}function jt(a){let e=[],n=new Map,t,s,r=a[1];const l=i=>i[9].id;for(let i=0;i<r.length;i+=1){let o=Be(a,r,i),f=l(o);n.set(f,e[i]=Te(f,o))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();t=M()},l(i){for(let o=0;o<e.length;o+=1)e[o].l(i);t=M()},m(i,o){for(let f=0;f<e.length;f+=1)e[f].m(i,o);y(i,t,o),s=!0},p(i,o){o&2&&(r=i[1],H(),e=fe(e,o,l,1,i,r,n,t.parentNode,de,Te,t,Be),X())},i(i){if(!s){for(let o=0;o<r.length;o+=1)b(e[o]);s=!0}},o(i){for(let o=0;o<e.length;o+=1)k(e[o]);s=!1},d(i){for(let o=0;o<e.length;o+=1)e[o].d(i);i&&v(t)}}}function ze(a){let e,n,t,s,r,l,i,o,f,d,m,p;function c(_){a[4](_,a[9])}let u={name:"styleName"};a[9].name!==void 0&&(u.value=a[9].name),r=new Fe({props:u}),A.push(()=>F(r,"value",c));function h(_){a[5](_,a[9],a[10],a[11])}let g={};return a[9]!==void 0&&(g.syntax=a[9]),d=new Lt({props:g}),A.push(()=>F(d,"syntax",h)),{c(){e=P("div"),n=P("p"),t=j("Nome stile"),s=T(),I(r.$$.fragment),i=T(),o=P("hr"),f=T(),I(d.$$.fragment),this.h()},l(_){e=K(_,"DIV",{class:!0});var $=O(e);n=K($,"P",{class:!0});var S=O(n);t=U(S,"Nome stile"),S.forEach(v),s=z($),q(r.$$.fragment,$),$.forEach(v),i=z(_),o=K(_,"HR",{}),f=z(_),q(d.$$.fragment,_),this.h()},h(){D(n,"class","text-small font-mono text-slate-900 mb-2 text-sm"),D(e,"class","flex flex-col mb-8")},m(_,$){y(_,e,$),E(e,n),E(n,t),E(e,s),V(r,e,null),y(_,i,$),y(_,o,$),y(_,f,$),V(d,_,$),p=!0},p(_,$){a=_;const S={};!l&&$&2&&(l=!0,S.value=a[9].name,L(()=>l=!1)),r.$set(S);const R={};!m&&$&2&&(m=!0,R.syntax=a[9],L(()=>m=!1)),d.$set(R)},i(_){p||(b(r.$$.fragment,_),b(d.$$.fragment,_),p=!0)},o(_){k(r.$$.fragment,_),k(d.$$.fragment,_),p=!1},d(_){_&&v(e),N(r),_&&v(i),_&&v(o),_&&v(f),N(d,_)}}}function Ae(a,e){let n,t,s,r=e[9].id==e[0]&&ze(e);return{key:a,first:null,c(){n=M(),r&&r.c(),t=M(),this.h()},l(l){n=M(),r&&r.l(l),t=M(),this.h()},h(){this.first=n},m(l,i){y(l,n,i),r&&r.m(l,i),y(l,t,i),s=!0},p(l,i){e=l,e[9].id==e[0]?r?(r.p(e,i),i&3&&b(r,1)):(r=ze(e),r.c(),b(r,1),r.m(t.parentNode,t)):r&&(H(),k(r,1,1,()=>{r=null}),X())},i(l){s||(b(r),s=!0)},o(l){k(r),s=!1},d(l){l&&v(n),r&&r.d(l),l&&v(t)}}}function Ut(a){let e,n,t,s,r,l=[],i=new Map,o;function f(c){a[3](c)}let d={$$slots:{items:[jt],listTitle:[Ct],topArea:[Wt]},$$scope:{ctx:a}};a[0]!==void 0&&(d.selection=a[0]),n=new nt({props:d}),A.push(()=>F(n,"selection",f));let m=a[1];const p=c=>c[9].id;for(let c=0;c<m.length;c+=1){let u=Re(a,m,c),h=p(u);i.set(h,l[c]=Ae(h,u))}return{c(){e=P("div"),I(n.$$.fragment),s=T(),r=P("div");for(let c=0;c<l.length;c+=1)l[c].c();this.h()},l(c){e=K(c,"DIV",{class:!0});var u=O(e);q(n.$$.fragment,u),s=z(u),r=K(u,"DIV",{class:!0});var h=O(r);for(let g=0;g<l.length;g+=1)l[g].l(h);h.forEach(v),u.forEach(v),this.h()},h(){D(r,"class","p-8 space-y-8 overflow-y-auto"),D(e,"class","h-full flex flex-row flex-nowrap items-stretch")},m(c,u){y(c,e,u),V(n,e,null),E(e,s),E(e,r);for(let h=0;h<l.length;h+=1)l[h].m(r,null);o=!0},p(c,[u]){const h={};u&16386&&(h.$$scope={dirty:u,ctx:c}),!t&&u&1&&(t=!0,h.selection=c[0],L(()=>t=!1)),n.$set(h),u&3&&(m=c[1],H(),l=fe(l,u,p,1,c,m,i,r,de,Ae,null,Re),X())},i(c){if(!o){b(n.$$.fragment,c);for(let u=0;u<m.length;u+=1)b(l[u]);o=!0}},o(c){k(n.$$.fragment,c);for(let u=0;u<l.length;u+=1)k(l[u]);o=!1},d(c){c&&v(e),N(n);for(let u=0;u<l.length;u+=1)l[u].d()}}}function Ht(a,e){for(let n of a.rules)if(n.symbol==e)return n;throw new Error("missingSymbol")}function Xt(a,e,n){let t,s;we(a,oe,p=>n(1,t=p)),we(a,tt,p=>n(6,s=p));let r;function l(){const p=[];for(const c of s){const u=c.structure.replace(/(\r\n|\n|\r)/gm,"");u&&p.push(...u.split(""))}return Ze.uniq(p)}for(let p of t){const c=p.rules.map(u=>u.symbol);for(let u of l())c.includes(u)||p.rules.push(xe(u));for(let u of c)if(!l().includes(u)){const h=Ht(p,u),g=p.rules.indexOf(h);p.rules.splice(g,1)}}function i(p=null){const c=et(p||pe(5),pe(5),l());He(oe,t=[...t,c],t),n(0,r=c.id)}function o(){i()}t.length||i("Regular");function f(p){r=p,n(0,r)}function d(p,c){a.$$.not_equal(c.name,p)&&(c.name=p,oe.set(t))}function m(p,c,u,h){u[h]=p,oe.set(t)}return[r,t,o,f,d,m]}class an extends Y{constructor(e){super(),Z(this,e,Xt,Ut,x,{})}}export{an as default};
