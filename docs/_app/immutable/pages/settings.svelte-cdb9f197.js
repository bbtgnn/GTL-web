import{S as rt,i as ct,s as ft,e as b,w as q,k as C,c as v,a as E,x as L,m as D,d as p,b as I,g as V,y as R,L as u,O as Ct,q as k,o as y,B as X,a3 as Dt,G as Et,H as It,I as kt,J as wt,U as it,a4 as Pt,Y as K,a5 as Tt,l as dt,n as Vt,p as jt,V as _t,t as P,h as T,P as gt,K as z,Q as O,E as Ft}from"../chunks/index-80687ddf.js";import{s as $t,m as nt,g as lt,a as at}from"../chunks/index.browser-29f140db.js";import{B as W}from"../chunks/fontGenerator-c1ce1bcd.js";import{currentSyntaxId as ht}from"./syntax.svelte-359de6b6.js";import"../chunks/index-f5484668.js";import"../chunks/shapes-f7969361.js";import"../chunks/sidebarTile-bda6544f.js";import"../chunks/inputNumber-9bba2a06.js";import"../chunks/label-7dc56e86.js";import"../chunks/glyphsField-0c5c9544.js";function Ut(n){let t;const e=n[3].default,s=Et(e,n,n[5],null);return{c(){s&&s.c()},l(o){s&&s.l(o)},m(o,l){s&&s.m(o,l),t=!0},p(o,l){s&&s.p&&(!t||l&32)&&It(s,e,o,o[5],t?wt(e,o[5],l,null):kt(o[5]),null)},i(o){t||(k(s,o),t=!0)},o(o){y(s,o),t=!1},d(o){s&&s.d(o)}}}function At(n){let t,e,s,o,l,a,i;return e=new W({props:{$$slots:{default:[Ut]},$$scope:{ctx:n}}}),e.$on("click",n[2]),{c(){t=b("div"),q(e.$$.fragment),s=C(),o=b("input"),this.h()},l(r){t=v(r,"DIV",{});var c=E(t);L(e.$$.fragment,c),s=D(c),o=v(c,"INPUT",{class:!0,type:!0,accept:!0}),c.forEach(p),this.h()},h(){I(o,"class","hidden"),I(o,"type","file"),I(o,"accept",".json")},m(r,c){V(r,t,c),R(e,t,null),u(t,s),u(t,o),n[4](o),l=!0,a||(i=Ct(o,"change",n[1]),a=!0)},p(r,[c]){const g={};c&32&&(g.$$scope={dirty:c,ctx:r}),e.$set(g)},i(r){l||(k(e.$$.fragment,r),l=!0)},o(r){y(e.$$.fragment,r),l=!1},d(r){r&&p(t),X(e),n[4](null),a=!1,i()}}}function Gt(n,t,e){let{$$slots:s={},$$scope:o}=t;const l=Dt();let a;const i=g=>{const h=g.target.files[0],$=new FileReader;$.readAsText(h),$.onload=B=>{const J=B.target.result;l("upload",{json:J})}};function r(){a.click()}function c(g){it[g?"unshift":"push"](()=>{a=g,e(0,a)})}return n.$$set=g=>{"$$scope"in g&&e(5,o=g.$$scope)},[a,i,r,s,c,o]}class Nt extends rt{constructor(t){super(),ct(this,t,Gt,At,ft,{})}}function Ot(n,{delay:t=0,duration:e=400,easing:s=Pt}={}){const o=+getComputedStyle(n).opacity;return{delay:t,duration:e,easing:s,css:l=>`opacity: ${l*o}`}}function bt(n){let t,e,s;const o=n[4].default,l=Et(o,n,n[3],null);return{c(){t=b("div"),l&&l.c(),this.h()},l(a){t=v(a,"DIV",{class:!0});var i=E(t);l&&l.l(i),i.forEach(p),this.h()},h(){I(t,"class","p-4"),K(t,"bg-red-300",n[1]=="negative"),K(t,"bg-gold-300",n[1]=="neutral"),K(t,"bg-green-300",n[1]=="positive")},m(a,i){V(a,t,i),l&&l.m(t,null),s=!0},p(a,i){l&&l.p&&(!s||i&8)&&It(l,o,a,a[3],s?wt(o,a[3],i,null):kt(a[3]),null),i&2&&K(t,"bg-red-300",a[1]=="negative"),i&2&&K(t,"bg-gold-300",a[1]=="neutral"),i&2&&K(t,"bg-green-300",a[1]=="positive")},i(a){s||(k(l,a),e&&e.end(1),s=!0)},o(a){y(l,a),e=Tt(t,Ot,{}),s=!1},d(a){a&&p(t),l&&l.d(a),a&&e&&e.end()}}}function Bt(n){let t,e,s=n[0]&&bt(n);return{c(){s&&s.c(),t=dt()},l(o){s&&s.l(o),t=dt()},m(o,l){s&&s.m(o,l),V(o,t,l),e=!0},p(o,[l]){o[0]?s?(s.p(o,l),l&1&&k(s,1)):(s=bt(o),s.c(),k(s,1),s.m(t.parentNode,t)):s&&(Vt(),y(s,1,1,()=>{s=null}),jt())},i(o){e||(k(s),e=!0)},o(o){y(s),e=!1},d(o){s&&s.d(o),o&&p(t)}}}function Jt(n,t,e){let{$$slots:s={},$$scope:o}=t,{state:l="positive"}=t,{duration:a=3e3}=t,{visible:i=!1}=t;return n.$$set=r=>{"state"in r&&e(1,l=r.state),"duration"in r&&e(2,a=r.duration),"visible"in r&&e(0,i=r.visible),"$$scope"in r&&e(3,o=r.$$scope)},n.$$.update=()=>{n.$$.dirty&7&&i&&l=="positive"&&setTimeout(()=>{e(0,i=!1)},a)},[i,l,a,o,s]}class vt extends rt{constructor(t){super(),ct(this,t,Jt,Bt,ft,{state:1,duration:2,visible:0})}}function qt(n){let t;return{c(){t=P("Clear")},l(e){t=T(e,"Clear")},m(e,s){V(e,t,s)},d(e){e&&p(t)}}}function Lt(n){let t;return{c(){t=P("Esporta")},l(e){t=T(e,"Esporta")},m(e,s){V(e,t,s)},d(e){e&&p(t)}}}function Rt(n){let t;return{c(){t=P("Importa")},l(e){t=T(e,"Importa")},m(e,s){V(e,t,s)},d(e){e&&p(t)}}}function Xt(n){let t,e;return{c(){t=b("p"),e=P("Caricamento riuscito! Controlla la sintassi e i glifi :)"),this.h()},l(s){t=v(s,"P",{class:!0});var o=E(t);e=T(o,"Caricamento riuscito! Controlla la sintassi e i glifi :)"),o.forEach(p),this.h()},h(){I(t,"class","font-mono text-slate-900")},m(s,o){V(s,t,o),u(t,e)},p:Ft,d(s){s&&p(t)}}}function Ht(n){let t;return{c(){t=P("X")},l(e){t=T(e,"X")},m(e,s){V(e,t,s)},d(e){e&&p(t)}}}function Kt(n){let t,e,s,o,l,a;return l=new W({props:{$$slots:{default:[Ht]},$$scope:{ctx:n}}}),l.$on("click",n[5]),{c(){t=b("div"),e=b("p"),s=P("Errore di caricamento :("),o=C(),q(l.$$.fragment),this.h()},l(i){t=v(i,"DIV",{class:!0});var r=E(t);e=v(r,"P",{class:!0});var c=E(e);s=T(c,"Errore di caricamento :("),c.forEach(p),o=D(r),L(l.$$.fragment,r),r.forEach(p),this.h()},h(){I(e,"class","font-mono text-slate-900"),I(t,"class","flex flex-row justify-between items-center")},m(i,r){V(i,t,r),u(t,e),u(e,s),u(t,o),R(l,t,null),a=!0},p(i,r){const c={};r&8192&&(c.$$scope={dirty:r,ctx:i}),l.$set(c)},i(i){a||(k(l.$$.fragment,i),a=!0)},o(i){y(l.$$.fragment,i),a=!1},d(i){i&&p(t),X(l)}}}function Qt(n){let t,e,s,o,l,a,i,r,c,g,h,$,B,J,w,m,_,S,Z,x,j,tt,F,et,st,U,ot,M;c=new W({props:{$$slots:{default:[qt]},$$scope:{ctx:n}}}),c.$on("click",n[2]),w=new W({props:{$$slots:{default:[Lt]},$$scope:{ctx:n}}}),w.$on("click",n[3]),j=new Nt({props:{$$slots:{default:[Rt]},$$scope:{ctx:n}}}),j.$on("upload",n[4]);function yt(f){n[6](f)}let ut={state:"positive",$$slots:{default:[Xt]},$$scope:{ctx:n}};n[0]!==void 0&&(ut.visible=n[0]),F=new vt({props:ut}),it.push(()=>_t(F,"visible",yt));function St(f){n[7](f)}let pt={state:"negative",$$slots:{default:[Kt]},$$scope:{ctx:n}};return n[1]!==void 0&&(pt.visible=n[1]),U=new vt({props:pt}),it.push(()=>_t(U,"visible",St)),{c(){t=b("div"),e=b("div"),s=b("p"),o=P("Elimina progetto"),l=C(),a=b("p"),i=P("Il progetto verr\xE0 esportato automaticamente prima di essere eliminato"),r=C(),q(c.$$.fragment),g=C(),h=b("div"),$=b("p"),B=P("Esporta progetto"),J=C(),q(w.$$.fragment),m=C(),_=b("div"),S=b("p"),Z=P("Importa progetto"),x=C(),q(j.$$.fragment),tt=C(),q(F.$$.fragment),st=C(),q(U.$$.fragment),this.h()},l(f){t=v(f,"DIV",{class:!0});var d=E(t);e=v(d,"DIV",{});var A=E(e);s=v(A,"P",{class:!0});var Q=E(s);o=T(Q,"Elimina progetto"),Q.forEach(p),l=D(A),a=v(A,"P",{class:!0});var Y=E(a);i=T(Y,"Il progetto verr\xE0 esportato automaticamente prima di essere eliminato"),Y.forEach(p),r=D(A),L(c.$$.fragment,A),A.forEach(p),g=D(d),h=v(d,"DIV",{});var G=E(h);$=v(G,"P",{class:!0});var H=E($);B=T(H,"Esporta progetto"),H.forEach(p),J=D(G),L(w.$$.fragment,G),G.forEach(p),m=D(d),_=v(d,"DIV",{class:!0});var N=E(_);S=v(N,"P",{class:!0});var mt=E(S);Z=T(mt,"Importa progetto"),mt.forEach(p),x=D(N),L(j.$$.fragment,N),tt=D(N),L(F.$$.fragment,N),st=D(N),L(U.$$.fragment,N),N.forEach(p),d.forEach(p),this.h()},h(){I(s,"class","font-mono"),I(a,"class","font-mono text-sm mb-2 text-slate-600"),I($,"class","mb-2 font-mono"),I(S,"class","font-mono"),I(_,"class","space-y-2"),I(t,"class","p-8 space-y-8")},m(f,d){V(f,t,d),u(t,e),u(e,s),u(s,o),u(e,l),u(e,a),u(a,i),u(e,r),R(c,e,null),u(t,g),u(t,h),u(h,$),u($,B),u(h,J),R(w,h,null),u(t,m),u(t,_),u(_,S),u(S,Z),u(_,x),R(j,_,null),u(_,tt),R(F,_,null),u(_,st),R(U,_,null),M=!0},p(f,[d]){const A={};d&8192&&(A.$$scope={dirty:d,ctx:f}),c.$set(A);const Q={};d&8192&&(Q.$$scope={dirty:d,ctx:f}),w.$set(Q);const Y={};d&8192&&(Y.$$scope={dirty:d,ctx:f}),j.$set(Y);const G={};d&8192&&(G.$$scope={dirty:d,ctx:f}),!et&&d&1&&(et=!0,G.visible=f[0],gt(()=>et=!1)),F.$set(G);const H={};d&8192&&(H.$$scope={dirty:d,ctx:f}),!ot&&d&2&&(ot=!0,H.visible=f[1],gt(()=>ot=!1)),U.$set(H)},i(f){M||(k(c.$$.fragment,f),k(w.$$.fragment,f),k(j.$$.fragment,f),k(F.$$.fragment,f),k(U.$$.fragment,f),M=!0)},o(f){y(c.$$.fragment,f),y(w.$$.fragment,f),y(j.$$.fragment,f),y(F.$$.fragment,f),y(U.$$.fragment,f),M=!1},d(f){f&&p(t),X(c),X(w),X(j),X(F),X(U)}}}function Yt(n,t,e){let s,o,l,a,i;z(n,ht,m=>e(8,s=m)),z(n,$t,m=>e(9,o=m)),z(n,nt,m=>e(10,l=m)),z(n,lt,m=>e(11,a=m)),z(n,at,m=>e(12,i=m));function r(){c(),O(at,i=[],i),O(lt,a=[],a),O(nt,l={height:7,baseline:1},l)}function c(){let m="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify({glyphs:a,syntaxes:i,metrics:l})),_=document.createElement("a");_.setAttribute("href",m),_.setAttribute("download","GTL.json"),_.click()}function g(m){try{const _=m.detail.json,S=JSON.parse(_);O(at,i=S.syntaxes,i),O(lt,a=S.glyphs,a),O(nt,l=S.metrics,l),O($t,o="",o),O(ht,s="",s),e(0,h=!0)}catch{e(1,$=!0),console.log("ImportError")}}let h=!1,$=!1;function B(){e(1,$=!1)}function J(m){h=m,e(0,h)}function w(m){$=m,e(1,$)}return[h,$,r,c,g,B,J,w]}class le extends rt{constructor(t){super(),ct(this,t,Yt,Qt,ft,{})}}export{le as default};
