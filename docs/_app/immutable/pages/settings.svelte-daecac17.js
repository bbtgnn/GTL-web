import{S as rt,i as ct,s as ft,e as b,w as R,k as C,c as v,a as E,x as X,m as T,d as p,b as I,g as P,y as q,M as u,Q as Ct,q as k,o as y,B as H,a3 as Tt,G as Et,H as It,I as kt,J as wt,W as it,a4 as Dt,_ as L,a5 as jt,l as dt,n as Pt,p as Vt,X as _t,t as D,h as j,R as gt,K as W,T as B,E as Ft}from"../chunks/index-643b3d06.js";import{b as $t,s as ht,m as nt,g as lt,a as at}from"../chunks/index-87f617dd.js";import{B as Y}from"../chunks/button-fea341c8.js";import"../chunks/index-56f024cf.js";function At(n){let t;const e=n[3].default,s=Et(e,n,n[5],null);return{c(){s&&s.c()},l(o){s&&s.l(o)},m(o,l){s&&s.m(o,l),t=!0},p(o,l){s&&s.p&&(!t||l&32)&&It(s,e,o,o[5],t?wt(e,o[5],l,null):kt(o[5]),null)},i(o){t||(k(s,o),t=!0)},o(o){y(s,o),t=!1},d(o){s&&s.d(o)}}}function Gt(n){let t,e,s,o,l,a,i;return e=new Y({props:{$$slots:{default:[At]},$$scope:{ctx:n}}}),e.$on("click",n[2]),{c(){t=b("div"),R(e.$$.fragment),s=C(),o=b("input"),this.h()},l(r){t=v(r,"DIV",{});var c=E(t);X(e.$$.fragment,c),s=T(c),o=v(c,"INPUT",{class:!0,type:!0,accept:!0}),c.forEach(p),this.h()},h(){I(o,"class","hidden"),I(o,"type","file"),I(o,"accept",".json")},m(r,c){P(r,t,c),q(e,t,null),u(t,s),u(t,o),n[4](o),l=!0,a||(i=Ct(o,"change",n[1]),a=!0)},p(r,[c]){const g={};c&32&&(g.$$scope={dirty:c,ctx:r}),e.$set(g)},i(r){l||(k(e.$$.fragment,r),l=!0)},o(r){y(e.$$.fragment,r),l=!1},d(r){r&&p(t),H(e),n[4](null),a=!1,i()}}}function Nt(n,t,e){let{$$slots:s={},$$scope:o}=t;const l=Tt();let a;const i=g=>{const h=g.target.files[0],$=new FileReader;$.readAsText(h),$.onload=J=>{const O=J.target.result;l("upload",{json:O})}};function r(){a.click()}function c(g){it[g?"unshift":"push"](()=>{a=g,e(0,a)})}return n.$$set=g=>{"$$scope"in g&&e(5,o=g.$$scope)},[a,i,r,s,c,o]}class Ut extends rt{constructor(t){super(),ct(this,t,Nt,Gt,ft,{})}}function Bt(n,{delay:t=0,duration:e=400,easing:s=Dt}={}){const o=+getComputedStyle(n).opacity;return{delay:t,duration:e,easing:s,css:l=>`opacity: ${l*o}`}}function bt(n){let t,e,s;const o=n[4].default,l=Et(o,n,n[3],null);return{c(){t=b("div"),l&&l.c(),this.h()},l(a){t=v(a,"DIV",{class:!0});var i=E(t);l&&l.l(i),i.forEach(p),this.h()},h(){I(t,"class","p-4"),L(t,"bg-red-300",n[1]=="negative"),L(t,"bg-gold-300",n[1]=="neutral"),L(t,"bg-green-300",n[1]=="positive")},m(a,i){P(a,t,i),l&&l.m(t,null),s=!0},p(a,i){l&&l.p&&(!s||i&8)&&It(l,o,a,a[3],s?wt(o,a[3],i,null):kt(a[3]),null),i&2&&L(t,"bg-red-300",a[1]=="negative"),i&2&&L(t,"bg-gold-300",a[1]=="neutral"),i&2&&L(t,"bg-green-300",a[1]=="positive")},i(a){s||(k(l,a),e&&e.end(1),s=!0)},o(a){y(l,a),e=jt(t,Bt,{}),s=!1},d(a){a&&p(t),l&&l.d(a),a&&e&&e.end()}}}function Jt(n){let t,e,s=n[0]&&bt(n);return{c(){s&&s.c(),t=dt()},l(o){s&&s.l(o),t=dt()},m(o,l){s&&s.m(o,l),P(o,t,l),e=!0},p(o,[l]){o[0]?s?(s.p(o,l),l&1&&k(s,1)):(s=bt(o),s.c(),k(s,1),s.m(t.parentNode,t)):s&&(Pt(),y(s,1,1,()=>{s=null}),Vt())},i(o){e||(k(s),e=!0)},o(o){y(s),e=!1},d(o){s&&s.d(o),o&&p(t)}}}function Ot(n,t,e){let{$$slots:s={},$$scope:o}=t,{state:l="positive"}=t,{duration:a=3e3}=t,{visible:i=!1}=t;return n.$$set=r=>{"state"in r&&e(1,l=r.state),"duration"in r&&e(2,a=r.duration),"visible"in r&&e(0,i=r.visible),"$$scope"in r&&e(3,o=r.$$scope)},n.$$.update=()=>{n.$$.dirty&7&&i&&l=="positive"&&setTimeout(()=>{e(0,i=!1)},a)},[i,l,a,o,s]}class vt extends rt{constructor(t){super(),ct(this,t,Ot,Jt,ft,{state:1,duration:2,visible:0})}}function Rt(n){let t;return{c(){t=D("Clear")},l(e){t=j(e,"Clear")},m(e,s){P(e,t,s)},d(e){e&&p(t)}}}function Xt(n){let t;return{c(){t=D("Esporta")},l(e){t=j(e,"Esporta")},m(e,s){P(e,t,s)},d(e){e&&p(t)}}}function qt(n){let t;return{c(){t=D("Importa")},l(e){t=j(e,"Importa")},m(e,s){P(e,t,s)},d(e){e&&p(t)}}}function Ht(n){let t,e;return{c(){t=b("p"),e=D("Caricamento riuscito! Controlla la sintassi e i glifi :)"),this.h()},l(s){t=v(s,"P",{class:!0});var o=E(t);e=j(o,"Caricamento riuscito! Controlla la sintassi e i glifi :)"),o.forEach(p),this.h()},h(){I(t,"class","font-mono text-slate-900")},m(s,o){P(s,t,o),u(t,e)},p:Ft,d(s){s&&p(t)}}}function Kt(n){let t;return{c(){t=D("X")},l(e){t=j(e,"X")},m(e,s){P(e,t,s)},d(e){e&&p(t)}}}function Lt(n){let t,e,s,o,l,a;return l=new Y({props:{$$slots:{default:[Kt]},$$scope:{ctx:n}}}),l.$on("click",n[5]),{c(){t=b("div"),e=b("p"),s=D("Errore di caricamento :("),o=C(),R(l.$$.fragment),this.h()},l(i){t=v(i,"DIV",{class:!0});var r=E(t);e=v(r,"P",{class:!0});var c=E(e);s=j(c,"Errore di caricamento :("),c.forEach(p),o=T(r),X(l.$$.fragment,r),r.forEach(p),this.h()},h(){I(e,"class","font-mono text-slate-900"),I(t,"class","flex flex-row justify-between items-center")},m(i,r){P(i,t,r),u(t,e),u(e,s),u(t,o),q(l,t,null),a=!0},p(i,r){const c={};r&8192&&(c.$$scope={dirty:r,ctx:i}),l.$set(c)},i(i){a||(k(l.$$.fragment,i),a=!0)},o(i){y(l.$$.fragment,i),a=!1},d(i){i&&p(t),H(l)}}}function Mt(n){let t,e,s,o,l,a,i,r,c,g,h,$,J,O,w,m,_,S,Z,x,V,tt,F,et,st,A,ot,z;c=new Y({props:{$$slots:{default:[Rt]},$$scope:{ctx:n}}}),c.$on("click",n[2]),w=new Y({props:{$$slots:{default:[Xt]},$$scope:{ctx:n}}}),w.$on("click",n[3]),V=new Ut({props:{$$slots:{default:[qt]},$$scope:{ctx:n}}}),V.$on("upload",n[4]);function yt(f){n[6](f)}let ut={state:"positive",$$slots:{default:[Ht]},$$scope:{ctx:n}};n[0]!==void 0&&(ut.visible=n[0]),F=new vt({props:ut}),it.push(()=>_t(F,"visible",yt));function St(f){n[7](f)}let pt={state:"negative",$$slots:{default:[Lt]},$$scope:{ctx:n}};return n[1]!==void 0&&(pt.visible=n[1]),A=new vt({props:pt}),it.push(()=>_t(A,"visible",St)),{c(){t=b("div"),e=b("div"),s=b("p"),o=D("Elimina progetto"),l=C(),a=b("p"),i=D("Il progetto verr\xE0 esportato automaticamente prima di essere eliminato"),r=C(),R(c.$$.fragment),g=C(),h=b("div"),$=b("p"),J=D("Esporta progetto"),O=C(),R(w.$$.fragment),m=C(),_=b("div"),S=b("p"),Z=D("Importa progetto"),x=C(),R(V.$$.fragment),tt=C(),R(F.$$.fragment),st=C(),R(A.$$.fragment),this.h()},l(f){t=v(f,"DIV",{class:!0});var d=E(t);e=v(d,"DIV",{});var G=E(e);s=v(G,"P",{class:!0});var M=E(s);o=j(M,"Elimina progetto"),M.forEach(p),l=T(G),a=v(G,"P",{class:!0});var Q=E(a);i=j(Q,"Il progetto verr\xE0 esportato automaticamente prima di essere eliminato"),Q.forEach(p),r=T(G),X(c.$$.fragment,G),G.forEach(p),g=T(d),h=v(d,"DIV",{});var N=E(h);$=v(N,"P",{class:!0});var K=E($);J=j(K,"Esporta progetto"),K.forEach(p),O=T(N),X(w.$$.fragment,N),N.forEach(p),m=T(d),_=v(d,"DIV",{class:!0});var U=E(_);S=v(U,"P",{class:!0});var mt=E(S);Z=j(mt,"Importa progetto"),mt.forEach(p),x=T(U),X(V.$$.fragment,U),tt=T(U),X(F.$$.fragment,U),st=T(U),X(A.$$.fragment,U),U.forEach(p),d.forEach(p),this.h()},h(){I(s,"class","font-mono"),I(a,"class","font-mono text-sm mb-2 text-slate-600"),I($,"class","mb-2 font-mono"),I(S,"class","font-mono"),I(_,"class","space-y-2"),I(t,"class","p-8 space-y-8")},m(f,d){P(f,t,d),u(t,e),u(e,s),u(s,o),u(e,l),u(e,a),u(a,i),u(e,r),q(c,e,null),u(t,g),u(t,h),u(h,$),u($,J),u(h,O),q(w,h,null),u(t,m),u(t,_),u(_,S),u(S,Z),u(_,x),q(V,_,null),u(_,tt),q(F,_,null),u(_,st),q(A,_,null),z=!0},p(f,[d]){const G={};d&8192&&(G.$$scope={dirty:d,ctx:f}),c.$set(G);const M={};d&8192&&(M.$$scope={dirty:d,ctx:f}),w.$set(M);const Q={};d&8192&&(Q.$$scope={dirty:d,ctx:f}),V.$set(Q);const N={};d&8192&&(N.$$scope={dirty:d,ctx:f}),!et&&d&1&&(et=!0,N.visible=f[0],gt(()=>et=!1)),F.$set(N);const K={};d&8192&&(K.$$scope={dirty:d,ctx:f}),!ot&&d&2&&(ot=!0,K.visible=f[1],gt(()=>ot=!1)),A.$set(K)},i(f){z||(k(c.$$.fragment,f),k(w.$$.fragment,f),k(V.$$.fragment,f),k(F.$$.fragment,f),k(A.$$.fragment,f),z=!0)},o(f){y(c.$$.fragment,f),y(w.$$.fragment,f),y(V.$$.fragment,f),y(F.$$.fragment,f),y(A.$$.fragment,f),z=!1},d(f){f&&p(t),H(c),H(w),H(V),H(F),H(A)}}}function Qt(n,t,e){let s,o,l,a,i;W(n,$t,m=>e(8,s=m)),W(n,ht,m=>e(9,o=m)),W(n,nt,m=>e(10,l=m)),W(n,lt,m=>e(11,a=m)),W(n,at,m=>e(12,i=m));function r(){c(),B(at,i=[],i),B(lt,a=[],a),B(nt,l={height:7,baseline:1},l)}function c(){let m="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify({glyphs:a,syntaxes:i,metrics:l})),_=document.createElement("a");_.setAttribute("href",m),_.setAttribute("download","GTL.json"),_.click()}function g(m){try{const _=m.detail.json,S=JSON.parse(_);B(at,i=S.syntaxes,i),B(lt,a=S.glyphs,a),B(nt,l=S.metrics,l),B(ht,o="",o),B($t,s="",s),e(0,h=!0)}catch{e(1,$=!0),console.log("ImportError")}}let h=!1,$=!1;function J(){e(1,$=!1)}function O(m){h=m,e(0,h)}function w(m){$=m,e(1,$)}return[h,$,r,c,g,J,O,w]}class xt extends rt{constructor(t){super(),ct(this,t,Qt,Mt,ft,{})}}export{xt as default};
