var il=Object.defineProperty,al=Object.defineProperties;var sl=Object.getOwnPropertyDescriptors;var qa=Object.getOwnPropertySymbols;var ol=Object.prototype.hasOwnProperty,ul=Object.prototype.propertyIsEnumerable;var Wa=(e,r,n)=>r in e?il(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n,Br=(e,r)=>{for(var n in r||(r={}))ol.call(r,n)&&Wa(e,n,r[n]);if(qa)for(var n of qa(r))ul.call(r,n)&&Wa(e,n,r[n]);return e},Za=(e,r)=>al(e,sl(r));import{S as qs,i as Ws,s as Zs,e as un,k as Zn,t as Xs,c as ln,a as fn,d as Ct,m as Xn,h as Ys,b as Vr,g as nr,F as ea,Y as ll,M as fl,E as Ei,Z as hl,w as Ni,l as Xa,x as zi,y as Gi,O as js,q as er,o as Or,B as Hi,p as Qs,K as cl,Q as Ai,T as Ks,U as Js,n as $s}from"../chunks/index-4836a415.js";import{m as dl,g as pl,s as gl}from"../chunks/index-3ea4535f.js";import{g as vl,c as ml,a as _l,o as yl,S as Un,b as Ya,d as ja,e as xl}from"../chunks/lodash-03e4d38b.js";import{I as bl}from"../chunks/inputText-47b36108.js";import{L as Sl}from"../chunks/label-05302541.js";import"../chunks/index-29b3c992.js";import"../chunks/index.browser-85ea5a5b.js";/*! https://mths.be/codepointat v0.2.0 by @mathias */String.prototype.codePointAt||function(){var e=function(){try{var n={},a=Object.defineProperty,u=a(n,n,n)&&a}catch{}return u}(),r=function(n){if(this==null)throw TypeError();var a=String(this),u=a.length,o=n?Number(n):0;if(o!=o&&(o=0),!(o<0||o>=u)){var h=a.charCodeAt(o),g;return h>=55296&&h<=56319&&u>o+1&&(g=a.charCodeAt(o+1),g>=56320&&g<=57343)?(h-55296)*1024+g-56320+65536:h}};e?e(String.prototype,"codePointAt",{value:r,configurable:!0,writable:!0}):String.prototype.codePointAt=r}();var ta=0,eo=-3;function hn(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function wl(e,r){this.source=e,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=r,this.destLen=0,this.ltree=new hn,this.dtree=new hn}var to=new hn,ro=new hn,ra=new Uint8Array(30),na=new Uint16Array(30),no=new Uint8Array(30),io=new Uint16Array(30),Cl=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Qa=new hn,Xt=new Uint8Array(288+32);function ao(e,r,n,a){var u,o;for(u=0;u<n;++u)e[u]=0;for(u=0;u<30-n;++u)e[u+n]=u/n|0;for(o=a,u=0;u<30;++u)r[u]=o,o+=1<<e[u]}function Tl(e,r){var n;for(n=0;n<7;++n)e.table[n]=0;for(e.table[7]=24,e.table[8]=152,e.table[9]=112,n=0;n<24;++n)e.trans[n]=256+n;for(n=0;n<144;++n)e.trans[24+n]=n;for(n=0;n<8;++n)e.trans[24+144+n]=280+n;for(n=0;n<112;++n)e.trans[24+144+8+n]=144+n;for(n=0;n<5;++n)r.table[n]=0;for(r.table[5]=32,n=0;n<32;++n)r.trans[n]=n}var Ka=new Uint16Array(16);function Oi(e,r,n,a){var u,o;for(u=0;u<16;++u)e.table[u]=0;for(u=0;u<a;++u)e.table[r[n+u]]++;for(e.table[0]=0,o=0,u=0;u<16;++u)Ka[u]=o,o+=e.table[u];for(u=0;u<a;++u)r[n+u]&&(e.trans[Ka[r[n+u]]++]=u)}function kl(e){e.bitcount--||(e.tag=e.source[e.sourceIndex++],e.bitcount=7);var r=e.tag&1;return e.tag>>>=1,r}function Yt(e,r,n){if(!r)return n;for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var a=e.tag&65535>>>16-r;return e.tag>>>=r,e.bitcount-=r,a+n}function Vi(e,r){for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var n=0,a=0,u=0,o=e.tag;do a=2*a+(o&1),o>>>=1,++u,n+=r.table[u],a-=r.table[u];while(a>=0);return e.tag=o,e.bitcount-=u,r.trans[n+a]}function Fl(e,r,n){var a,u,o,h,g,d;for(a=Yt(e,5,257),u=Yt(e,5,1),o=Yt(e,4,4),h=0;h<19;++h)Xt[h]=0;for(h=0;h<o;++h){var T=Yt(e,3,0);Xt[Cl[h]]=T}for(Oi(Qa,Xt,0,19),g=0;g<a+u;){var k=Vi(e,Qa);switch(k){case 16:var R=Xt[g-1];for(d=Yt(e,2,3);d;--d)Xt[g++]=R;break;case 17:for(d=Yt(e,3,3);d;--d)Xt[g++]=0;break;case 18:for(d=Yt(e,7,11);d;--d)Xt[g++]=0;break;default:Xt[g++]=k;break}}Oi(r,Xt,0,a),Oi(n,Xt,a,u)}function Ja(e,r,n){for(;;){var a=Vi(e,r);if(a===256)return ta;if(a<256)e.dest[e.destLen++]=a;else{var u,o,h,g;for(a-=257,u=Yt(e,ra[a],na[a]),o=Vi(e,n),h=e.destLen-Yt(e,no[o],io[o]),g=h;g<h+u;++g)e.dest[e.destLen++]=e.dest[g]}}}function El(e){for(var r,n,a;e.bitcount>8;)e.sourceIndex--,e.bitcount-=8;if(r=e.source[e.sourceIndex+1],r=256*r+e.source[e.sourceIndex],n=e.source[e.sourceIndex+3],n=256*n+e.source[e.sourceIndex+2],r!==(~n&65535))return eo;for(e.sourceIndex+=4,a=r;a;--a)e.dest[e.destLen++]=e.source[e.sourceIndex++];return e.bitcount=0,ta}function Al(e,r){var n=new wl(e,r),a,u,o;do{switch(a=kl(n),u=Yt(n,2,0),u){case 0:o=El(n);break;case 1:o=Ja(n,to,ro);break;case 2:Fl(n,n.ltree,n.dtree),o=Ja(n,n.ltree,n.dtree);break;default:o=eo}if(o!==ta)throw new Error("Data error")}while(!a);return n.destLen<n.dest.length?typeof n.dest.slice=="function"?n.dest.slice(0,n.destLen):n.dest.subarray(0,n.destLen):n.dest}Tl(to,ro);ao(ra,na,4,3);ao(no,io,2,1);ra[28]=0;na[28]=258;var Ol=Al;function Nr(e,r,n,a,u){return Math.pow(1-u,3)*e+3*Math.pow(1-u,2)*u*r+3*(1-u)*Math.pow(u,2)*n+Math.pow(u,3)*a}function ar(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}ar.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)};ar.prototype.addPoint=function(e,r){typeof e=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),typeof r=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=r,this.y2=r),r<this.y1&&(this.y1=r),r>this.y2&&(this.y2=r))};ar.prototype.addX=function(e){this.addPoint(e,null)};ar.prototype.addY=function(e){this.addPoint(null,e)};ar.prototype.addBezier=function(e,r,n,a,u,o,h,g){var d=[e,r],T=[n,a],k=[u,o],R=[h,g];this.addPoint(e,r),this.addPoint(h,g);for(var D=0;D<=1;D++){var A=6*d[D]-12*T[D]+6*k[D],V=-3*d[D]+9*T[D]-9*k[D]+3*R[D],N=3*T[D]-3*d[D];if(V===0){if(A===0)continue;var K=-N/A;0<K&&K<1&&(D===0&&this.addX(Nr(d[D],T[D],k[D],R[D],K)),D===1&&this.addY(Nr(d[D],T[D],k[D],R[D],K)));continue}var j=Math.pow(A,2)-4*N*V;if(!(j<0)){var ie=(-A+Math.sqrt(j))/(2*V);0<ie&&ie<1&&(D===0&&this.addX(Nr(d[D],T[D],k[D],R[D],ie)),D===1&&this.addY(Nr(d[D],T[D],k[D],R[D],ie)));var te=(-A-Math.sqrt(j))/(2*V);0<te&&te<1&&(D===0&&this.addX(Nr(d[D],T[D],k[D],R[D],te)),D===1&&this.addY(Nr(d[D],T[D],k[D],R[D],te)))}}};ar.prototype.addQuad=function(e,r,n,a,u,o){var h=e+.6666666666666666*(n-e),g=r+2/3*(a-r),d=h+1/3*(u-e),T=g+1/3*(o-r);this.addBezier(e,r,h,g,d,T,u,o)};function lt(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}lt.prototype.moveTo=function(e,r){this.commands.push({type:"M",x:e,y:r})};lt.prototype.lineTo=function(e,r){this.commands.push({type:"L",x:e,y:r})};lt.prototype.curveTo=lt.prototype.bezierCurveTo=function(e,r,n,a,u,o){this.commands.push({type:"C",x1:e,y1:r,x2:n,y2:a,x:u,y:o})};lt.prototype.quadTo=lt.prototype.quadraticCurveTo=function(e,r,n,a){this.commands.push({type:"Q",x1:e,y1:r,x:n,y:a})};lt.prototype.close=lt.prototype.closePath=function(){this.commands.push({type:"Z"})};lt.prototype.extend=function(e){if(e.commands)e=e.commands;else if(e instanceof ar){var r=e;this.moveTo(r.x1,r.y1),this.lineTo(r.x2,r.y1),this.lineTo(r.x2,r.y2),this.lineTo(r.x1,r.y2),this.close();return}Array.prototype.push.apply(this.commands,e)};lt.prototype.getBoundingBox=function(){for(var e=new ar,r=0,n=0,a=0,u=0,o=0;o<this.commands.length;o++){var h=this.commands[o];switch(h.type){case"M":e.addPoint(h.x,h.y),r=a=h.x,n=u=h.y;break;case"L":e.addPoint(h.x,h.y),a=h.x,u=h.y;break;case"Q":e.addQuad(a,u,h.x1,h.y1,h.x,h.y),a=h.x,u=h.y;break;case"C":e.addBezier(a,u,h.x1,h.y1,h.x2,h.y2,h.x,h.y),a=h.x,u=h.y;break;case"Z":a=r,u=n;break;default:throw new Error("Unexpected path command "+h.type)}}return e.isEmpty()&&e.addPoint(0,0),e};lt.prototype.draw=function(e){e.beginPath();for(var r=0;r<this.commands.length;r+=1){var n=this.commands[r];n.type==="M"?e.moveTo(n.x,n.y):n.type==="L"?e.lineTo(n.x,n.y):n.type==="C"?e.bezierCurveTo(n.x1,n.y1,n.x2,n.y2,n.x,n.y):n.type==="Q"?e.quadraticCurveTo(n.x1,n.y1,n.x,n.y):n.type==="Z"&&e.closePath()}this.fill&&(e.fillStyle=this.fill,e.fill()),this.stroke&&(e.strokeStyle=this.stroke,e.lineWidth=this.strokeWidth,e.stroke())};lt.prototype.toPathData=function(e){e=e!==void 0?e:2;function r(h){return Math.round(h)===h?""+Math.round(h):h.toFixed(e)}function n(){for(var h=arguments,g="",d=0;d<arguments.length;d+=1){var T=h[d];T>=0&&d>0&&(g+=" "),g+=r(T)}return g}for(var a="",u=0;u<this.commands.length;u+=1){var o=this.commands[u];o.type==="M"?a+="M"+n(o.x,o.y):o.type==="L"?a+="L"+n(o.x,o.y):o.type==="C"?a+="C"+n(o.x1,o.y1,o.x2,o.y2,o.x,o.y):o.type==="Q"?a+="Q"+n(o.x1,o.y1,o.x,o.y):o.type==="Z"&&(a+="Z")}return a};lt.prototype.toSVG=function(e){var r='<path d="';return r+=this.toPathData(e),r+='"',this.fill&&this.fill!=="black"&&(this.fill===null?r+=' fill="none"':r+=' fill="'+this.fill+'"'),this.stroke&&(r+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),r+="/>",r};lt.prototype.toDOMElement=function(e){var r=this.toPathData(e),n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",r),n};function so(e){throw new Error(e)}function $a(e,r){e||so(r)}var Ae={fail:so,argument:$a,assert:$a},es=32768,ts=2147483648,Zr={},ve={},Le={};function Vt(e){return function(){return e}}ve.BYTE=function(e){return Ae.argument(e>=0&&e<=255,"Byte value should be between 0 and 255."),[e]};Le.BYTE=Vt(1);ve.CHAR=function(e){return[e.charCodeAt(0)]};Le.CHAR=Vt(1);ve.CHARARRAY=function(e){typeof e=="undefined"&&(e="",console.warn("Undefined CHARARRAY encountered and treated as an empty string. This is probably caused by a missing glyph name."));for(var r=[],n=0;n<e.length;n+=1)r[n]=e.charCodeAt(n);return r};Le.CHARARRAY=function(e){return typeof e=="undefined"?0:e.length};ve.USHORT=function(e){return[e>>8&255,e&255]};Le.USHORT=Vt(2);ve.SHORT=function(e){return e>=es&&(e=-(2*es-e)),[e>>8&255,e&255]};Le.SHORT=Vt(2);ve.UINT24=function(e){return[e>>16&255,e>>8&255,e&255]};Le.UINT24=Vt(3);ve.ULONG=function(e){return[e>>24&255,e>>16&255,e>>8&255,e&255]};Le.ULONG=Vt(4);ve.LONG=function(e){return e>=ts&&(e=-(2*ts-e)),[e>>24&255,e>>16&255,e>>8&255,e&255]};Le.LONG=Vt(4);ve.FIXED=ve.ULONG;Le.FIXED=Le.ULONG;ve.FWORD=ve.SHORT;Le.FWORD=Le.SHORT;ve.UFWORD=ve.USHORT;Le.UFWORD=Le.USHORT;ve.LONGDATETIME=function(e){return[0,0,0,0,e>>24&255,e>>16&255,e>>8&255,e&255]};Le.LONGDATETIME=Vt(8);ve.TAG=function(e){return Ae.argument(e.length===4,"Tag should be exactly 4 ASCII characters."),[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]};Le.TAG=Vt(4);ve.Card8=ve.BYTE;Le.Card8=Le.BYTE;ve.Card16=ve.USHORT;Le.Card16=Le.USHORT;ve.OffSize=ve.BYTE;Le.OffSize=Le.BYTE;ve.SID=ve.USHORT;Le.SID=Le.USHORT;ve.NUMBER=function(e){return e>=-107&&e<=107?[e+139]:e>=108&&e<=1131?(e=e-108,[(e>>8)+247,e&255]):e>=-1131&&e<=-108?(e=-e-108,[(e>>8)+251,e&255]):e>=-32768&&e<=32767?ve.NUMBER16(e):ve.NUMBER32(e)};Le.NUMBER=function(e){return ve.NUMBER(e).length};ve.NUMBER16=function(e){return[28,e>>8&255,e&255]};Le.NUMBER16=Vt(3);ve.NUMBER32=function(e){return[29,e>>24&255,e>>16&255,e>>8&255,e&255]};Le.NUMBER32=Vt(5);ve.REAL=function(e){var r=e.toString(),n=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(r);if(n){var a=parseFloat("1e"+((n[2]?+n[2]:0)+n[1].length));r=(Math.round(e*a)/a).toString()}for(var u="",o=0,h=r.length;o<h;o+=1){var g=r[o];g==="e"?u+=r[++o]==="-"?"c":"b":g==="."?u+="a":g==="-"?u+="e":u+=g}u+=u.length&1?"f":"ff";for(var d=[30],T=0,k=u.length;T<k;T+=2)d.push(parseInt(u.substr(T,2),16));return d};Le.REAL=function(e){return ve.REAL(e).length};ve.NAME=ve.CHARARRAY;Le.NAME=Le.CHARARRAY;ve.STRING=ve.CHARARRAY;Le.STRING=Le.CHARARRAY;Zr.UTF8=function(e,r,n){for(var a=[],u=n,o=0;o<u;o++,r+=1)a[o]=e.getUint8(r);return String.fromCharCode.apply(null,a)};Zr.UTF16=function(e,r,n){for(var a=[],u=n/2,o=0;o<u;o++,r+=2)a[o]=e.getUint16(r);return String.fromCharCode.apply(null,a)};ve.UTF16=function(e){for(var r=[],n=0;n<e.length;n+=1){var a=e.charCodeAt(n);r[r.length]=a>>8&255,r[r.length]=a&255}return r};Le.UTF16=function(e){return e.length*2};var qi={"x-mac-croatian":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\u0160\u2122\xB4\xA8\u2260\u017D\xD8\u221E\xB1\u2264\u2265\u2206\xB5\u2202\u2211\u220F\u0161\u222B\xAA\xBA\u03A9\u017E\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u0106\xAB\u010C\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u0110\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\uF8FF\xA9\u2044\u20AC\u2039\u203A\xC6\xBB\u2013\xB7\u201A\u201E\u2030\xC2\u0107\xC1\u010D\xC8\xCD\xCE\xCF\xCC\xD3\xD4\u0111\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u03C0\xCB\u02DA\xB8\xCA\xE6\u02C7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041A\u041B\u041C\u041D\u041E\u041F\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042A\u042B\u042C\u042D\u042E\u042F\u2020\xB0\u0490\xA3\xA7\u2022\xB6\u0406\xAE\xA9\u2122\u0402\u0452\u2260\u0403\u0453\u221E\xB1\u2264\u2265\u0456\xB5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040A\u045A\u0458\u0405\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\u040B\u045B\u040C\u045C\u0455\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u201E\u040E\u045E\u040F\u045F\u2116\u0401\u0451\u044F\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043A\u043B\u043C\u043D\u043E\u043F\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044A\u044B\u044C\u044D\u044E","x-mac-gaelic":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u1E02\xB1\u2264\u2265\u1E03\u010A\u010B\u1E0A\u1E0B\u1E1E\u1E1F\u0120\u0121\u1E40\xE6\xF8\u1E41\u1E56\u1E57\u027C\u0192\u017F\u1E60\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\u1E61\u1E9B\xFF\u0178\u1E6A\u20AC\u2039\u203A\u0176\u0177\u1E6B\xB7\u1EF2\u1EF3\u204A\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\u2663\xD2\xDA\xDB\xD9\u0131\xDD\xFD\u0174\u0175\u1E84\u1E85\u1E80\u1E81\u1E82\u1E83","x-mac-greek":"\xC4\xB9\xB2\xC9\xB3\xD6\xDC\u0385\xE0\xE2\xE4\u0384\xA8\xE7\xE9\xE8\xEA\xEB\xA3\u2122\xEE\xEF\u2022\xBD\u2030\xF4\xF6\xA6\u20AC\xF9\xFB\xFC\u2020\u0393\u0394\u0398\u039B\u039E\u03A0\xDF\xAE\xA9\u03A3\u03AA\xA7\u2260\xB0\xB7\u0391\xB1\u2264\u2265\xA5\u0392\u0395\u0396\u0397\u0399\u039A\u039C\u03A6\u03AB\u03A8\u03A9\u03AC\u039D\xAC\u039F\u03A1\u2248\u03A4\xAB\xBB\u2026\xA0\u03A5\u03A7\u0386\u0388\u0153\u2013\u2015\u201C\u201D\u2018\u2019\xF7\u0389\u038A\u038C\u038E\u03AD\u03AE\u03AF\u03CC\u038F\u03CD\u03B1\u03B2\u03C8\u03B4\u03B5\u03C6\u03B3\u03B7\u03B9\u03BE\u03BA\u03BB\u03BC\u03BD\u03BF\u03C0\u03CE\u03C1\u03C3\u03C4\u03B8\u03C9\u03C2\u03C7\u03C5\u03B6\u03CA\u03CB\u0390\u03B0\xAD","x-mac-icelandic":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\xDD\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\xD0\xF0\xDE\xFE\xFD\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140A\u140B\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144E\u144F\u1450\u1451\u1455\u1456\u1466\u146D\u146E\u146F\u1470\u1472\u1473\u1483\u148B\u148C\u148D\u148E\u1490\u1491\xB0\u14A1\u14A5\u14A6\u2022\xB6\u14A7\xAE\xA9\u2122\u14A8\u14AA\u14AB\u14BB\u14C2\u14C3\u14C4\u14C5\u14C7\u14C8\u14D0\u14EF\u14F0\u14F1\u14F2\u14F4\u14F5\u1505\u14D5\u14D6\u14D7\u14D8\u14DA\u14DB\u14EA\u1528\u1529\u152A\u152B\u152D\u2026\xA0\u152E\u153E\u1555\u1556\u1557\u2013\u2014\u201C\u201D\u2018\u2019\u1558\u1559\u155A\u155D\u1546\u1547\u1548\u1549\u154B\u154C\u1550\u157F\u1580\u1581\u1582\u1583\u1584\u1585\u158F\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15A0\u15A1\u15A2\u15A3\u15A4\u15A5\u15A6\u157C\u0141\u0142","x-mac-ce":"\xC4\u0100\u0101\xC9\u0104\xD6\xDC\xE1\u0105\u010C\xE4\u010D\u0106\u0107\xE9\u0179\u017A\u010E\xED\u010F\u0112\u0113\u0116\xF3\u0117\xF4\xF6\xF5\xFA\u011A\u011B\xFC\u2020\xB0\u0118\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\u0119\xA8\u2260\u0123\u012E\u012F\u012A\u2264\u2265\u012B\u0136\u2202\u2211\u0142\u013B\u013C\u013D\u013E\u0139\u013A\u0145\u0146\u0143\xAC\u221A\u0144\u0147\u2206\xAB\xBB\u2026\xA0\u0148\u0150\xD5\u0151\u014C\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\u014D\u0154\u0155\u0158\u2039\u203A\u0159\u0156\u0157\u0160\u201A\u201E\u0161\u015A\u015B\xC1\u0164\u0165\xCD\u017D\u017E\u016A\xD3\xD4\u016B\u016E\xDA\u016F\u0170\u0171\u0172\u0173\xDD\xFD\u0137\u017B\u0141\u017C\u0122\u02C7",macintosh:"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\u2039\u203A\uFB01\uFB02\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-romanian":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\u0102\u0218\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\u0103\u0219\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\u2039\u203A\u021A\u021B\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-turkish":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u011E\u011F\u0130\u0131\u015E\u015F\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\uF8A0\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7"};Zr.MACSTRING=function(e,r,n,a){var u=qi[a];if(u!==void 0){for(var o="",h=0;h<n;h++){var g=e.getUint8(r+h);g<=127?o+=String.fromCharCode(g):o+=u[g&127]}return o}};var Dn=typeof WeakMap=="function"&&new WeakMap,Rn,Pl=function(e){if(!Rn){Rn={};for(var r in qi)Rn[r]=new String(r)}var n=Rn[e];if(n!==void 0){if(Dn){var a=Dn.get(n);if(a!==void 0)return a}var u=qi[e];if(u!==void 0){for(var o={},h=0;h<u.length;h++)o[u.charCodeAt(h)]=h+128;return Dn&&Dn.set(n,o),o}}};ve.MACSTRING=function(e,r){var n=Pl(r);if(n!==void 0){for(var a=[],u=0;u<e.length;u++){var o=e.charCodeAt(u);if(o>=128&&(o=n[o],o===void 0))return;a[u]=o}return a}};Le.MACSTRING=function(e,r){var n=ve.MACSTRING(e,r);return n!==void 0?n.length:0};function Wi(e){return e>=-128&&e<=127}function Ll(e,r,n){for(var a=0,u=e.length;r<u&&a<64&&e[r]===0;)++r,++a;return n.push(128|a-1),r}function Il(e,r,n){for(var a=0,u=e.length,o=r;o<u&&a<64;){var h=e[o];if(!Wi(h)||h===0&&o+1<u&&e[o+1]===0)break;++o,++a}n.push(a-1);for(var g=r;g<o;++g)n.push(e[g]+256&255);return o}function Ml(e,r,n){for(var a=0,u=e.length,o=r;o<u&&a<64;){var h=e[o];if(h===0||Wi(h)&&o+1<u&&Wi(e[o+1]))break;++o,++a}n.push(64|a-1);for(var g=r;g<o;++g){var d=e[g];n.push(d+65536>>8&255,d+256&255)}return o}ve.VARDELTAS=function(e){for(var r=0,n=[];r<e.length;){var a=e[r];a===0?r=Ll(e,r,n):a>=-128&&a<=127?r=Il(e,r,n):r=Ml(e,r,n)}return n};ve.INDEX=function(e){for(var r=1,n=[r],a=[],u=0;u<e.length;u+=1){var o=ve.OBJECT(e[u]);Array.prototype.push.apply(a,o),r+=o.length,n.push(r)}if(a.length===0)return[0,0];for(var h=[],g=1+Math.floor(Math.log(r)/Math.log(2))/8|0,d=[void 0,ve.BYTE,ve.USHORT,ve.UINT24,ve.ULONG][g],T=0;T<n.length;T+=1){var k=d(n[T]);Array.prototype.push.apply(h,k)}return Array.prototype.concat(ve.Card16(e.length),ve.OffSize(g),h,a)};Le.INDEX=function(e){return ve.INDEX(e).length};ve.DICT=function(e){for(var r=[],n=Object.keys(e),a=n.length,u=0;u<a;u+=1){var o=parseInt(n[u],0),h=e[o];r=r.concat(ve.OPERAND(h.value,h.type)),r=r.concat(ve.OPERATOR(o))}return r};Le.DICT=function(e){return ve.DICT(e).length};ve.OPERATOR=function(e){return e<1200?[e]:[12,e-1200]};ve.OPERAND=function(e,r){var n=[];if(Array.isArray(r))for(var a=0;a<r.length;a+=1)Ae.argument(e.length===r.length,"Not enough arguments given for type"+r),n=n.concat(ve.OPERAND(e[a],r[a]));else if(r==="SID")n=n.concat(ve.NUMBER(e));else if(r==="offset")n=n.concat(ve.NUMBER32(e));else if(r==="number")n=n.concat(ve.NUMBER(e));else if(r==="real")n=n.concat(ve.REAL(e));else throw new Error("Unknown operand type "+r);return n};ve.OP=ve.BYTE;Le.OP=Le.BYTE;var Bn=typeof WeakMap=="function"&&new WeakMap;ve.CHARSTRING=function(e){if(Bn){var r=Bn.get(e);if(r!==void 0)return r}for(var n=[],a=e.length,u=0;u<a;u+=1){var o=e[u];n=n.concat(ve[o.type](o.value))}return Bn&&Bn.set(e,n),n};Le.CHARSTRING=function(e){return ve.CHARSTRING(e).length};ve.OBJECT=function(e){var r=ve[e.type];return Ae.argument(r!==void 0,"No encoding function for type "+e.type),r(e.value)};Le.OBJECT=function(e){var r=Le[e.type];return Ae.argument(r!==void 0,"No sizeOf function for type "+e.type),r(e.value)};ve.TABLE=function(e){for(var r=[],n=e.fields.length,a=[],u=[],o=0;o<n;o+=1){var h=e.fields[o],g=ve[h.type];Ae.argument(g!==void 0,"No encoding function for field type "+h.type+" ("+h.name+")");var d=e[h.name];d===void 0&&(d=h.value);var T=g(d);h.type==="TABLE"?(u.push(r.length),r=r.concat([0,0]),a.push(T)):r=r.concat(T)}for(var k=0;k<a.length;k+=1){var R=u[k],D=r.length;Ae.argument(D<65536,"Table "+e.tableName+" too big."),r[R]=D>>8,r[R+1]=D&255,r=r.concat(a[k])}return r};Le.TABLE=function(e){for(var r=0,n=e.fields.length,a=0;a<n;a+=1){var u=e.fields[a],o=Le[u.type];Ae.argument(o!==void 0,"No sizeOf function for field type "+u.type+" ("+u.name+")");var h=e[u.name];h===void 0&&(h=u.value),r+=o(h),u.type==="TABLE"&&(r+=2)}return r};ve.RECORD=ve.TABLE;Le.RECORD=Le.TABLE;ve.LITERAL=function(e){return e};Le.LITERAL=function(e){return e.length};function mt(e,r,n){if(r.length&&(r[0].name!=="coverageFormat"||r[0].value===1))for(var a=0;a<r.length;a+=1){var u=r[a];this[u.name]=u.value}if(this.tableName=e,this.fields=r,n)for(var o=Object.keys(n),h=0;h<o.length;h+=1){var g=o[h],d=n[g];this[g]!==void 0&&(this[g]=d)}}mt.prototype.encode=function(){return ve.TABLE(this)};mt.prototype.sizeOf=function(){return Le.TABLE(this)};function cn(e,r,n){n===void 0&&(n=r.length);var a=new Array(r.length+1);a[0]={name:e+"Count",type:"USHORT",value:n};for(var u=0;u<r.length;u++)a[u+1]={name:e+u,type:"USHORT",value:r[u]};return a}function Zi(e,r,n){var a=r.length,u=new Array(a+1);u[0]={name:e+"Count",type:"USHORT",value:a};for(var o=0;o<a;o++)u[o+1]={name:e+o,type:"TABLE",value:n(r[o],o)};return u}function dn(e,r,n){var a=r.length,u=[];u[0]={name:e+"Count",type:"USHORT",value:a};for(var o=0;o<a;o++)u=u.concat(n(r[o],o));return u}function Yn(e){e.format===1?mt.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(cn("glyph",e.glyphs))):e.format===2?mt.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:2}].concat(dn("rangeRecord",e.ranges,function(r){return[{name:"startGlyphID",type:"USHORT",value:r.start},{name:"endGlyphID",type:"USHORT",value:r.end},{name:"startCoverageIndex",type:"USHORT",value:r.index}]}))):Ae.assert(!1,"Coverage format must be 1 or 2.")}Yn.prototype=Object.create(mt.prototype);Yn.prototype.constructor=Yn;function jn(e){mt.call(this,"scriptListTable",dn("scriptRecord",e,function(r,n){var a=r.script,u=a.defaultLangSys;return Ae.assert(!!u,"Unable to write GSUB: script "+r.tag+" has no default language system."),[{name:"scriptTag"+n,type:"TAG",value:r.tag},{name:"script"+n,type:"TABLE",value:new mt("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new mt("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:u.reqFeatureIndex}].concat(cn("featureIndex",u.featureIndexes)))}].concat(dn("langSys",a.langSysRecords,function(o,h){var g=o.langSys;return[{name:"langSysTag"+h,type:"TAG",value:o.tag},{name:"langSys"+h,type:"TABLE",value:new mt("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:g.reqFeatureIndex}].concat(cn("featureIndex",g.featureIndexes)))}]})))}]}))}jn.prototype=Object.create(mt.prototype);jn.prototype.constructor=jn;function Qn(e){mt.call(this,"featureListTable",dn("featureRecord",e,function(r,n){var a=r.feature;return[{name:"featureTag"+n,type:"TAG",value:r.tag},{name:"feature"+n,type:"TABLE",value:new mt("featureTable",[{name:"featureParams",type:"USHORT",value:a.featureParams}].concat(cn("lookupListIndex",a.lookupListIndexes)))}]}))}Qn.prototype=Object.create(mt.prototype);Qn.prototype.constructor=Qn;function Kn(e,r){mt.call(this,"lookupListTable",Zi("lookup",e,function(n){var a=r[n.lookupType];return Ae.assert(!!a,"Unable to write GSUB lookup type "+n.lookupType+" tables."),new mt("lookupTable",[{name:"lookupType",type:"USHORT",value:n.lookupType},{name:"lookupFlag",type:"USHORT",value:n.lookupFlag}].concat(Zi("subtable",n.subtables,a)))}))}Kn.prototype=Object.create(mt.prototype);Kn.prototype.constructor=Kn;var be={Table:mt,Record:mt,Coverage:Yn,ScriptList:jn,FeatureList:Qn,LookupList:Kn,ushortList:cn,tableList:Zi,recordList:dn};function rs(e,r){return e.getUint8(r)}function Jn(e,r){return e.getUint16(r,!1)}function Ul(e,r){return e.getInt16(r,!1)}function ia(e,r){return e.getUint32(r,!1)}function oo(e,r){var n=e.getInt16(r,!1),a=e.getUint16(r+2,!1);return n+a/65535}function Dl(e,r){for(var n="",a=r;a<r+4;a+=1)n+=String.fromCharCode(e.getInt8(a));return n}function Rl(e,r,n){for(var a=0,u=0;u<n;u+=1)a<<=8,a+=e.getUint8(r+u);return a}function Bl(e,r,n){for(var a=[],u=r;u<n;u+=1)a.push(e.getUint8(u));return a}function Nl(e){for(var r="",n=0;n<e.length;n+=1)r+=String.fromCharCode(e[n]);return r}var zl={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function ee(e,r){this.data=e,this.offset=r,this.relativeOffset=0}ee.prototype.parseByte=function(){var e=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e};ee.prototype.parseChar=function(){var e=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e};ee.prototype.parseCard8=ee.prototype.parseByte;ee.prototype.parseUShort=function(){var e=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e};ee.prototype.parseCard16=ee.prototype.parseUShort;ee.prototype.parseSID=ee.prototype.parseUShort;ee.prototype.parseOffset16=ee.prototype.parseUShort;ee.prototype.parseShort=function(){var e=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e};ee.prototype.parseF2Dot14=function(){var e=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,e};ee.prototype.parseULong=function(){var e=ia(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e};ee.prototype.parseOffset32=ee.prototype.parseULong;ee.prototype.parseFixed=function(){var e=oo(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e};ee.prototype.parseString=function(e){var r=this.data,n=this.offset+this.relativeOffset,a="";this.relativeOffset+=e;for(var u=0;u<e;u++)a+=String.fromCharCode(r.getUint8(n+u));return a};ee.prototype.parseTag=function(){return this.parseString(4)};ee.prototype.parseLongDateTime=function(){var e=ia(this.data,this.offset+this.relativeOffset+4);return e-=2082844800,this.relativeOffset+=8,e};ee.prototype.parseVersion=function(e){var r=Jn(this.data,this.offset+this.relativeOffset),n=Jn(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,e===void 0&&(e=4096),r+n/e/10};ee.prototype.skip=function(e,r){r===void 0&&(r=1),this.relativeOffset+=zl[e]*r};ee.prototype.parseULongList=function(e){e===void 0&&(e=this.parseULong());for(var r=new Array(e),n=this.data,a=this.offset+this.relativeOffset,u=0;u<e;u++)r[u]=n.getUint32(a),a+=4;return this.relativeOffset+=e*4,r};ee.prototype.parseOffset16List=ee.prototype.parseUShortList=function(e){e===void 0&&(e=this.parseUShort());for(var r=new Array(e),n=this.data,a=this.offset+this.relativeOffset,u=0;u<e;u++)r[u]=n.getUint16(a),a+=2;return this.relativeOffset+=e*2,r};ee.prototype.parseShortList=function(e){for(var r=new Array(e),n=this.data,a=this.offset+this.relativeOffset,u=0;u<e;u++)r[u]=n.getInt16(a),a+=2;return this.relativeOffset+=e*2,r};ee.prototype.parseByteList=function(e){for(var r=new Array(e),n=this.data,a=this.offset+this.relativeOffset,u=0;u<e;u++)r[u]=n.getUint8(a++);return this.relativeOffset+=e,r};ee.prototype.parseList=function(e,r){r||(r=e,e=this.parseUShort());for(var n=new Array(e),a=0;a<e;a++)n[a]=r.call(this);return n};ee.prototype.parseList32=function(e,r){r||(r=e,e=this.parseULong());for(var n=new Array(e),a=0;a<e;a++)n[a]=r.call(this);return n};ee.prototype.parseRecordList=function(e,r){r||(r=e,e=this.parseUShort());for(var n=new Array(e),a=Object.keys(r),u=0;u<e;u++){for(var o={},h=0;h<a.length;h++){var g=a[h],d=r[g];o[g]=d.call(this)}n[u]=o}return n};ee.prototype.parseRecordList32=function(e,r){r||(r=e,e=this.parseULong());for(var n=new Array(e),a=Object.keys(r),u=0;u<e;u++){for(var o={},h=0;h<a.length;h++){var g=a[h],d=r[g];o[g]=d.call(this)}n[u]=o}return n};ee.prototype.parseStruct=function(e){if(typeof e=="function")return e.call(this);for(var r=Object.keys(e),n={},a=0;a<r.length;a++){var u=r[a],o=e[u];n[u]=o.call(this)}return n};ee.prototype.parseValueRecord=function(e){if(e===void 0&&(e=this.parseUShort()),e!==0){var r={};return e&1&&(r.xPlacement=this.parseShort()),e&2&&(r.yPlacement=this.parseShort()),e&4&&(r.xAdvance=this.parseShort()),e&8&&(r.yAdvance=this.parseShort()),e&16&&(r.xPlaDevice=void 0,this.parseShort()),e&32&&(r.yPlaDevice=void 0,this.parseShort()),e&64&&(r.xAdvDevice=void 0,this.parseShort()),e&128&&(r.yAdvDevice=void 0,this.parseShort()),r}};ee.prototype.parseValueRecordList=function(){for(var e=this.parseUShort(),r=this.parseUShort(),n=new Array(r),a=0;a<r;a++)n[a]=this.parseValueRecord(e);return n};ee.prototype.parsePointer=function(e){var r=this.parseOffset16();if(r>0)return new ee(this.data,this.offset+r).parseStruct(e)};ee.prototype.parsePointer32=function(e){var r=this.parseOffset32();if(r>0)return new ee(this.data,this.offset+r).parseStruct(e)};ee.prototype.parseListOfLists=function(e){for(var r=this.parseOffset16List(),n=r.length,a=this.relativeOffset,u=new Array(n),o=0;o<n;o++){var h=r[o];if(h===0){u[o]=void 0;continue}if(this.relativeOffset=h,e){for(var g=this.parseOffset16List(),d=new Array(g.length),T=0;T<g.length;T++)this.relativeOffset=h+g[T],d[T]=e.call(this);u[o]=d}else u[o]=this.parseUShortList()}return this.relativeOffset=a,u};ee.prototype.parseCoverage=function(){var e=this.offset+this.relativeOffset,r=this.parseUShort(),n=this.parseUShort();if(r===1)return{format:1,glyphs:this.parseUShortList(n)};if(r===2){for(var a=new Array(n),u=0;u<n;u++)a[u]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:a}}throw new Error("0x"+e.toString(16)+": Coverage format must be 1 or 2.")};ee.prototype.parseClassDef=function(){var e=this.offset+this.relativeOffset,r=this.parseUShort();if(r===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(r===2)return{format:2,ranges:this.parseRecordList({start:ee.uShort,end:ee.uShort,classId:ee.uShort})};throw new Error("0x"+e.toString(16)+": ClassDef format must be 1 or 2.")};ee.list=function(e,r){return function(){return this.parseList(e,r)}};ee.list32=function(e,r){return function(){return this.parseList32(e,r)}};ee.recordList=function(e,r){return function(){return this.parseRecordList(e,r)}};ee.recordList32=function(e,r){return function(){return this.parseRecordList32(e,r)}};ee.pointer=function(e){return function(){return this.parsePointer(e)}};ee.pointer32=function(e){return function(){return this.parsePointer32(e)}};ee.tag=ee.prototype.parseTag;ee.byte=ee.prototype.parseByte;ee.uShort=ee.offset16=ee.prototype.parseUShort;ee.uShortList=ee.prototype.parseUShortList;ee.uLong=ee.offset32=ee.prototype.parseULong;ee.uLongList=ee.prototype.parseULongList;ee.struct=ee.prototype.parseStruct;ee.coverage=ee.prototype.parseCoverage;ee.classDef=ee.prototype.parseClassDef;var ns={reserved:ee.uShort,reqFeatureIndex:ee.uShort,featureIndexes:ee.uShortList};ee.prototype.parseScriptList=function(){return this.parsePointer(ee.recordList({tag:ee.tag,script:ee.pointer({defaultLangSys:ee.pointer(ns),langSysRecords:ee.recordList({tag:ee.tag,langSys:ee.pointer(ns)})})}))||[]};ee.prototype.parseFeatureList=function(){return this.parsePointer(ee.recordList({tag:ee.tag,feature:ee.pointer({featureParams:ee.offset16,lookupListIndexes:ee.uShortList})}))||[]};ee.prototype.parseLookupList=function(e){return this.parsePointer(ee.list(ee.pointer(function(){var r=this.parseUShort();Ae.argument(1<=r&&r<=9,"GPOS/GSUB lookup type "+r+" unknown.");var n=this.parseUShort(),a=n&16;return{lookupType:r,lookupFlag:n,subtables:this.parseList(ee.pointer(e[r])),markFilteringSet:a?this.parseUShort():void 0}})))||[]};ee.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var e=this.parseUShort(),r=this.parseUShort();Ae.argument(e===1&&r<1,"GPOS/GSUB feature variations table unknown.");var n=this.parseRecordList32({conditionSetOffset:ee.offset32,featureTableSubstitutionOffset:ee.offset32});return n})||[]};var we={getByte:rs,getCard8:rs,getUShort:Jn,getCard16:Jn,getShort:Ul,getULong:ia,getFixed:oo,getTag:Dl,getOffset:Rl,getBytes:Bl,bytesToString:Nl,Parser:ee};function Gl(e,r){r.parseUShort(),e.length=r.parseULong(),e.language=r.parseULong();var n;e.groupCount=n=r.parseULong(),e.glyphIndexMap={};for(var a=0;a<n;a+=1)for(var u=r.parseULong(),o=r.parseULong(),h=r.parseULong(),g=u;g<=o;g+=1)e.glyphIndexMap[g]=h,h++}function Hl(e,r,n,a,u){e.length=r.parseUShort(),e.language=r.parseUShort();var o;e.segCount=o=r.parseUShort()>>1,r.skip("uShort",3),e.glyphIndexMap={};for(var h=new we.Parser(n,a+u+14),g=new we.Parser(n,a+u+16+o*2),d=new we.Parser(n,a+u+16+o*4),T=new we.Parser(n,a+u+16+o*6),k=a+u+16+o*8,R=0;R<o-1;R+=1)for(var D=void 0,A=h.parseUShort(),V=g.parseUShort(),N=d.parseShort(),K=T.parseUShort(),j=V;j<=A;j+=1)K!==0?(k=T.offset+T.relativeOffset-2,k+=K,k+=(j-V)*2,D=we.getUShort(n,k),D!==0&&(D=D+N&65535)):D=j+N&65535,e.glyphIndexMap[j]=D}function Vl(e,r){var n={};n.version=we.getUShort(e,r),Ae.argument(n.version===0,"cmap table version should be 0."),n.numTables=we.getUShort(e,r+2);for(var a=-1,u=n.numTables-1;u>=0;u-=1){var o=we.getUShort(e,r+4+u*8),h=we.getUShort(e,r+4+u*8+2);if(o===3&&(h===0||h===1||h===10)||o===0&&(h===0||h===1||h===2||h===3||h===4)){a=we.getULong(e,r+4+u*8+4);break}}if(a===-1)throw new Error("No valid cmap sub-tables found.");var g=new we.Parser(e,r+a);if(n.format=g.parseUShort(),n.format===12)Gl(n,g);else if(n.format===4)Hl(n,g,e,r,a);else throw new Error("Only format 4 and 12 cmap tables are supported (found format "+n.format+").");return n}function ql(e,r,n){e.segments.push({end:r,start:r,delta:-(r-n),offset:0,glyphIndex:n})}function Wl(e){e.segments.push({end:65535,start:65535,delta:1,offset:0})}function Zl(e){var r=!0,n;for(n=e.length-1;n>0;n-=1){var a=e.get(n);if(a.unicode>65535){console.log("Adding CMAP format 12 (needed!)"),r=!1;break}}var u=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:r?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:r?12:12+8}];r||(u=u.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),u=u.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var o=new be.Table("cmap",u);for(o.segments=[],n=0;n<e.length;n+=1){for(var h=e.get(n),g=0;g<h.unicodes.length;g+=1)ql(o,h.unicodes[g],n);o.segments=o.segments.sort(function(ie,te){return ie.start-te.start})}Wl(o);var d=o.segments.length,T=0,k=[],R=[],D=[],A=[],V=[],N=[];for(n=0;n<d;n+=1){var K=o.segments[n];K.end<=65535&&K.start<=65535?(k=k.concat({name:"end_"+n,type:"USHORT",value:K.end}),R=R.concat({name:"start_"+n,type:"USHORT",value:K.start}),D=D.concat({name:"idDelta_"+n,type:"SHORT",value:K.delta}),A=A.concat({name:"idRangeOffset_"+n,type:"USHORT",value:K.offset}),K.glyphId!==void 0&&(V=V.concat({name:"glyph_"+n,type:"USHORT",value:K.glyphId}))):T+=1,!r&&K.glyphIndex!==void 0&&(N=N.concat({name:"cmap12Start_"+n,type:"ULONG",value:K.start}),N=N.concat({name:"cmap12End_"+n,type:"ULONG",value:K.end}),N=N.concat({name:"cmap12Glyph_"+n,type:"ULONG",value:K.glyphIndex}))}if(o.segCountX2=(d-T)*2,o.searchRange=Math.pow(2,Math.floor(Math.log(d-T)/Math.log(2)))*2,o.entrySelector=Math.log(o.searchRange/2)/Math.log(2),o.rangeShift=o.segCountX2-o.searchRange,o.fields=o.fields.concat(k),o.fields.push({name:"reservedPad",type:"USHORT",value:0}),o.fields=o.fields.concat(R),o.fields=o.fields.concat(D),o.fields=o.fields.concat(A),o.fields=o.fields.concat(V),o.cmap4Length=14+k.length*2+2+R.length*2+D.length*2+A.length*2+V.length*2,!r){var j=16+N.length*4;o.cmap12Offset=12+2*2+4+o.cmap4Length,o.fields=o.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:j},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:N.length/3}]),o.fields=o.fields.concat(N)}return o}var uo={parse:Vl,make:Zl},Hn=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],Xl=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],Yl=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],Fr=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function lo(e){this.font=e}lo.prototype.charToGlyphIndex=function(e){var r=e.codePointAt(0),n=this.font.glyphs;if(n){for(var a=0;a<n.length;a+=1)for(var u=n.get(a),o=0;o<u.unicodes.length;o+=1)if(u.unicodes[o]===r)return a}return null};function fo(e){this.cmap=e}fo.prototype.charToGlyphIndex=function(e){return this.cmap.glyphIndexMap[e.codePointAt(0)]||0};function $n(e,r){this.encoding=e,this.charset=r}$n.prototype.charToGlyphIndex=function(e){var r=e.codePointAt(0),n=this.encoding[r];return this.charset.indexOf(n)};function aa(e){switch(e.version){case 1:this.names=Fr.slice();break;case 2:this.names=new Array(e.numberOfGlyphs);for(var r=0;r<e.numberOfGlyphs;r++)e.glyphNameIndex[r]<Fr.length?this.names[r]=Fr[e.glyphNameIndex[r]]:this.names[r]=e.names[e.glyphNameIndex[r]-Fr.length];break;case 2.5:this.names=new Array(e.numberOfGlyphs);for(var n=0;n<e.numberOfGlyphs;n++)this.names[n]=Fr[n+e.glyphNameIndex[n]];break;case 3:this.names=[];break;default:this.names=[];break}}aa.prototype.nameToGlyphIndex=function(e){return this.names.indexOf(e)};aa.prototype.glyphIndexToName=function(e){return this.names[e]};function jl(e){for(var r,n=e.tables.cmap.glyphIndexMap,a=Object.keys(n),u=0;u<a.length;u+=1){var o=a[u],h=n[o];r=e.glyphs.get(h),r.addUnicode(parseInt(o))}for(var g=0;g<e.glyphs.length;g+=1)r=e.glyphs.get(g),e.cffEncoding?e.isCIDFont?r.name="gid"+g:r.name=e.cffEncoding.charset[g]:e.glyphNames.names&&(r.name=e.glyphNames.glyphIndexToName(g))}function Ql(e){e._IndexToUnicodeMap={};for(var r=e.tables.cmap.glyphIndexMap,n=Object.keys(r),a=0;a<n.length;a+=1){var u=n[a],o=r[u];e._IndexToUnicodeMap[o]===void 0?e._IndexToUnicodeMap[o]={unicodes:[parseInt(u)]}:e._IndexToUnicodeMap[o].unicodes.push(parseInt(u))}}function Kl(e,r){r.lowMemory?Ql(e):jl(e)}function Jl(e,r,n,a,u){e.beginPath(),e.moveTo(r,n),e.lineTo(a,u),e.stroke()}var kr={line:Jl};function $l(e,r){var n=r||new lt;return{configurable:!0,get:function(){return typeof n=="function"&&(n=n()),n},set:function(a){n=a}}}function Ft(e){this.bindConstructorValues(e)}Ft.prototype.bindConstructorValues=function(e){this.index=e.index||0,this.name=e.name||null,this.unicode=e.unicode||void 0,this.unicodes=e.unicodes||e.unicode!==void 0?[e.unicode]:[],"xMin"in e&&(this.xMin=e.xMin),"yMin"in e&&(this.yMin=e.yMin),"xMax"in e&&(this.xMax=e.xMax),"yMax"in e&&(this.yMax=e.yMax),"advanceWidth"in e&&(this.advanceWidth=e.advanceWidth),Object.defineProperty(this,"path",$l(this,e.path))};Ft.prototype.addUnicode=function(e){this.unicodes.length===0&&(this.unicode=e),this.unicodes.push(e)};Ft.prototype.getBoundingBox=function(){return this.path.getBoundingBox()};Ft.prototype.getPath=function(e,r,n,a,u){e=e!==void 0?e:0,r=r!==void 0?r:0,n=n!==void 0?n:72;var o,h;a||(a={});var g=a.xScale,d=a.yScale;if(a.hinting&&u&&u.hinting&&(h=this.path&&u.hinting.exec(this,n)),h)o=u.hinting.getCommands(h),e=Math.round(e),r=Math.round(r),g=d=1;else{o=this.path.commands;var T=1/(this.path.unitsPerEm||1e3)*n;g===void 0&&(g=T),d===void 0&&(d=T)}for(var k=new lt,R=0;R<o.length;R+=1){var D=o[R];D.type==="M"?k.moveTo(e+D.x*g,r+-D.y*d):D.type==="L"?k.lineTo(e+D.x*g,r+-D.y*d):D.type==="Q"?k.quadraticCurveTo(e+D.x1*g,r+-D.y1*d,e+D.x*g,r+-D.y*d):D.type==="C"?k.curveTo(e+D.x1*g,r+-D.y1*d,e+D.x2*g,r+-D.y2*d,e+D.x*g,r+-D.y*d):D.type==="Z"&&k.closePath()}return k};Ft.prototype.getContours=function(){if(this.points===void 0)return[];for(var e=[],r=[],n=0;n<this.points.length;n+=1){var a=this.points[n];r.push(a),a.lastPointOfContour&&(e.push(r),r=[])}return Ae.argument(r.length===0,"There are still points left in the current contour."),e};Ft.prototype.getMetrics=function(){for(var e=this.path.commands,r=[],n=[],a=0;a<e.length;a+=1){var u=e[a];u.type!=="Z"&&(r.push(u.x),n.push(u.y)),(u.type==="Q"||u.type==="C")&&(r.push(u.x1),n.push(u.y1)),u.type==="C"&&(r.push(u.x2),n.push(u.y2))}var o={xMin:Math.min.apply(null,r),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,r),yMax:Math.max.apply(null,n),leftSideBearing:this.leftSideBearing};return isFinite(o.xMin)||(o.xMin=0),isFinite(o.xMax)||(o.xMax=this.advanceWidth),isFinite(o.yMin)||(o.yMin=0),isFinite(o.yMax)||(o.yMax=0),o.rightSideBearing=this.advanceWidth-o.leftSideBearing-(o.xMax-o.xMin),o};Ft.prototype.draw=function(e,r,n,a,u){this.getPath(r,n,a,u).draw(e)};Ft.prototype.drawPoints=function(e,r,n,a){function u(R,D,A,V){e.beginPath();for(var N=0;N<R.length;N+=1)e.moveTo(D+R[N].x*V,A+R[N].y*V),e.arc(D+R[N].x*V,A+R[N].y*V,2,0,Math.PI*2,!1);e.closePath(),e.fill()}r=r!==void 0?r:0,n=n!==void 0?n:0,a=a!==void 0?a:24;for(var o=1/this.path.unitsPerEm*a,h=[],g=[],d=this.path,T=0;T<d.commands.length;T+=1){var k=d.commands[T];k.x!==void 0&&h.push({x:k.x,y:-k.y}),k.x1!==void 0&&g.push({x:k.x1,y:-k.y1}),k.x2!==void 0&&g.push({x:k.x2,y:-k.y2})}e.fillStyle="blue",u(h,r,n,o),e.fillStyle="red",u(g,r,n,o)};Ft.prototype.drawMetrics=function(e,r,n,a){var u;r=r!==void 0?r:0,n=n!==void 0?n:0,a=a!==void 0?a:24,u=1/this.path.unitsPerEm*a,e.lineWidth=1,e.strokeStyle="black",kr.line(e,r,-1e4,r,1e4),kr.line(e,-1e4,n,1e4,n);var o=this.xMin||0,h=this.yMin||0,g=this.xMax||0,d=this.yMax||0,T=this.advanceWidth||0;e.strokeStyle="blue",kr.line(e,r+o*u,-1e4,r+o*u,1e4),kr.line(e,r+g*u,-1e4,r+g*u,1e4),kr.line(e,-1e4,n+-h*u,1e4,n+-h*u),kr.line(e,-1e4,n+-d*u,1e4,n+-d*u),e.strokeStyle="green",kr.line(e,r+T*u,-1e4,r+T*u,1e4)};function Nn(e,r,n){Object.defineProperty(e,r,{get:function(){return e.path,e[n]},set:function(a){e[n]=a},enumerable:!0,configurable:!0})}function sa(e,r){if(this.font=e,this.glyphs={},Array.isArray(r))for(var n=0;n<r.length;n++){var a=r[n];a.path.unitsPerEm=e.unitsPerEm,this.glyphs[n]=a}this.length=r&&r.length||0}sa.prototype.get=function(e){if(this.glyphs[e]===void 0){this.font._push(e),typeof this.glyphs[e]=="function"&&(this.glyphs[e]=this.glyphs[e]());var r=this.glyphs[e],n=this.font._IndexToUnicodeMap[e];if(n)for(var a=0;a<n.unicodes.length;a++)r.addUnicode(n.unicodes[a]);this.font.cffEncoding?this.font.isCIDFont?r.name="gid"+e:r.name=this.font.cffEncoding.charset[e]:this.font.glyphNames.names&&(r.name=this.font.glyphNames.glyphIndexToName(e)),this.glyphs[e].advanceWidth=this.font._hmtxTableData[e].advanceWidth,this.glyphs[e].leftSideBearing=this.font._hmtxTableData[e].leftSideBearing}else typeof this.glyphs[e]=="function"&&(this.glyphs[e]=this.glyphs[e]());return this.glyphs[e]};sa.prototype.push=function(e,r){this.glyphs[e]=r,this.length++};function ef(e,r){return new Ft({index:r,font:e})}function tf(e,r,n,a,u,o){return function(){var h=new Ft({index:r,font:e});return h.path=function(){n(h,a,u);var g=o(e.glyphs,h);return g.unitsPerEm=e.unitsPerEm,g},Nn(h,"xMin","_xMin"),Nn(h,"xMax","_xMax"),Nn(h,"yMin","_yMin"),Nn(h,"yMax","_yMax"),h}}function rf(e,r,n,a){return function(){var u=new Ft({index:r,font:e});return u.path=function(){var o=n(e,u,a);return o.unitsPerEm=e.unitsPerEm,o},u}}var Qt={GlyphSet:sa,glyphLoader:ef,ttfGlyphLoader:tf,cffGlyphLoader:rf};function ho(e,r){if(e===r)return!0;if(Array.isArray(e)&&Array.isArray(r)){if(e.length!==r.length)return!1;for(var n=0;n<e.length;n+=1)if(!ho(e[n],r[n]))return!1;return!0}else return!1}function Xi(e){var r;return e.length<1240?r=107:e.length<33900?r=1131:r=32768,r}function pr(e,r,n){var a=[],u=[],o=we.getCard16(e,r),h,g;if(o!==0){var d=we.getByte(e,r+2);h=r+(o+1)*d+2;for(var T=r+3,k=0;k<o+1;k+=1)a.push(we.getOffset(e,T,d)),T+=d;g=h+a[o]}else g=r+2;for(var R=0;R<a.length-1;R+=1){var D=we.getBytes(e,h+a[R],h+a[R+1]);n&&(D=n(D)),u.push(D)}return{objects:u,startOffset:r,endOffset:g}}function nf(e,r){var n=[],a=we.getCard16(e,r),u,o;if(a!==0){var h=we.getByte(e,r+2);u=r+(a+1)*h+2;for(var g=r+3,d=0;d<a+1;d+=1)n.push(we.getOffset(e,g,h)),g+=h;o=u+n[a]}else o=r+2;return{offsets:n,startOffset:r,endOffset:o}}function af(e,r,n,a,u){var o=we.getCard16(n,a),h=0;if(o!==0){var g=we.getByte(n,a+2);h=a+(o+1)*g+2}var d=we.getBytes(n,h+r[e],h+r[e+1]);return u&&(d=u(d)),d}function sf(e){for(var r="",n=15,a=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var u=e.parseByte(),o=u>>4,h=u&15;if(o===n||(r+=a[o],h===n))break;r+=a[h]}return parseFloat(r)}function of(e,r){var n,a,u,o;if(r===28)return n=e.parseByte(),a=e.parseByte(),n<<8|a;if(r===29)return n=e.parseByte(),a=e.parseByte(),u=e.parseByte(),o=e.parseByte(),n<<24|a<<16|u<<8|o;if(r===30)return sf(e);if(r>=32&&r<=246)return r-139;if(r>=247&&r<=250)return n=e.parseByte(),(r-247)*256+n+108;if(r>=251&&r<=254)return n=e.parseByte(),-(r-251)*256-n-108;throw new Error("Invalid b0 "+r)}function uf(e){for(var r={},n=0;n<e.length;n+=1){var a=e[n][0],u=e[n][1],o=void 0;if(u.length===1?o=u[0]:o=u,r.hasOwnProperty(a)&&!isNaN(r[a]))throw new Error("Object "+r+" already has key "+a);r[a]=o}return r}function co(e,r,n){r=r!==void 0?r:0;var a=new we.Parser(e,r),u=[],o=[];for(n=n!==void 0?n:e.length;a.relativeOffset<n;){var h=a.parseByte();h<=21?(h===12&&(h=1200+a.parseByte()),u.push([h,o]),o=[]):o.push(of(a,h))}return uf(u)}function rn(e,r){return r<=390?r=Hn[r]:r=e[r-391],r}function po(e,r,n){for(var a={},u,o=0;o<r.length;o+=1){var h=r[o];if(Array.isArray(h.type)){var g=[];g.length=h.type.length;for(var d=0;d<h.type.length;d++)u=e[h.op]!==void 0?e[h.op][d]:void 0,u===void 0&&(u=h.value!==void 0&&h.value[d]!==void 0?h.value[d]:null),h.type[d]==="SID"&&(u=rn(n,u)),g[d]=u;a[h.name]=g}else u=e[h.op],u===void 0&&(u=h.value!==void 0?h.value:null),h.type==="SID"&&(u=rn(n,u)),a[h.name]=u}return a}function lf(e,r){var n={};return n.formatMajor=we.getCard8(e,r),n.formatMinor=we.getCard8(e,r+1),n.size=we.getCard8(e,r+2),n.offsetSize=we.getCard8(e,r+3),n.startOffset=r,n.endOffset=r+4,n}var go=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],vo=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function ff(e,r){var n=co(e,0,e.byteLength);return po(n,go,r)}function mo(e,r,n,a){var u=co(e,r,n);return po(u,vo,a)}function is(e,r,n,a){for(var u=[],o=0;o<n.length;o+=1){var h=new DataView(new Uint8Array(n[o]).buffer),g=ff(h,a);g._subrs=[],g._subrsBias=0,g._defaultWidthX=0,g._nominalWidthX=0;var d=g.private[0],T=g.private[1];if(d!==0&&T!==0){var k=mo(e,T+r,d,a);if(g._defaultWidthX=k.defaultWidthX,g._nominalWidthX=k.nominalWidthX,k.subrs!==0){var R=T+k.subrs,D=pr(e,R+r);g._subrs=D.objects,g._subrsBias=Xi(g._subrs)}g._privateDict=k}u.push(g)}return u}function hf(e,r,n,a){var u,o,h=new we.Parser(e,r);n-=1;var g=[".notdef"],d=h.parseCard8();if(d===0)for(var T=0;T<n;T+=1)u=h.parseSID(),g.push(rn(a,u));else if(d===1)for(;g.length<=n;){u=h.parseSID(),o=h.parseCard8();for(var k=0;k<=o;k+=1)g.push(rn(a,u)),u+=1}else if(d===2)for(;g.length<=n;){u=h.parseSID(),o=h.parseCard16();for(var R=0;R<=o;R+=1)g.push(rn(a,u)),u+=1}else throw new Error("Unknown charset format "+d);return g}function cf(e,r,n){var a,u={},o=new we.Parser(e,r),h=o.parseCard8();if(h===0)for(var g=o.parseCard8(),d=0;d<g;d+=1)a=o.parseCard8(),u[a]=d;else if(h===1){var T=o.parseCard8();a=1;for(var k=0;k<T;k+=1)for(var R=o.parseCard8(),D=o.parseCard8(),A=R;A<=R+D;A+=1)u[A]=a,a+=1}else throw new Error("Unknown encoding format "+h);return new $n(u,n)}function as(e,r,n){var a,u,o,h,g=new lt,d=[],T=0,k=!1,R=!1,D=0,A=0,V,N,K,j;if(e.isCIDFont){var ie=e.tables.cff.topDict._fdSelect[r.index],te=e.tables.cff.topDict._fdArray[ie];V=te._subrs,N=te._subrsBias,K=te._defaultWidthX,j=te._nominalWidthX}else V=e.tables.cff.topDict._subrs,N=e.tables.cff.topDict._subrsBias,K=e.tables.cff.topDict._defaultWidthX,j=e.tables.cff.topDict._nominalWidthX;var oe=K;function fe(xe,Re){R&&g.closePath(),g.moveTo(xe,Re),R=!0}function pe(){var xe;xe=d.length%2!==0,xe&&!k&&(oe=d.shift()+j),T+=d.length>>1,d.length=0,k=!0}function Ce(xe){for(var Re,Ke,Ze,Je,Ye,ge,Qe,ue,ze,We,Te,He,Ie=0;Ie<xe.length;){var Ve=xe[Ie];switch(Ie+=1,Ve){case 1:pe();break;case 3:pe();break;case 4:d.length>1&&!k&&(oe=d.shift()+j,k=!0),A+=d.pop(),fe(D,A);break;case 5:for(;d.length>0;)D+=d.shift(),A+=d.shift(),g.lineTo(D,A);break;case 6:for(;d.length>0&&(D+=d.shift(),g.lineTo(D,A),d.length!==0);)A+=d.shift(),g.lineTo(D,A);break;case 7:for(;d.length>0&&(A+=d.shift(),g.lineTo(D,A),d.length!==0);)D+=d.shift(),g.lineTo(D,A);break;case 8:for(;d.length>0;)a=D+d.shift(),u=A+d.shift(),o=a+d.shift(),h=u+d.shift(),D=o+d.shift(),A=h+d.shift(),g.curveTo(a,u,o,h,D,A);break;case 10:Ye=d.pop()+N,ge=V[Ye],ge&&Ce(ge);break;case 11:return;case 12:switch(Ve=xe[Ie],Ie+=1,Ve){case 35:a=D+d.shift(),u=A+d.shift(),o=a+d.shift(),h=u+d.shift(),Qe=o+d.shift(),ue=h+d.shift(),ze=Qe+d.shift(),We=ue+d.shift(),Te=ze+d.shift(),He=We+d.shift(),D=Te+d.shift(),A=He+d.shift(),d.shift(),g.curveTo(a,u,o,h,Qe,ue),g.curveTo(ze,We,Te,He,D,A);break;case 34:a=D+d.shift(),u=A,o=a+d.shift(),h=u+d.shift(),Qe=o+d.shift(),ue=h,ze=Qe+d.shift(),We=h,Te=ze+d.shift(),He=A,D=Te+d.shift(),g.curveTo(a,u,o,h,Qe,ue),g.curveTo(ze,We,Te,He,D,A);break;case 36:a=D+d.shift(),u=A+d.shift(),o=a+d.shift(),h=u+d.shift(),Qe=o+d.shift(),ue=h,ze=Qe+d.shift(),We=h,Te=ze+d.shift(),He=We+d.shift(),D=Te+d.shift(),g.curveTo(a,u,o,h,Qe,ue),g.curveTo(ze,We,Te,He,D,A);break;case 37:a=D+d.shift(),u=A+d.shift(),o=a+d.shift(),h=u+d.shift(),Qe=o+d.shift(),ue=h+d.shift(),ze=Qe+d.shift(),We=ue+d.shift(),Te=ze+d.shift(),He=We+d.shift(),Math.abs(Te-D)>Math.abs(He-A)?D=Te+d.shift():A=He+d.shift(),g.curveTo(a,u,o,h,Qe,ue),g.curveTo(ze,We,Te,He,D,A);break;default:console.log("Glyph "+r.index+": unknown operator "+1200+Ve),d.length=0}break;case 14:d.length>0&&!k&&(oe=d.shift()+j,k=!0),R&&(g.closePath(),R=!1);break;case 18:pe();break;case 19:case 20:pe(),Ie+=T+7>>3;break;case 21:d.length>2&&!k&&(oe=d.shift()+j,k=!0),A+=d.pop(),D+=d.pop(),fe(D,A);break;case 22:d.length>1&&!k&&(oe=d.shift()+j,k=!0),D+=d.pop(),fe(D,A);break;case 23:pe();break;case 24:for(;d.length>2;)a=D+d.shift(),u=A+d.shift(),o=a+d.shift(),h=u+d.shift(),D=o+d.shift(),A=h+d.shift(),g.curveTo(a,u,o,h,D,A);D+=d.shift(),A+=d.shift(),g.lineTo(D,A);break;case 25:for(;d.length>6;)D+=d.shift(),A+=d.shift(),g.lineTo(D,A);a=D+d.shift(),u=A+d.shift(),o=a+d.shift(),h=u+d.shift(),D=o+d.shift(),A=h+d.shift(),g.curveTo(a,u,o,h,D,A);break;case 26:for(d.length%2&&(D+=d.shift());d.length>0;)a=D,u=A+d.shift(),o=a+d.shift(),h=u+d.shift(),D=o,A=h+d.shift(),g.curveTo(a,u,o,h,D,A);break;case 27:for(d.length%2&&(A+=d.shift());d.length>0;)a=D+d.shift(),u=A,o=a+d.shift(),h=u+d.shift(),D=o+d.shift(),A=h,g.curveTo(a,u,o,h,D,A);break;case 28:Re=xe[Ie],Ke=xe[Ie+1],d.push((Re<<24|Ke<<16)>>16),Ie+=2;break;case 29:Ye=d.pop()+e.gsubrsBias,ge=e.gsubrs[Ye],ge&&Ce(ge);break;case 30:for(;d.length>0&&(a=D,u=A+d.shift(),o=a+d.shift(),h=u+d.shift(),D=o+d.shift(),A=h+(d.length===1?d.shift():0),g.curveTo(a,u,o,h,D,A),d.length!==0);)a=D+d.shift(),u=A,o=a+d.shift(),h=u+d.shift(),A=h+d.shift(),D=o+(d.length===1?d.shift():0),g.curveTo(a,u,o,h,D,A);break;case 31:for(;d.length>0&&(a=D+d.shift(),u=A,o=a+d.shift(),h=u+d.shift(),A=h+d.shift(),D=o+(d.length===1?d.shift():0),g.curveTo(a,u,o,h,D,A),d.length!==0);)a=D,u=A+d.shift(),o=a+d.shift(),h=u+d.shift(),D=o+d.shift(),A=h+(d.length===1?d.shift():0),g.curveTo(a,u,o,h,D,A);break;default:Ve<32?console.log("Glyph "+r.index+": unknown operator "+Ve):Ve<247?d.push(Ve-139):Ve<251?(Re=xe[Ie],Ie+=1,d.push((Ve-247)*256+Re+108)):Ve<255?(Re=xe[Ie],Ie+=1,d.push(-(Ve-251)*256-Re-108)):(Re=xe[Ie],Ke=xe[Ie+1],Ze=xe[Ie+2],Je=xe[Ie+3],Ie+=4,d.push((Re<<24|Ke<<16|Ze<<8|Je)/65536))}}}return Ce(n),r.advanceWidth=oe,g}function df(e,r,n,a){var u=[],o,h=new we.Parser(e,r),g=h.parseCard8();if(g===0)for(var d=0;d<n;d++){if(o=h.parseCard8(),o>=a)throw new Error("CFF table CID Font FDSelect has bad FD index value "+o+" (FD count "+a+")");u.push(o)}else if(g===3){var T=h.parseCard16(),k=h.parseCard16();if(k!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+k);for(var R,D=0;D<T;D++){if(o=h.parseCard8(),R=h.parseCard16(),o>=a)throw new Error("CFF table CID Font FDSelect has bad FD index value "+o+" (FD count "+a+")");if(R>n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+R);for(;k<R;k++)u.push(o);k=R}if(R!==n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+R)}else throw new Error("CFF Table CID Font FDSelect table has unsupported format "+g);return u}function pf(e,r,n,a){n.tables.cff={};var u=lf(e,r),o=pr(e,u.endOffset,we.bytesToString),h=pr(e,o.endOffset),g=pr(e,h.endOffset,we.bytesToString),d=pr(e,g.endOffset);n.gsubrs=d.objects,n.gsubrsBias=Xi(n.gsubrs);var T=is(e,r,h.objects,g.objects);if(T.length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+T.length);var k=T[0];if(n.tables.cff.topDict=k,k._privateDict&&(n.defaultWidthX=k._privateDict.defaultWidthX,n.nominalWidthX=k._privateDict.nominalWidthX),k.ros[0]!==void 0&&k.ros[1]!==void 0&&(n.isCIDFont=!0),n.isCIDFont){var R=k.fdArray,D=k.fdSelect;if(R===0||D===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");R+=r;var A=pr(e,R),V=is(e,r,A.objects,g.objects);k._fdArray=V,D+=r,k._fdSelect=df(e,D,n.numGlyphs,V.length)}var N=r+k.private[1],K=mo(e,N,k.private[0],g.objects);if(n.defaultWidthX=K.defaultWidthX,n.nominalWidthX=K.nominalWidthX,K.subrs!==0){var j=N+K.subrs,ie=pr(e,j);n.subrs=ie.objects,n.subrsBias=Xi(n.subrs)}else n.subrs=[],n.subrsBias=0;var te;a.lowMemory?(te=nf(e,r+k.charStrings),n.nGlyphs=te.offsets.length):(te=pr(e,r+k.charStrings),n.nGlyphs=te.objects.length);var oe=hf(e,r+k.charset,n.nGlyphs,g.objects);if(k.encoding===0?n.cffEncoding=new $n(Xl,oe):k.encoding===1?n.cffEncoding=new $n(Yl,oe):n.cffEncoding=cf(e,r+k.encoding,oe),n.encoding=n.encoding||n.cffEncoding,n.glyphs=new Qt.GlyphSet(n),a.lowMemory)n._push=function(Ce){var xe=af(Ce,te.offsets,e,r+k.charStrings);n.glyphs.push(Ce,Qt.cffGlyphLoader(n,Ce,as,xe))};else for(var fe=0;fe<n.nGlyphs;fe+=1){var pe=te.objects[fe];n.glyphs.push(fe,Qt.cffGlyphLoader(n,fe,as,pe))}}function _o(e,r){var n,a=Hn.indexOf(e);return a>=0&&(n=a),a=r.indexOf(e),a>=0?n=a+Hn.length:(n=Hn.length+r.length,r.push(e)),n}function gf(){return new be.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}])}function vf(e){var r=new be.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);r.names=[];for(var n=0;n<e.length;n+=1)r.names.push({name:"name_"+n,type:"NAME",value:e[n]});return r}function yo(e,r,n){for(var a={},u=0;u<e.length;u+=1){var o=e[u],h=r[o.name];h!==void 0&&!ho(h,o.value)&&(o.type==="SID"&&(h=_o(h,n)),a[o.op]={name:o.name,type:o.type,value:h})}return a}function ss(e,r){var n=new be.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=yo(go,e,r),n}function os(e){var r=new be.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return r.topDicts=[{name:"topDict_0",type:"TABLE",value:e}],r}function mf(e){var r=new be.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);r.strings=[];for(var n=0;n<e.length;n+=1)r.strings.push({name:"string_"+n,type:"STRING",value:e[n]});return r}function _f(){return new be.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}])}function yf(e,r){for(var n=new be.Record("Charsets",[{name:"format",type:"Card8",value:0}]),a=0;a<e.length;a+=1){var u=e[a],o=_o(u,r);n.fields.push({name:"glyph_"+a,type:"SID",value:o})}return n}function xf(e){var r=[],n=e.path;r.push({name:"width",type:"NUMBER",value:e.advanceWidth});for(var a=0,u=0,o=0;o<n.commands.length;o+=1){var h=void 0,g=void 0,d=n.commands[o];if(d.type==="Q"){var T=.3333333333333333,k=2/3;d={type:"C",x:d.x,y:d.y,x1:Math.round(T*a+k*d.x1),y1:Math.round(T*u+k*d.y1),x2:Math.round(T*d.x+k*d.x1),y2:Math.round(T*d.y+k*d.y1)}}if(d.type==="M")h=Math.round(d.x-a),g=Math.round(d.y-u),r.push({name:"dx",type:"NUMBER",value:h}),r.push({name:"dy",type:"NUMBER",value:g}),r.push({name:"rmoveto",type:"OP",value:21}),a=Math.round(d.x),u=Math.round(d.y);else if(d.type==="L")h=Math.round(d.x-a),g=Math.round(d.y-u),r.push({name:"dx",type:"NUMBER",value:h}),r.push({name:"dy",type:"NUMBER",value:g}),r.push({name:"rlineto",type:"OP",value:5}),a=Math.round(d.x),u=Math.round(d.y);else if(d.type==="C"){var R=Math.round(d.x1-a),D=Math.round(d.y1-u),A=Math.round(d.x2-d.x1),V=Math.round(d.y2-d.y1);h=Math.round(d.x-d.x2),g=Math.round(d.y-d.y2),r.push({name:"dx1",type:"NUMBER",value:R}),r.push({name:"dy1",type:"NUMBER",value:D}),r.push({name:"dx2",type:"NUMBER",value:A}),r.push({name:"dy2",type:"NUMBER",value:V}),r.push({name:"dx",type:"NUMBER",value:h}),r.push({name:"dy",type:"NUMBER",value:g}),r.push({name:"rrcurveto",type:"OP",value:8}),a=Math.round(d.x),u=Math.round(d.y)}}return r.push({name:"endchar",type:"OP",value:14}),r}function bf(e){for(var r=new be.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),n=0;n<e.length;n+=1){var a=e.get(n),u=xf(a);r.charStrings.push({name:a.name,type:"CHARSTRING",value:u})}return r}function Sf(e,r){var n=new be.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=yo(vo,e,r),n}function wf(e,r){for(var n=new be.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),a=1/r.unitsPerEm,u={version:r.version,fullName:r.fullName,familyName:r.familyName,weight:r.weightName,fontBBox:r.fontBBox||[0,0,0,0],fontMatrix:[a,0,0,a,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},o={},h=[],g,d=1;d<e.length;d+=1)g=e.get(d),h.push(g.name);var T=[];n.header=gf(),n.nameIndex=vf([r.postScriptName]);var k=ss(u,T);n.topDictIndex=os(k),n.globalSubrIndex=_f(),n.charsets=yf(h,T),n.charStringsIndex=bf(e),n.privateDict=Sf(o,T),n.stringIndex=mf(T);var R=n.header.sizeOf()+n.nameIndex.sizeOf()+n.topDictIndex.sizeOf()+n.stringIndex.sizeOf()+n.globalSubrIndex.sizeOf();return u.charset=R,u.encoding=0,u.charStrings=u.charset+n.charsets.sizeOf(),u.private[1]=u.charStrings+n.charStringsIndex.sizeOf(),k=ss(u,T),n.topDictIndex=os(k),n}var xo={parse:pf,make:wf};function Cf(e,r){var n={},a=new we.Parser(e,r);return n.version=a.parseVersion(),n.fontRevision=Math.round(a.parseFixed()*1e3)/1e3,n.checkSumAdjustment=a.parseULong(),n.magicNumber=a.parseULong(),Ae.argument(n.magicNumber===1594834165,"Font header has wrong magic number."),n.flags=a.parseUShort(),n.unitsPerEm=a.parseUShort(),n.created=a.parseLongDateTime(),n.modified=a.parseLongDateTime(),n.xMin=a.parseShort(),n.yMin=a.parseShort(),n.xMax=a.parseShort(),n.yMax=a.parseShort(),n.macStyle=a.parseUShort(),n.lowestRecPPEM=a.parseUShort(),n.fontDirectionHint=a.parseShort(),n.indexToLocFormat=a.parseShort(),n.glyphDataFormat=a.parseShort(),n}function Tf(e){var r=Math.round(new Date().getTime()/1e3)+2082844800,n=r;return e.createdTimestamp&&(n=e.createdTimestamp+2082844800),new be.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:n},{name:"modified",type:"LONGDATETIME",value:r},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],e)}var bo={parse:Cf,make:Tf};function kf(e,r){var n={},a=new we.Parser(e,r);return n.version=a.parseVersion(),n.ascender=a.parseShort(),n.descender=a.parseShort(),n.lineGap=a.parseShort(),n.advanceWidthMax=a.parseUShort(),n.minLeftSideBearing=a.parseShort(),n.minRightSideBearing=a.parseShort(),n.xMaxExtent=a.parseShort(),n.caretSlopeRise=a.parseShort(),n.caretSlopeRun=a.parseShort(),n.caretOffset=a.parseShort(),a.relativeOffset+=8,n.metricDataFormat=a.parseShort(),n.numberOfHMetrics=a.parseUShort(),n}function Ff(e){return new be.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],e)}var So={parse:kf,make:Ff};function Ef(e,r,n,a,u){for(var o,h,g=new we.Parser(e,r),d=0;d<a;d+=1){d<n&&(o=g.parseUShort(),h=g.parseShort());var T=u.get(d);T.advanceWidth=o,T.leftSideBearing=h}}function Af(e,r,n,a,u){e._hmtxTableData={};for(var o,h,g=new we.Parser(r,n),d=0;d<u;d+=1)d<a&&(o=g.parseUShort(),h=g.parseShort()),e._hmtxTableData[d]={advanceWidth:o,leftSideBearing:h}}function Of(e,r,n,a,u,o,h){h.lowMemory?Af(e,r,n,a,u):Ef(r,n,a,u,o)}function Pf(e){for(var r=new be.Table("hmtx",[]),n=0;n<e.length;n+=1){var a=e.get(n),u=a.advanceWidth||0,o=a.leftSideBearing||0;r.fields.push({name:"advanceWidth_"+n,type:"USHORT",value:u}),r.fields.push({name:"leftSideBearing_"+n,type:"SHORT",value:o})}return r}var wo={parse:Of,make:Pf};function Lf(e){for(var r=new be.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:e.length}]),n="",a=12+e.length*4,u=0;u<e.length;++u){var o=n.indexOf(e[u]);o<0&&(o=n.length,n+=e[u]),r.fields.push({name:"offset "+u,type:"USHORT",value:a+o}),r.fields.push({name:"length "+u,type:"USHORT",value:e[u].length})}return r.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),r}function If(e,r){var n=new we.Parser(e,r),a=n.parseULong();Ae.argument(a===1,"Unsupported ltag table version."),n.skip("uLong",1);for(var u=n.parseULong(),o=[],h=0;h<u;h++){for(var g="",d=r+n.parseUShort(),T=n.parseUShort(),k=d;k<d+T;++k)g+=String.fromCharCode(e.getInt8(k));o.push(g)}return o}var Co={make:Lf,parse:If};function Mf(e,r){var n={},a=new we.Parser(e,r);return n.version=a.parseVersion(),n.numGlyphs=a.parseUShort(),n.version===1&&(n.maxPoints=a.parseUShort(),n.maxContours=a.parseUShort(),n.maxCompositePoints=a.parseUShort(),n.maxCompositeContours=a.parseUShort(),n.maxZones=a.parseUShort(),n.maxTwilightPoints=a.parseUShort(),n.maxStorage=a.parseUShort(),n.maxFunctionDefs=a.parseUShort(),n.maxInstructionDefs=a.parseUShort(),n.maxStackElements=a.parseUShort(),n.maxSizeOfInstructions=a.parseUShort(),n.maxComponentElements=a.parseUShort(),n.maxComponentDepth=a.parseUShort()),n}function Uf(e){return new be.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:e}])}var To={parse:Mf,make:Uf},ko=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Fo={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Df={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},Eo={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function Rf(e,r,n){switch(e){case 0:if(r===65535)return"und";if(n)return n[r];break;case 1:return Fo[r];case 3:return Eo[r]}}var Yi="utf-16",Bf={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Nf={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function Ao(e,r,n){switch(e){case 0:return Yi;case 1:return Nf[n]||Bf[r];case 3:if(r===1||r===10)return Yi;break}}function zf(e,r,n){for(var a={},u=new we.Parser(e,r),o=u.parseUShort(),h=u.parseUShort(),g=u.offset+u.parseUShort(),d=0;d<h;d++){var T=u.parseUShort(),k=u.parseUShort(),R=u.parseUShort(),D=u.parseUShort(),A=ko[D]||D,V=u.parseUShort(),N=u.parseUShort(),K=Rf(T,R,n),j=Ao(T,k,R);if(j!==void 0&&K!==void 0){var ie=void 0;if(j===Yi?ie=Zr.UTF16(e,g+N,V):ie=Zr.MACSTRING(e,g+N,V,j),ie){var te=a[A];te===void 0&&(te=a[A]={}),te[K]=ie}}}return o===1&&u.parseUShort(),a}function Pi(e){var r={};for(var n in e)r[e[n]]=parseInt(n);return r}function us(e,r,n,a,u,o){return new be.Record("NameRecord",[{name:"platformID",type:"USHORT",value:e},{name:"encodingID",type:"USHORT",value:r},{name:"languageID",type:"USHORT",value:n},{name:"nameID",type:"USHORT",value:a},{name:"length",type:"USHORT",value:u},{name:"offset",type:"USHORT",value:o}])}function Gf(e,r){var n=e.length,a=r.length-n+1;e:for(var u=0;u<a;u++)for(;u<a;u++){for(var o=0;o<n;o++)if(r[u+o]!==e[o])continue e;return u}return-1}function ls(e,r){var n=Gf(e,r);if(n<0){n=r.length;for(var a=0,u=e.length;a<u;++a)r.push(e[a])}return n}function Hf(e,r){var n,a=[],u={},o=Pi(ko);for(var h in e){var g=o[h];if(g===void 0&&(g=h),n=parseInt(g),isNaN(n))throw new Error('Name table entry "'+h+'" does not exist, see nameTableNames for complete list.');u[n]=e[h],a.push(n)}for(var d=Pi(Fo),T=Pi(Eo),k=[],R=[],D=0;D<a.length;D++){n=a[D];var A=u[n];for(var V in A){var N=A[V],K=1,j=d[V],ie=Df[j],te=Ao(K,ie,j),oe=ve.MACSTRING(N,te);oe===void 0&&(K=0,j=r.indexOf(V),j<0&&(j=r.length,r.push(V)),ie=4,oe=ve.UTF16(N));var fe=ls(oe,R);k.push(us(K,ie,j,n,oe.length,fe));var pe=T[V];if(pe!==void 0){var Ce=ve.UTF16(N),xe=ls(Ce,R);k.push(us(3,1,pe,n,Ce.length,xe))}}}k.sort(function(Ze,Je){return Ze.platformID-Je.platformID||Ze.encodingID-Je.encodingID||Ze.languageID-Je.languageID||Ze.nameID-Je.nameID});for(var Re=new be.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:k.length},{name:"stringOffset",type:"USHORT",value:6+k.length*12}]),Ke=0;Ke<k.length;Ke++)Re.fields.push({name:"record_"+Ke,type:"RECORD",value:k[Ke]});return Re.fields.push({name:"strings",type:"LITERAL",value:R}),Re}var Oo={parse:zf,make:Hf},ji=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];function Vf(e){for(var r=0;r<ji.length;r+=1){var n=ji[r];if(e>=n.begin&&e<n.end)return r}return-1}function qf(e,r){var n={},a=new we.Parser(e,r);n.version=a.parseUShort(),n.xAvgCharWidth=a.parseShort(),n.usWeightClass=a.parseUShort(),n.usWidthClass=a.parseUShort(),n.fsType=a.parseUShort(),n.ySubscriptXSize=a.parseShort(),n.ySubscriptYSize=a.parseShort(),n.ySubscriptXOffset=a.parseShort(),n.ySubscriptYOffset=a.parseShort(),n.ySuperscriptXSize=a.parseShort(),n.ySuperscriptYSize=a.parseShort(),n.ySuperscriptXOffset=a.parseShort(),n.ySuperscriptYOffset=a.parseShort(),n.yStrikeoutSize=a.parseShort(),n.yStrikeoutPosition=a.parseShort(),n.sFamilyClass=a.parseShort(),n.panose=[];for(var u=0;u<10;u++)n.panose[u]=a.parseByte();return n.ulUnicodeRange1=a.parseULong(),n.ulUnicodeRange2=a.parseULong(),n.ulUnicodeRange3=a.parseULong(),n.ulUnicodeRange4=a.parseULong(),n.achVendID=String.fromCharCode(a.parseByte(),a.parseByte(),a.parseByte(),a.parseByte()),n.fsSelection=a.parseUShort(),n.usFirstCharIndex=a.parseUShort(),n.usLastCharIndex=a.parseUShort(),n.sTypoAscender=a.parseShort(),n.sTypoDescender=a.parseShort(),n.sTypoLineGap=a.parseShort(),n.usWinAscent=a.parseUShort(),n.usWinDescent=a.parseUShort(),n.version>=1&&(n.ulCodePageRange1=a.parseULong(),n.ulCodePageRange2=a.parseULong()),n.version>=2&&(n.sxHeight=a.parseShort(),n.sCapHeight=a.parseShort(),n.usDefaultChar=a.parseUShort(),n.usBreakChar=a.parseUShort(),n.usMaxContent=a.parseUShort()),n}function Wf(e){return new be.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],e)}var Qi={parse:qf,make:Wf,unicodeRanges:ji,getUnicodeRange:Vf};function Zf(e,r){var n={},a=new we.Parser(e,r);switch(n.version=a.parseVersion(),n.italicAngle=a.parseFixed(),n.underlinePosition=a.parseShort(),n.underlineThickness=a.parseShort(),n.isFixedPitch=a.parseULong(),n.minMemType42=a.parseULong(),n.maxMemType42=a.parseULong(),n.minMemType1=a.parseULong(),n.maxMemType1=a.parseULong(),n.version){case 1:n.names=Fr.slice();break;case 2:n.numberOfGlyphs=a.parseUShort(),n.glyphNameIndex=new Array(n.numberOfGlyphs);for(var u=0;u<n.numberOfGlyphs;u++)n.glyphNameIndex[u]=a.parseUShort();n.names=[];for(var o=0;o<n.numberOfGlyphs;o++)if(n.glyphNameIndex[o]>=Fr.length){var h=a.parseChar();n.names.push(a.parseString(h))}break;case 2.5:n.numberOfGlyphs=a.parseUShort(),n.offset=new Array(n.numberOfGlyphs);for(var g=0;g<n.numberOfGlyphs;g++)n.offset[g]=a.parseChar();break}return n}function Xf(){return new be.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}var Po={parse:Zf,make:Xf},Nt=new Array(9);Nt[1]=function(){var r=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:1,coverage:this.parsePointer(ee.coverage),deltaGlyphId:this.parseUShort()};if(n===2)return{substFormat:2,coverage:this.parsePointer(ee.coverage),substitute:this.parseOffset16List()};Ae.assert(!1,"0x"+r.toString(16)+": lookup type 1 format must be 1 or 2.")};Nt[2]=function(){var r=this.parseUShort();return Ae.argument(r===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:r,coverage:this.parsePointer(ee.coverage),sequences:this.parseListOfLists()}};Nt[3]=function(){var r=this.parseUShort();return Ae.argument(r===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:r,coverage:this.parsePointer(ee.coverage),alternateSets:this.parseListOfLists()}};Nt[4]=function(){var r=this.parseUShort();return Ae.argument(r===1,"GSUB ligature table identifier-format must be 1"),{substFormat:r,coverage:this.parsePointer(ee.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var qr={sequenceIndex:ee.uShort,lookupListIndex:ee.uShort};Nt[5]=function(){var r=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:n,coverage:this.parsePointer(ee.coverage),ruleSets:this.parseListOfLists(function(){var o=this.parseUShort(),h=this.parseUShort();return{input:this.parseUShortList(o-1),lookupRecords:this.parseRecordList(h,qr)}})};if(n===2)return{substFormat:n,coverage:this.parsePointer(ee.coverage),classDef:this.parsePointer(ee.classDef),classSets:this.parseListOfLists(function(){var o=this.parseUShort(),h=this.parseUShort();return{classes:this.parseUShortList(o-1),lookupRecords:this.parseRecordList(h,qr)}})};if(n===3){var a=this.parseUShort(),u=this.parseUShort();return{substFormat:n,coverages:this.parseList(a,ee.pointer(ee.coverage)),lookupRecords:this.parseRecordList(u,qr)}}Ae.assert(!1,"0x"+r.toString(16)+": lookup type 5 format must be 1, 2 or 3.")};Nt[6]=function(){var r=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:1,coverage:this.parsePointer(ee.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(qr)}})};if(n===2)return{substFormat:2,coverage:this.parsePointer(ee.coverage),backtrackClassDef:this.parsePointer(ee.classDef),inputClassDef:this.parsePointer(ee.classDef),lookaheadClassDef:this.parsePointer(ee.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(qr)}})};if(n===3)return{substFormat:3,backtrackCoverage:this.parseList(ee.pointer(ee.coverage)),inputCoverage:this.parseList(ee.pointer(ee.coverage)),lookaheadCoverage:this.parseList(ee.pointer(ee.coverage)),lookupRecords:this.parseRecordList(qr)};Ae.assert(!1,"0x"+r.toString(16)+": lookup type 6 format must be 1, 2 or 3.")};Nt[7]=function(){var r=this.parseUShort();Ae.argument(r===1,"GSUB Extension Substitution subtable identifier-format must be 1");var n=this.parseUShort(),a=new ee(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:n,extension:Nt[n].call(a)}};Nt[8]=function(){var r=this.parseUShort();return Ae.argument(r===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:r,coverage:this.parsePointer(ee.coverage),backtrackCoverage:this.parseList(ee.pointer(ee.coverage)),lookaheadCoverage:this.parseList(ee.pointer(ee.coverage)),substitutes:this.parseUShortList()}};function Yf(e,r){r=r||0;var n=new ee(e,r),a=n.parseVersion(1);return Ae.argument(a===1||a===1.1,"Unsupported GSUB table version."),a===1?{version:a,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(Nt)}:{version:a,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(Nt),variations:n.parseFeatureVariationsList()}}var Xr=new Array(9);Xr[1]=function(r){return r.substFormat===1?new be.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new be.Coverage(r.coverage)},{name:"deltaGlyphID",type:"USHORT",value:r.deltaGlyphId}]):new be.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new be.Coverage(r.coverage)}].concat(be.ushortList("substitute",r.substitute)))};Xr[2]=function(r){return Ae.assert(r.substFormat===1,"Lookup type 2 substFormat must be 1."),new be.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new be.Coverage(r.coverage)}].concat(be.tableList("seqSet",r.sequences,function(n){return new be.Table("sequenceSetTable",be.ushortList("sequence",n))})))};Xr[3]=function(r){return Ae.assert(r.substFormat===1,"Lookup type 3 substFormat must be 1."),new be.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new be.Coverage(r.coverage)}].concat(be.tableList("altSet",r.alternateSets,function(n){return new be.Table("alternateSetTable",be.ushortList("alternate",n))})))};Xr[4]=function(r){return Ae.assert(r.substFormat===1,"Lookup type 4 substFormat must be 1."),new be.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new be.Coverage(r.coverage)}].concat(be.tableList("ligSet",r.ligatureSets,function(n){return new be.Table("ligatureSetTable",be.tableList("ligature",n,function(a){return new be.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:a.ligGlyph}].concat(be.ushortList("component",a.components,a.components.length+1)))}))})))};Xr[6]=function(r){if(r.substFormat===1){var n=new be.Table("chainContextTable",[{name:"substFormat",type:"USHORT",value:r.substFormat},{name:"coverage",type:"TABLE",value:new be.Coverage(r.coverage)}].concat(be.tableList("chainRuleSet",r.chainRuleSets,function(o){return new be.Table("chainRuleSetTable",be.tableList("chainRule",o,function(h){var g=be.ushortList("backtrackGlyph",h.backtrack,h.backtrack.length).concat(be.ushortList("inputGlyph",h.input,h.input.length+1)).concat(be.ushortList("lookaheadGlyph",h.lookahead,h.lookahead.length)).concat(be.ushortList("substitution",[],h.lookupRecords.length));return h.lookupRecords.forEach(function(d,T){g=g.concat({name:"sequenceIndex"+T,type:"USHORT",value:d.sequenceIndex}).concat({name:"lookupListIndex"+T,type:"USHORT",value:d.lookupListIndex})}),new be.Table("chainRuleTable",g)}))})));return n}else if(r.substFormat===2)Ae.assert(!1,"lookup type 6 format 2 is not yet supported.");else if(r.substFormat===3){var a=[{name:"substFormat",type:"USHORT",value:r.substFormat}];a.push({name:"backtrackGlyphCount",type:"USHORT",value:r.backtrackCoverage.length}),r.backtrackCoverage.forEach(function(o,h){a.push({name:"backtrackCoverage"+h,type:"TABLE",value:new be.Coverage(o)})}),a.push({name:"inputGlyphCount",type:"USHORT",value:r.inputCoverage.length}),r.inputCoverage.forEach(function(o,h){a.push({name:"inputCoverage"+h,type:"TABLE",value:new be.Coverage(o)})}),a.push({name:"lookaheadGlyphCount",type:"USHORT",value:r.lookaheadCoverage.length}),r.lookaheadCoverage.forEach(function(o,h){a.push({name:"lookaheadCoverage"+h,type:"TABLE",value:new be.Coverage(o)})}),a.push({name:"substitutionCount",type:"USHORT",value:r.lookupRecords.length}),r.lookupRecords.forEach(function(o,h){a=a.concat({name:"sequenceIndex"+h,type:"USHORT",value:o.sequenceIndex}).concat({name:"lookupListIndex"+h,type:"USHORT",value:o.lookupListIndex})});var u=new be.Table("chainContextTable",a);return u}Ae.assert(!1,"lookup type 6 format must be 1, 2 or 3.")};function jf(e){return new be.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new be.ScriptList(e.scripts)},{name:"features",type:"TABLE",value:new be.FeatureList(e.features)},{name:"lookups",type:"TABLE",value:new be.LookupList(e.lookups,Xr)}])}var Lo={parse:Yf,make:jf};function Qf(e,r){var n=new we.Parser(e,r),a=n.parseULong();Ae.argument(a===1,"Unsupported META table version."),n.parseULong(),n.parseULong();for(var u=n.parseULong(),o={},h=0;h<u;h++){var g=n.parseTag(),d=n.parseULong(),T=n.parseULong(),k=Zr.UTF8(e,r+d,T);o[g]=k}return o}function Kf(e){var r=Object.keys(e).length,n="",a=16+r*12,u=new be.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:a},{name:"numTags",type:"ULONG",value:r}]);for(var o in e){var h=n.length;n+=e[o],u.fields.push({name:"tag "+o,type:"TAG",value:o}),u.fields.push({name:"offset "+o,type:"ULONG",value:a+h}),u.fields.push({name:"length "+o,type:"ULONG",value:e[o].length})}return u.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),u}var Io={parse:Qf,make:Kf};function fs(e){return Math.log(e)/Math.log(2)|0}function oa(e){for(;e.length%4!==0;)e.push(0);for(var r=0,n=0;n<e.length;n+=4)r+=(e[n]<<24)+(e[n+1]<<16)+(e[n+2]<<8)+e[n+3];return r%=Math.pow(2,32),r}function hs(e,r,n,a){return new be.Record("Table Record",[{name:"tag",type:"TAG",value:e!==void 0?e:""},{name:"checkSum",type:"ULONG",value:r!==void 0?r:0},{name:"offset",type:"ULONG",value:n!==void 0?n:0},{name:"length",type:"ULONG",value:a!==void 0?a:0}])}function Mo(e){var r=new be.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);r.tables=e,r.numTables=e.length;var n=Math.pow(2,fs(r.numTables));r.searchRange=16*n,r.entrySelector=fs(n),r.rangeShift=r.numTables*16-r.searchRange;for(var a=[],u=[],o=r.sizeOf()+hs().sizeOf()*r.numTables;o%4!==0;)o+=1,u.push({name:"padding",type:"BYTE",value:0});for(var h=0;h<e.length;h+=1){var g=e[h];Ae.argument(g.tableName.length===4,"Table name"+g.tableName+" is invalid.");var d=g.sizeOf(),T=hs(g.tableName,oa(g.encode()),o,d);for(a.push({name:T.tag+" Table Record",type:"RECORD",value:T}),u.push({name:g.tableName+" table",type:"RECORD",value:g}),o+=d,Ae.argument(!isNaN(o),"Something went wrong calculating the offset.");o%4!==0;)o+=1,u.push({name:"padding",type:"BYTE",value:0})}return a.sort(function(k,R){return k.value.tag>R.value.tag?1:-1}),r.fields=r.fields.concat(a),r.fields=r.fields.concat(u),r}function cs(e,r,n){for(var a=0;a<r.length;a+=1){var u=e.charToGlyphIndex(r[a]);if(u>0){var o=e.glyphs.get(u);return o.getMetrics()}}return n}function Jf(e){for(var r=0,n=0;n<e.length;n+=1)r+=e[n];return r/e.length}function $f(e){for(var r=[],n=[],a=[],u=[],o=[],h=[],g=[],d,T=0,k=0,R=0,D=0,A=0,V=0;V<e.glyphs.length;V+=1){var N=e.glyphs.get(V),K=N.unicode|0;if(isNaN(N.advanceWidth))throw new Error("Glyph "+N.name+" ("+V+"): advanceWidth is not a number.");(d>K||d===void 0)&&K>0&&(d=K),T<K&&(T=K);var j=Qi.getUnicodeRange(K);if(j<32)k|=1<<j;else if(j<64)R|=1<<j-32;else if(j<96)D|=1<<j-64;else if(j<123)A|=1<<j-96;else throw new Error("Unicode ranges bits > 123 are reserved for internal usage");if(N.name!==".notdef"){var ie=N.getMetrics();r.push(ie.xMin),n.push(ie.yMin),a.push(ie.xMax),u.push(ie.yMax),h.push(ie.leftSideBearing),g.push(ie.rightSideBearing),o.push(N.advanceWidth)}}var te={xMin:Math.min.apply(null,r),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,a),yMax:Math.max.apply(null,u),advanceWidthMax:Math.max.apply(null,o),advanceWidthAvg:Jf(o),minLeftSideBearing:Math.min.apply(null,h),maxLeftSideBearing:Math.max.apply(null,h),minRightSideBearing:Math.min.apply(null,g)};te.ascender=e.ascender,te.descender=e.descender;var oe=bo.make({flags:3,unitsPerEm:e.unitsPerEm,xMin:te.xMin,yMin:te.yMin,xMax:te.xMax,yMax:te.yMax,lowestRecPPEM:3,createdTimestamp:e.createdTimestamp}),fe=So.make({ascender:te.ascender,descender:te.descender,advanceWidthMax:te.advanceWidthMax,minLeftSideBearing:te.minLeftSideBearing,minRightSideBearing:te.minRightSideBearing,xMaxExtent:te.maxLeftSideBearing+(te.xMax-te.xMin),numberOfHMetrics:e.glyphs.length}),pe=To.make(e.glyphs.length),Ce=Qi.make(Object.assign({xAvgCharWidth:Math.round(te.advanceWidthAvg),usFirstCharIndex:d,usLastCharIndex:T,ulUnicodeRange1:k,ulUnicodeRange2:R,ulUnicodeRange3:D,ulUnicodeRange4:A,sTypoAscender:te.ascender,sTypoDescender:te.descender,sTypoLineGap:0,usWinAscent:te.yMax,usWinDescent:Math.abs(te.yMin),ulCodePageRange1:1,sxHeight:cs(e,"xyvw",{yMax:Math.round(te.ascender/2)}).yMax,sCapHeight:cs(e,"HIKLEFJMNTZBDPRAGOQSUVWXY",te).yMax,usDefaultChar:e.hasChar(" ")?32:0,usBreakChar:e.hasChar(" ")?32:0},e.tables.os2)),xe=wo.make(e.glyphs),Re=uo.make(e.glyphs),Ke=e.getEnglishName("fontFamily"),Ze=e.getEnglishName("fontSubfamily"),Je=Ke+" "+Ze,Ye=e.getEnglishName("postScriptName");Ye||(Ye=Ke.replace(/\s/g,"")+"-"+Ze);var ge={};for(var Qe in e.names)ge[Qe]=e.names[Qe];ge.uniqueID||(ge.uniqueID={en:e.getEnglishName("manufacturer")+":"+Je}),ge.postScriptName||(ge.postScriptName={en:Ye}),ge.preferredFamily||(ge.preferredFamily=e.names.fontFamily),ge.preferredSubfamily||(ge.preferredSubfamily=e.names.fontSubfamily);var ue=[],ze=Oo.make(ge,ue),We=ue.length>0?Co.make(ue):void 0,Te=Po.make(),He=xo.make(e.glyphs,{version:e.getEnglishName("version"),fullName:Je,familyName:Ke,weightName:Ze,postScriptName:Ye,unitsPerEm:e.unitsPerEm,fontBBox:[0,te.yMin,te.ascender,te.advanceWidthMax]}),Ie=e.metas&&Object.keys(e.metas).length>0?Io.make(e.metas):void 0,Ve=[oe,fe,pe,Ce,ze,Re,Te,He,xe];We&&Ve.push(We),e.tables.gsub&&Ve.push(Lo.make(e.tables.gsub)),Ie&&Ve.push(Ie);for(var xt=Mo(Ve),yr=xt.encode(),$e=oa(yr),Pt=xt.fields,Lr=!1,or=0;or<Pt.length;or+=1)if(Pt[or].name==="head table"){Pt[or].value.checkSumAdjustment=2981146554-$e,Lr=!0;break}if(!Lr)throw new Error("Could not find head table with checkSum to adjust.");return xt}var eh={make:Mo,fontToTable:$f,computeCheckSum:oa};function Li(e,r){for(var n=0,a=e.length-1;n<=a;){var u=n+a>>>1,o=e[u].tag;if(o===r)return u;o<r?n=u+1:a=u-1}return-n-1}function ds(e,r){for(var n=0,a=e.length-1;n<=a;){var u=n+a>>>1,o=e[u];if(o===r)return u;o<r?n=u+1:a=u-1}return-n-1}function ps(e,r){for(var n,a=0,u=e.length-1;a<=u;){var o=a+u>>>1;n=e[o];var h=n.start;if(h===r)return n;h<r?a=o+1:u=o-1}if(a>0)return n=e[a-1],r>n.end?0:n}function vn(e,r){this.font=e,this.tableName=r}vn.prototype={searchTag:Li,binSearch:ds,getTable:function(e){var r=this.font.tables[this.tableName];return!r&&e&&(r=this.font.tables[this.tableName]=this.createDefaultTable()),r},getScriptNames:function(){var e=this.getTable();return e?e.scripts.map(function(r){return r.tag}):[]},getDefaultScriptName:function(){var e=this.getTable();if(!!e){for(var r=!1,n=0;n<e.scripts.length;n++){var a=e.scripts[n].tag;if(a==="DFLT")return a;a==="latn"&&(r=!0)}if(r)return"latn"}},getScriptTable:function(e,r){var n=this.getTable(r);if(n){e=e||"DFLT";var a=n.scripts,u=Li(n.scripts,e);if(u>=0)return a[u].script;if(r){var o={tag:e,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return a.splice(-1-u,0,o),o.script}}},getLangSysTable:function(e,r,n){var a=this.getScriptTable(e,n);if(a){if(!r||r==="dflt"||r==="DFLT")return a.defaultLangSys;var u=Li(a.langSysRecords,r);if(u>=0)return a.langSysRecords[u].langSys;if(n){var o={tag:r,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return a.langSysRecords.splice(-1-u,0,o),o.langSys}}},getFeatureTable:function(e,r,n,a){var u=this.getLangSysTable(e,r,a);if(u){for(var o,h=u.featureIndexes,g=this.font.tables[this.tableName].features,d=0;d<h.length;d++)if(o=g[h[d]],o.tag===n)return o.feature;if(a){var T=g.length;return Ae.assert(T===0||n>=g[T-1].tag,"Features must be added in alphabetical order."),o={tag:n,feature:{params:0,lookupListIndexes:[]}},g.push(o),h.push(T),o.feature}}},getLookupTables:function(e,r,n,a,u){var o=this.getFeatureTable(e,r,n,u),h=[];if(o){for(var g,d=o.lookupListIndexes,T=this.font.tables[this.tableName].lookups,k=0;k<d.length;k++)g=T[d[k]],g.lookupType===a&&h.push(g);if(h.length===0&&u){g={lookupType:a,lookupFlag:0,subtables:[],markFilteringSet:void 0};var R=T.length;return T.push(g),d.push(R),[g]}}return h},getGlyphClass:function(e,r){switch(e.format){case 1:return e.startGlyph<=r&&r<e.startGlyph+e.classes.length?e.classes[r-e.startGlyph]:0;case 2:var n=ps(e.ranges,r);return n?n.classId:0}},getCoverageIndex:function(e,r){switch(e.format){case 1:var n=ds(e.glyphs,r);return n>=0?n:-1;case 2:var a=ps(e.ranges,r);return a?a.index+r-a.start:-1}},expandCoverage:function(e){if(e.format===1)return e.glyphs;for(var r=[],n=e.ranges,a=0;a<n.length;a++)for(var u=n[a],o=u.start,h=u.end,g=o;g<=h;g++)r.push(g);return r}};function mn(e){vn.call(this,e,"gpos")}mn.prototype=vn.prototype;mn.prototype.init=function(){var e=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(e)};mn.prototype.getKerningValue=function(e,r,n){for(var a=0;a<e.length;a++)for(var u=e[a].subtables,o=0;o<u.length;o++){var h=u[o],g=this.getCoverageIndex(h.coverage,r);if(!(g<0))switch(h.posFormat){case 1:for(var d=h.pairSets[g],T=0;T<d.length;T++){var k=d[T];if(k.secondGlyph===n)return k.value1&&k.value1.xAdvance||0}break;case 2:var R=this.getGlyphClass(h.classDef1,r),D=this.getGlyphClass(h.classDef2,n),A=h.classRecords[R][D];return A.value1&&A.value1.xAdvance||0}}return 0};mn.prototype.getKerningTables=function(e,r){if(this.font.tables.gpos)return this.getLookupTables(e,r,"kern",2)};function Et(e){vn.call(this,e,"gsub")}function th(e,r){var n=e.length;if(n!==r.length)return!1;for(var a=0;a<n;a++)if(e[a]!==r[a])return!1;return!0}function ua(e,r,n){for(var a=e.subtables,u=0;u<a.length;u++){var o=a[u];if(o.substFormat===r)return o}if(n)return a.push(n),n}Et.prototype=vn.prototype;Et.prototype.createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}};Et.prototype.getSingle=function(e,r,n){for(var a=[],u=this.getLookupTables(r,n,e,1),o=0;o<u.length;o++)for(var h=u[o].subtables,g=0;g<h.length;g++){var d=h[g],T=this.expandCoverage(d.coverage),k=void 0;if(d.substFormat===1){var R=d.deltaGlyphId;for(k=0;k<T.length;k++){var D=T[k];a.push({sub:D,by:D+R})}}else{var A=d.substitute;for(k=0;k<T.length;k++)a.push({sub:T[k],by:A[k]})}}return a};Et.prototype.getMultiple=function(e,r,n){for(var a=[],u=this.getLookupTables(r,n,e,2),o=0;o<u.length;o++)for(var h=u[o].subtables,g=0;g<h.length;g++){var d=h[g],T=this.expandCoverage(d.coverage),k=void 0;for(k=0;k<T.length;k++){var R=T[k],D=d.sequences[k];a.push({sub:R,by:D})}}return a};Et.prototype.getAlternates=function(e,r,n){for(var a=[],u=this.getLookupTables(r,n,e,3),o=0;o<u.length;o++)for(var h=u[o].subtables,g=0;g<h.length;g++)for(var d=h[g],T=this.expandCoverage(d.coverage),k=d.alternateSets,R=0;R<T.length;R++)a.push({sub:T[R],by:k[R]});return a};Et.prototype.getLigatures=function(e,r,n){for(var a=[],u=this.getLookupTables(r,n,e,4),o=0;o<u.length;o++)for(var h=u[o].subtables,g=0;g<h.length;g++)for(var d=h[g],T=this.expandCoverage(d.coverage),k=d.ligatureSets,R=0;R<T.length;R++)for(var D=T[R],A=k[R],V=0;V<A.length;V++){var N=A[V];a.push({sub:[D].concat(N.components),by:N.ligGlyph})}return a};Et.prototype.addSingle=function(e,r,n,a){var u=this.getLookupTables(n,a,e,1,!0)[0],o=ua(u,2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});Ae.assert(o.coverage.format===1,"Single: unable to modify coverage table format "+o.coverage.format);var h=r.sub,g=this.binSearch(o.coverage.glyphs,h);g<0&&(g=-1-g,o.coverage.glyphs.splice(g,0,h),o.substitute.splice(g,0,0)),o.substitute[g]=r.by};Et.prototype.addMultiple=function(e,r,n,a){Ae.assert(r.by instanceof Array&&r.by.length>1,'Multiple: "by" must be an array of two or more ids');var u=this.getLookupTables(n,a,e,2,!0)[0],o=ua(u,1,{substFormat:1,coverage:{format:1,glyphs:[]},sequences:[]});Ae.assert(o.coverage.format===1,"Multiple: unable to modify coverage table format "+o.coverage.format);var h=r.sub,g=this.binSearch(o.coverage.glyphs,h);g<0&&(g=-1-g,o.coverage.glyphs.splice(g,0,h),o.sequences.splice(g,0,0)),o.sequences[g]=r.by};Et.prototype.addAlternate=function(e,r,n,a){var u=this.getLookupTables(n,a,e,3,!0)[0],o=ua(u,1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});Ae.assert(o.coverage.format===1,"Alternate: unable to modify coverage table format "+o.coverage.format);var h=r.sub,g=this.binSearch(o.coverage.glyphs,h);g<0&&(g=-1-g,o.coverage.glyphs.splice(g,0,h),o.alternateSets.splice(g,0,0)),o.alternateSets[g]=r.by};Et.prototype.addLigature=function(e,r,n,a){var u=this.getLookupTables(n,a,e,4,!0)[0],o=u.subtables[0];o||(o={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},u.subtables[0]=o),Ae.assert(o.coverage.format===1,"Ligature: unable to modify coverage table format "+o.coverage.format);var h=r.sub[0],g=r.sub.slice(1),d={ligGlyph:r.by,components:g},T=this.binSearch(o.coverage.glyphs,h);if(T>=0){for(var k=o.ligatureSets[T],R=0;R<k.length;R++)if(th(k[R].components,g))return;k.push(d)}else T=-1-T,o.coverage.glyphs.splice(T,0,h),o.ligatureSets.splice(T,0,[d])};Et.prototype.getFeature=function(e,r,n){if(/ss\d\d/.test(e))return this.getSingle(e,r,n);switch(e){case"aalt":case"salt":return this.getSingle(e,r,n).concat(this.getAlternates(e,r,n));case"dlig":case"liga":case"rlig":return this.getLigatures(e,r,n);case"ccmp":return this.getMultiple(e,r,n).concat(this.getLigatures(e,r,n));case"stch":return this.getMultiple(e,r,n)}};Et.prototype.add=function(e,r,n,a){if(/ss\d\d/.test(e))return this.addSingle(e,r,n,a);switch(e){case"aalt":case"salt":return typeof r.by=="number"?this.addSingle(e,r,n,a):this.addAlternate(e,r,n,a);case"dlig":case"liga":case"rlig":return this.addLigature(e,r,n,a);case"ccmp":return r.by instanceof Array?this.addMultiple(e,r,n,a):this.addLigature(e,r,n,a)}};function rh(){return typeof window!="undefined"}function Uo(e){for(var r=new ArrayBuffer(e.length),n=new Uint8Array(r),a=0;a<e.length;++a)n[a]=e[a];return r}function nh(e){for(var r=new Buffer(e.byteLength),n=new Uint8Array(e),a=0;a<r.length;++a)r[a]=n[a];return r}function tn(e,r){if(!e)throw r}function gs(e,r,n,a,u){var o;return(r&a)>0?(o=e.parseByte(),(r&u)===0&&(o=-o),o=n+o):(r&u)>0?o=n:o=n+e.parseShort(),o}function Do(e,r,n){var a=new we.Parser(r,n);e.numberOfContours=a.parseShort(),e._xMin=a.parseShort(),e._yMin=a.parseShort(),e._xMax=a.parseShort(),e._yMax=a.parseShort();var u,o;if(e.numberOfContours>0){for(var h=e.endPointIndices=[],g=0;g<e.numberOfContours;g+=1)h.push(a.parseUShort());e.instructionLength=a.parseUShort(),e.instructions=[];for(var d=0;d<e.instructionLength;d+=1)e.instructions.push(a.parseByte());var T=h[h.length-1]+1;u=[];for(var k=0;k<T;k+=1)if(o=a.parseByte(),u.push(o),(o&8)>0)for(var R=a.parseByte(),D=0;D<R;D+=1)u.push(o),k+=1;if(Ae.argument(u.length===T,"Bad flags."),h.length>0){var A=[],V;if(T>0){for(var N=0;N<T;N+=1)o=u[N],V={},V.onCurve=!!(o&1),V.lastPointOfContour=h.indexOf(N)>=0,A.push(V);for(var K=0,j=0;j<T;j+=1)o=u[j],V=A[j],V.x=gs(a,o,K,2,16),K=V.x;for(var ie=0,te=0;te<T;te+=1)o=u[te],V=A[te],V.y=gs(a,o,ie,4,32),ie=V.y}e.points=A}else e.points=[]}else if(e.numberOfContours===0)e.points=[];else{e.isComposite=!0,e.points=[],e.components=[];for(var oe=!0;oe;){u=a.parseUShort();var fe={glyphIndex:a.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(u&1)>0?(u&2)>0?(fe.dx=a.parseShort(),fe.dy=a.parseShort()):fe.matchedPoints=[a.parseUShort(),a.parseUShort()]:(u&2)>0?(fe.dx=a.parseChar(),fe.dy=a.parseChar()):fe.matchedPoints=[a.parseByte(),a.parseByte()],(u&8)>0?fe.xScale=fe.yScale=a.parseF2Dot14():(u&64)>0?(fe.xScale=a.parseF2Dot14(),fe.yScale=a.parseF2Dot14()):(u&128)>0&&(fe.xScale=a.parseF2Dot14(),fe.scale01=a.parseF2Dot14(),fe.scale10=a.parseF2Dot14(),fe.yScale=a.parseF2Dot14()),e.components.push(fe),oe=!!(u&32)}if(u&256){e.instructionLength=a.parseUShort(),e.instructions=[];for(var pe=0;pe<e.instructionLength;pe+=1)e.instructions.push(a.parseByte())}}}function Ii(e,r){for(var n=[],a=0;a<e.length;a+=1){var u=e[a],o={x:r.xScale*u.x+r.scale01*u.y+r.dx,y:r.scale10*u.x+r.yScale*u.y+r.dy,onCurve:u.onCurve,lastPointOfContour:u.lastPointOfContour};n.push(o)}return n}function ih(e){for(var r=[],n=[],a=0;a<e.length;a+=1){var u=e[a];n.push(u),u.lastPointOfContour&&(r.push(n),n=[])}return Ae.argument(n.length===0,"There are still points left in the current contour."),r}function Ro(e){var r=new lt;if(!e)return r;for(var n=ih(e),a=0;a<n.length;++a){var u=n[a],o=null,h=u[u.length-1],g=u[0];if(h.onCurve)r.moveTo(h.x,h.y);else if(g.onCurve)r.moveTo(g.x,g.y);else{var d={x:(h.x+g.x)*.5,y:(h.y+g.y)*.5};r.moveTo(d.x,d.y)}for(var T=0;T<u.length;++T)if(o=h,h=g,g=u[(T+1)%u.length],h.onCurve)r.lineTo(h.x,h.y);else{var k=g;o.onCurve||((h.x+o.x)*.5,(h.y+o.y)*.5),g.onCurve||(k={x:(h.x+g.x)*.5,y:(h.y+g.y)*.5}),r.quadraticCurveTo(h.x,h.y,k.x,k.y)}r.closePath()}return r}function Bo(e,r){if(r.isComposite)for(var n=0;n<r.components.length;n+=1){var a=r.components[n],u=e.get(a.glyphIndex);if(u.getPath(),u.points){var o=void 0;if(a.matchedPoints===void 0)o=Ii(u.points,a);else{if(a.matchedPoints[0]>r.points.length-1||a.matchedPoints[1]>u.points.length-1)throw Error("Matched points out of range in "+r.name);var h=r.points[a.matchedPoints[0]],g=u.points[a.matchedPoints[1]],d={xScale:a.xScale,scale01:a.scale01,scale10:a.scale10,yScale:a.yScale,dx:0,dy:0};g=Ii([g],d)[0],d.dx=h.x-g.x,d.dy=h.y-g.y,o=Ii(u.points,d)}r.points=r.points.concat(o)}}return Ro(r.points)}function ah(e,r,n,a){for(var u=new Qt.GlyphSet(a),o=0;o<n.length-1;o+=1){var h=n[o],g=n[o+1];h!==g?u.push(o,Qt.ttfGlyphLoader(a,o,Do,e,r+h,Bo)):u.push(o,Qt.glyphLoader(a,o))}return u}function sh(e,r,n,a){var u=new Qt.GlyphSet(a);return a._push=function(o){var h=n[o],g=n[o+1];h!==g?u.push(o,Qt.ttfGlyphLoader(a,o,Do,e,r+h,Bo)):u.push(o,Qt.glyphLoader(a,o))},u}function oh(e,r,n,a,u){return u.lowMemory?sh(e,r,n,a):ah(e,r,n,a)}var No={getPath:Ro,parse:oh},zo,Pr,Go,Ki;function Ho(e){this.font=e,this.getCommands=function(r){return No.getPath(r).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function uh(e){return e}function Vo(e){return Math.sign(e)*Math.round(Math.abs(e))}function lh(e){return Math.sign(e)*Math.round(Math.abs(e*2))/2}function fh(e){return Math.sign(e)*(Math.round(Math.abs(e)+.5)-.5)}function hh(e){return Math.sign(e)*Math.ceil(Math.abs(e))}function ch(e){return Math.sign(e)*Math.floor(Math.abs(e))}var qo=function(e){var r=this.srPeriod,n=this.srPhase,a=this.srThreshold,u=1;return e<0&&(e=-e,u=-1),e+=a-n,e=Math.trunc(e/r)*r,e+=n,e<0?n*u:e*u},jt={x:1,y:0,axis:"x",distance:function(e,r,n,a){return(n?e.xo:e.x)-(a?r.xo:r.x)},interpolate:function(e,r,n,a){var u,o,h,g,d,T,k;if(!a||a===this){if(u=e.xo-r.xo,o=e.xo-n.xo,d=r.x-r.xo,T=n.x-n.xo,h=Math.abs(u),g=Math.abs(o),k=h+g,k===0){e.x=e.xo+(d+T)/2;return}e.x=e.xo+(d*g+T*h)/k;return}if(u=a.distance(e,r,!0,!0),o=a.distance(e,n,!0,!0),d=a.distance(r,r,!1,!0),T=a.distance(n,n,!1,!0),h=Math.abs(u),g=Math.abs(o),k=h+g,k===0){jt.setRelative(e,e,(d+T)/2,a,!0);return}jt.setRelative(e,e,(d*g+T*h)/k,a,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(e,r,n,a,u){if(!a||a===this){e.x=(u?r.xo:r.x)+n;return}var o=u?r.xo:r.x,h=u?r.yo:r.y,g=o+n*a.x,d=h+n*a.y;e.x=g+(e.y-d)/a.normalSlope},slope:0,touch:function(e){e.xTouched=!0},touched:function(e){return e.xTouched},untouch:function(e){e.xTouched=!1}},rr={x:0,y:1,axis:"y",distance:function(e,r,n,a){return(n?e.yo:e.y)-(a?r.yo:r.y)},interpolate:function(e,r,n,a){var u,o,h,g,d,T,k;if(!a||a===this){if(u=e.yo-r.yo,o=e.yo-n.yo,d=r.y-r.yo,T=n.y-n.yo,h=Math.abs(u),g=Math.abs(o),k=h+g,k===0){e.y=e.yo+(d+T)/2;return}e.y=e.yo+(d*g+T*h)/k;return}if(u=a.distance(e,r,!0,!0),o=a.distance(e,n,!0,!0),d=a.distance(r,r,!1,!0),T=a.distance(n,n,!1,!0),h=Math.abs(u),g=Math.abs(o),k=h+g,k===0){rr.setRelative(e,e,(d+T)/2,a,!0);return}rr.setRelative(e,e,(d*g+T*h)/k,a,!0)},normalSlope:0,setRelative:function(e,r,n,a,u){if(!a||a===this){e.y=(u?r.yo:r.y)+n;return}var o=u?r.xo:r.x,h=u?r.yo:r.y,g=o+n*a.x,d=h+n*a.y;e.y=d+a.normalSlope*(e.x-g)},slope:Number.POSITIVE_INFINITY,touch:function(e){e.yTouched=!0},touched:function(e){return e.yTouched},untouch:function(e){e.yTouched=!1}};Object.freeze(jt);Object.freeze(rr);function _n(e,r){this.x=e,this.y=r,this.axis=void 0,this.slope=r/e,this.normalSlope=-e/r,Object.freeze(this)}_n.prototype.distance=function(e,r,n,a){return this.x*jt.distance(e,r,n,a)+this.y*rr.distance(e,r,n,a)};_n.prototype.interpolate=function(e,r,n,a){var u,o,h,g,d,T,k;if(h=a.distance(e,r,!0,!0),g=a.distance(e,n,!0,!0),u=a.distance(r,r,!1,!0),o=a.distance(n,n,!1,!0),d=Math.abs(h),T=Math.abs(g),k=d+T,k===0){this.setRelative(e,e,(u+o)/2,a,!0);return}this.setRelative(e,e,(u*T+o*d)/k,a,!0)};_n.prototype.setRelative=function(e,r,n,a,u){a=a||this;var o=u?r.xo:r.x,h=u?r.yo:r.y,g=o+n*a.x,d=h+n*a.y,T=a.normalSlope,k=this.slope,R=e.x,D=e.y;e.x=(k*R-T*g+d-D)/(k-T),e.y=k*(e.x-R)+D};_n.prototype.touch=function(e){e.xTouched=!0,e.yTouched=!0};function yn(e,r){var n=Math.sqrt(e*e+r*r);return e/=n,r/=n,e===1&&r===0?jt:e===0&&r===1?rr:new _n(e,r)}function ir(e,r,n,a){this.x=this.xo=Math.round(e*64)/64,this.y=this.yo=Math.round(r*64)/64,this.lastPointOfContour=n,this.onCurve=a,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}ir.prototype.nextTouched=function(e){for(var r=this.nextPointOnContour;!e.touched(r)&&r!==this;)r=r.nextPointOnContour;return r};ir.prototype.prevTouched=function(e){for(var r=this.prevPointOnContour;!e.touched(r)&&r!==this;)r=r.prevPointOnContour;return r};var pn=Object.freeze(new ir(0,0)),dh={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function gr(e,r){switch(this.env=e,this.stack=[],this.prog=r,e){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=jt,this.round=Vo}}Ho.prototype.exec=function(e,r){if(typeof r!="number")throw new Error("Point size is not a number!");if(!(this._errorState>2)){var n=this.font,a=this._prepState;if(!a||a.ppem!==r){var u=this._fpgmState;if(!u){gr.prototype=dh,u=this._fpgmState=new gr("fpgm",n.tables.fpgm),u.funcs=[],u.font=n,exports.DEBUG&&(console.log("---EXEC FPGM---"),u.step=-1);try{Pr(u)}catch(T){console.log("Hinting error in FPGM:"+T),this._errorState=3;return}}gr.prototype=u,a=this._prepState=new gr("prep",n.tables.prep),a.ppem=r;var o=n.tables.cvt;if(o)for(var h=a.cvt=new Array(o.length),g=r/n.unitsPerEm,d=0;d<o.length;d++)h[d]=o[d]*g;else a.cvt=[];exports.DEBUG&&(console.log("---EXEC PREP---"),a.step=-1);try{Pr(a)}catch(T){this._errorState<2&&console.log("Hinting error in PREP:"+T),this._errorState=2}}if(!(this._errorState>1))try{return Go(e,a)}catch(T){this._errorState<1&&(console.log("Hinting error:"+T),console.log("Note: further hinting errors are silenced")),this._errorState=1;return}}};Go=function(e,r){var n=r.ppem/r.font.unitsPerEm,a=n,u=e.components,o,h,g;if(gr.prototype=r,!u)g=new gr("glyf",e.instructions),exports.DEBUG&&(console.log("---EXEC GLYPH---"),g.step=-1),Ki(e,g,n,a),h=g.gZone;else{var d=r.font;h=[],o=[];for(var T=0;T<u.length;T++){var k=u[T],R=d.glyphs.get(k.glyphIndex);g=new gr("glyf",R.instructions),exports.DEBUG&&(console.log("---EXEC COMP "+T+"---"),g.step=-1),Ki(R,g,n,a);for(var D=Math.round(k.dx*n),A=Math.round(k.dy*a),V=g.gZone,N=g.contours,K=0;K<V.length;K++){var j=V[K];j.xTouched=j.yTouched=!1,j.xo=j.x=j.x+D,j.yo=j.y=j.y+A}var ie=h.length;h.push.apply(h,V);for(var te=0;te<N.length;te++)o.push(N[te]+ie)}e.instructions&&!g.inhibitGridFit&&(g=new gr("glyf",e.instructions),g.gZone=g.z0=g.z1=g.z2=h,g.contours=o,h.push(new ir(0,0),new ir(Math.round(e.advanceWidth*n),0)),exports.DEBUG&&(console.log("---EXEC COMPOSITE---"),g.step=-1),Pr(g),h.length-=2)}return h};Ki=function(e,r,n,a){for(var u=e.points||[],o=u.length,h=r.gZone=r.z0=r.z1=r.z2=[],g=r.contours=[],d,T=0;T<o;T++)d=u[T],h[T]=new ir(d.x*n,d.y*a,d.lastPointOfContour,d.onCurve);for(var k,R,D=0;D<o;D++)d=h[D],k||(k=d,g.push(D)),d.lastPointOfContour?(d.nextPointOnContour=k,k.prevPointOnContour=d,k=void 0):(R=h[D+1],d.nextPointOnContour=R,R.prevPointOnContour=d);if(!r.inhibitGridFit){if(exports.DEBUG){console.log("PROCESSING GLYPH",r.stack);for(var A=0;A<o;A++)console.log(A,h[A].x,h[A].y)}if(h.push(new ir(0,0),new ir(Math.round(e.advanceWidth*n),0)),Pr(r),h.length-=2,exports.DEBUG){console.log("FINISHED GLYPH",r.stack);for(var V=0;V<o;V++)console.log(V,h[V].x,h[V].y)}}};Pr=function(e){var r=e.prog;if(!!r){var n=r.length,a;for(e.ip=0;e.ip<n;e.ip++){if(exports.DEBUG&&e.step++,a=zo[r[e.ip]],!a)throw new Error("unknown instruction: 0x"+Number(r[e.ip]).toString(16));a(e)}}};function ti(e){for(var r=e.tZone=new Array(e.gZone.length),n=0;n<r.length;n++)r[n]=new ir(0,0)}function Wo(e,r){var n=e.prog,a=e.ip,u=1,o;do if(o=n[++a],o===88)u++;else if(o===89)u--;else if(o===64)a+=n[a+1]+1;else if(o===65)a+=2*n[a+1]+1;else if(o>=176&&o<=183)a+=o-176+1;else if(o>=184&&o<=191)a+=(o-184+1)*2;else if(r&&u===1&&o===27)break;while(u>0);e.ip=a}function vs(e,r){exports.DEBUG&&console.log(r.step,"SVTCA["+e.axis+"]"),r.fv=r.pv=r.dpv=e}function ms(e,r){exports.DEBUG&&console.log(r.step,"SPVTCA["+e.axis+"]"),r.pv=r.dpv=e}function _s(e,r){exports.DEBUG&&console.log(r.step,"SFVTCA["+e.axis+"]"),r.fv=e}function ys(e,r){var n=r.stack,a=n.pop(),u=n.pop(),o=r.z2[a],h=r.z1[u];exports.DEBUG&&console.log("SPVTL["+e+"]",a,u);var g,d;e?(g=o.y-h.y,d=h.x-o.x):(g=h.x-o.x,d=h.y-o.y),r.pv=r.dpv=yn(g,d)}function xs(e,r){var n=r.stack,a=n.pop(),u=n.pop(),o=r.z2[a],h=r.z1[u];exports.DEBUG&&console.log("SFVTL["+e+"]",a,u);var g,d;e?(g=o.y-h.y,d=h.x-o.x):(g=h.x-o.x,d=h.y-o.y),r.fv=yn(g,d)}function ph(e){var r=e.stack,n=r.pop(),a=r.pop();exports.DEBUG&&console.log(e.step,"SPVFS[]",n,a),e.pv=e.dpv=yn(a,n)}function gh(e){var r=e.stack,n=r.pop(),a=r.pop();exports.DEBUG&&console.log(e.step,"SPVFS[]",n,a),e.fv=yn(a,n)}function vh(e){var r=e.stack,n=e.pv;exports.DEBUG&&console.log(e.step,"GPV[]"),r.push(n.x*16384),r.push(n.y*16384)}function mh(e){var r=e.stack,n=e.fv;exports.DEBUG&&console.log(e.step,"GFV[]"),r.push(n.x*16384),r.push(n.y*16384)}function _h(e){e.fv=e.pv,exports.DEBUG&&console.log(e.step,"SFVTPV[]")}function yh(e){var r=e.stack,n=r.pop(),a=r.pop(),u=r.pop(),o=r.pop(),h=r.pop(),g=e.z0,d=e.z1,T=g[n],k=g[a],R=d[u],D=d[o],A=e.z2[h];exports.DEBUG&&console.log("ISECT[], ",n,a,u,o,h);var V=T.x,N=T.y,K=k.x,j=k.y,ie=R.x,te=R.y,oe=D.x,fe=D.y,pe=(V-K)*(te-fe)-(N-j)*(ie-oe),Ce=V*j-N*K,xe=ie*fe-te*oe;A.x=(Ce*(ie-oe)-xe*(V-K))/pe,A.y=(Ce*(te-fe)-xe*(N-j))/pe}function xh(e){e.rp0=e.stack.pop(),exports.DEBUG&&console.log(e.step,"SRP0[]",e.rp0)}function bh(e){e.rp1=e.stack.pop(),exports.DEBUG&&console.log(e.step,"SRP1[]",e.rp1)}function Sh(e){e.rp2=e.stack.pop(),exports.DEBUG&&console.log(e.step,"SRP2[]",e.rp2)}function wh(e){var r=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SZP0[]",r),e.zp0=r,r){case 0:e.tZone||ti(e),e.z0=e.tZone;break;case 1:e.z0=e.gZone;break;default:throw new Error("Invalid zone pointer")}}function Ch(e){var r=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SZP1[]",r),e.zp1=r,r){case 0:e.tZone||ti(e),e.z1=e.tZone;break;case 1:e.z1=e.gZone;break;default:throw new Error("Invalid zone pointer")}}function Th(e){var r=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SZP2[]",r),e.zp2=r,r){case 0:e.tZone||ti(e),e.z2=e.tZone;break;case 1:e.z2=e.gZone;break;default:throw new Error("Invalid zone pointer")}}function kh(e){var r=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SZPS[]",r),e.zp0=e.zp1=e.zp2=r,r){case 0:e.tZone||ti(e),e.z0=e.z1=e.z2=e.tZone;break;case 1:e.z0=e.z1=e.z2=e.gZone;break;default:throw new Error("Invalid zone pointer")}}function Fh(e){e.loop=e.stack.pop(),exports.DEBUG&&console.log(e.step,"SLOOP[]",e.loop)}function Eh(e){exports.DEBUG&&console.log(e.step,"RTG[]"),e.round=Vo}function Ah(e){exports.DEBUG&&console.log(e.step,"RTHG[]"),e.round=fh}function Oh(e){var r=e.stack.pop();exports.DEBUG&&console.log(e.step,"SMD[]",r),e.minDis=r/64}function Ph(e){exports.DEBUG&&console.log(e.step,"ELSE[]"),Wo(e,!1)}function Lh(e){var r=e.stack.pop();exports.DEBUG&&console.log(e.step,"JMPR[]",r),e.ip+=r-1}function Ih(e){var r=e.stack.pop();exports.DEBUG&&console.log(e.step,"SCVTCI[]",r),e.cvCutIn=r/64}function Mh(e){var r=e.stack;exports.DEBUG&&console.log(e.step,"DUP[]"),r.push(r[r.length-1])}function Mi(e){exports.DEBUG&&console.log(e.step,"POP[]"),e.stack.pop()}function Uh(e){exports.DEBUG&&console.log(e.step,"CLEAR[]"),e.stack.length=0}function Dh(e){var r=e.stack,n=r.pop(),a=r.pop();exports.DEBUG&&console.log(e.step,"SWAP[]"),r.push(n),r.push(a)}function Rh(e){var r=e.stack;exports.DEBUG&&console.log(e.step,"DEPTH[]"),r.push(r.length)}function Bh(e){var r=e.stack,n=r.pop(),a=r.pop();exports.DEBUG&&console.log(e.step,"LOOPCALL[]",n,a);var u=e.ip,o=e.prog;e.prog=e.funcs[n];for(var h=0;h<a;h++)Pr(e),exports.DEBUG&&console.log(++e.step,h+1<a?"next loopcall":"done loopcall",h);e.ip=u,e.prog=o}function Nh(e){var r=e.stack.pop();exports.DEBUG&&console.log(e.step,"CALL[]",r);var n=e.ip,a=e.prog;e.prog=e.funcs[r],Pr(e),e.ip=n,e.prog=a,exports.DEBUG&&console.log(++e.step,"returning from",r)}function zh(e){var r=e.stack,n=r.pop();exports.DEBUG&&console.log(e.step,"CINDEX[]",n),r.push(r[r.length-n])}function Gh(e){var r=e.stack,n=r.pop();exports.DEBUG&&console.log(e.step,"MINDEX[]",n),r.push(r.splice(r.length-n,1)[0])}function Hh(e){if(e.env!=="fpgm")throw new Error("FDEF not allowed here");var r=e.stack,n=e.prog,a=e.ip,u=r.pop(),o=a;for(exports.DEBUG&&console.log(e.step,"FDEF[]",u);n[++a]!==45;);e.ip=a,e.funcs[u]=n.slice(o+1,a)}function bs(e,r){var n=r.stack.pop(),a=r.z0[n],u=r.fv,o=r.pv;exports.DEBUG&&console.log(r.step,"MDAP["+e+"]",n);var h=o.distance(a,pn);e&&(h=r.round(h)),u.setRelative(a,pn,h,o),u.touch(a),r.rp0=r.rp1=n}function Ss(e,r){var n=r.z2,a=n.length-2,u,o,h;exports.DEBUG&&console.log(r.step,"IUP["+e.axis+"]");for(var g=0;g<a;g++)u=n[g],!e.touched(u)&&(o=u.prevTouched(e),o!==u&&(h=u.nextTouched(e),o===h&&e.setRelative(u,u,e.distance(o,o,!1,!0),e,!0),e.interpolate(u,o,h,e)))}function ws(e,r){for(var n=r.stack,a=e?r.rp1:r.rp2,u=(e?r.z0:r.z1)[a],o=r.fv,h=r.pv,g=r.loop,d=r.z2;g--;){var T=n.pop(),k=d[T],R=h.distance(u,u,!1,!0);o.setRelative(k,k,R,h),o.touch(k),exports.DEBUG&&console.log(r.step,(r.loop>1?"loop "+(r.loop-g)+": ":"")+"SHP["+(e?"rp1":"rp2")+"]",T)}r.loop=1}function Cs(e,r){var n=r.stack,a=e?r.rp1:r.rp2,u=(e?r.z0:r.z1)[a],o=r.fv,h=r.pv,g=n.pop(),d=r.z2[r.contours[g]],T=d;exports.DEBUG&&console.log(r.step,"SHC["+e+"]",g);var k=h.distance(u,u,!1,!0);do T!==u&&o.setRelative(T,T,k,h),T=T.nextPointOnContour;while(T!==d)}function Ts(e,r){var n=r.stack,a=e?r.rp1:r.rp2,u=(e?r.z0:r.z1)[a],o=r.fv,h=r.pv,g=n.pop();exports.DEBUG&&console.log(r.step,"SHZ["+e+"]",g);var d;switch(g){case 0:d=r.tZone;break;case 1:d=r.gZone;break;default:throw new Error("Invalid zone")}for(var T,k=h.distance(u,u,!1,!0),R=d.length-2,D=0;D<R;D++)T=d[D],o.setRelative(T,T,k,h)}function Vh(e){for(var r=e.stack,n=e.loop,a=e.fv,u=r.pop()/64,o=e.z2;n--;){var h=r.pop(),g=o[h];exports.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-n)+": ":"")+"SHPIX[]",h,u),a.setRelative(g,g,u),a.touch(g)}e.loop=1}function qh(e){for(var r=e.stack,n=e.rp1,a=e.rp2,u=e.loop,o=e.z0[n],h=e.z1[a],g=e.fv,d=e.dpv,T=e.z2;u--;){var k=r.pop(),R=T[k];exports.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-u)+": ":"")+"IP[]",k,n,"<->",a),g.interpolate(R,o,h,d),g.touch(R)}e.loop=1}function ks(e,r){var n=r.stack,a=n.pop()/64,u=n.pop(),o=r.z1[u],h=r.z0[r.rp0],g=r.fv,d=r.pv;g.setRelative(o,h,a,d),g.touch(o),exports.DEBUG&&console.log(r.step,"MSIRP["+e+"]",a,u),r.rp1=r.rp0,r.rp2=u,e&&(r.rp0=u)}function Wh(e){for(var r=e.stack,n=e.rp0,a=e.z0[n],u=e.loop,o=e.fv,h=e.pv,g=e.z1;u--;){var d=r.pop(),T=g[d];exports.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-u)+": ":"")+"ALIGNRP[]",d),o.setRelative(T,a,0,h),o.touch(T)}e.loop=1}function Zh(e){exports.DEBUG&&console.log(e.step,"RTDG[]"),e.round=lh}function Fs(e,r){var n=r.stack,a=n.pop(),u=n.pop(),o=r.z0[u],h=r.fv,g=r.pv,d=r.cvt[a];exports.DEBUG&&console.log(r.step,"MIAP["+e+"]",a,"(",d,")",u);var T=g.distance(o,pn);e&&(Math.abs(T-d)<r.cvCutIn&&(T=d),T=r.round(T)),h.setRelative(o,pn,T,g),r.zp0===0&&(o.xo=o.x,o.yo=o.y),h.touch(o),r.rp0=r.rp1=u}function Xh(e){var r=e.prog,n=e.ip,a=e.stack,u=r[++n];exports.DEBUG&&console.log(e.step,"NPUSHB[]",u);for(var o=0;o<u;o++)a.push(r[++n]);e.ip=n}function Yh(e){var r=e.ip,n=e.prog,a=e.stack,u=n[++r];exports.DEBUG&&console.log(e.step,"NPUSHW[]",u);for(var o=0;o<u;o++){var h=n[++r]<<8|n[++r];h&32768&&(h=-((h^65535)+1)),a.push(h)}e.ip=r}function jh(e){var r=e.stack,n=e.store;n||(n=e.store=[]);var a=r.pop(),u=r.pop();exports.DEBUG&&console.log(e.step,"WS",a,u),n[u]=a}function Qh(e){var r=e.stack,n=e.store,a=r.pop();exports.DEBUG&&console.log(e.step,"RS",a);var u=n&&n[a]||0;r.push(u)}function Kh(e){var r=e.stack,n=r.pop(),a=r.pop();exports.DEBUG&&console.log(e.step,"WCVTP",n,a),e.cvt[a]=n/64}function Jh(e){var r=e.stack,n=r.pop();exports.DEBUG&&console.log(e.step,"RCVT",n),r.push(e.cvt[n]*64)}function Es(e,r){var n=r.stack,a=n.pop(),u=r.z2[a];exports.DEBUG&&console.log(r.step,"GC["+e+"]",a),n.push(r.dpv.distance(u,pn,e,!1)*64)}function As(e,r){var n=r.stack,a=n.pop(),u=n.pop(),o=r.z1[a],h=r.z0[u],g=r.dpv.distance(h,o,e,e);exports.DEBUG&&console.log(r.step,"MD["+e+"]",a,u,"->",g),r.stack.push(Math.round(g*64))}function $h(e){exports.DEBUG&&console.log(e.step,"MPPEM[]"),e.stack.push(e.ppem)}function ec(e){exports.DEBUG&&console.log(e.step,"FLIPON[]"),e.autoFlip=!0}function tc(e){var r=e.stack,n=r.pop(),a=r.pop();exports.DEBUG&&console.log(e.step,"LT[]",n,a),r.push(a<n?1:0)}function rc(e){var r=e.stack,n=r.pop(),a=r.pop();exports.DEBUG&&console.log(e.step,"LTEQ[]",n,a),r.push(a<=n?1:0)}function nc(e){var r=e.stack,n=r.pop(),a=r.pop();exports.DEBUG&&console.log(e.step,"GT[]",n,a),r.push(a>n?1:0)}function ic(e){var r=e.stack,n=r.pop(),a=r.pop();exports.DEBUG&&console.log(e.step,"GTEQ[]",n,a),r.push(a>=n?1:0)}function ac(e){var r=e.stack,n=r.pop(),a=r.pop();exports.DEBUG&&console.log(e.step,"EQ[]",n,a),r.push(n===a?1:0)}function sc(e){var r=e.stack,n=r.pop(),a=r.pop();exports.DEBUG&&console.log(e.step,"NEQ[]",n,a),r.push(n!==a?1:0)}function oc(e){var r=e.stack,n=r.pop();exports.DEBUG&&console.log(e.step,"ODD[]",n),r.push(Math.trunc(n)%2?1:0)}function uc(e){var r=e.stack,n=r.pop();exports.DEBUG&&console.log(e.step,"EVEN[]",n),r.push(Math.trunc(n)%2?0:1)}function lc(e){var r=e.stack.pop();exports.DEBUG&&console.log(e.step,"IF[]",r),r||(Wo(e,!0),exports.DEBUG&&console.log(e.step,"EIF[]"))}function fc(e){exports.DEBUG&&console.log(e.step,"EIF[]")}function hc(e){var r=e.stack,n=r.pop(),a=r.pop();exports.DEBUG&&console.log(e.step,"AND[]",n,a),r.push(n&&a?1:0)}function cc(e){var r=e.stack,n=r.pop(),a=r.pop();exports.DEBUG&&console.log(e.step,"OR[]",n,a),r.push(n||a?1:0)}function dc(e){var r=e.stack,n=r.pop();exports.DEBUG&&console.log(e.step,"NOT[]",n),r.push(n?0:1)}function Ui(e,r){var n=r.stack,a=n.pop(),u=r.fv,o=r.pv,h=r.ppem,g=r.deltaBase+(e-1)*16,d=r.deltaShift,T=r.z0;exports.DEBUG&&console.log(r.step,"DELTAP["+e+"]",a,n);for(var k=0;k<a;k++){var R=n.pop(),D=n.pop(),A=g+((D&240)>>4);if(A===h){var V=(D&15)-8;V>=0&&V++,exports.DEBUG&&console.log(r.step,"DELTAPFIX",R,"by",V*d);var N=T[R];u.setRelative(N,N,V*d,o)}}}function pc(e){var r=e.stack,n=r.pop();exports.DEBUG&&console.log(e.step,"SDB[]",n),e.deltaBase=n}function gc(e){var r=e.stack,n=r.pop();exports.DEBUG&&console.log(e.step,"SDS[]",n),e.deltaShift=Math.pow(.5,n)}function vc(e){var r=e.stack,n=r.pop(),a=r.pop();exports.DEBUG&&console.log(e.step,"ADD[]",n,a),r.push(a+n)}function mc(e){var r=e.stack,n=r.pop(),a=r.pop();exports.DEBUG&&console.log(e.step,"SUB[]",n,a),r.push(a-n)}function _c(e){var r=e.stack,n=r.pop(),a=r.pop();exports.DEBUG&&console.log(e.step,"DIV[]",n,a),r.push(a*64/n)}function yc(e){var r=e.stack,n=r.pop(),a=r.pop();exports.DEBUG&&console.log(e.step,"MUL[]",n,a),r.push(a*n/64)}function xc(e){var r=e.stack,n=r.pop();exports.DEBUG&&console.log(e.step,"ABS[]",n),r.push(Math.abs(n))}function bc(e){var r=e.stack,n=r.pop();exports.DEBUG&&console.log(e.step,"NEG[]",n),r.push(-n)}function Sc(e){var r=e.stack,n=r.pop();exports.DEBUG&&console.log(e.step,"FLOOR[]",n),r.push(Math.floor(n/64)*64)}function wc(e){var r=e.stack,n=r.pop();exports.DEBUG&&console.log(e.step,"CEILING[]",n),r.push(Math.ceil(n/64)*64)}function zn(e,r){var n=r.stack,a=n.pop();exports.DEBUG&&console.log(r.step,"ROUND[]"),n.push(r.round(a/64)*64)}function Cc(e){var r=e.stack,n=r.pop(),a=r.pop();exports.DEBUG&&console.log(e.step,"WCVTF[]",n,a),e.cvt[a]=n*e.ppem/e.font.unitsPerEm}function Di(e,r){var n=r.stack,a=n.pop(),u=r.ppem,o=r.deltaBase+(e-1)*16,h=r.deltaShift;exports.DEBUG&&console.log(r.step,"DELTAC["+e+"]",a,n);for(var g=0;g<a;g++){var d=n.pop(),T=n.pop(),k=o+((T&240)>>4);if(k===u){var R=(T&15)-8;R>=0&&R++;var D=R*h;exports.DEBUG&&console.log(r.step,"DELTACFIX",d,"by",D),r.cvt[d]+=D}}}function Tc(e){var r=e.stack.pop();exports.DEBUG&&console.log(e.step,"SROUND[]",r),e.round=qo;var n;switch(r&192){case 0:n=.5;break;case 64:n=1;break;case 128:n=2;break;default:throw new Error("invalid SROUND value")}switch(e.srPeriod=n,r&48){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*n;break;case 32:e.srPhase=.5*n;break;case 48:e.srPhase=.75*n;break;default:throw new Error("invalid SROUND value")}r&=15,r===0?e.srThreshold=0:e.srThreshold=(r/8-.5)*n}function kc(e){var r=e.stack.pop();exports.DEBUG&&console.log(e.step,"S45ROUND[]",r),e.round=qo;var n;switch(r&192){case 0:n=Math.sqrt(2)/2;break;case 64:n=Math.sqrt(2);break;case 128:n=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(e.srPeriod=n,r&48){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*n;break;case 32:e.srPhase=.5*n;break;case 48:e.srPhase=.75*n;break;default:throw new Error("invalid S45ROUND value")}r&=15,r===0?e.srThreshold=0:e.srThreshold=(r/8-.5)*n}function Fc(e){exports.DEBUG&&console.log(e.step,"ROFF[]"),e.round=uh}function Ec(e){exports.DEBUG&&console.log(e.step,"RUTG[]"),e.round=hh}function Ac(e){exports.DEBUG&&console.log(e.step,"RDTG[]"),e.round=ch}function Oc(e){var r=e.stack.pop();exports.DEBUG&&console.log(e.step,"SCANCTRL[]",r)}function Os(e,r){var n=r.stack,a=n.pop(),u=n.pop(),o=r.z2[a],h=r.z1[u];exports.DEBUG&&console.log(r.step,"SDPVTL["+e+"]",a,u);var g,d;e?(g=o.y-h.y,d=h.x-o.x):(g=h.x-o.x,d=h.y-o.y),r.dpv=yn(g,d)}function Pc(e){var r=e.stack,n=r.pop(),a=0;exports.DEBUG&&console.log(e.step,"GETINFO[]",n),n&1&&(a=35),n&32&&(a|=4096),r.push(a)}function Lc(e){var r=e.stack,n=r.pop(),a=r.pop(),u=r.pop();exports.DEBUG&&console.log(e.step,"ROLL[]"),r.push(a),r.push(n),r.push(u)}function Ic(e){var r=e.stack,n=r.pop(),a=r.pop();exports.DEBUG&&console.log(e.step,"MAX[]",n,a),r.push(Math.max(a,n))}function Mc(e){var r=e.stack,n=r.pop(),a=r.pop();exports.DEBUG&&console.log(e.step,"MIN[]",n,a),r.push(Math.min(a,n))}function Uc(e){var r=e.stack.pop();exports.DEBUG&&console.log(e.step,"SCANTYPE[]",r)}function Dc(e){var r=e.stack.pop(),n=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"INSTCTRL[]",r,n),r){case 1:e.inhibitGridFit=!!n;return;case 2:e.ignoreCvt=!!n;return;default:throw new Error("invalid INSTCTRL[] selector")}}function cr(e,r){var n=r.stack,a=r.prog,u=r.ip;exports.DEBUG&&console.log(r.step,"PUSHB["+e+"]");for(var o=0;o<e;o++)n.push(a[++u]);r.ip=u}function dr(e,r){var n=r.ip,a=r.prog,u=r.stack;exports.DEBUG&&console.log(r.ip,"PUSHW["+e+"]");for(var o=0;o<e;o++){var h=a[++n]<<8|a[++n];h&32768&&(h=-((h^65535)+1)),u.push(h)}r.ip=n}function Se(e,r,n,a,u,o){var h=o.stack,g=e&&h.pop(),d=h.pop(),T=o.rp0,k=o.z0[T],R=o.z1[d],D=o.minDis,A=o.fv,V=o.dpv,N,K,j,ie;K=N=V.distance(R,k,!0,!0),j=K>=0?1:-1,K=Math.abs(K),e&&(ie=o.cvt[g],a&&Math.abs(K-ie)<o.cvCutIn&&(K=ie)),n&&K<D&&(K=D),a&&(K=o.round(K)),A.setRelative(R,k,j*K,V),A.touch(R),exports.DEBUG&&console.log(o.step,(e?"MIRP[":"MDRP[")+(r?"M":"m")+(n?">":"_")+(a?"R":"_")+(u===0?"Gr":u===1?"Bl":u===2?"Wh":"")+"]",e?g+"("+o.cvt[g]+","+ie+")":"",d,"(d =",N,"->",j*K,")"),o.rp1=o.rp0,o.rp2=d,r&&(o.rp0=d)}zo=[vs.bind(void 0,rr),vs.bind(void 0,jt),ms.bind(void 0,rr),ms.bind(void 0,jt),_s.bind(void 0,rr),_s.bind(void 0,jt),ys.bind(void 0,0),ys.bind(void 0,1),xs.bind(void 0,0),xs.bind(void 0,1),ph,gh,vh,mh,_h,yh,xh,bh,Sh,wh,Ch,Th,kh,Fh,Eh,Ah,Oh,Ph,Lh,Ih,void 0,void 0,Mh,Mi,Uh,Dh,Rh,zh,Gh,void 0,void 0,void 0,Bh,Nh,Hh,void 0,bs.bind(void 0,0),bs.bind(void 0,1),Ss.bind(void 0,rr),Ss.bind(void 0,jt),ws.bind(void 0,0),ws.bind(void 0,1),Cs.bind(void 0,0),Cs.bind(void 0,1),Ts.bind(void 0,0),Ts.bind(void 0,1),Vh,qh,ks.bind(void 0,0),ks.bind(void 0,1),Wh,Zh,Fs.bind(void 0,0),Fs.bind(void 0,1),Xh,Yh,jh,Qh,Kh,Jh,Es.bind(void 0,0),Es.bind(void 0,1),void 0,As.bind(void 0,0),As.bind(void 0,1),$h,void 0,ec,void 0,void 0,tc,rc,nc,ic,ac,sc,oc,uc,lc,fc,hc,cc,dc,Ui.bind(void 0,1),pc,gc,vc,mc,_c,yc,xc,bc,Sc,wc,zn.bind(void 0,0),zn.bind(void 0,1),zn.bind(void 0,2),zn.bind(void 0,3),void 0,void 0,void 0,void 0,Cc,Ui.bind(void 0,2),Ui.bind(void 0,3),Di.bind(void 0,1),Di.bind(void 0,2),Di.bind(void 0,3),Tc,kc,void 0,void 0,Fc,void 0,Ec,Ac,Mi,Mi,void 0,void 0,void 0,void 0,void 0,Oc,Os.bind(void 0,0),Os.bind(void 0,1),Pc,void 0,Lc,Ic,Mc,Uc,Dc,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,cr.bind(void 0,1),cr.bind(void 0,2),cr.bind(void 0,3),cr.bind(void 0,4),cr.bind(void 0,5),cr.bind(void 0,6),cr.bind(void 0,7),cr.bind(void 0,8),dr.bind(void 0,1),dr.bind(void 0,2),dr.bind(void 0,3),dr.bind(void 0,4),dr.bind(void 0,5),dr.bind(void 0,6),dr.bind(void 0,7),dr.bind(void 0,8),Se.bind(void 0,0,0,0,0,0),Se.bind(void 0,0,0,0,0,1),Se.bind(void 0,0,0,0,0,2),Se.bind(void 0,0,0,0,0,3),Se.bind(void 0,0,0,0,1,0),Se.bind(void 0,0,0,0,1,1),Se.bind(void 0,0,0,0,1,2),Se.bind(void 0,0,0,0,1,3),Se.bind(void 0,0,0,1,0,0),Se.bind(void 0,0,0,1,0,1),Se.bind(void 0,0,0,1,0,2),Se.bind(void 0,0,0,1,0,3),Se.bind(void 0,0,0,1,1,0),Se.bind(void 0,0,0,1,1,1),Se.bind(void 0,0,0,1,1,2),Se.bind(void 0,0,0,1,1,3),Se.bind(void 0,0,1,0,0,0),Se.bind(void 0,0,1,0,0,1),Se.bind(void 0,0,1,0,0,2),Se.bind(void 0,0,1,0,0,3),Se.bind(void 0,0,1,0,1,0),Se.bind(void 0,0,1,0,1,1),Se.bind(void 0,0,1,0,1,2),Se.bind(void 0,0,1,0,1,3),Se.bind(void 0,0,1,1,0,0),Se.bind(void 0,0,1,1,0,1),Se.bind(void 0,0,1,1,0,2),Se.bind(void 0,0,1,1,0,3),Se.bind(void 0,0,1,1,1,0),Se.bind(void 0,0,1,1,1,1),Se.bind(void 0,0,1,1,1,2),Se.bind(void 0,0,1,1,1,3),Se.bind(void 0,1,0,0,0,0),Se.bind(void 0,1,0,0,0,1),Se.bind(void 0,1,0,0,0,2),Se.bind(void 0,1,0,0,0,3),Se.bind(void 0,1,0,0,1,0),Se.bind(void 0,1,0,0,1,1),Se.bind(void 0,1,0,0,1,2),Se.bind(void 0,1,0,0,1,3),Se.bind(void 0,1,0,1,0,0),Se.bind(void 0,1,0,1,0,1),Se.bind(void 0,1,0,1,0,2),Se.bind(void 0,1,0,1,0,3),Se.bind(void 0,1,0,1,1,0),Se.bind(void 0,1,0,1,1,1),Se.bind(void 0,1,0,1,1,2),Se.bind(void 0,1,0,1,1,3),Se.bind(void 0,1,1,0,0,0),Se.bind(void 0,1,1,0,0,1),Se.bind(void 0,1,1,0,0,2),Se.bind(void 0,1,1,0,0,3),Se.bind(void 0,1,1,0,1,0),Se.bind(void 0,1,1,0,1,1),Se.bind(void 0,1,1,0,1,2),Se.bind(void 0,1,1,0,1,3),Se.bind(void 0,1,1,1,0,0),Se.bind(void 0,1,1,1,0,1),Se.bind(void 0,1,1,1,0,2),Se.bind(void 0,1,1,1,0,3),Se.bind(void 0,1,1,1,1,0),Se.bind(void 0,1,1,1,1,1),Se.bind(void 0,1,1,1,1,2),Se.bind(void 0,1,1,1,1,3)];function Yr(e){this.char=e,this.state={},this.activeState=null}function la(e,r,n){this.contextName=n,this.startIndex=e,this.endOffset=r}function Rc(e,r,n){this.contextName=e,this.openRange=null,this.ranges=[],this.checkStart=r,this.checkEnd=n}function zt(e,r){this.context=e,this.index=r,this.length=e.length,this.current=e[r],this.backtrack=e.slice(0,r),this.lookahead=e.slice(r+1)}function ri(e){this.eventId=e,this.subscribers=[]}function Bc(e){var r=this,n=["start","end","next","newToken","contextStart","contextEnd","insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD","updateContextsRanges"];n.forEach(function(u){Object.defineProperty(r.events,u,{value:new ri(u)})}),e&&n.forEach(function(u){var o=e[u];typeof o=="function"&&r.events[u].subscribe(o)});var a=["insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD"];a.forEach(function(u){r.events[u].subscribe(r.updateContextsRanges)})}function rt(e){this.tokens=[],this.registeredContexts={},this.contextCheckers=[],this.events={},this.registeredModifiers=[],Bc.call(this,e)}Yr.prototype.setState=function(e,r){return this.state[e]=r,this.activeState={key:e,value:this.state[e]},this.activeState};Yr.prototype.getState=function(e){return this.state[e]||null};rt.prototype.inboundIndex=function(e){return e>=0&&e<this.tokens.length};rt.prototype.composeRUD=function(e){var r=this,n=!0,a=e.map(function(o){return r[o[0]].apply(r,o.slice(1).concat(n))}),u=function(o){return typeof o=="object"&&o.hasOwnProperty("FAIL")};if(a.every(u))return{FAIL:"composeRUD: one or more operations hasn't completed successfully",report:a.filter(u)};this.dispatch("composeRUD",[a.filter(function(o){return!u(o)})])};rt.prototype.replaceRange=function(e,r,n,a){r=r!==null?r:this.tokens.length;var u=n.every(function(h){return h instanceof Yr});if(!isNaN(e)&&this.inboundIndex(e)&&u){var o=this.tokens.splice.apply(this.tokens,[e,r].concat(n));return a||this.dispatch("replaceToken",[e,r,n]),[o,n]}else return{FAIL:"replaceRange: invalid tokens or startIndex."}};rt.prototype.replaceToken=function(e,r,n){if(!isNaN(e)&&this.inboundIndex(e)&&r instanceof Yr){var a=this.tokens.splice(e,1,r);return n||this.dispatch("replaceToken",[e,r]),[a[0],r]}else return{FAIL:"replaceToken: invalid token or index."}};rt.prototype.removeRange=function(e,r,n){r=isNaN(r)?this.tokens.length:r;var a=this.tokens.splice(e,r);return n||this.dispatch("removeRange",[a,e,r]),a};rt.prototype.removeToken=function(e,r){if(!isNaN(e)&&this.inboundIndex(e)){var n=this.tokens.splice(e,1);return r||this.dispatch("removeToken",[n,e]),n}else return{FAIL:"removeToken: invalid token index."}};rt.prototype.insertToken=function(e,r,n){var a=e.every(function(u){return u instanceof Yr});return a?(this.tokens.splice.apply(this.tokens,[r,0].concat(e)),n||this.dispatch("insertToken",[e,r]),e):{FAIL:"insertToken: invalid token(s)."}};rt.prototype.registerModifier=function(e,r,n){this.events.newToken.subscribe(function(a,u){var o=[a,u],h=r===null||r.apply(this,o)===!0,g=[a,u];if(h){var d=n.apply(this,g);a.setState(e,d)}}),this.registeredModifiers.push(e)};ri.prototype.subscribe=function(e){return typeof e=="function"?this.subscribers.push(e)-1:{FAIL:"invalid '"+this.eventId+"' event handler"}};ri.prototype.unsubscribe=function(e){this.subscribers.splice(e,1)};zt.prototype.setCurrentIndex=function(e){this.index=e,this.current=this.context[e],this.backtrack=this.context.slice(0,e),this.lookahead=this.context.slice(e+1)};zt.prototype.get=function(e){switch(!0){case e===0:return this.current;case(e<0&&Math.abs(e)<=this.backtrack.length):return this.backtrack.slice(e)[0];case(e>0&&e<=this.lookahead.length):return this.lookahead[e-1];default:return null}};rt.prototype.rangeToText=function(e){if(e instanceof la)return this.getRangeTokens(e).map(function(r){return r.char}).join("")};rt.prototype.getText=function(){return this.tokens.map(function(e){return e.char}).join("")};rt.prototype.getContext=function(e){var r=this.registeredContexts[e];return r||null};rt.prototype.on=function(e,r){var n=this.events[e];return n?n.subscribe(r):null};rt.prototype.dispatch=function(e,r){var n=this,a=this.events[e];a instanceof ri&&a.subscribers.forEach(function(u){u.apply(n,r||[])})};rt.prototype.registerContextChecker=function(e,r,n){if(this.getContext(e))return{FAIL:"context name '"+e+"' is already registered."};if(typeof r!="function")return{FAIL:"missing context start check."};if(typeof n!="function")return{FAIL:"missing context end check."};var a=new Rc(e,r,n);return this.registeredContexts[e]=a,this.contextCheckers.push(a),a};rt.prototype.getRangeTokens=function(e){var r=e.startIndex+e.endOffset;return[].concat(this.tokens.slice(e.startIndex,r))};rt.prototype.getContextRanges=function(e){var r=this.getContext(e);return r?r.ranges:{FAIL:"context checker '"+e+"' is not registered."}};rt.prototype.resetContextsRanges=function(){var e=this.registeredContexts;for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];n.ranges=[]}};rt.prototype.updateContextsRanges=function(){this.resetContextsRanges();for(var e=this.tokens.map(function(a){return a.char}),r=0;r<e.length;r++){var n=new zt(e,r);this.runContextCheck(n)}this.dispatch("updateContextsRanges",[this.registeredContexts])};rt.prototype.setEndOffset=function(e,r){var n=this.getContext(r).openRange.startIndex,a=new la(n,e,r),u=this.getContext(r).ranges;return a.rangeId=r+"."+u.length,u.push(a),this.getContext(r).openRange=null,a};rt.prototype.runContextCheck=function(e){var r=this,n=e.index;this.contextCheckers.forEach(function(a){var u=a.contextName,o=r.getContext(u).openRange;if(!o&&a.checkStart(e)&&(o=new la(n,null,u),r.getContext(u).openRange=o,r.dispatch("contextStart",[u,n])),!!o&&a.checkEnd(e)){var h=n-o.startIndex+1,g=r.setEndOffset(h,u);r.dispatch("contextEnd",[u,g])}})};rt.prototype.tokenize=function(e){this.tokens=[],this.resetContextsRanges();var r=Array.from(e);this.dispatch("start");for(var n=0;n<r.length;n++){var a=r[n],u=new zt(r,n);this.dispatch("next",[u]),this.runContextCheck(u);var o=new Yr(a);this.tokens.push(o),this.dispatch("newToken",[o,u])}return this.dispatch("end",[this.tokens]),this.tokens};function vr(e){return/[\u0600-\u065F\u066A-\u06D2\u06FA-\u06FF]/.test(e)}function Zo(e){return/[\u0630\u0690\u0621\u0631\u0661\u0671\u0622\u0632\u0672\u0692\u06C2\u0623\u0673\u0693\u06C3\u0624\u0694\u06C4\u0625\u0675\u0695\u06C5\u06E5\u0676\u0696\u06C6\u0627\u0677\u0697\u06C7\u0648\u0688\u0698\u06C8\u0689\u0699\u06C9\u068A\u06CA\u066B\u068B\u06CB\u068C\u068D\u06CD\u06FD\u068E\u06EE\u06FE\u062F\u068F\u06CF\u06EF]/.test(e)}function mr(e){return/[\u0600-\u0605\u060C-\u060E\u0610-\u061B\u061E\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]/.test(e)}function Vn(e){return/[A-z]/.test(e)}function Nc(e){return/\s/.test(e)}function At(e){this.font=e,this.features={}}function Er(e){this.id=e.id,this.tag=e.tag,this.substitution=e.substitution}function xn(e,r){if(!e)return-1;switch(r.format){case 1:return r.glyphs.indexOf(e);case 2:for(var n=r.ranges,a=0;a<n.length;a++){var u=n[a];if(e>=u.start&&e<=u.end){var o=e-u.start;return u.index+o}}break;default:return-1}return-1}function zc(e,r){var n=xn(e,r.coverage);return n===-1?null:e+r.deltaGlyphId}function Gc(e,r){var n=xn(e,r.coverage);return n===-1?null:r.substitute[n]}function Ri(e,r){for(var n=[],a=0;a<e.length;a++){var u=e[a],o=r.current;o=Array.isArray(o)?o[0]:o;var h=xn(o,u);h!==-1&&n.push(h)}return n.length!==e.length?-1:n}function Hc(e,r){var n=r.inputCoverage.length+r.lookaheadCoverage.length+r.backtrackCoverage.length;if(e.context.length<n)return[];var a=Ri(r.inputCoverage,e);if(a===-1)return[];var u=r.inputCoverage.length-1;if(e.lookahead.length<r.lookaheadCoverage.length)return[];for(var o=e.lookahead.slice(u);o.length&&mr(o[0].char);)o.shift();var h=new zt(o,0),g=Ri(r.lookaheadCoverage,h),d=[].concat(e.backtrack);for(d.reverse();d.length&&mr(d[0].char);)d.shift();if(d.length<r.backtrackCoverage.length)return[];var T=new zt(d,0),k=Ri(r.backtrackCoverage,T),R=a.length===r.inputCoverage.length&&g.length===r.lookaheadCoverage.length&&k.length===r.backtrackCoverage.length,D=[];if(R)for(var A=0;A<r.lookupRecords.length;A++)for(var V=r.lookupRecords[A],N=V.lookupListIndex,K=this.getLookupByIndex(N),j=0;j<K.subtables.length;j++){var ie=K.subtables[j],te=this.getLookupMethod(K,ie),oe=this.getSubstitutionType(K,ie);if(oe==="12")for(var fe=0;fe<a.length;fe++){var pe=e.get(fe),Ce=te(pe);Ce&&D.push(Ce)}}return D}function Vc(e,r){var n=e.current,a=xn(n,r.coverage);if(a===-1)return null;for(var u,o=r.ligatureSets[a],h=0;h<o.length;h++){u=o[h];for(var g=0;g<u.components.length;g++){var d=e.lookahead[g],T=u.components[g];if(d!==T)break;if(g===u.components.length-1)return u}}return null}function qc(e,r){var n=xn(e,r.coverage);return n===-1?null:r.sequences[n]}At.prototype.getDefaultScriptFeaturesIndexes=function(){for(var e=this.font.tables.gsub.scripts,r=0;r<e.length;r++){var n=e[r];if(n.tag==="DFLT")return n.script.defaultLangSys.featureIndexes}return[]};At.prototype.getScriptFeaturesIndexes=function(e){var r=this.font.tables;if(!r.gsub)return[];if(!e)return this.getDefaultScriptFeaturesIndexes();for(var n=this.font.tables.gsub.scripts,a=0;a<n.length;a++){var u=n[a];if(u.tag===e&&u.script.defaultLangSys)return u.script.defaultLangSys.featureIndexes;var o=u.langSysRecords;if(o)for(var h=0;h<o.length;h++){var g=o[h];if(g.tag===e){var d=g.langSys;return d.featureIndexes}}}return this.getDefaultScriptFeaturesIndexes()};At.prototype.mapTagsToFeatures=function(e,r){for(var n={},a=0;a<e.length;a++){var u=e[a].tag,o=e[a].feature;n[u]=o}this.features[r].tags=n};At.prototype.getScriptFeatures=function(e){var r=this.features[e];if(this.features.hasOwnProperty(e))return r;var n=this.getScriptFeaturesIndexes(e);if(!n)return null;var a=this.font.tables.gsub;return r=n.map(function(u){return a.features[u]}),this.features[e]=r,this.mapTagsToFeatures(r,e),r};At.prototype.getSubstitutionType=function(e,r){var n=e.lookupType.toString(),a=r.substFormat.toString();return n+a};At.prototype.getLookupMethod=function(e,r){var n=this,a=this.getSubstitutionType(e,r);switch(a){case"11":return function(u){return zc.apply(n,[u,r])};case"12":return function(u){return Gc.apply(n,[u,r])};case"63":return function(u){return Hc.apply(n,[u,r])};case"41":return function(u){return Vc.apply(n,[u,r])};case"21":return function(u){return qc.apply(n,[u,r])};default:throw new Error("lookupType: "+e.lookupType+" - substFormat: "+r.substFormat+" is not yet supported")}};At.prototype.lookupFeature=function(e){var r=e.contextParams,n=r.index,a=this.getFeature({tag:e.tag,script:e.script});if(!a)return new Error("font '"+this.font.names.fullName.en+"' doesn't support feature '"+e.tag+"' for script '"+e.script+"'.");for(var u=this.getFeatureLookups(a),o=[].concat(r.context),h=0;h<u.length;h++)for(var g=u[h],d=this.getLookupSubtables(g),T=0;T<d.length;T++){var k=d[T],R=this.getSubstitutionType(g,k),D=this.getLookupMethod(g,k),A=void 0;switch(R){case"11":A=D(r.current),A&&o.splice(n,1,new Er({id:11,tag:e.tag,substitution:A}));break;case"12":A=D(r.current),A&&o.splice(n,1,new Er({id:12,tag:e.tag,substitution:A}));break;case"63":A=D(r),Array.isArray(A)&&A.length&&o.splice(n,1,new Er({id:63,tag:e.tag,substitution:A}));break;case"41":A=D(r),A&&o.splice(n,1,new Er({id:41,tag:e.tag,substitution:A}));break;case"21":A=D(r.current),A&&o.splice(n,1,new Er({id:21,tag:e.tag,substitution:A}));break}r=new zt(o,n),!(Array.isArray(A)&&!A.length)&&(A=null)}return o.length?o:null};At.prototype.supports=function(e){if(!e.script)return!1;this.getScriptFeatures(e.script);var r=this.features.hasOwnProperty(e.script);if(!e.tag)return r;var n=this.features[e.script].some(function(a){return a.tag===e.tag});return r&&n};At.prototype.getLookupSubtables=function(e){return e.subtables||null};At.prototype.getLookupByIndex=function(e){var r=this.font.tables.gsub.lookups;return r[e]||null};At.prototype.getFeatureLookups=function(e){return e.lookupListIndexes.map(this.getLookupByIndex.bind(this))};At.prototype.getFeature=function(r){if(!this.font)return{FAIL:"No font was found"};this.features.hasOwnProperty(r.script)||this.getScriptFeatures(r.script);var n=this.features[r.script];return n?n.tags[r.tag]?this.features[r.script].tags[r.tag]:null:{FAIL:"No feature for script "+r.script}};function Wc(e){var r=e.current,n=e.get(-1);return n===null&&vr(r)||!vr(n)&&vr(r)}function Zc(e){var r=e.get(1);return r===null||!vr(r)}var Xc={startCheck:Wc,endCheck:Zc};function Yc(e){var r=e.current,n=e.get(-1);return(vr(r)||mr(r))&&!vr(n)}function jc(e){var r=e.get(1);switch(!0){case r===null:return!0;case(!vr(r)&&!mr(r)):var n=Nc(r);if(!n)return!0;if(n){var a=!1;if(a=e.lookahead.some(function(u){return vr(u)||mr(u)}),!a)return!0}break;default:return!1}}var Qc={startCheck:Yc,endCheck:jc};function Kc(e,r,n){r[n].setState(e.tag,e.substitution)}function Jc(e,r,n){r[n].setState(e.tag,e.substitution)}function $c(e,r,n){e.substitution.forEach(function(a,u){var o=r[n+u];o.setState(e.tag,a)})}function e0(e,r,n){var a=r[n];a.setState(e.tag,e.substitution.ligGlyph);for(var u=e.substitution.components.length,o=0;o<u;o++)a=r[n+o+1],a.setState("deleted",!0)}var Ps={11:Kc,12:Jc,63:$c,41:e0};function fa(e,r,n){e instanceof Er&&Ps[e.id]&&Ps[e.id](e,r,n)}function t0(e){for(var r=[].concat(e.backtrack),n=r.length-1;n>=0;n--){var a=r[n],u=Zo(a),o=mr(a);if(!u&&!o)return!0;if(u)return!1}return!1}function r0(e){if(Zo(e.current))return!1;for(var r=0;r<e.lookahead.length;r++){var n=e.lookahead[r],a=mr(n);if(!a)return!0}return!1}function n0(e){var r=this,n="arab",a=this.featuresTags[n],u=this.tokenizer.getRangeTokens(e);if(u.length!==1){var o=new zt(u.map(function(g){return g.getState("glyphIndex")}),0),h=new zt(u.map(function(g){return g.char}),0);u.forEach(function(g,d){if(!mr(g.char)){o.setCurrentIndex(d),h.setCurrentIndex(d);var T=0;t0(h)&&(T|=1),r0(h)&&(T|=2);var k;switch(T){case 1:k="fina";break;case 2:k="init";break;case 3:k="medi";break}if(a.indexOf(k)!==-1){var R=r.query.lookupFeature({tag:k,script:n,contextParams:o});if(R instanceof Error)return console.info(R.message);R.forEach(function(D,A){D instanceof Er&&(fa(D,u,A),o.context[A]=D.substitution)})}}})}}function Ls(e,r){var n=e.map(function(a){return a.activeState.value});return new zt(n,r||0)}function i0(e){var r=this,n="arab",a=this.tokenizer.getRangeTokens(e),u=Ls(a);u.context.forEach(function(o,h){u.setCurrentIndex(h);var g=r.query.lookupFeature({tag:"rlig",script:n,contextParams:u});g.length&&(g.forEach(function(d){return fa(d,a,h)}),u=Ls(a))})}function a0(e){var r=e.current,n=e.get(-1);return n===null&&Vn(r)||!Vn(n)&&Vn(r)}function s0(e){var r=e.get(1);return r===null||!Vn(r)}var o0={startCheck:a0,endCheck:s0};function Is(e,r){var n=e.map(function(a){return a.activeState.value});return new zt(n,r||0)}function u0(e){var r=this,n="latn",a=this.tokenizer.getRangeTokens(e),u=Is(a);u.context.forEach(function(o,h){u.setCurrentIndex(h);var g=r.query.lookupFeature({tag:"liga",script:n,contextParams:u});g.length&&(g.forEach(function(d){return fa(d,a,h)}),u=Is(a))})}function qt(e){this.baseDir=e||"ltr",this.tokenizer=new rt,this.featuresTags={}}qt.prototype.setText=function(e){this.text=e};qt.prototype.contextChecks={latinWordCheck:o0,arabicWordCheck:Xc,arabicSentenceCheck:Qc};function Bi(e){var r=this.contextChecks[e+"Check"];return this.tokenizer.registerContextChecker(e,r.startCheck,r.endCheck)}function l0(){return Bi.call(this,"latinWord"),Bi.call(this,"arabicWord"),Bi.call(this,"arabicSentence"),this.tokenizer.tokenize(this.text)}function f0(){var e=this,r=this.tokenizer.getContextRanges("arabicSentence");r.forEach(function(n){var a=e.tokenizer.getRangeTokens(n);e.tokenizer.replaceRange(n.startIndex,n.endOffset,a.reverse())})}qt.prototype.registerFeatures=function(e,r){var n=this,a=r.filter(function(u){return n.query.supports({script:e,tag:u})});this.featuresTags.hasOwnProperty(e)?this.featuresTags[e]=this.featuresTags[e].concat(a):this.featuresTags[e]=a};qt.prototype.applyFeatures=function(e,r){if(!e)throw new Error("No valid font was provided to apply features");this.query||(this.query=new At(e));for(var n=0;n<r.length;n++){var a=r[n];!this.query.supports({script:a.script})||this.registerFeatures(a.script,a.tags)}};qt.prototype.registerModifier=function(e,r,n){this.tokenizer.registerModifier(e,r,n)};function ha(){if(this.tokenizer.registeredModifiers.indexOf("glyphIndex")===-1)throw new Error("glyphIndex modifier is required to apply arabic presentation features.")}function h0(){var e=this,r="arab";if(!!this.featuresTags.hasOwnProperty(r)){ha.call(this);var n=this.tokenizer.getContextRanges("arabicWord");n.forEach(function(a){n0.call(e,a)})}}function c0(){var e=this,r="arab";if(!!this.featuresTags.hasOwnProperty(r)){var n=this.featuresTags[r];if(n.indexOf("rlig")!==-1){ha.call(this);var a=this.tokenizer.getContextRanges("arabicWord");a.forEach(function(u){i0.call(e,u)})}}}function d0(){var e=this,r="latn";if(!!this.featuresTags.hasOwnProperty(r)){var n=this.featuresTags[r];if(n.indexOf("liga")!==-1){ha.call(this);var a=this.tokenizer.getContextRanges("latinWord");a.forEach(function(u){u0.call(e,u)})}}}qt.prototype.checkContextReady=function(e){return!!this.tokenizer.getContext(e)};qt.prototype.applyFeaturesToContexts=function(){this.checkContextReady("arabicWord")&&(h0.call(this),c0.call(this)),this.checkContextReady("latinWord")&&d0.call(this),this.checkContextReady("arabicSentence")&&f0.call(this)};qt.prototype.processText=function(e){(!this.text||this.text!==e)&&(this.setText(e),l0.call(this),this.applyFeaturesToContexts())};qt.prototype.getBidiText=function(e){return this.processText(e),this.tokenizer.getText()};qt.prototype.getTextGlyphs=function(e){this.processText(e);for(var r=[],n=0;n<this.tokenizer.tokens.length;n++){var a=this.tokenizer.tokens[n];if(!a.state.deleted){var u=a.activeState.value;r.push(Array.isArray(u)?u[0]:u)}}return r};function je(e){e=e||{},e.tables=e.tables||{},e.empty||(tn(e.familyName,"When creating a new Font object, familyName is required."),tn(e.styleName,"When creating a new Font object, styleName is required."),tn(e.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),tn(e.ascender,"When creating a new Font object, ascender is required."),tn(e.descender<=0,"When creating a new Font object, negative descender value is required."),this.names={fontFamily:{en:e.familyName||" "},fontSubfamily:{en:e.styleName||" "},fullName:{en:e.fullName||e.familyName+" "+e.styleName},postScriptName:{en:e.postScriptName||(e.familyName+e.styleName).replace(/\s/g,"")},designer:{en:e.designer||" "},designerURL:{en:e.designerURL||" "},manufacturer:{en:e.manufacturer||" "},manufacturerURL:{en:e.manufacturerURL||" "},license:{en:e.license||" "},licenseURL:{en:e.licenseURL||" "},version:{en:e.version||"Version 0.1"},description:{en:e.description||" "},copyright:{en:e.copyright||" "},trademark:{en:e.trademark||" "}},this.unitsPerEm=e.unitsPerEm||1e3,this.ascender=e.ascender,this.descender=e.descender,this.createdTimestamp=e.createdTimestamp,this.tables=Object.assign(e.tables,{os2:Object.assign({usWeightClass:e.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:e.widthClass||this.usWidthClasses.MEDIUM,fsSelection:e.fsSelection||this.fsSelectionValues.REGULAR},e.tables.os2)})),this.supported=!0,this.glyphs=new Qt.GlyphSet(this,e.glyphs||[]),this.encoding=new lo(this),this.position=new mn(this),this.substitution=new Et(this),this.tables=this.tables||{},this._push=null,this._hmtxTableData={},Object.defineProperty(this,"hinting",{get:function(){if(this._hinting)return this._hinting;if(this.outlinesFormat==="truetype")return this._hinting=new Ho(this)}})}je.prototype.hasChar=function(e){return this.encoding.charToGlyphIndex(e)!==null};je.prototype.charToGlyphIndex=function(e){return this.encoding.charToGlyphIndex(e)};je.prototype.charToGlyph=function(e){var r=this.charToGlyphIndex(e),n=this.glyphs.get(r);return n||(n=this.glyphs.get(0)),n};je.prototype.updateFeatures=function(e){return this.defaultRenderOptions.features.map(function(r){return r.script==="latn"?{script:"latn",tags:r.tags.filter(function(n){return e[n]})}:r})};je.prototype.stringToGlyphs=function(e,r){var n=this,a=new qt,u=function(R){return n.charToGlyphIndex(R.char)};a.registerModifier("glyphIndex",null,u);var o=r?this.updateFeatures(r.features):this.defaultRenderOptions.features;a.applyFeatures(this,o);for(var h=a.getTextGlyphs(e),g=h.length,d=new Array(g),T=this.glyphs.get(0),k=0;k<g;k+=1)d[k]=this.glyphs.get(h[k])||T;return d};je.prototype.nameToGlyphIndex=function(e){return this.glyphNames.nameToGlyphIndex(e)};je.prototype.nameToGlyph=function(e){var r=this.nameToGlyphIndex(e),n=this.glyphs.get(r);return n||(n=this.glyphs.get(0)),n};je.prototype.glyphIndexToName=function(e){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(e):""};je.prototype.getKerningValue=function(e,r){e=e.index||e,r=r.index||r;var n=this.position.defaultKerningTables;return n?this.position.getKerningValue(n,e,r):this.kerningPairs[e+","+r]||0};je.prototype.defaultRenderOptions={kerning:!0,features:[{script:"arab",tags:["init","medi","fina","rlig"]},{script:"latn",tags:["liga","rlig"]}]};je.prototype.forEachGlyph=function(e,r,n,a,u,o){r=r!==void 0?r:0,n=n!==void 0?n:0,a=a!==void 0?a:72,u=Object.assign({},this.defaultRenderOptions,u);var h=1/this.unitsPerEm*a,g=this.stringToGlyphs(e,u),d;if(u.kerning){var T=u.script||this.position.getDefaultScriptName();d=this.position.getKerningTables(T,u.language)}for(var k=0;k<g.length;k+=1){var R=g[k];if(o.call(this,R,r,n,a,u),R.advanceWidth&&(r+=R.advanceWidth*h),u.kerning&&k<g.length-1){var D=d?this.position.getKerningValue(d,R.index,g[k+1].index):this.getKerningValue(R,g[k+1]);r+=D*h}u.letterSpacing?r+=u.letterSpacing*a:u.tracking&&(r+=u.tracking/1e3*a)}return r};je.prototype.getPath=function(e,r,n,a,u){var o=new lt;return this.forEachGlyph(e,r,n,a,u,function(h,g,d,T){var k=h.getPath(g,d,T,u,this);o.extend(k)}),o};je.prototype.getPaths=function(e,r,n,a,u){var o=[];return this.forEachGlyph(e,r,n,a,u,function(h,g,d,T){var k=h.getPath(g,d,T,u,this);o.push(k)}),o};je.prototype.getAdvanceWidth=function(e,r,n){return this.forEachGlyph(e,0,0,r,n,function(){})};je.prototype.draw=function(e,r,n,a,u,o){this.getPath(r,n,a,u,o).draw(e)};je.prototype.drawPoints=function(e,r,n,a,u,o){this.forEachGlyph(r,n,a,u,o,function(h,g,d,T){h.drawPoints(e,g,d,T)})};je.prototype.drawMetrics=function(e,r,n,a,u,o){this.forEachGlyph(r,n,a,u,o,function(h,g,d,T){h.drawMetrics(e,g,d,T)})};je.prototype.getEnglishName=function(e){var r=this.names[e];if(r)return r.en};je.prototype.validate=function(){var e=this;function r(a,u){}function n(a){var u=e.getEnglishName(a);u&&u.trim().length>0}n("fontFamily"),n("weightName"),n("manufacturer"),n("copyright"),n("version"),this.unitsPerEm>0};je.prototype.toTables=function(){return eh.fontToTable(this)};je.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()};je.prototype.toArrayBuffer=function(){for(var e=this.toTables(),r=e.encode(),n=new ArrayBuffer(r.length),a=new Uint8Array(n),u=0;u<r.length;u++)a[u]=r[u];return n};je.prototype.download=function(e){var r=this.getEnglishName("fontFamily"),n=this.getEnglishName("fontSubfamily");e=e||r.replace(/\s/g,"")+"-"+n+".otf";var a=this.toArrayBuffer();if(rh())if(window.URL=window.URL||window.webkitURL,window.URL){var u=new DataView(a),o=new Blob([u],{type:"font/opentype"}),h=document.createElement("a");h.href=window.URL.createObjectURL(o),h.download=e;var g=document.createEvent("MouseEvents");g.initEvent("click",!0,!1),h.dispatchEvent(g)}else console.warn("Font file could not be downloaded. Try using a different browser.");else{var d=require("fs"),T=nh(a);d.writeFileSync(e,T)}};je.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512};je.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9};je.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};function Xo(e,r){var n=JSON.stringify(e),a=256;for(var u in r){var o=parseInt(u);if(!(!o||o<256)){if(JSON.stringify(r[u])===n)return o;a<=o&&(a=o+1)}}return r[a]=e,a}function p0(e,r,n){var a=Xo(r.name,n);return[{name:"tag_"+e,type:"TAG",value:r.tag},{name:"minValue_"+e,type:"FIXED",value:r.minValue<<16},{name:"defaultValue_"+e,type:"FIXED",value:r.defaultValue<<16},{name:"maxValue_"+e,type:"FIXED",value:r.maxValue<<16},{name:"flags_"+e,type:"USHORT",value:0},{name:"nameID_"+e,type:"USHORT",value:a}]}function g0(e,r,n){var a={},u=new we.Parser(e,r);return a.tag=u.parseTag(),a.minValue=u.parseFixed(),a.defaultValue=u.parseFixed(),a.maxValue=u.parseFixed(),u.skip("uShort",1),a.name=n[u.parseUShort()]||{},a}function v0(e,r,n,a){for(var u=Xo(r.name,a),o=[{name:"nameID_"+e,type:"USHORT",value:u},{name:"flags_"+e,type:"USHORT",value:0}],h=0;h<n.length;++h){var g=n[h].tag;o.push({name:"axis_"+e+" "+g,type:"FIXED",value:r.coordinates[g]<<16})}return o}function m0(e,r,n,a){var u={},o=new we.Parser(e,r);u.name=a[o.parseUShort()]||{},o.skip("uShort",1),u.coordinates={};for(var h=0;h<n.length;++h)u.coordinates[n[h].tag]=o.parseFixed();return u}function _0(e,r){var n=new be.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:e.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:e.instances.length},{name:"instanceSize",type:"USHORT",value:4+e.axes.length*4}]);n.offsetToData=n.sizeOf();for(var a=0;a<e.axes.length;a++)n.fields=n.fields.concat(p0(a,e.axes[a],r));for(var u=0;u<e.instances.length;u++)n.fields=n.fields.concat(v0(u,e.instances[u],e.axes,r));return n}function y0(e,r,n){var a=new we.Parser(e,r),u=a.parseULong();Ae.argument(u===65536,"Unsupported fvar table version.");var o=a.parseOffset16();a.skip("uShort",1);for(var h=a.parseUShort(),g=a.parseUShort(),d=a.parseUShort(),T=a.parseUShort(),k=[],R=0;R<h;R++)k.push(g0(e,r+o+R*g,n));for(var D=[],A=r+o+h*g,V=0;V<d;V++)D.push(m0(e,A+V*T,k,n));return{axes:k,instances:D}}var x0={make:_0,parse:y0},b0=function(){return{coverage:this.parsePointer(ee.coverage),attachPoints:this.parseList(ee.pointer(ee.uShortList))}},S0=function(){var e=this.parseUShort();if(Ae.argument(e===1||e===2||e===3,"Unsupported CaretValue table version."),e===1)return{coordinate:this.parseShort()};if(e===2)return{pointindex:this.parseShort()};if(e===3)return{coordinate:this.parseShort()}},w0=function(){return this.parseList(ee.pointer(S0))},C0=function(){return{coverage:this.parsePointer(ee.coverage),ligGlyphs:this.parseList(ee.pointer(w0))}},T0=function(){return this.parseUShort(),this.parseList(ee.pointer(ee.coverage))};function k0(e,r){r=r||0;var n=new ee(e,r),a=n.parseVersion(1);Ae.argument(a===1||a===1.2||a===1.3,"Unsupported GDEF table version.");var u={version:a,classDef:n.parsePointer(ee.classDef),attachList:n.parsePointer(b0),ligCaretList:n.parsePointer(C0),markAttachClassDef:n.parsePointer(ee.classDef)};return a>=1.2&&(u.markGlyphSets=n.parsePointer(T0)),u}var F0={parse:k0},Gt=new Array(10);Gt[1]=function(){var r=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{posFormat:1,coverage:this.parsePointer(ee.coverage),value:this.parseValueRecord()};if(n===2)return{posFormat:2,coverage:this.parsePointer(ee.coverage),values:this.parseValueRecordList()};Ae.assert(!1,"0x"+r.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")};Gt[2]=function(){var r=this.offset+this.relativeOffset,n=this.parseUShort();Ae.assert(n===1||n===2,"0x"+r.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var a=this.parsePointer(ee.coverage),u=this.parseUShort(),o=this.parseUShort();if(n===1)return{posFormat:n,coverage:a,valueFormat1:u,valueFormat2:o,pairSets:this.parseList(ee.pointer(ee.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(u),value2:this.parseValueRecord(o)}})))};if(n===2){var h=this.parsePointer(ee.classDef),g=this.parsePointer(ee.classDef),d=this.parseUShort(),T=this.parseUShort();return{posFormat:n,coverage:a,valueFormat1:u,valueFormat2:o,classDef1:h,classDef2:g,class1Count:d,class2Count:T,classRecords:this.parseList(d,ee.list(T,function(){return{value1:this.parseValueRecord(u),value2:this.parseValueRecord(o)}}))}}};Gt[3]=function(){return{error:"GPOS Lookup 3 not supported"}};Gt[4]=function(){return{error:"GPOS Lookup 4 not supported"}};Gt[5]=function(){return{error:"GPOS Lookup 5 not supported"}};Gt[6]=function(){return{error:"GPOS Lookup 6 not supported"}};Gt[7]=function(){return{error:"GPOS Lookup 7 not supported"}};Gt[8]=function(){return{error:"GPOS Lookup 8 not supported"}};Gt[9]=function(){return{error:"GPOS Lookup 9 not supported"}};function E0(e,r){r=r||0;var n=new ee(e,r),a=n.parseVersion(1);return Ae.argument(a===1||a===1.1,"Unsupported GPOS table version "+a),a===1?{version:a,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(Gt)}:{version:a,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(Gt),variations:n.parseFeatureVariationsList()}}var A0=new Array(10);function O0(e){return new be.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new be.ScriptList(e.scripts)},{name:"features",type:"TABLE",value:new be.FeatureList(e.features)},{name:"lookups",type:"TABLE",value:new be.LookupList(e.lookups,A0)}])}var P0={parse:E0,make:O0};function L0(e){var r={};e.skip("uShort");var n=e.parseUShort();Ae.argument(n===0,"Unsupported kern sub-table version."),e.skip("uShort",2);var a=e.parseUShort();e.skip("uShort",3);for(var u=0;u<a;u+=1){var o=e.parseUShort(),h=e.parseUShort(),g=e.parseShort();r[o+","+h]=g}return r}function I0(e){var r={};e.skip("uShort");var n=e.parseULong();n>1&&console.warn("Only the first kern subtable is supported."),e.skip("uLong");var a=e.parseUShort(),u=a&255;if(e.skip("uShort"),u===0){var o=e.parseUShort();e.skip("uShort",3);for(var h=0;h<o;h+=1){var g=e.parseUShort(),d=e.parseUShort(),T=e.parseShort();r[g+","+d]=T}}return r}function M0(e,r){var n=new we.Parser(e,r),a=n.parseUShort();if(a===0)return L0(n);if(a===1)return I0(n);throw new Error("Unsupported kern table version ("+a+").")}var U0={parse:M0};function D0(e,r,n,a){for(var u=new we.Parser(e,r),o=a?u.parseUShort:u.parseULong,h=[],g=0;g<n+1;g+=1){var d=o.call(u);a&&(d*=2),h.push(d)}return h}var R0={parse:D0};function B0(e,r){var n=require("fs");n.readFile(e,function(a,u){if(a)return r(a.message);r(null,Uo(u))})}function N0(e,r){var n=new XMLHttpRequest;n.open("get",e,!0),n.responseType="arraybuffer",n.onload=function(){return n.response?r(null,n.response):r("Font could not be loaded: "+n.statusText)},n.onerror=function(){r("Font could not be loaded")},n.send()}function Ms(e,r){for(var n=[],a=12,u=0;u<r;u+=1){var o=we.getTag(e,a),h=we.getULong(e,a+4),g=we.getULong(e,a+8),d=we.getULong(e,a+12);n.push({tag:o,checksum:h,offset:g,length:d,compression:!1}),a+=16}return n}function z0(e,r){for(var n=[],a=44,u=0;u<r;u+=1){var o=we.getTag(e,a),h=we.getULong(e,a+4),g=we.getULong(e,a+8),d=we.getULong(e,a+12),T=void 0;g<d?T="WOFF":T=!1,n.push({tag:o,offset:h,compression:T,compressedLength:g,length:d}),a+=20}return n}function ot(e,r){if(r.compression==="WOFF"){var n=new Uint8Array(e.buffer,r.offset+2,r.compressedLength-2),a=new Uint8Array(r.length);if(Ol(n,a),a.byteLength!==r.length)throw new Error("Decompression error: "+r.tag+" decompressed length doesn't match recorded length");var u=new DataView(a.buffer,0);return{data:u,offset:0}}else return{data:e,offset:r.offset}}function ca(e,r){r=r==null?{}:r;var n,a,u=new je({empty:!0}),o=new DataView(e,0),h,g=[],d=we.getTag(o,0);if(d===String.fromCharCode(0,1,0,0)||d==="true"||d==="typ1")u.outlinesFormat="truetype",h=we.getUShort(o,4),g=Ms(o,h);else if(d==="OTTO")u.outlinesFormat="cff",h=we.getUShort(o,4),g=Ms(o,h);else if(d==="wOFF"){var T=we.getTag(o,4);if(T===String.fromCharCode(0,1,0,0))u.outlinesFormat="truetype";else if(T==="OTTO")u.outlinesFormat="cff";else throw new Error("Unsupported OpenType flavor "+d);h=we.getUShort(o,12),g=z0(o,h)}else throw new Error("Unsupported OpenType signature "+d);for(var k,R,D,A,V,N,K,j,ie,te,oe,fe,pe=0;pe<h;pe+=1){var Ce=g[pe],xe=void 0;switch(Ce.tag){case"cmap":xe=ot(o,Ce),u.tables.cmap=uo.parse(xe.data,xe.offset),u.encoding=new fo(u.tables.cmap);break;case"cvt ":xe=ot(o,Ce),fe=new we.Parser(xe.data,xe.offset),u.tables.cvt=fe.parseShortList(Ce.length/2);break;case"fvar":R=Ce;break;case"fpgm":xe=ot(o,Ce),fe=new we.Parser(xe.data,xe.offset),u.tables.fpgm=fe.parseByteList(Ce.length);break;case"head":xe=ot(o,Ce),u.tables.head=bo.parse(xe.data,xe.offset),u.unitsPerEm=u.tables.head.unitsPerEm,n=u.tables.head.indexToLocFormat;break;case"hhea":xe=ot(o,Ce),u.tables.hhea=So.parse(xe.data,xe.offset),u.ascender=u.tables.hhea.ascender,u.descender=u.tables.hhea.descender,u.numberOfHMetrics=u.tables.hhea.numberOfHMetrics;break;case"hmtx":K=Ce;break;case"ltag":xe=ot(o,Ce),a=Co.parse(xe.data,xe.offset);break;case"maxp":xe=ot(o,Ce),u.tables.maxp=To.parse(xe.data,xe.offset),u.numGlyphs=u.tables.maxp.numGlyphs;break;case"name":te=Ce;break;case"OS/2":xe=ot(o,Ce),u.tables.os2=Qi.parse(xe.data,xe.offset);break;case"post":xe=ot(o,Ce),u.tables.post=Po.parse(xe.data,xe.offset),u.glyphNames=new aa(u.tables.post);break;case"prep":xe=ot(o,Ce),fe=new we.Parser(xe.data,xe.offset),u.tables.prep=fe.parseByteList(Ce.length);break;case"glyf":D=Ce;break;case"loca":ie=Ce;break;case"CFF ":k=Ce;break;case"kern":j=Ce;break;case"GDEF":A=Ce;break;case"GPOS":V=Ce;break;case"GSUB":N=Ce;break;case"meta":oe=Ce;break}}var Re=ot(o,te);if(u.tables.name=Oo.parse(Re.data,Re.offset,a),u.names=u.tables.name,D&&ie){var Ke=n===0,Ze=ot(o,ie),Je=R0.parse(Ze.data,Ze.offset,u.numGlyphs,Ke),Ye=ot(o,D);u.glyphs=No.parse(Ye.data,Ye.offset,Je,u,r)}else if(k){var ge=ot(o,k);xo.parse(ge.data,ge.offset,u,r)}else throw new Error("Font doesn't contain TrueType or CFF outlines.");var Qe=ot(o,K);if(wo.parse(u,Qe.data,Qe.offset,u.numberOfHMetrics,u.numGlyphs,u.glyphs,r),Kl(u,r),j){var ue=ot(o,j);u.kerningPairs=U0.parse(ue.data,ue.offset)}else u.kerningPairs={};if(A){var ze=ot(o,A);u.tables.gdef=F0.parse(ze.data,ze.offset)}if(V){var We=ot(o,V);u.tables.gpos=P0.parse(We.data,We.offset),u.position.init()}if(N){var Te=ot(o,N);u.tables.gsub=Lo.parse(Te.data,Te.offset)}if(R){var He=ot(o,R);u.tables.fvar=x0.parse(He.data,He.offset,u.names)}if(oe){var Ie=ot(o,oe);u.tables.meta=Io.parse(Ie.data,Ie.offset),u.metas=u.tables.meta}return u}function G0(e,r,n){n=n==null?{}:n;var a=typeof window=="undefined",u=a&&!n.isUrl?B0:N0;return new Promise(function(o,h){u(e,function(g,d){if(g){if(r)return r(g);h(g)}var T;try{T=ca(d,n)}catch(k){if(r)return r(k,null);h(k)}if(r)return r(null,T);o(T)})})}function H0(e,r){var n=require("fs"),a=n.readFileSync(e);return ca(Uo(a),r)}var nn=Object.freeze({__proto__:null,Font:je,Glyph:Ft,Path:lt,BoundingBox:ar,_parse:we,parse:ca,load:G0,loadSync:H0}),Yo={exports:{}},V0={},q0=Object.freeze(Object.defineProperty({__proto__:null,default:V0},Symbol.toStringTag,{value:"Module"})),Us=vl(q0);/*!
 * Paper.js v0.12.15 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2020, Jürg Lehni & Jonathan Puckey
 * http://juerglehni.com/ & https://puckey.studio/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Wed Mar 17 10:49:48 2021 +0100
 *
 ***
 *
 * Straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2020 Jürg Lehni
 * http://juerglehni.com/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * Acorn.js
 * https://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */(function(e){(function(r,n){r=r||Us;var a=r.window,u=r.document,o=new function(){var t=/^(statics|enumerable|beans|preserve)$/,i=[],s=i.slice,l=Object.create,f=Object.getOwnPropertyDescriptor,c=Object.defineProperty,v=i.forEach||function(b,x){for(var I=0,F=this.length;I<F;I++)b.call(x,this[I],I,this)},p=function(b,x){for(var I in this)this.hasOwnProperty(I)&&b.call(x,this[I],I,this)},m=Object.assign||function(b){for(var x=1,I=arguments.length;x<I;x++){var F=arguments[x];for(var M in F)F.hasOwnProperty(M)&&(b[M]=F[M])}return b},_=function(b,x,I){if(b){var F=f(b,"length");(F&&typeof F.value=="number"?v:p).call(b,x,I=I||b)}return I};function S(b,x,I,F,M){var w={};function O(P,B){B=B||(B=f(x,P))&&(B.get?B:B.value),typeof B=="string"&&B[0]==="#"&&(B=b[B.substring(1)]||B);var G=typeof B=="function",H=B,Z=M||G&&!B.base?B&&B.get?P in b:b[P]:null,z;(!M||!Z)&&(G&&Z&&(B.base=Z),G&&F!==!1&&(z=P.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(w[z[3].toLowerCase()+z[4]]=z[2]),(!H||G||!H.get||typeof H.get!="function"||!C.isPlainObject(H))&&(H={value:H,writable:!0}),(f(b,P)||{configurable:!0}).configurable&&(H.configurable=!0,H.enumerable=I!=null?I:!z),c(b,P,H))}if(x){for(var y in x)x.hasOwnProperty(y)&&!t.test(y)&&O(y);for(var y in w){var E=w[y],L=b["set"+E],U=b["get"+E]||L&&b["is"+E];U&&(F===!0||U.length===0)&&O(y,{get:U,set:L})}}return b}function C(){for(var b=0,x=arguments.length;b<x;b++){var I=arguments[b];I&&m(this,I)}return this}return S(C,{inject:function(b){if(b){var x=b.statics===!0?b:b.statics,I=b.beans,F=b.preserve;x!==b&&S(this.prototype,b,b.enumerable,I,F),S(this,x,null,I,F)}for(var M=1,w=arguments.length;M<w;M++)this.inject(arguments[M]);return this},extend:function(){for(var b=this,x,I,F=0,M,w=arguments.length;F<w&&!(x&&I);F++)M=arguments[F],x=x||M.initialize,I=I||M.prototype;return x=x||function(){b.apply(this,arguments)},I=x.prototype=I||l(this.prototype),c(I,"constructor",{value:x,writable:!0,configurable:!0}),S(x,this),arguments.length&&this.inject.apply(x,arguments),x.base=b,x}}).inject({enumerable:!1,initialize:C,set:C,inject:function(){for(var b=0,x=arguments.length;b<x;b++){var I=arguments[b];I&&S(this,I,I.enumerable,I.beans,I.preserve)}return this},extend:function(){var b=l(this);return b.inject.apply(b,arguments)},each:function(b,x){return _(this,b,x)},clone:function(){return new this.constructor(this)},statics:{set:m,each:_,create:l,define:c,describe:f,clone:function(b){return m(new b.constructor,b)},isPlainObject:function(b){var x=b!=null&&b.constructor;return x&&(x===Object||x===C||x.name==="Object")},pick:function(b,x){return b!==n?b:x},slice:function(b,x,I){return s.call(b,x,I)}}})};e.exports=o,o.inject({enumerable:!1,toString:function(){return this._id!=null?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+o.each(this,function(t,i){if(!/^_/.test(i)){var s=typeof t;this.push(i+": "+(s==="number"?k.instance.number(t):s==="string"?"'"+t+"'":t))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(t){return o.importJSON(t,this)},exportJSON:function(t){return o.exportJSON(this,t)},toJSON:function(){return o.serialize(this)},set:function(t,i){return t&&o.filter(this,t,i,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function t(){var i=t.base.apply(this,arguments),s=i.prototype._class;return s&&!o.exports[s]&&(o.exports[s]=i),i},equals:function(t,i){if(t===i)return!0;if(t&&t.equals)return t.equals(i);if(i&&i.equals)return i.equals(t);if(t&&i&&typeof t=="object"&&typeof i=="object"){if(Array.isArray(t)&&Array.isArray(i)){var s=t.length;if(s!==i.length)return!1;for(;s--;)if(!o.equals(t[s],i[s]))return!1}else{var l=Object.keys(t),s=l.length;if(s!==Object.keys(i).length)return!1;for(;s--;){var f=l[s];if(!(i.hasOwnProperty(f)&&o.equals(t[f],i[f])))return!1}}return!0}return!1},read:function(t,i,s,l){if(this===o){var f=this.peek(t,i);return t.__index++,f}var c=this.prototype,v=c._readIndex,p=i||v&&t.__index||0,m=t.length,_=t[p];if(l=l||m-p,_ instanceof this||s&&s.readNull&&_==null&&l<=1)return v&&(t.__index=p+1),_&&s&&s.clone?_.clone():_;if(_=o.create(c),v&&(_.__read=!0),_=_.initialize.apply(_,p>0||p+l<m?o.slice(t,p,p+l):t)||_,v){t.__index=p+_.__read;var S=_.__filtered;S&&(t.__filtered=S,_.__filtered=n),_.__read=n}return _},peek:function(t,i){return t[t.__index=i||t.__index||0]},remain:function(t){return t.length-(t.__index||0)},readList:function(t,i,s,l){for(var f=[],c,v=i||0,p=l?v+l:t.length,m=v;m<p;m++)f.push(Array.isArray(c=t[m])?this.read(c,0,s):this.read(t,m,s,1));return f},readNamed:function(t,i,s,l,f){var c=this.getNamed(t,i),v=c!==n;if(v){var p=t.__filtered;if(!p){var m=this.getSource(t);p=t.__filtered=o.create(m),p.__unfiltered=m}p[i]=n}return this.read(v?[c]:t,s,l,f)},readSupported:function(t,i){var s=this.getSource(t),l=this,f=!1;return s&&Object.keys(s).forEach(function(c){if(c in i){var v=l.readNamed(t,c);v!==n&&(i[c]=v),f=!0}}),f},getSource:function(t){var i=t.__source;if(i===n){var s=t.length===1&&t[0];i=t.__source=s&&o.isPlainObject(s)?s:null}return i},getNamed:function(t,i){var s=this.getSource(t);if(s)return i?s[i]:t.__filtered||s},hasNamed:function(t,i){return!!this.getNamed(t,i)},filter:function(t,i,s,l){var f;function c(S){if(!(s&&S in s)&&!(f&&S in f)){var C=i[S];C!==n&&(t[S]=C)}}if(l){for(var v={},p=0,m,_=l.length;p<_;p++)(m=l[p])in i&&(c(m),v[m]=!0);f=v}return Object.keys(i.__unfiltered||i).forEach(c),t},isPlainValue:function(t,i){return o.isPlainObject(t)||Array.isArray(t)||i&&typeof t=="string"},serialize:function(t,i,s,l){i=i||{};var f=!l,c;if(f&&(i.formatter=new k(i.precision),l={length:0,definitions:{},references:{},add:function(C,b){var x="#"+C._id,I=this.references[x];if(!I){this.length++;var F=b.call(C),M=C._class;M&&F[0]!==M&&F.unshift(M),this.definitions[x]=F,I=this.references[x]=[x]}return I}}),t&&t._serialize){c=t._serialize(i,l);var v=t._class;v&&!t._compactSerialize&&(f||!s)&&c[0]!==v&&c.unshift(v)}else if(Array.isArray(t)){c=[];for(var p=0,m=t.length;p<m;p++)c[p]=o.serialize(t[p],i,s,l)}else if(o.isPlainObject(t)){c={};for(var _=Object.keys(t),p=0,m=_.length;p<m;p++){var S=_[p];c[S]=o.serialize(t[S],i,s,l)}}else typeof t=="number"?c=i.formatter.number(t,i.precision):c=t;return f&&l.length>0?[["dictionary",l.definitions],c]:c},deserialize:function(t,i,s,l,f){var c=t,v=!s,p=v&&t&&t.length&&t[0][0]==="dictionary";if(s=s||{},Array.isArray(t)){var m=t[0],_=m==="dictionary";if(t.length==1&&/^#/.test(m))return s.dictionary[m];m=o.exports[m],c=[];for(var S=m?1:0,C=t.length;S<C;S++)c.push(o.deserialize(t[S],i,s,_,p));if(m){var b=c;i?c=i(m,b,v||f):c=new m(b)}}else if(o.isPlainObject(t)){c={},l&&(s.dictionary=c);for(var x in t)c[x]=o.deserialize(t[x],i,s)}return p?c[1]:c},exportJSON:function(t,i){var s=o.serialize(t,i);return i&&i.asString==!1?s:JSON.stringify(s)},importJSON:function(t,i){return o.deserialize(typeof t=="string"?JSON.parse(t):t,function(s,l,f){var c=f&&i&&i.constructor===s,v=c?i:o.create(s.prototype);if(l.length===1&&v instanceof pe&&(c||!(v instanceof xe))){var p=l[0];o.isPlainObject(p)&&(p.insert=!1,c&&(l=l.concat([{insert:!0}])))}return(c?v.set:s).apply(v,l),c&&(i=null),v})},push:function(t,i){var s=i.length;if(s<4096)t.push.apply(t,i);else{var l=t.length;t.length+=s;for(var f=0;f<s;f++)t[l+f]=i[f]}return t},splice:function(t,i,s,l){var f=i&&i.length,c=s===n;s=c?t.length:s,s>t.length&&(s=t.length);for(var v=0;v<f;v++)i[v]._index=s+v;if(c)return o.push(t,i),[];var p=[s,l];i&&o.push(p,i);for(var m=t.splice.apply(t,p),v=0,_=m.length;v<_;v++)m[v]._index=n;for(var v=s+f,_=t.length;v<_;v++)t[v]._index=v;return m},capitalize:function(t){return t.replace(/\b[a-z]/g,function(i){return i.toUpperCase()})},camelize:function(t){return t.replace(/-(.)/g,function(i,s){return s.toUpperCase()})},hyphenate:function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var h={on:function(t,i){if(typeof t!="string")o.each(t,function(c,v){this.on(v,c)},this);else{var s=this._eventTypes,l=s&&s[t],f=this._callbacks=this._callbacks||{};f=f[t]=f[t]||[],f.indexOf(i)===-1&&(f.push(i),l&&l.install&&f.length===1&&l.install.call(this,t))}return this},off:function(t,i){if(typeof t!="string"){o.each(t,function(v,p){this.off(p,v)},this);return}var s=this._eventTypes,l=s&&s[t],f=this._callbacks&&this._callbacks[t],c;return f&&(!i||(c=f.indexOf(i))!==-1&&f.length===1?(l&&l.uninstall&&l.uninstall.call(this,t),delete this._callbacks[t]):c!==-1&&f.splice(c,1)),this},once:function(t,i){return this.on(t,function s(){i.apply(this,arguments),this.off(t,s)})},emit:function(t,i){var s=this._callbacks&&this._callbacks[t];if(!s)return!1;var l=o.slice(arguments,1),f=i&&i.target&&!i.currentTarget;s=s.slice(),f&&(i.currentTarget=this);for(var c=0,v=s.length;c<v;c++)if(s[c].apply(this,l)==!1){i&&i.stop&&i.stop();break}return f&&delete i.currentTarget,!0},responds:function(t){return!!(this._callbacks&&this._callbacks[t])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(t){var i=this._eventTypes,s=this._callbacks,l=t?"install":"uninstall";if(i){for(var f in s)if(s[f].length>0){var c=i[f],v=c&&c[l];v&&v.call(this,f)}}},statics:{inject:function t(i){var s=i._events;if(s){var l={};o.each(s,function(f,c){var v=typeof f=="string",p=v?f:c,m=o.capitalize(p),_=p.substring(2).toLowerCase();l[_]=v?{}:f,p="_"+p,i["get"+m]=function(){return this[p]},i["set"+m]=function(S){var C=this[p];C&&this.off(_,C),S&&this.on(_,S),this[p]=S}}),i._eventTypes=l}return t.base.apply(this,arguments)}}},g=o.extend({_class:"PaperScope",initialize:function t(){Ne=this,this.settings=new o({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=t._id++,t._scopes[this._id]=this;var i=t.prototype;if(!this.support){var s=ht.getContext(1,1)||{};i.support={nativeDash:"setLineDash"in s||"mozDash"in s,nativeBlendModes:fi.nativeModes},ht.release(s)}if(!this.agent){var l=r.navigator.userAgent.toLowerCase(),f=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(l)||[])[0],c=f==="darwin"?"mac":f,v=i.agent=i.browser={platform:c};c&&(v[c]=!0),l.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(p,m,_,S,C){if(!v.chrome){var b=m==="opera"?S:/^(node|trident)$/.test(m)?C:_;v.version=b,v.versionNumber=parseFloat(b),m={trident:"msie",jsdom:"node"}[m]||m,v.name=m,v[m]=!0}}),v.chrome&&delete v.webkit,v.atom&&delete v.chrome}},version:"0.12.15",getView:function(){var t=this.project;return t&&t._view},getPaper:function(){return this},execute:function(t,i){var s=Ne.PaperScript.execute(t,this,i);return tt.updateFocus(),s},install:function(t){var i=this;o.each(["project","view","tool"],function(l){o.define(t,l,{configurable:!0,get:function(){return i[l]}})});for(var s in this)!/^_/.test(s)&&this[s]&&(t[s]=this[s])},setup:function(t){return Ne=this,this.project=new fe(t),this},createCanvas:function(t,i){return ht.getCanvas(t,i)},activate:function(){Ne=this},clear:function(){for(var t=this.projects,i=this.tools,s=t.length-1;s>=0;s--)t[s].remove();for(var s=i.length-1;s>=0;s--)i[s].remove()},remove:function(){this.clear(),delete g._scopes[this._id]},statics:new function(){function t(i){return i+="Attribute",function(s,l){return s[i](l)||s[i]("data-paper-"+l)}}return{_scopes:{},_id:0,get:function(i){return this._scopes[i]||null},getAttribute:t("get"),hasAttribute:t("has")}}}),d=o.extend(h,{initialize:function(t){this._scope=Ne,this._index=this._scope[this._list].push(this)-1,(t||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var t=this._scope[this._reference];return t&&t!==this&&t.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",t),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return this._index==null?!1:(o.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),T={findItemBoundsCollisions:function(t,i,s){function l(v){for(var p=new Array(v.length),m=0;m<v.length;m++){var _=v[m].getBounds();p[m]=[_.left,_.top,_.right,_.bottom]}return p}var f=l(t),c=!i||i===t?f:l(i);return this.findBoundsCollisions(f,c,s||0)},findCurveBoundsCollisions:function(t,i,s,l){function f(b){for(var x=Math.min,I=Math.max,F=new Array(b.length),M=0;M<b.length;M++){var w=b[M];F[M]=[x(w[0],w[2],w[4],w[6]),x(w[1],w[3],w[5],w[7]),I(w[0],w[2],w[4],w[6]),I(w[1],w[3],w[5],w[7])]}return F}var c=f(t),v=!i||i===t?c:f(i);if(l){for(var p=this.findBoundsCollisions(c,v,s||0,!1,!0),m=this.findBoundsCollisions(c,v,s||0,!0,!0),_=[],S=0,C=p.length;S<C;S++)_[S]={hor:p[S],ver:m[S]};return _}return this.findBoundsCollisions(c,v,s||0)},findBoundsCollisions:function(t,i,s,l,f){var c=!i||t===i,v=c?t:t.concat(i),p=t.length,m=v.length;function _(he,ce,me){for(var ne=0,ae=he.length;ne<ae;){var de=ae+ne>>>1;v[he[de]][ce]<me?ne=de+1:ae=de}return ne-1}for(var S=l?1:0,C=S+2,b=l?0:1,x=b+2,I=new Array(m),F=0;F<m;F++)I[F]=F;I.sort(function(he,ce){return v[he][S]-v[ce][S]});for(var M=[],w=new Array(p),F=0;F<m;F++){var O=I[F],y=v[O],E=c?O:O-p,L=O<p,U=c||!L,P=L?[]:null;if(M.length){var B=_(M,C,y[S]-s)+1;if(M.splice(0,B),c&&f){P=P.concat(M);for(var G=0;G<M.length;G++){var H=M[G];w[H].push(E)}}else for(var Z=y[x],z=y[b],G=0;G<M.length;G++){var H=M[G],W=v[H],X=H<p,Q=c||H>=p;(f||(L&&Q||U&&X)&&Z>=W[b]-s&&z<=W[x]+s)&&(L&&Q&&P.push(c?H:H-p),U&&X&&w[H].push(E))}}if(L&&(t===i&&P.push(O),w[O]=P),M.length){var J=y[C],$=_(M,C,J);M.splice($+1,0,O)}else M.push(O)}for(var F=0;F<w.length;F++){var le=w[F];le&&le.sort(function(ce,me){return ce-me})}return w}},k=o.extend({initialize:function(t){this.precision=o.pick(t,5),this.multiplier=Math.pow(10,this.precision)},number:function(t){return this.precision<16?Math.round(t*this.multiplier)/this.multiplier:t},pair:function(t,i,s){return this.number(t)+(s||",")+this.number(i)},point:function(t,i){return this.number(t.x)+(i||",")+this.number(t.y)},size:function(t,i){return this.number(t.width)+(i||",")+this.number(t.height)},rectangle:function(t,i){return this.point(t,i)+(i||",")+this.size(t,i)}});k.instance=new k;var R=new function(){var t=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],i=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],s=Math.abs,l=Math.sqrt,f=Math.pow,c=Math.log2||function(C){return Math.log(C)*Math.LOG2E},v=1e-12,p=112e-18;function m(C,b,x){return C<b?b:C>x?x:C}function _(C,b,x){function I(B){var G=B*134217729,H=B-G,Z=H+G,z=B-Z;return[Z,z]}var F=b*b-C*x,M=b*b+C*x;if(s(F)*3<M){var w=I(C),O=I(b),y=I(x),E=b*b,L=O[0]*O[0]-E+2*O[0]*O[1]+O[1]*O[1],U=C*x,P=w[0]*y[0]-U+w[0]*y[1]+w[1]*y[0]+w[1]*y[1];F=E-U+(L-P)}return F}function S(){var C=Math.max.apply(Math,arguments);return C&&(C<1e-8||C>1e8)?f(2,-Math.round(c(C))):0}return{EPSILON:v,MACHINE_EPSILON:p,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,KAPPA:4*(l(2)-1)/3,isZero:function(C){return C>=-v&&C<=v},isMachineZero:function(C){return C>=-p&&C<=p},clamp:m,integrate:function(C,b,x,I){for(var F=t[I-2],M=i[I-2],w=(x-b)*.5,O=w+b,y=0,E=I+1>>1,L=I&1?M[y++]*C(O):0;y<E;){var U=w*F[y];L+=M[y++]*(C(O+U)+C(O-U))}return w*L},findRoot:function(C,b,x,I,F,M,w){for(var O=0;O<M;O++){var y=C(x),E=y/b(x),L=x-E;if(s(E)<w){x=L;break}y>0?(F=x,x=L<=I?(I+F)*.5:L):(I=x,x=L>=F?(I+F)*.5:L)}return m(x,I,F)},solveQuadratic:function(C,b,x,I,F,M){var w,O=1/0;if(s(C)<v){if(s(b)<v)return s(x)<v?-1:0;w=-x/b}else{b*=-.5;var y=_(C,b,x);if(y&&s(y)<p){var E=S(s(C),s(b),s(x));E&&(C*=E,b*=E,x*=E,y=_(C,b,x))}if(y>=-p){var L=y<0?0:l(y),U=b+(b<0?-L:L);U===0?(w=x/C,O=-w):(w=U/C,O=x/U)}}var P=0,B=F==null,G=F-v,H=M+v;return isFinite(w)&&(B||w>G&&w<H)&&(I[P++]=B?w:m(w,F,M)),O!==w&&isFinite(O)&&(B||O>G&&O<H)&&(I[P++]=B?O:m(O,F,M)),P},solveCubic:function(C,b,x,I,F,M,w){var O=S(s(C),s(b),s(x),s(I)),y,E,L,U,P;O&&(C*=O,b*=O,x*=O,I*=O);function B($){y=$;var le=C*y;E=le+b,L=E*y+x,U=(le+E)*y+L,P=L*y+I}if(s(C)<v)C=b,E=x,L=I,y=1/0;else if(s(I)<v)E=b,L=x,y=0;else{B(-(b/C)/3);var G=P/C,H=f(s(G),1/3),Z=G<0?-1:1,z=-U/C,W=z>0?1.324717957244746*Math.max(H,l(z)):H,X=y-Z*W;if(X!==y){do B(X),X=U===0?y:y-P/U/(1+p);while(Z*X>Z*y);s(C)*y*y>s(I/y)&&(L=-I/y,E=(L-x)/y)}}var Q=R.solveQuadratic(C,E,L,F,M,w),J=M==null;return isFinite(y)&&(Q===0||Q>0&&y!==F[0]&&y!==F[1])&&(J||y>M-v&&y<w+v)&&(F[Q++]=J?y:m(y,M,w)),Q}}},D={_id:1,_pools:{},get:function(t){if(t){var i=this._pools[t];return i||(i=this._pools[t]={_id:1}),i._id++}else return this._id++}},A=o.extend({_class:"Point",_readIndex:!0,initialize:function(i,s){var l=typeof i,f=this.__read,c=0;if(l==="number"){var v=typeof s=="number";this._set(i,v?s:i),f&&(c=v?2:1)}else if(l==="undefined"||i===null)this._set(0,0),f&&(c=i===null?1:0);else{var p=l==="string"?i.split(/[\s,]+/)||[]:i;c=1,Array.isArray(p)?this._set(+p[0],+(p.length>1?p[1]:p[0])):"x"in p?this._set(p.x||0,p.y||0):"width"in p?this._set(p.width||0,p.height||0):"angle"in p?(this._set(p.length||0,0),this.setAngle(p.angle||0)):(this._set(0,0),c=0)}return f&&(this.__read=c),this},set:"#initialize",_set:function(t,i){return this.x=t,this.y=i,this},equals:function(t){return this===t||t&&(this.x===t.x&&this.y===t.y||Array.isArray(t)&&this.x===t[0]&&this.y===t[1])||!1},clone:function(){return new A(this.x,this.y)},toString:function(){var t=k.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+" }"},_serialize:function(t){var i=t.formatter;return[i.number(this.x),i.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(t){if(this.isZero()){var i=this._angle||0;this._set(Math.cos(i)*t,Math.sin(i)*t)}else{var s=t/this.getLength();R.isZero(s)&&this.getAngle(),this._set(this.x*s,this.y*s)}},getAngle:function(){return this.getAngleInRadians.apply(this,arguments)*180/Math.PI},setAngle:function(t){this.setAngleInRadians.call(this,t*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var t=A.read(arguments),i=this.getLength()*t.getLength();if(R.isZero(i))return NaN;var s=this.dot(t)/i;return Math.acos(s<-1?-1:s>1?1:s)}else return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(t){if(this._angle=t,!this.isZero()){var i=this.getLength();this._set(Math.cos(t)*i,Math.sin(t)*i)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var t=A.read(arguments);return Math.atan2(this.cross(t),this.dot(t))*180/Math.PI},getDistance:function(){var t=arguments,i=A.read(t),s=i.x-this.x,l=i.y-this.y,f=s*s+l*l,c=o.read(t);return c?f:Math.sqrt(f)},normalize:function(t){t===n&&(t=1);var i=this.getLength(),s=i!==0?t/i:0,l=new A(this.x*s,this.y*s);return s>=0&&(l._angle=this._angle),l},rotate:function(t,i){if(t===0)return this.clone();t=t*Math.PI/180;var s=i?this.subtract(i):this,l=Math.sin(t),f=Math.cos(t);return s=new A(s.x*f-s.y*l,s.x*l+s.y*f),i?s.add(i):s},transform:function(t){return t?t._transformPoint(this):this},add:function(){var t=A.read(arguments);return new A(this.x+t.x,this.y+t.y)},subtract:function(){var t=A.read(arguments);return new A(this.x-t.x,this.y-t.y)},multiply:function(){var t=A.read(arguments);return new A(this.x*t.x,this.y*t.y)},divide:function(){var t=A.read(arguments);return new A(this.x/t.x,this.y/t.y)},modulo:function(){var t=A.read(arguments);return new A(this.x%t.x,this.y%t.y)},negate:function(){return new A(-this.x,-this.y)},isInside:function(){return j.read(arguments).contains(this)},isClose:function(){var t=arguments,i=A.read(t),s=o.read(t);return this.getDistance(i)<=s},isCollinear:function(){var t=A.read(arguments);return A.isCollinear(this.x,this.y,t.x,t.y)},isColinear:"#isCollinear",isOrthogonal:function(){var t=A.read(arguments);return A.isOrthogonal(this.x,this.y,t.x,t.y)},isZero:function(){var t=R.isZero;return t(this.x)&&t(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(t){return this.x*(t>1&&t<4?-1:1)>=0&&this.y*(t>2?-1:1)>=0},dot:function(){var t=A.read(arguments);return this.x*t.x+this.y*t.y},cross:function(){var t=A.read(arguments);return this.x*t.y-this.y*t.x},project:function(){var t=A.read(arguments),i=t.isZero()?0:this.dot(t)/t.dot(t);return new A(t.x*i,t.y*i)},statics:{min:function(){var t=arguments,i=A.read(t),s=A.read(t);return new A(Math.min(i.x,s.x),Math.min(i.y,s.y))},max:function(){var t=arguments,i=A.read(t),s=A.read(t);return new A(Math.max(i.x,s.x),Math.max(i.y,s.y))},random:function(){return new A(Math.random(),Math.random())},isCollinear:function(t,i,s,l){return Math.abs(t*l-i*s)<=Math.sqrt((t*t+i*i)*(s*s+l*l))*1e-8},isOrthogonal:function(t,i,s,l){return Math.abs(t*s+i*l)<=Math.sqrt((t*t+i*i)*(s*s+l*l))*1e-8}}},o.each(["round","ceil","floor","abs"],function(t){var i=Math[t];this[t]=function(){return new A(i(this.x),i(this.y))}},{})),V=A.extend({initialize:function(i,s,l,f){this._x=i,this._y=s,this._owner=l,this._setter=f},_set:function(t,i,s){return this._x=t,this._y=i,s||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner._changeSelection(this._getSelection(),t)},_getSelection:function(){return this._setter==="setPosition"?4:0}}),N=o.extend({_class:"Size",_readIndex:!0,initialize:function(i,s){var l=typeof i,f=this.__read,c=0;if(l==="number"){var v=typeof s=="number";this._set(i,v?s:i),f&&(c=v?2:1)}else if(l==="undefined"||i===null)this._set(0,0),f&&(c=i===null?1:0);else{var p=l==="string"?i.split(/[\s,]+/)||[]:i;c=1,Array.isArray(p)?this._set(+p[0],+(p.length>1?p[1]:p[0])):"width"in p?this._set(p.width||0,p.height||0):"x"in p?this._set(p.x||0,p.y||0):(this._set(0,0),c=0)}return f&&(this.__read=c),this},set:"#initialize",_set:function(t,i){return this.width=t,this.height=i,this},equals:function(t){return t===this||t&&(this.width===t.width&&this.height===t.height||Array.isArray(t)&&this.width===t[0]&&this.height===t[1])||!1},clone:function(){return new N(this.width,this.height)},toString:function(){var t=k.instance;return"{ width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var i=t.formatter;return[i.number(this.width),i.number(this.height)]},add:function(){var t=N.read(arguments);return new N(this.width+t.width,this.height+t.height)},subtract:function(){var t=N.read(arguments);return new N(this.width-t.width,this.height-t.height)},multiply:function(){var t=N.read(arguments);return new N(this.width*t.width,this.height*t.height)},divide:function(){var t=N.read(arguments);return new N(this.width/t.width,this.height/t.height)},modulo:function(){var t=N.read(arguments);return new N(this.width%t.width,this.height%t.height)},negate:function(){return new N(-this.width,-this.height)},isZero:function(){var t=R.isZero;return t(this.width)&&t(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(t,i){return new N(Math.min(t.width,i.width),Math.min(t.height,i.height))},max:function(t,i){return new N(Math.max(t.width,i.width),Math.max(t.height,i.height))},random:function(){return new N(Math.random(),Math.random())}}},o.each(["round","ceil","floor","abs"],function(t){var i=Math[t];this[t]=function(){return new N(i(this.width),i(this.height))}},{})),K=N.extend({initialize:function(i,s,l,f){this._width=i,this._height=s,this._owner=l,this._setter=f},_set:function(t,i,s){return this._width=t,this._height=i,s||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(t){this._width=t,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(t){this._height=t,this._owner[this._setter](this)}}),j=o.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(i,s,l,f){var c=arguments,v=typeof i,p;if(v==="number"?(this._set(i,s,l,f),p=4):v==="undefined"||i===null?(this._set(0,0,0,0),p=i===null?1:0):c.length===1&&(Array.isArray(i)?(this._set.apply(this,i),p=1):i.x!==n||i.width!==n?(this._set(i.x||0,i.y||0,i.width||0,i.height||0),p=1):i.from===n&&i.to===n&&(this._set(0,0,0,0),o.readSupported(c,this)&&(p=1))),p===n){var m=A.readNamed(c,"from"),_=o.peek(c),S=m.x,C=m.y,b,x;if(_&&_.x!==n||o.hasNamed(c,"to")){var I=A.readNamed(c,"to");b=I.x-S,x=I.y-C,b<0&&(S=I.x,b=-b),x<0&&(C=I.y,x=-x)}else{var F=N.read(c);b=F.width,x=F.height}this._set(S,C,b,x),p=c.__index}var M=c.__filtered;return M&&(this.__filtered=M),this.__read&&(this.__read=p),this},set:"#initialize",_set:function(t,i,s,l){return this.x=t,this.y=i,this.width=s,this.height=l,this},clone:function(){return new j(this.x,this.y,this.width,this.height)},equals:function(t){var i=o.isPlainValue(t)?j.read(arguments):t;return i===this||i&&this.x===i.x&&this.y===i.y&&this.width===i.width&&this.height===i.height||!1},toString:function(){var t=k.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+", width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var i=t.formatter;return[i.number(this.x),i.number(this.y),i.number(this.width),i.number(this.height)]},getPoint:function(t){var i=t?A:V;return new i(this.x,this.y,this,"setPoint")},setPoint:function(){var t=A.read(arguments);this.x=t.x,this.y=t.y},getSize:function(t){var i=t?N:K;return new i(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var t=N.read(arguments),i=this._sx,s=this._sy,l=t.width,f=t.height;i&&(this.x+=(this.width-l)*i),s&&(this.y+=(this.height-f)*s),this.width=l,this.height=f,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(t){if(!this._fw){var i=t-this.x;this.width-=this._sx===.5?i*2:i}this.x=t,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(t){if(!this._fh){var i=t-this.y;this.height-=this._sy===.5?i*2:i}this.y=t,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(t){if(!this._fw){var i=t-this.x;this.width=this._sx===.5?i*2:i}this.x=t-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(t){if(!this._fh){var i=t-this.y;this.height=this._sy===.5?i*2:i}this.y=t-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(t){this._fw||this._sx===.5?this.x=t-this.width/2:(this._sx&&(this.x+=(t-this.x)*2*this._sx),this.width=(t-this.x)*2),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(t){this._fh||this._sy===.5?this.y=t-this.height/2:(this._sy&&(this.y+=(t-this.y)*2*this._sy),this.height=(t-this.y)*2),this._sy=.5,this._fh=0},getCenter:function(t){var i=t?A:V;return new i(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var t=A.read(arguments);return this.setCenterX(t.x),this.setCenterY(t.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return this.width===0||this.height===0},contains:function(t){return t&&t.width!==n||(Array.isArray(t)?t:arguments).length===4?this._containsRectangle(j.read(arguments)):this._containsPoint(A.read(arguments))},_containsPoint:function(t){var i=t.x,s=t.y;return i>=this.x&&s>=this.y&&i<=this.x+this.width&&s<=this.y+this.height},_containsRectangle:function(t){var i=t.x,s=t.y;return i>=this.x&&s>=this.y&&i+t.width<=this.x+this.width&&s+t.height<=this.y+this.height},intersects:function(){var t=j.read(arguments),i=o.read(arguments)||0;return t.x+t.width>this.x-i&&t.y+t.height>this.y-i&&t.x<this.x+this.width+i&&t.y<this.y+this.height+i},intersect:function(){var t=j.read(arguments),i=Math.max(this.x,t.x),s=Math.max(this.y,t.y),l=Math.min(this.x+this.width,t.x+t.width),f=Math.min(this.y+this.height,t.y+t.height);return new j(i,s,l-i,f-s)},unite:function(){var t=j.read(arguments),i=Math.min(this.x,t.x),s=Math.min(this.y,t.y),l=Math.max(this.x+this.width,t.x+t.width),f=Math.max(this.y+this.height,t.y+t.height);return new j(i,s,l-i,f-s)},include:function(){var t=A.read(arguments),i=Math.min(this.x,t.x),s=Math.min(this.y,t.y),l=Math.max(this.x+this.width,t.x),f=Math.max(this.y+this.height,t.y);return new j(i,s,l-i,f-s)},expand:function(){var t=N.read(arguments),i=t.width,s=t.height;return new j(this.x-i/2,this.y-s/2,this.width+i,this.height+s)},scale:function(t,i){return this.expand(this.width*t-this.width,this.height*(i===n?t:i)-this.height)}},o.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(t,i){var s=t.join(""),l=/^[RL]/.test(s);i>=4&&(t[1]+=l?"Y":"X");var f=t[l?0:1],c=t[l?1:0],v="get"+f,p="get"+c,m="set"+f,_="set"+c,S="get"+s,C="set"+s;this[S]=function(b){var x=b?A:V;return new x(this[v](),this[p](),this,C)},this[C]=function(){var b=A.read(arguments);this[m](b.x),this[_](b.y)}},{beans:!0})),ie=j.extend({initialize:function(i,s,l,f,c,v){this._set(i,s,l,f,!0),this._owner=c,this._setter=v},_set:function(t,i,s,l,f){return this._x=t,this._y=i,this._width=s,this._height=l,f||this._owner[this._setter](this),this}},new function(){var t=j.prototype;return o.each(["x","y","width","height"],function(i){var s=o.capitalize(i),l="_"+i;this["get"+s]=function(){return this[l]},this["set"+s]=function(f){this[l]=f,this._dontNotify||this._owner[this._setter](this)}},o.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(i){var s="set"+i;this[s]=function(){this._dontNotify=!0,t[s].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(this._owner._selection&2)},setSelected:function(i){var s=this._owner;s._changeSelection&&s._changeSelection(2,i)}}))}),te=o.extend({_class:"Matrix",initialize:function t(i,s){var l=arguments,f=l.length,c=!0;if(f>=6?this._set.apply(this,l):f===1||f===2?i instanceof t?this._set(i._a,i._b,i._c,i._d,i._tx,i._ty,s):Array.isArray(i)?this._set.apply(this,s?i.concat([s]):i):c=!1:f?c=!1:this.reset(),!c)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(t,i,s,l,f,c,v){return this._a=t,this._b=i,this._c=s,this._d=l,this._tx=f,this._ty=c,v||this._changed(),this},_serialize:function(t,i){return o.serialize(this.getValues(),t,!0,i)},_changed:function(){var t=this._owner;t&&(t._applyMatrix?t.transform(null,!0):t._changed(25))},clone:function(){return new te(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(t){return t===this||t&&this._a===t._a&&this._b===t._b&&this._c===t._c&&this._d===t._d&&this._tx===t._tx&&this._ty===t._ty},toString:function(){var t=k.instance;return"[["+[t.number(this._a),t.number(this._c),t.number(this._tx)].join(", ")+"], ["+[t.number(this._b),t.number(this._d),t.number(this._ty)].join(", ")+"]]"},reset:function(t){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,t||this._changed(),this},apply:function(t,i){var s=this._owner;return s?(s.transform(null,o.pick(t,!0),i),this.isIdentity()):!1},translate:function(){var t=A.read(arguments),i=t.x,s=t.y;return this._tx+=i*this._a+s*this._c,this._ty+=i*this._b+s*this._d,this._changed(),this},scale:function(){var t=arguments,i=A.read(t),s=A.read(t,0,{readNull:!0});return s&&this.translate(s),this._a*=i.x,this._b*=i.x,this._c*=i.y,this._d*=i.y,s&&this.translate(s.negate()),this._changed(),this},rotate:function(t){t*=Math.PI/180;var i=A.read(arguments,1),s=i.x,l=i.y,f=Math.cos(t),c=Math.sin(t),v=s-s*f+l*c,p=l-s*c-l*f,m=this._a,_=this._b,S=this._c,C=this._d;return this._a=f*m+c*S,this._b=f*_+c*C,this._c=-c*m+f*S,this._d=-c*_+f*C,this._tx+=v*m+p*S,this._ty+=v*_+p*C,this._changed(),this},shear:function(){var t=arguments,i=A.read(t),s=A.read(t,0,{readNull:!0});s&&this.translate(s);var l=this._a,f=this._b;return this._a+=i.y*this._c,this._b+=i.y*this._d,this._c+=i.x*l,this._d+=i.x*f,s&&this.translate(s.negate()),this._changed(),this},skew:function(){var t=arguments,i=A.read(t),s=A.read(t,0,{readNull:!0}),l=Math.PI/180,f=new A(Math.tan(i.x*l),Math.tan(i.y*l));return this.shear(f,s)},append:function(t,i){if(t){var s=this._a,l=this._b,f=this._c,c=this._d,v=t._a,p=t._c,m=t._b,_=t._d,S=t._tx,C=t._ty;this._a=v*s+m*f,this._c=p*s+_*f,this._b=v*l+m*c,this._d=p*l+_*c,this._tx+=S*s+C*f,this._ty+=S*l+C*c,i||this._changed()}return this},prepend:function(t,i){if(t){var s=this._a,l=this._b,f=this._c,c=this._d,v=this._tx,p=this._ty,m=t._a,_=t._c,S=t._b,C=t._d,b=t._tx,x=t._ty;this._a=m*s+_*l,this._c=m*f+_*c,this._b=S*s+C*l,this._d=S*f+C*c,this._tx=m*v+_*p+b,this._ty=S*v+C*p+x,i||this._changed()}return this},appended:function(t){return this.clone().append(t)},prepended:function(t){return this.clone().prepend(t)},invert:function(){var t=this._a,i=this._b,s=this._c,l=this._d,f=this._tx,c=this._ty,v=t*l-i*s,p=null;return v&&!isNaN(v)&&isFinite(f)&&isFinite(c)&&(this._a=l/v,this._b=-i/v,this._c=-s/v,this._d=t/v,this._tx=(s*c-l*f)/v,this._ty=(i*f-t*c)/v,p=this),p},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new te(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return this._a===1&&this._b===0&&this._c===0&&this._d===1&&this._tx===0&&this._ty===0},isInvertible:function(){var t=this._a*this._d-this._c*this._b;return t&&!isNaN(t)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(t,i,s){return arguments.length<3?this._transformPoint(A.read(arguments)):this._transformCoordinates(t,i,s)},_transformPoint:function(t,i,s){var l=t.x,f=t.y;return i||(i=new A),i._set(l*this._a+f*this._c+this._tx,l*this._b+f*this._d+this._ty,s)},_transformCoordinates:function(t,i,s){for(var l=0,f=2*s;l<f;l+=2){var c=t[l],v=t[l+1];i[l]=c*this._a+v*this._c+this._tx,i[l+1]=c*this._b+v*this._d+this._ty}return i},_transformCorners:function(t){var i=t.x,s=t.y,l=i+t.width,f=s+t.height,c=[i,s,l,s,l,f,i,f];return this._transformCoordinates(c,c,4)},_transformBounds:function(t,i,s){for(var l=this._transformCorners(t),f=l.slice(0,2),c=f.slice(),v=2;v<8;v++){var p=l[v],m=v&1;p<f[m]?f[m]=p:p>c[m]&&(c[m]=p)}return i||(i=new j),i._set(f[0],f[1],c[0]-f[0],c[1]-f[1],s)},inverseTransform:function(){return this._inverseTransform(A.read(arguments))},_inverseTransform:function(t,i,s){var l=this._a,f=this._b,c=this._c,v=this._d,p=this._tx,m=this._ty,_=l*v-f*c,S=null;if(_&&!isNaN(_)&&isFinite(p)&&isFinite(m)){var C=t.x-this._tx,b=t.y-this._ty;i||(i=new A),S=i._set((C*v-b*c)/_,(b*l-C*f)/_,s)}return S},decompose:function(){var t=this._a,i=this._b,s=this._c,l=this._d,f=t*l-i*s,c=Math.sqrt,v=Math.atan2,p=180/Math.PI,m,_,S;if(t!==0||i!==0){var C=c(t*t+i*i);m=Math.acos(t/C)*(i>0?1:-1),_=[C,f/C],S=[v(t*s+i*l,C*C),0]}else if(s!==0||l!==0){var b=c(s*s+l*l);m=Math.asin(s/b)*(l>0?1:-1),_=[f/b,b],S=[0,v(t*s+i*l,b*b)]}else m=0,S=_=[0,0];return{translation:this.getTranslation(),rotation:m*p,scaling:new A(_),skewing:new A(S[0]*p,S[1]*p)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new A(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(t){this.isIdentity()||t.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},o.each(["a","b","c","d","tx","ty"],function(t){var i=o.capitalize(t),s="_"+t;this["get"+i]=function(){return this[s]},this["set"+i]=function(l){this[s]=l,this._changed()}},{})),oe=o.extend({_class:"Line",initialize:function(i,s,l,f,c){var v=!1;arguments.length>=4?(this._px=i,this._py=s,this._vx=l,this._vy=f,v=c):(this._px=i.x,this._py=i.y,this._vx=s.x,this._vy=s.y,v=l),v||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new A(this._px,this._py)},getVector:function(){return new A(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(t,i){return oe.intersect(this._px,this._py,this._vx,this._vy,t._px,t._py,t._vx,t._vy,!0,i)},getSide:function(t,i){return oe.getSide(this._px,this._py,this._vx,this._vy,t.x,t.y,!0,i)},getDistance:function(t){return Math.abs(this.getSignedDistance(t))},getSignedDistance:function(t){return oe.getSignedDistance(this._px,this._py,this._vx,this._vy,t.x,t.y,!0)},isCollinear:function(t){return A.isCollinear(this._vx,this._vy,t._vx,t._vy)},isOrthogonal:function(t){return A.isOrthogonal(this._vx,this._vy,t._vx,t._vy)},statics:{intersect:function(t,i,s,l,f,c,v,p,m,_){m||(s-=t,l-=i,v-=f,p-=c);var S=s*p-l*v;if(!R.isMachineZero(S)){var C=t-f,b=i-c,x=(v*b-p*C)/S,I=(s*b-l*C)/S,F=1e-12,M=-F,w=1+F;if(_||M<x&&x<w&&M<I&&I<w)return _||(x=x<=0?0:x>=1?1:x),new A(t+x*s,i+x*l)}},getSide:function(t,i,s,l,f,c,v,p){v||(s-=t,l-=i);var m=f-t,_=c-i,S=m*l-_*s;return!p&&R.isMachineZero(S)&&(S=(m*s+m*s)/(s*s+l*l),S>=0&&S<=1&&(S=0)),S<0?-1:S>0?1:0},getSignedDistance:function(t,i,s,l,f,c,v){return v||(s-=t,l-=i),s===0?l>0?f-t:t-f:l===0?s<0?c-i:i-c:((f-t)*l-(c-i)*s)/(l>s?l*Math.sqrt(1+s*s/(l*l)):s*Math.sqrt(1+l*l/(s*s)))},getDistance:function(t,i,s,l,f,c,v){return Math.abs(oe.getSignedDistance(t,i,s,l,f,c,v))}}}),fe=d.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(i){d.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new or(null,null,this),this._view=tt.create(this,i||ht.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(t,i){return o.serialize(this._children,t,!0,i)},_changed:function(t,i){if(t&1){var s=this._view;s&&(s._needsUpdate=!0,!s._requested&&s._autoUpdate&&s.requestUpdate())}var l=this._changes;if(l&&i){var f=this._changesById,c=i._id,v=f[c];v?v.flags|=t:l.push(f[c]={item:i,flags:t})}},clear:function(){for(var t=this._children,i=t.length-1;i>=0;i--)t[i].remove()},isEmpty:function(){return!this._children.length},remove:function t(){return t.base.call(this)?(this._view&&this._view.remove(),!0):!1},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(t){this._currentStyle.set(t)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new xe({project:this,insert:!0})},getSymbolDefinitions:function(){var t=[],i={};return this.getItems({class:Ze,match:function(s){var l=s._definition,f=l._id;return i[f]||(i[f]=!0,t.push(l)),!1}}),t},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var t=this._selectionItems,i=[];for(var s in t){var l=t[s],f=l._selection;f&1&&l.isInserted()?i.push(l):f||this._updateSelection(l)}return i},_updateSelection:function(t){var i=t._id,s=this._selectionItems;t._selection?s[i]!==t&&(this._selectionCount++,s[i]=t):s[i]===t&&(this._selectionCount--,delete s[i])},selectAll:function(){for(var t=this._children,i=0,s=t.length;i<s;i++)t[i].setFullySelected(!0)},deselectAll:function(){var t=this._selectionItems;for(var i in t)t[i].setFullySelected(!1)},addLayer:function(t){return this.insertLayer(n,t)},insertLayer:function(t,i){if(i instanceof xe){i._remove(!1,!0),o.splice(this._children,[i],t,0),i._setProject(this,!0);var s=i._name;s&&i.setName(s),this._changes&&i._changed(5),this._activeLayer||(this._activeLayer=i)}else i=null;return i},_insertItem:function(t,i,s){return i=this.insertLayer(t,i)||(this._activeLayer||this._insertItem(n,new xe(pe.NO_INSERT),!0)).insertChild(t,i),s&&i.activate&&i.activate(),i},getItems:function(t){return pe._getItems(this,t)},getItem:function(t){return pe._getItems(this,t,null,null,!0)[0]||null},importJSON:function(t){this.activate();var i=this._activeLayer;return o.importJSON(t,i&&i.isEmpty()&&i)},removeOn:function(t){var i=this._removeSets;if(i){t==="mouseup"&&(i.mousedrag=null);var s=i[t];if(s){for(var l in s){var f=s[l];for(var c in i){var v=i[c];v&&v!=s&&delete v[f._id]}f.remove()}i[t]=null}}},draw:function(t,i,s){this._updateVersion++,t.save(),i.applyToContext(t);for(var l=this._children,f=new o({offset:new A(0,0),pixelRatio:s,viewMatrix:i.isIdentity()?null:i,matrices:[new te],updateMatrix:!0}),c=0,v=l.length;c<v;c++)l[c].draw(t,f);if(t.restore(),this._selectionCount>0){t.save(),t.strokeWidth=1;var p=this._selectionItems,m=this._scope.settings.handleSize,_=this._updateVersion;for(var S in p)p[S]._drawSelection(t,i,m,p,_);t.restore()}}}),pe=o.extend(h,{statics:{extend:function t(i){return i._serializeFields&&(i._serializeFields=o.set({},this.prototype._serializeFields,i._serializeFields)),t.base.apply(this,arguments)},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new te,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var t=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return o.each(t,function(i){this._events[i]={install:function(s){this.getView()._countItemEvent(s,1)},uninstall:function(s){this.getView()._countItemEvent(s,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:t}})},{initialize:function(){},_initialize:function(t,i){var s=t&&o.isPlainObject(t),l=s&&t.internal===!0,f=this._matrix=new te,c=s&&t.project||Ne.project,v=Ne.settings;return this._id=l?null:D.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&v.applyMatrix,i&&f.translate(i),f._owner=this,this._style=new or(c._currentStyle,this,c),l||s&&t.insert==!1||!v.insertItems&&!(s&&t.insert===!0)?this._setProject(c):(s&&t.parent||c)._insertItem(n,this,!0),s&&t!==pe.NO_INSERT&&this.set(t,{internal:!0,insert:!0,project:!0,parent:!0}),s},_serialize:function(t,i){var s={},l=this;function f(c){for(var v in c){var p=l[v];o.equals(p,v==="leading"?c.fontSize*1.2:c[v])||(s[v]=o.serialize(p,t,v!=="data",i))}}return f(this._serializeFields),this instanceof Ce||f(this._style._defaults),[this._class,s]},_changed:function(t){var i=this._symbol,s=this._parent||i,l=this._project;t&8&&(this._bounds=this._position=this._decomposed=n),t&16&&(this._globalMatrix=n),s&&t&72&&pe._clearBoundsCache(s),t&2&&pe._clearBoundsCache(this),l&&l._changed(t,this),i&&i._changed(t)},getId:function(){return this._id},getName:function(){return this._name},setName:function(t){if(this._name&&this._removeNamed(),t===+t+"")throw new Error("Names consisting only of numbers are not supported.");var i=this._getOwner();if(t&&i){var s=i._children,l=i._namedChildren;(l[t]=l[t]||[]).push(this),t in s||(s[t]=this)}this._name=t||n,this._changed(256)},getStyle:function(){return this._style},setStyle:function(t){this.getStyle().set(t)}},o.each(["locked","visible","blendMode","opacity","guide"],function(t){var i=o.capitalize(t),s="_"+t,l={locked:256,visible:265};this["get"+i]=function(){return this[s]},this["set"+i]=function(f){f!=this[s]&&(this[s]=f,this._changed(l[t]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(t){if(t!==this._selection){this._selection=t;var i=this._project;i&&(i._updateSelection(this),this._changed(257))}},_changeSelection:function(t,i){var s=this._selection;this.setSelection(i?s|t:s&~t)},isSelected:function(){if(this._selectChildren){for(var t=this._children,i=0,s=t.length;i<s;i++)if(t[i].isSelected())return!0}return!!(this._selection&1)},setSelected:function(t){if(this._selectChildren)for(var i=this._children,s=0,l=i.length;s<l;s++)i[s].setSelected(t);this._changeSelection(1,t)},isFullySelected:function(){var t=this._children,i=!!(this._selection&1);if(t&&i){for(var s=0,l=t.length;s<l;s++)if(!t[s].isFullySelected())return!1;return!0}return i},setFullySelected:function(t){var i=this._children;if(i)for(var s=0,l=i.length;s<l;s++)i[s].setFullySelected(t);this._changeSelection(1,t)},isClipMask:function(){return this._clipMask},setClipMask:function(t){this._clipMask!=(t=!!t)&&(this._clipMask=t,t&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(t){this._data=t},getPosition:function(t){var i=t?A:V,s=this._position||(this._position=this._getPositionFromBounds());return new i(s.x,s.y,this,"setPosition")},setPosition:function(){this.translate(A.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(t){return this._pivot?this._matrix._transformPoint(this._pivot):(t||this.getBounds()).getCenter(!0)},getPivot:function(){var t=this._pivot;return t?new V(t.x,t.y,this,"setPivot"):null},setPivot:function(){this._pivot=A.read(arguments,0,{clone:!0,readNull:!0}),this._position=n}},o.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(t,i){this[i]=function(s){return this.getBounds(s,t)}},{beans:!0,getBounds:function(t,i){var s=i||t instanceof te,l=o.set({},s?i:t,this._boundsOptions);(!l.stroke||this.getStrokeScaling())&&(l.cacheItem=this);var f=this._getCachedBounds(s&&t,l).rect;return arguments.length?f:new ie(f.x,f.y,f.width,f.height,this,"setBounds")},setBounds:function(){var t=j.read(arguments),i=this.getBounds(),s=this._matrix,l=new te,f=t.getCenter();l.translate(f),(t.width!=i.width||t.height!=i.height)&&(s.isInvertible()||(s.set(s._backup||new te().translate(s.getTranslation())),i=this.getBounds()),l.scale(i.width!==0?t.width/i.width:0,i.height!==0?t.height/i.height:0)),f=i.getCenter(),l.translate(-f.x,-f.y),this.transform(l)},_getBounds:function(t,i){var s=this._children;return!s||!s.length?new j:(pe._updateBoundsCache(this,i.cacheItem),pe._getBounds(s,t,i))},_getBoundsCacheKey:function(t,i){return[t.stroke?1:0,t.handle?1:0,i?1:0].join("")},_getCachedBounds:function(t,i,s){t=t&&t._orNullIfIdentity();var l=i.internal&&!s,f=i.cacheItem,c=l?null:this._matrix._orNullIfIdentity(),v=f&&(!t||t.equals(c))&&this._getBoundsCacheKey(i,l),p=this._bounds;if(pe._updateBoundsCache(this._parent||this._symbol,f),v&&p&&v in p){var m=p[v];return{rect:m.rect.clone(),nonscaling:m.nonscaling}}var _=this._getBounds(t||c,i),S=_.rect||_,C=this._style,b=_.nonscaling||C.hasStroke()&&!C.getStrokeScaling();if(v){p||(this._bounds=p={});var m=p[v]={rect:S.clone(),nonscaling:b,internal:l}}return{rect:S,nonscaling:b}},_getStrokeMatrix:function(t,i){var s=this.getStrokeScaling()?null:i&&i.internal?this:this._parent||this._symbol&&this._symbol._item,l=s?s.getViewMatrix().invert():t;return l&&l._shiftless()},statics:{_updateBoundsCache:function(t,i){if(t&&i){var s=i._id,l=t._boundsCache=t._boundsCache||{ids:{},list:[]};l.ids[s]||(l.list.push(i),l.ids[s]=i)}},_clearBoundsCache:function(t){var i=t._boundsCache;if(i){t._bounds=t._position=t._boundsCache=n;for(var s=0,l=i.list,f=l.length;s<f;s++){var c=l[s];c!==t&&(c._bounds=c._position=n,c._boundsCache&&pe._clearBoundsCache(c))}}},_getBounds:function(t,i,s){var l=1/0,f=-l,c=l,v=f,p=!1;s=s||{};for(var m=0,_=t.length;m<_;m++){var S=t[m];if(S._visible&&!S.isEmpty(!0)){var C=S._getCachedBounds(i&&i.appended(S._matrix),s,!0),b=C.rect;l=Math.min(b.x,l),c=Math.min(b.y,c),f=Math.max(b.x+b.width,f),v=Math.max(b.y+b.height,v),C.nonscaling&&(p=!0)}}return{rect:isFinite(l)?new j(l,c,f-l,v-c):new j,nonscaling:p}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var t=this._decompose();return t?t.rotation:0},setRotation:function(t){var i=this.getRotation();if(i!=null&&t!=null){var s=this._decomposed;this.rotate(t-i),s&&(s.rotation=t,this._decomposed=s)}},getScaling:function(){var t=this._decompose(),i=t&&t.scaling;return new V(i?i.x:1,i?i.y:1,this,"setScaling")},setScaling:function(){var t=this.getScaling(),i=A.read(arguments,0,{clone:!0,readNull:!0});if(t&&i&&!t.equals(i)){var s=this.getRotation(),l=this._decomposed,f=new te,c=R.isZero;if(c(t.x)||c(t.y))f.translate(l.translation),s&&f.rotate(s),f.scale(i.x,i.y),this._matrix.set(f);else{var v=this.getPosition(!0);f.translate(v),s&&f.rotate(s),f.scale(i.x/t.x,i.y/t.y),s&&f.rotate(-s),f.translate(v.negate()),this.transform(f)}l&&(l.scaling=i,this._decomposed=l)}},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.set.apply(t,arguments)},getGlobalMatrix:function(t){var i=this._globalMatrix;if(i)for(var s=this._parent,l=[];s;){if(!s._globalMatrix){i=null;for(var f=0,c=l.length;f<c;f++)l[f]._globalMatrix=null;break}l.push(s),s=s._parent}if(!i){i=this._globalMatrix=this._matrix.clone();var s=this._parent;s&&i.prepend(s.getGlobalMatrix(!0))}return t?i:i.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(t){(this._applyMatrix=this._canApplyMatrix&&!!t)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(t,i){if(this._project!==t){this._project&&this._installEvents(!1),this._project=t;for(var s=this._children,l=0,f=s&&s.length;l<f;l++)s[l]._setProject(t);i=!0}i&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function t(i){t.base.call(this,i);for(var s=this._children,l=0,f=s&&s.length;l<f;l++)s[l]._installEvents(i)},getLayer:function(){for(var t=this;t=t._parent;)if(t instanceof xe)return t;return null},getParent:function(){return this._parent},setParent:function(t){return t.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(t){this.removeChildren(),this.addChildren(t)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var t=this._getOwner();return t&&t._children[this._index+1]||null},getPreviousSibling:function(){var t=this._getOwner();return t&&t._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(t){return t===this||t&&this._class===t._class&&this._style.equals(t._style)&&this._matrix.equals(t._matrix)&&this._locked===t._locked&&this._visible===t._visible&&this._blendMode===t._blendMode&&this._opacity===t._opacity&&this._clipMask===t._clipMask&&this._guide===t._guide&&this._equals(t)||!1},_equals:function(t){return o.equals(this._children,t._children)},clone:function(t){var i=new this.constructor(pe.NO_INSERT),s=this._children,l=o.pick(t?t.insert:n,t===n||t===!0),f=o.pick(t?t.deep:n,!0);s&&i.copyAttributes(this),(!s||f)&&i.copyContent(this),s||i.copyAttributes(this),l&&i.insertAbove(this);var c=this._name,v=this._parent;if(c&&v){for(var s=v._children,p=c,m=1;s[c];)c=p+" "+m++;c!==p&&i.setName(c)}return i},copyContent:function(t){for(var i=t._children,s=0,l=i&&i.length;s<l;s++)this.addChild(i[s].clone(!1),!0)},copyAttributes:function(t,i){this.setStyle(t._style);for(var s=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],l=0,f=s.length;l<f;l++){var c=s[l];t.hasOwnProperty(c)&&(this[c]=t[c])}i||this._matrix.set(t._matrix,!0),this.setApplyMatrix(t._applyMatrix),this.setPivot(t._pivot),this.setSelection(t._selection);var v=t._data,p=t._name;this._data=v?o.clone(v):null,p&&this.setName(p)},rasterize:function(t,i){var s,l,f;o.isPlainObject(t)?(s=t.resolution,l=t.insert,f=t.raster):(s=t,l=i),f?f.matrix.reset(!0):f=new Ke(pe.NO_INSERT);var c=this.getStrokeBounds(),v=(s||this.getView().getResolution())/72,p=c.getTopLeft().floor(),m=c.getBottomRight().ceil(),_=new N(m.subtract(p)),S=_.multiply(v);if(f.setSize(S,!0),!S.isZero()){var C=f.getContext(!0),b=new te().scale(v).translate(p.negate());C.save(),b.applyToContext(C),this.draw(C,new o({matrices:[b]})),C.restore()}return f.transform(new te().translate(p.add(_.divide(2))).scale(1/v)),(l===n||l)&&f.insertAbove(this),f},contains:function(){var t=this._matrix;return t.isInvertible()&&!!this._contains(t._inverseTransform(A.read(arguments)))},_contains:function(t){var i=this._children;if(i){for(var s=i.length-1;s>=0;s--)if(i[s].contains(t))return!0;return!1}return t.isInside(this.getInternalBounds())},isInside:function(){return j.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new Te.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(t,i){return t instanceof pe?this._asPathItem().getIntersections(t._asPathItem(),null,i,!0).length>0:!1}},new function(){function t(){var l=arguments;return this._hitTest(A.read(l),Ye.getOptions(l))}function i(){var l=arguments,f=A.read(l),c=Ye.getOptions(l),v=[];return this._hitTest(f,new o({all:v},c)),v}function s(l,f,c,v){var p=this._children;if(p)for(var m=p.length-1;m>=0;m--){var _=p[m],S=_!==v&&_._hitTest(l,f,c);if(S&&!f.all)return S}return null}return fe.inject({hitTest:t,hitTestAll:i,_hitTest:s}),{hitTest:t,hitTestAll:i,_hitTestChildren:s}},{_hitTest:function(t,i,s){if(this._locked||!this._visible||this._guide&&!i.guides||this.isEmpty())return null;var l=this._matrix,f=s?s.appended(l):this.getGlobalMatrix().prepend(this.getView()._matrix),c=Math.max(i.tolerance,1e-12),v=i._tolerancePadding=new N(Te._getStrokePadding(c,l._shiftless().invert()));if(t=l._inverseTransform(t),!t||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(v.multiply(2))._containsPoint(t))return null;var p=!(i.guides&&!this._guide||i.selected&&!this.isSelected()||i.type&&i.type!==o.hyphenate(this._class)||i.class&&!(this instanceof i.class)),m=i.match,_=this,S,C;function b(y){return y&&m&&!m(y)&&(y=null),y&&i.all&&i.all.push(y),y}function x(y,E){var L=E?S["get"+E]():_.getPosition();if(t.subtract(L).divide(v).length<=1)return new Ye(y,_,{name:E?o.hyphenate(E):y,point:L})}var I=i.position,F=i.center,M=i.bounds;if(p&&this._parent&&(I||F||M)){if((F||M)&&(S=this.getInternalBounds()),C=I&&x("position")||F&&x("center","Center"),!C&&M)for(var w=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],O=0;O<8&&!C;O++)C=x("bounds",w[O]);C=b(C)}return C||(C=this._hitTestChildren(t,i,f)||p&&b(this._hitTestSelf(t,i,f,this.getStrokeScaling()?null:f._shiftless().invert()))||null),C&&C.point&&(C.point=l.transform(C.point)),C},_hitTestSelf:function(t,i){if(i.fill&&this.hasFill()&&this._contains(t))return new Ye("fill",this)},matches:function(t,i){function s(v,p){for(var m in v)if(v.hasOwnProperty(m)){var _=v[m],S=p[m];if(o.isPlainObject(_)&&o.isPlainObject(S)){if(!s(_,S))return!1}else if(!o.equals(_,S))return!1}return!0}var l=typeof t;if(l==="object"){for(var f in t)if(t.hasOwnProperty(f)&&!this.matches(f,t[f]))return!1;return!0}else{if(l==="function")return t(this);if(t==="match")return i(this);var c=/^(empty|editable)$/.test(t)?this["is"+o.capitalize(t)]():t==="type"?o.hyphenate(this._class):this[t];if(t==="class"){if(typeof i=="function")return this instanceof i;c=this._class}if(typeof i=="function")return!!i(c);if(i){if(i.test)return i.test(c);if(o.isPlainObject(i))return s(i,c)}return o.equals(c,i)}},getItems:function(t){return pe._getItems(this,t,this._matrix)},getItem:function(t){return pe._getItems(this,t,this._matrix,null,!0)[0]||null},statics:{_getItems:function t(i,s,l,f,c){if(!f){var v=typeof s=="object"&&s,p=v&&v.overlapping,m=v&&v.inside,_=p||m,b=_&&j.read([_]);f={items:[],recursive:v&&v.recursive!==!1,inside:!!m,overlapping:!!p,rect:b,path:p&&new Te.Rectangle({rectangle:b,insert:!1})},v&&(s=o.filter({},s,{recursive:!0,inside:!0,overlapping:!0}))}var S=i._children,C=f.items,b=f.rect;l=b&&(l||new te);for(var x=0,I=S&&S.length;x<I;x++){var F=S[x],M=l&&l.appended(F._matrix),w=!0;if(b){var _=F.getBounds(M);if(!b.intersects(_))continue;b.contains(_)||f.overlapping&&(_.contains(b)||f.path.intersects(F,M))||(w=!1)}if(w&&F.matches(s)&&(C.push(F),c)||(f.recursive!==!1&&t(F,s,M,f,c),c&&C.length>0))break}return C}}},{importJSON:function(t){var i=o.importJSON(t,this);return i!==this?this.addChild(i):i},addChild:function(t){return this.insertChild(n,t)},insertChild:function(t,i){var s=i?this.insertChildren(t,[i]):null;return s&&s[0]},addChildren:function(t){return this.insertChildren(this._children.length,t)},insertChildren:function(t,i){var s=this._children;if(s&&i&&i.length>0){i=o.slice(i);for(var l={},f=i.length-1;f>=0;f--){var c=i[f],v=c&&c._id;!c||l[v]?i.splice(f,1):(c._remove(!1,!0),l[v]=!0)}o.splice(s,i,t,0);for(var p=this._project,m=p._changes,f=0,_=i.length;f<_;f++){var c=i[f],S=c._name;c._parent=this,c._setProject(p,!0),S&&c.setName(S),m&&c._changed(5)}this._changed(11)}else i=null;return i},_insertItem:"#insertChild",_insertAt:function(t,i){var s=t&&t._getOwner(),l=t!==this&&s?this:null;return l&&(l._remove(!1,!0),s._insertItem(t._index+i,l)),l},insertAbove:function(t){return this._insertAt(t,1)},insertBelow:function(t){return this._insertAt(t,0)},sendToBack:function(){var t=this._getOwner();return t?t._insertItem(0,this):null},bringToFront:function(){var t=this._getOwner();return t?t._insertItem(n,this):null},appendTop:"#addChild",appendBottom:function(t){return this.insertChild(0,t)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(t){return t._insertItem(n,this)},copyTo:function(t){return this.clone(!1).addTo(t)},reduce:function(t){var i=this._children;if(i&&i.length===1){var s=i[0].reduce(t);return this._parent?(s.insertAbove(this),this.remove()):s.remove(),s}return this},_removeNamed:function(){var t=this._getOwner();if(t){var i=t._children,s=t._namedChildren,l=this._name,f=s[l],c=f?f.indexOf(this):-1;c!==-1&&(i[l]==this&&delete i[l],f.splice(c,1),f.length?i[l]=f[0]:delete s[l])}},_remove:function(t,i){var s=this._getOwner(),l=this._project,f=this._index;return this._style&&this._style._dispose(),s?(this._name&&this._removeNamed(),f!=null&&(l._activeLayer===this&&(l._activeLayer=this.getNextSibling()||this.getPreviousSibling()),o.splice(s._children,null,f,1)),this._installEvents(!1),t&&l._changes&&this._changed(5),i&&s._changed(11,this),this._parent=null,!0):!1},remove:function(){return this._remove(!0,!0)},replaceWith:function(t){var i=t&&t.insertBelow(this);return i&&this.remove(),i},removeChildren:function(t,i){if(!this._children)return null;t=t||0,i=o.pick(i,this._children.length);for(var s=o.splice(this._children,null,t,i-t),l=s.length-1;l>=0;l--)s[l]._remove(!0,!1);return s.length>0&&this._changed(11),s},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var t=0,i=this._children.length;t<i;t++)this._children[t]._index=t;this._changed(11)}},isEmpty:function(t){var i=this._children,s=i?i.length:0;if(t){for(var l=0;l<s;l++)if(!i[l].isEmpty(t))return!1;return!0}return!s},isEditable:function(){for(var t=this;t;){if(!t._visible||t._locked)return!1;t=t._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(t){function i(v){var p=[];do p.unshift(v);while(v=v._parent);return p}for(var s=i(this),l=i(t),f=0,c=Math.min(s.length,l.length);f<c;f++)if(s[f]!=l[f])return s[f]._index<l[f]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(t){return this._getOrder(t)===-1},isBelow:function(t){return this._getOrder(t)===1},isParent:function(t){return this._parent===t},isChild:function(t){return t&&t._parent===this},isDescendant:function(t){for(var i=this;i=i._parent;)if(i===t)return!0;return!1},isAncestor:function(t){return t?t.isDescendant(this):!1},isSibling:function(t){return this._parent===t._parent},isGroupedWith:function(t){for(var i=this._parent;i;){if(i._parent&&/^(Group|Layer|CompoundPath)$/.test(i._class)&&t.isDescendant(i))return!0;i=i._parent}return!1}},o.each(["rotate","scale","shear","skew"],function(t){var i=t==="rotate";this[t]=function(){var s=arguments,l=(i?o:A).read(s),f=A.read(s,0,{readNull:!0});return this.transform(new te()[t](l,f||this.getPosition(!0)))}},{translate:function(){var t=new te;return this.transform(t.translate.apply(t,arguments))},transform:function(t,i,s){var l=this._matrix,f=t&&!t.isIdentity(),c=s&&this._canApplyMatrix||this._applyMatrix&&(f||!l.isIdentity()||i&&this._children);if(!f&&!c)return this;if(f){!t.isInvertible()&&l.isInvertible()&&(l._backup=l.getValues()),l.prepend(t,!0);var v=this._style,p=v.getFillColor(!0),m=v.getStrokeColor(!0);p&&p.transform(t),m&&m.transform(t)}if(c&&(c=this._transformContent(l,i,s))){var _=this._pivot;_&&l._transformPoint(_,_,!0),l.reset(!0),s&&this._canApplyMatrix&&(this._applyMatrix=!0)}var S=this._bounds,C=this._position;(f||c)&&this._changed(25);var b=f&&S&&t.decompose();if(b&&b.skewing.isZero()&&b.rotation%90===0){for(var x in S){var I=S[x];if(I.nonscaling)delete S[x];else if(c||!I.internal){var F=I.rect;t._transformBounds(F,F)}}this._bounds=S;var M=S[this._getBoundsCacheKey(this._boundsOptions||{})];M&&(this._position=this._getPositionFromBounds(M.rect))}else f&&C&&this._pivot&&(this._position=t._transformPoint(C,C));return this},_transformContent:function(t,i,s){var l=this._children;if(l){for(var f=0,c=l.length;f<c;f++)l[f].transform(t,i,s);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(A.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(A.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(A.read(arguments))},localToParent:function(){return this._matrix._transformPoint(A.read(arguments))},fitBounds:function(t,i){t=j.read(arguments);var s=this.getBounds(),l=s.height/s.width,f=t.height/t.width,c=(i?l>f:l<f)?t.width/s.width:t.height/s.height,v=new j(new A,new N(s.width*c,s.height*c));v.setCenter(t.getCenter()),this.setBounds(v)}}),{_setStyles:function(t,i,s){var l=this._style,f=this._matrix;if(l.hasFill()&&(t.fillStyle=l.getFillColor().toCanvasStyle(t,f)),l.hasStroke()){t.strokeStyle=l.getStrokeColor().toCanvasStyle(t,f),t.lineWidth=l.getStrokeWidth();var c=l.getStrokeJoin(),v=l.getStrokeCap(),p=l.getMiterLimit();if(c&&(t.lineJoin=c),v&&(t.lineCap=v),p&&(t.miterLimit=p),Ne.support.nativeDash){var m=l.getDashArray(),_=l.getDashOffset();m&&m.length&&("setLineDash"in t?(t.setLineDash(m),t.lineDashOffset=_):(t.mozDash=m,t.mozDashOffset=_))}}if(l.hasShadow()){var S=i.pixelRatio||1,C=s._shiftless().prepend(new te().scale(S,S)),b=C.transform(new A(l.getShadowBlur(),0)),x=C.transform(this.getShadowOffset());t.shadowColor=l.getShadowColor().toCanvasStyle(t),t.shadowBlur=b.getLength(),t.shadowOffsetX=x.x,t.shadowOffsetY=x.y}},draw:function(t,i,s){if(this._updateVersion=this._project._updateVersion,!(!this._visible||this._opacity===0)){var l=i.matrices,f=i.viewMatrix,c=this._matrix,v=l[l.length-1].appended(c);if(!!v.isInvertible()){f=f?f.appended(v):v,l.push(v),i.updateMatrix&&(this._globalMatrix=v);var p=this._blendMode,m=R.clamp(this._opacity,0,1),_=p==="normal",S=fi.nativeModes[p],C=_&&m===1||i.dontStart||i.clip||(S||_&&m<1)&&this._canComposite(),b=i.pixelRatio||1,x,I,F;if(!C){var M=this.getStrokeBounds(f);if(!M.width||!M.height){l.pop();return}F=i.offset,I=i.offset=M.getTopLeft().floor(),x=t,t=ht.getContext(M.getSize().ceil().add(1).multiply(b)),b!==1&&t.scale(b,b)}t.save();var w=s?s.appended(c):this._canScaleStroke&&!this.getStrokeScaling(!0)&&f,O=!C&&i.clipItem,y=!w||O;if(C?(t.globalAlpha=m,S&&(t.globalCompositeOperation=p)):y&&t.translate(-I.x,-I.y),y&&(C?c:f).applyToContext(t),O&&i.clipItem.draw(t,i.extend({clip:!0})),w){t.setTransform(b,0,0,b,0,0);var E=i.offset;E&&t.translate(-E.x,-E.y)}this._draw(t,i,f,w),t.restore(),l.pop(),i.clip&&!i.dontFinish&&t.clip(this.getFillRule()),C||(fi.process(p,t,x,m,I.subtract(F).multiply(b)),ht.release(t),i.offset=F)}}},_isUpdated:function(t){var i=this._parent;if(i instanceof He)return i._isUpdated(t);var s=this._updateVersion===t;return!s&&i&&i._visible&&i._isUpdated(t)&&(this._updateVersion=t,s=!0),s},_drawSelection:function(t,i,s,l,f){var c=this._selection,v=c&1,p=c&2||v&&this._selectBounds,m=c&4;if(this._drawSelected||(v=!1),(v||p||m)&&this._isUpdated(f)){var _,S=this.getSelectedColor(!0)||(_=this.getLayer())&&_.getSelectedColor(!0),C=i.appended(this.getGlobalMatrix(!0)),b=s/2;if(t.strokeStyle=t.fillStyle=S?S.toCanvasStyle(t):"#009dec",v&&this._drawSelected(t,C,l),m){var x=this.getPosition(!0),I=this._parent,F=I?I.localToGlobal(x):x,M=F.x,w=F.y;t.beginPath(),t.arc(M,w,b,0,Math.PI*2,!0),t.stroke();for(var O=[[0,-1],[1,0],[0,1],[-1,0]],y=b,E=s+1,L=0;L<4;L++){var U=O[L],P=U[0],B=U[1];t.moveTo(M+P*y,w+B*y),t.lineTo(M+P*E,w+B*E),t.stroke()}}if(p){var G=C._transformCorners(this.getInternalBounds());t.beginPath();for(var L=0;L<8;L++)t[L?"lineTo":"moveTo"](G[L],G[++L]);t.closePath(),t.stroke();for(var L=0;L<8;L++)t.fillRect(G[L]-b,G[++L]-b,s,s)}}},_canComposite:function(){return!1}},o.each(["down","drag","up","move"],function(t){this["removeOn"+o.capitalize(t)]=function(){var i={};return i[t]=!0,this.removeOn(i)}},{removeOn:function(t){for(var i in t)if(t[i]){var s="mouse"+i,l=this._project,f=l._removeSets=l._removeSets||{};f[s]=f[s]||{},f[s][this._id]=this}return this}}),{tween:function(t,i,s){s||(s=i,i=t,t=null,s||(s=i,i=null));var l=s&&s.easing,f=s&&s.start,c=s!=null&&(typeof s=="number"?s:s.duration),v=new Su(this,t,i,c,l,f);function p(m){v._handleFrame(m.time*1e3),v.running||this.off("frame",p)}return c&&this.on("frame",p),v},tweenTo:function(t,i){return this.tween(null,t,i)},tweenFrom:function(t,i){return this.tween(t,null,i)}}),Ce=pe.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(i){this._children=[],this._namedChildren={},this._initialize(i)||this.addChildren(Array.isArray(i)?i:arguments)},_changed:function t(i){t.base.call(this,i),i&2050&&(this._clipItem=n)},_getClipItem:function(){var t=this._clipItem;if(t===n){t=null;for(var i=this._children,s=0,l=i.length;s<l;s++)if(i[s]._clipMask){t=i[s];break}this._clipItem=t}return t},isClipped:function(){return!!this._getClipItem()},setClipped:function(t){var i=this.getFirstChild();i&&i.setClipMask(t)},_getBounds:function t(i,s){var l=this._getClipItem();return l?l._getCachedBounds(l._matrix.prepended(i),o.set({},s,{stroke:!1})):t.base.call(this,i,s)},_hitTestChildren:function t(i,s,l){var f=this._getClipItem();return(!f||f.contains(i))&&t.base.call(this,i,s,l,f)},_draw:function(t,i){var s=i.clip,l=!s&&this._getClipItem();i=i.extend({clipItem:l,clip:!1}),s?(t.beginPath(),i.dontStart=i.dontFinish=!0):l&&l.draw(t,i.extend({clip:!0}));for(var f=this._children,c=0,v=f.length;c<v;c++){var p=f[c];p!==l&&p.draw(t,i)}}}),xe=Ce.extend({_class:"Layer",initialize:function(){Ce.apply(this,arguments)},_getOwner:function(){return this._parent||this._index!=null&&this._project},isInserted:function t(){return this._parent?t.base.call(this):this._index!=null},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),Re=pe.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(i,s){this._initialize(i,s)},_equals:function(t){return this._type===t._type&&this._size.equals(t._size)&&o.equals(this._radius,t._radius)},copyContent:function(t){this.setType(t._type),this.setSize(t._size),this.setRadius(t._radius)},getType:function(){return this._type},setType:function(t){this._type=t},getShape:"#getType",setShape:"#setType",getSize:function(){var t=this._size;return new K(t.width,t.height,this,"setSize")},setSize:function(){var t=N.read(arguments);if(!this._size)this._size=t.clone();else if(!this._size.equals(t)){var i=this._type,s=t.width,l=t.height;i==="rectangle"?this._radius.set(N.min(this._radius,t.divide(2).abs())):i==="circle"?(s=l=(s+l)/2,this._radius=s/2):i==="ellipse"&&this._radius._set(s/2,l/2),this._size._set(s,l),this._changed(9)}},getRadius:function(){var t=this._radius;return this._type==="circle"?t:new K(t.width,t.height,this,"setRadius")},setRadius:function(t){var i=this._type;if(i==="circle"){if(t===this._radius)return;var s=t*2;this._radius=t,this._size._set(s,s)}else if(t=N.read(arguments),!this._radius)this._radius=t.clone();else{if(this._radius.equals(t))return;if(this._radius.set(t),i==="rectangle"){var s=N.max(this._size,t.multiply(2));this._size.set(s)}else i==="ellipse"&&this._size._set(t.width*2,t.height*2)}this._changed(9)},isEmpty:function(){return!1},toPath:function(t){var i=new Te[o.capitalize(this._type)]({center:new A,size:this._size,radius:this._radius,insert:!1});return i.copyAttributes(this),Ne.settings.applyMatrix&&i.setApplyMatrix(!0),(t===n||t)&&i.insertAbove(this),i},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(t,i,s,l){var f=this._style,c=f.hasFill(),v=f.hasStroke(),p=i.dontFinish||i.clip,m=!l;if(c||v||p){var _=this._type,S=this._radius,C=_==="circle";if(i.dontStart||t.beginPath(),m&&C)t.arc(0,0,S,0,Math.PI*2,!0);else{var b=C?S:S.width,x=C?S:S.height,I=this._size,F=I.width,M=I.height;if(m&&_==="rectangle"&&b===0&&x===0)t.rect(-F/2,-M/2,F,M);else{var w=F/2,O=M/2,y=1-.5522847498307936,E=b*y,L=x*y,U=[-w,-O+x,-w,-O+L,-w+E,-O,-w+b,-O,w-b,-O,w-E,-O,w,-O+L,w,-O+x,w,O-x,w,O-L,w-E,O,w-b,O,-w+b,O,-w+E,O,-w,O-L,-w,O-x];l&&l.transform(U,U,32),t.moveTo(U[0],U[1]),t.bezierCurveTo(U[2],U[3],U[4],U[5],U[6],U[7]),w!==b&&t.lineTo(U[8],U[9]),t.bezierCurveTo(U[10],U[11],U[12],U[13],U[14],U[15]),O!==x&&t.lineTo(U[16],U[17]),t.bezierCurveTo(U[18],U[19],U[20],U[21],U[22],U[23]),w!==b&&t.lineTo(U[24],U[25]),t.bezierCurveTo(U[26],U[27],U[28],U[29],U[30],U[31])}}t.closePath()}!p&&(c||v)&&(this._setStyles(t,i,s),c&&(t.fill(f.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),v&&t.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(t,i){var s=new j(this._size).setCenter(0,0),l=this._style,f=i.stroke&&l.hasStroke()&&l.getStrokeWidth();return t&&(s=t._transformBounds(s)),f?s.expand(Te._getStrokePadding(f,this._getStrokeMatrix(t,i))):s}},new function(){function t(s,l,f){var c=s._radius;if(!c.isZero())for(var v=s._size.divide(2),p=1;p<=4;p++){var m=new A(p>1&&p<4?-1:1,p>2?-1:1),_=m.multiply(v),S=_.subtract(m.multiply(c)),C=new j(f?_.add(m.multiply(f)):_,S);if(C.contains(l))return{point:S,quadrant:p}}}function i(s,l,f,c){var v=s.divide(l);return(!c||v.isInQuadrant(c))&&v.subtract(v.normalize()).multiply(l).divide(f).length<=1}return{_contains:function s(l){if(this._type==="rectangle"){var f=t(this,l);return f?l.subtract(f.point).divide(this._radius).getLength()<=1:s.base.call(this,l)}else return l.divide(this.size).getLength()<=.5},_hitTestSelf:function s(l,f,c,v){var p=!1,m=this._style,_=f.stroke&&m.hasStroke(),S=f.fill&&m.hasFill();if(_||S){var C=this._type,b=this._radius,x=_?m.getStrokeWidth()/2:0,I=f._tolerancePadding.add(Te._getStrokePadding(x,!m.getStrokeScaling()&&v));if(C==="rectangle"){var F=I.multiply(2),M=t(this,l,F);if(M)p=i(l.subtract(M.point),b,I,M.quadrant);else{var w=new j(this._size).setCenter(0,0),O=w.expand(F),y=w.expand(F.negate());p=O._containsPoint(l)&&!y._containsPoint(l)}}else p=i(l,b,I)}return p?new Ye(_?"stroke":"fill",this):s.base.apply(this,arguments)}}},{statics:new function(){function t(i,s,l,f,c){var v=o.create(Re.prototype);return v._type=i,v._size=l,v._radius=f,v._initialize(o.getNamed(c),s),v}return{Circle:function(){var i=arguments,s=A.readNamed(i,"center"),l=o.readNamed(i,"radius");return t("circle",s,new N(l*2),l,i)},Rectangle:function(){var i=arguments,s=j.readNamed(i,"rectangle"),l=N.min(N.readNamed(i,"radius"),s.getSize(!0).divide(2));return t("rectangle",s.getCenter(!0),s.getSize(!0),l,i)},Ellipse:function(){var i=arguments,s=Re._readEllipse(i),l=s.radius;return t("ellipse",s.center,l.multiply(2),l,i)},_readEllipse:function(i){var s,l;if(o.hasNamed(i,"radius"))s=A.readNamed(i,"center"),l=N.readNamed(i,"radius");else{var f=j.readNamed(i,"rectangle");s=f.getCenter(!0),l=f.getSize(!0).divide(2)}return{center:s,radius:l}}}}}),Ke=pe.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(i,s){if(!this._initialize(i,s!==n&&A.read(arguments))){var l,f=typeof i,c=f==="string"?u.getElementById(i):f==="object"?i:null;if(c&&c!==pe.NO_INSERT){if(c.getContext||c.naturalHeight!=null)l=c;else if(c){var v=N.read(arguments);v.isZero()||(l=ht.getCanvas(v))}}l?this.setImage(l):this.setSource(i)}this._size||(this._size=new N,this._loaded=!1)},_equals:function(t){return this.getSource()===t.getSource()},copyContent:function(t){var i=t._image,s=t._canvas;if(i)this._setImage(i);else if(s){var l=ht.getCanvas(t._size);l.getContext("2d").drawImage(s,0,0),this._setImage(l)}this._crossOrigin=t._crossOrigin},getSize:function(){var t=this._size;return new K(t?t.width:0,t?t.height:0,this,"setSize")},setSize:function(t,i){var s=N.read(arguments);if(s.equals(this._size))i&&this.clear();else if(s.width>0&&s.height>0){var l=!i&&this.getElement();this._setImage(ht.getCanvas(s)),l&&this.getContext(!0).drawImage(l,0,0,s.width,s.height)}else this._canvas&&ht.release(this._canvas),this._size=s.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(t){this.setSize(t,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(t){this.setSize(this.getWidth(),t)},getLoaded:function(){return this._loaded},isEmpty:function(){var t=this._size;return!t||t.width===0&&t.height===0},getResolution:function(){var t=this._matrix,i=new A(0,0).transform(t),s=new A(1,0).transform(t).subtract(i),l=new A(0,1).transform(t).subtract(i);return new N(72/s.getLength(),72/l.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(t){var i=this;function s(l){var f=i.getView(),c=l&&l.type||"load";f&&i.responds(c)&&(Ne=f._scope,i.emit(c,new wn(l)))}this._setImage(t),this._loaded?setTimeout(s,0):t&&ft.add(t,{load:function(l){i._setImage(t),s(l)},error:s})},_setImage:function(t){this._canvas&&ht.release(this._canvas),t&&t.getContext?(this._image=null,this._canvas=t,this._loaded=!0):(this._image=t,this._canvas=null,this._loaded=!!(t&&t.src&&t.complete)),this._size=new N(t?t.naturalWidth||t.width:0,t?t.naturalHeight||t.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var t=ht.getContext(this._size);try{this._image&&t.drawImage(this._image,0,0),this._canvas=t.canvas}catch{ht.release(t)}}return this._canvas},setCanvas:"#setImage",getContext:function(t){return this._context||(this._context=this.getCanvas().getContext("2d")),t&&(this._image=null,this._changed(1025)),this._context},setContext:function(t){this._context=t},getSource:function(){var t=this._image;return t&&t.src||this.toDataURL()},setSource:function(t){var i=new r.Image,s=this._crossOrigin;s&&(i.crossOrigin=s),t&&(i.src=t),this.setImage(i)},getCrossOrigin:function(){var t=this._image;return t&&t.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(t){this._crossOrigin=t;var i=this._image;i&&(i.crossOrigin=t)},getSmoothing:function(){return this._smoothing},setSmoothing:function(t){this._smoothing=typeof t=="string"?t:t?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var t=j.read(arguments),i=ht.getContext(t.getSize());return i.drawImage(this.getCanvas(),t.x,t.y,t.width,t.height,0,0,t.width,t.height),i.canvas},getSubRaster:function(){var t=j.read(arguments),i=new Ke(pe.NO_INSERT);return i._setImage(this.getSubCanvas(t)),i.translate(t.getCenter().subtract(this.getSize().divide(2))),i._matrix.prepend(this._matrix),i.insertAbove(this),i},toDataURL:function(){var t=this._image,i=t&&t.src;if(/^data:/.test(i))return i;var s=this.getCanvas();return s?s.toDataURL.apply(s,arguments):null},drawImage:function(t){var i=A.read(arguments,1);this.getContext(!0).drawImage(t,i.x,i.y)},getAverageColor:function(t){var i,s;if(t?t instanceof We?(s=t,i=t.getBounds()):typeof t=="object"&&("width"in t?i=new j(t):"x"in t&&(i=new j(t.x-.5,t.y-.5,1,1))):i=this.getBounds(),!i)return null;var l=32,f=Math.min(i.width,l),c=Math.min(i.height,l),v=Ke._sampleContext;v?v.clearRect(0,0,l+1,l+1):v=Ke._sampleContext=ht.getContext(new N(l)),v.save();var p=new te().scale(f/i.width,c/i.height).translate(-i.x,-i.y);p.applyToContext(v),s&&s.draw(v,new o({clip:!0,matrices:[p]})),this._matrix.applyToContext(v);var m=this.getElement(),_=this._size;m&&v.drawImage(m,-_.width/2,-_.height/2),v.restore();for(var S=v.getImageData(.5,.5,Math.ceil(f),Math.ceil(c)).data,C=[0,0,0],b=0,x=0,I=S.length;x<I;x+=4){var F=S[x+3];b+=F,F/=255,C[0]+=S[x]*F,C[1]+=S[x+1]*F,C[2]+=S[x+2]*F}for(var x=0;x<3;x++)C[x]/=b;return b?$e.read(C):null},getPixel:function(){var t=A.read(arguments),i=this.getContext().getImageData(t.x,t.y,1,1).data;return new $e("rgb",[i[0]/255,i[1]/255,i[2]/255],i[3]/255)},setPixel:function(){var t=arguments,i=A.read(t),s=$e.read(t),l=s._convert("rgb"),f=s._alpha,c=this.getContext(!0),v=c.createImageData(1,1),p=v.data;p[0]=l[0]*255,p[1]=l[1]*255,p[2]=l[2]*255,p[3]=f!=null?f*255:255,c.putImageData(v,i.x,i.y)},clear:function(){var t=this._size;this.getContext(!0).clearRect(0,0,t.width+1,t.height+1)},createImageData:function(){var t=N.read(arguments);return this.getContext().createImageData(t.width,t.height)},getImageData:function(){var t=j.read(arguments);return t.isEmpty()&&(t=new j(this._size)),this.getContext().getImageData(t.x,t.y,t.width,t.height)},setImageData:function(t){var i=A.read(arguments,1);this.getContext(!0).putImageData(t,i.x,i.y)},_getBounds:function(t,i){var s=new j(this._size).setCenter(0,0);return t?t._transformBounds(s):s},_hitTestSelf:function(t){if(this._contains(t)){var i=this;return new Ye("pixel",i,{offset:t.add(i._size.divide(2)).round(),color:{get:function(){return i.getPixel(this.offset)}}})}},_draw:function(t,i,s){var l=this.getElement();if(l&&l.width>0&&l.height>0){t.globalAlpha=R.clamp(this._opacity,0,1),this._setStyles(t,i,s);var f=this._smoothing,c=f==="off";nt.setPrefixed(t,c?"imageSmoothingEnabled":"imageSmoothingQuality",c?!1:f),t.drawImage(l,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),Ze=pe.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(i,s){this._initialize(i,s!==n&&A.read(arguments,1))||this.setDefinition(i instanceof Je?i:new Je(i))},_equals:function(t){return this._definition===t._definition},copyContent:function(t){this.setDefinition(t._definition)},getDefinition:function(){return this._definition},setDefinition:function(t){this._definition=t,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(t,i){var s=this._definition._item;return s._getCachedBounds(s._matrix.prepended(t),i)},_hitTestSelf:function(t,i,s){var l=i.extend({all:!1}),f=this._definition._item._hitTest(t,l,s);return f&&(f.item=this),f},_draw:function(t,i){this._definition._item.draw(t,i)}}),Je=o.extend({_class:"SymbolDefinition",initialize:function(i,s){this._id=D.get(),this.project=Ne.project,i&&this.setItem(i,s)},_serialize:function(t,i){return i.add(this,function(){return o.serialize([this._class,this._item],t,!1,i)})},_changed:function(t){t&8&&pe._clearBoundsCache(this),t&1&&this.project._changed(t)},getItem:function(){return this._item},setItem:function(t,i){t._symbol&&(t=t.clone()),this._item&&(this._item._symbol=null),this._item=t,t.remove(),t.setSelected(!1),i||t.setPosition(new A),t._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(t){return new Ze(this,t)},clone:function(){return new Je(this._item.clone(!1))},equals:function(t){return t===this||t&&this._item.equals(t._item)||!1}}),Ye=o.extend({_class:"HitResult",initialize:function(i,s,l){this.type=i,this.item=s,l&&this.inject(l)},statics:{getOptions:function(t){var i=t&&o.read(t);return new o({type:null,tolerance:Ne.settings.hitTolerance,fill:!i,stroke:!i,segments:!i,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},i)}}}),ge=o.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(i,s,l,f,c,v){var p=arguments.length,m,_,S,C;p>0&&(i==null||typeof i=="object"?p===1&&i&&"point"in i?(m=i.point,_=i.handleIn,S=i.handleOut,C=i.selection):(m=i,_=s,S=l,C=f):(m=[i,s],_=l!==n?[l,f]:null,S=c!==n?[c,v]:null)),new Qe(m,this,"_point"),new Qe(_,this,"_handleIn"),new Qe(S,this,"_handleOut"),C&&this.setSelection(C)},_serialize:function(t,i){var s=this._point,l=this._selection,f=l||this.hasHandles()?[s,this._handleIn,this._handleOut]:s;return l&&f.push(l),o.serialize(f,t,!0,i)},_changed:function(t){var i=this._path;if(!!i){var s=i._curves,l=this._index,f;s&&((!t||t===this._point||t===this._handleIn)&&(f=l>0?s[l-1]:i._closed?s[s.length-1]:null)&&f._changed(),(!t||t===this._point||t===this._handleOut)&&(f=s[l])&&f._changed()),i._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(A.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(A.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(A.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var t=this._handleIn,i=this._handleOut;return!t.isZero()&&!i.isZero()&&t.isCollinear(i)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(t){var i=this._selection,s=this._path;this._selection=t=t||0,s&&t!==i&&(s._updateSelection(this,i,t),s._changed(257))},_changeSelection:function(t,i){var s=this._selection;this.setSelection(i?s|t:s&~t)},isSelected:function(){return!!(this._selection&7)},setSelected:function(t){this._changeSelection(7,t)},getIndex:function(){return this._index!==n?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var t=this._path,i=this._index;return t?(i>0&&!t._closed&&i===t._segments.length-1&&i--,t.getCurves()[i]||null):null},getLocation:function(){var t=this.getCurve();return t?new ze(t,this===t._segment1?0:1):null},getNext:function(){var t=this._path&&this._path._segments;return t&&(t[this._index+1]||this._path._closed&&t[0])||null},smooth:function(t,i,s){var l=t||{},f=l.type,c=l.factor,v=this.getPrevious(),p=this.getNext(),m=(v||this)._point,_=this._point,S=(p||this)._point,C=m.getDistance(_),b=_.getDistance(S);if(!f||f==="catmull-rom"){var x=c===n?.5:c,I=Math.pow(C,x),F=I*I,M=Math.pow(b,x),w=M*M;if(!i&&v){var O=2*w+3*M*I+F,y=3*M*(M+I);this.setHandleIn(y!==0?new A((w*m._x+O*_._x-F*S._x)/y-_._x,(w*m._y+O*_._y-F*S._y)/y-_._y):new A)}if(!s&&p){var O=2*F+3*I*M+w,y=3*I*(I+M);this.setHandleOut(y!==0?new A((F*S._x+O*_._x-w*m._x)/y-_._x,(F*S._y+O*_._y-w*m._y)/y-_._y):new A)}}else if(f==="geometric"){if(v&&p){var E=m.subtract(S),L=c===n?.4:c,U=L*C/(C+b);i||this.setHandleIn(E.multiply(U)),s||this.setHandleOut(E.multiply(U-L))}}else throw new Error("Smoothing method '"+f+"' not supported.")},getPrevious:function(){var t=this._path&&this._path._segments;return t&&(t[this._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var t=this._path;return t&&this._index===t._segments.length-1||!1},reverse:function(){var t=this._handleIn,i=this._handleOut,s=t.clone();t.set(i),i.set(s)},reversed:function(){return new ge(this._point,this._handleOut,this._handleIn)},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},clone:function(){return new ge(this._point,this._handleIn,this._handleOut)},equals:function(t){return t===this||t&&this._class===t._class&&this._point.equals(t._point)&&this._handleIn.equals(t._handleIn)&&this._handleOut.equals(t._handleOut)||!1},toString:function(){var t=["point: "+this._point];return this._handleIn.isZero()||t.push("handleIn: "+this._handleIn),this._handleOut.isZero()||t.push("handleOut: "+this._handleOut),"{ "+t.join(", ")+" }"},transform:function(t){this._transformCoordinates(t,new Array(6),!0),this._changed()},interpolate:function(t,i,s){var l=1-s,f=s,c=t._point,v=i._point,p=t._handleIn,m=i._handleIn,_=i._handleOut,S=t._handleOut;this._point._set(l*c._x+f*v._x,l*c._y+f*v._y,!0),this._handleIn._set(l*p._x+f*m._x,l*p._y+f*m._y,!0),this._handleOut._set(l*S._x+f*_._x,l*S._y+f*_._y,!0),this._changed()},_transformCoordinates:function(t,i,s){var l=this._point,f=!s||!this._handleIn.isZero()?this._handleIn:null,c=!s||!this._handleOut.isZero()?this._handleOut:null,v=l._x,p=l._y,m=2;return i[0]=v,i[1]=p,f&&(i[m++]=f._x+v,i[m++]=f._y+p),c&&(i[m++]=c._x+v,i[m++]=c._y+p),t&&(t._transformCoordinates(i,i,m/2),v=i[0],p=i[1],s?(l._x=v,l._y=p,m=2,f&&(f._x=i[m++]-v,f._y=i[m++]-p),c&&(c._x=i[m++]-v,c._y=i[m++]-p)):(f||(i[m++]=v,i[m++]=p),c||(i[m++]=v,i[m++]=p))),i}}),Qe=A.extend({initialize:function(i,s,l){var f,c,v;if(!i)f=c=0;else if((f=i[0])!==n)c=i[1];else{var p=i;(f=p.x)===n&&(p=A.read(arguments),f=p.x),c=p.y,v=p.selected}this._x=f,this._y=c,this._owner=s,s[l]=this,v&&this.setSelected(!0)},_set:function(t,i){return this._x=t,this._y=i,this._owner._changed(this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner._changed(this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner._changed(this)},isZero:function(){var t=R.isZero;return t(this._x)&&t(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner._changeSelection(this._getSelection(),t)},_getSelection:function(){var t=this._owner;return this===t._point?1:this===t._handleIn?2:this===t._handleOut?4:0}}),ue=o.extend({_class:"Curve",beans:!0,initialize:function(i,s,l,f,c,v,p,m){var _=arguments.length,S,C,b,x,I,F;_===3?(this._path=i,S=s,C=l):_?_===1?"segment1"in i?(S=new ge(i.segment1),C=new ge(i.segment2)):"point1"in i?(b=i.point1,I=i.handle1,F=i.handle2,x=i.point2):Array.isArray(i)&&(b=[i[0],i[1]],x=[i[6],i[7]],I=[i[2]-i[0],i[3]-i[1]],F=[i[4]-i[6],i[5]-i[7]]):_===2?(S=new ge(i),C=new ge(s)):_===4?(b=i,I=s,F=l,x=f):_===8&&(b=[i,s],x=[p,m],I=[l-i,f-s],F=[c-p,v-m]):(S=new ge,C=new ge),this._segment1=S||new ge(b,null,I),this._segment2=C||new ge(x,F,null)},_serialize:function(t,i){return o.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],t,!0,i)},_changed:function(){this._length=this._bounds=n},clone:function(){return new ue(this._segment1,this._segment2)},toString:function(){var t=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||t.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||t.push("handle2: "+this._segment2._handleIn),t.push("point2: "+this._segment2._point),"{ "+t.join(", ")+" }"},classify:function(){return ue.classify(this.getValues())},remove:function(){var t=!1;if(this._path){var i=this._segment2,s=i._handleOut;t=i.remove(),t&&this._segment1._handleOut.set(s)}return t},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(A.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(A.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(A.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(A.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index+1]||this._path._closed&&t[0])||null},getPrevious:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var t=this._path;return t&&this._segment1._index===t._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(t){this.getPoint1().setSelected(t),this.getHandle1().setSelected(t),this.getHandle2().setSelected(t),this.getPoint2().setSelected(t)},getValues:function(t){return ue.getValues(this._segment1,this._segment2,t)},getPoints:function(){for(var t=this.getValues(),i=[],s=0;s<8;s+=2)i.push(new A(t[s],t[s+1]));return i}},{getLength:function(){return this._length==null&&(this._length=ue.getLength(this.getValues(),0,1)),this._length},getArea:function(){return ue.getArea(this.getValues())},getLine:function(){return new oe(this._segment1._point,this._segment2._point)},getPart:function(t,i){return new ue(ue.getPart(this.getValues(),t,i))},getPartLength:function(t,i){return ue.getLength(this.getValues(),t,i)},divideAt:function(t){return this.divideAtTime(t&&t.curve===this?t.time:this.getTimeAt(t))},divideAtTime:function(t,i){var s=1e-8,l=1-s,f=null;if(t>=s&&t<=l){var c=ue.subdivide(this.getValues(),t),v=c[0],p=c[1],m=i||this.hasHandles(),_=this._segment1,S=this._segment2,C=this._path;m&&(_._handleOut._set(v[2]-v[0],v[3]-v[1]),S._handleIn._set(p[4]-p[6],p[5]-p[7]));var b=v[6],x=v[7],I=new ge(new A(b,x),m&&new A(v[4]-b,v[5]-x),m&&new A(p[2]-b,p[3]-x));C?(C.insert(_._index+1,I),f=this.getNext()):(this._segment2=I,this._changed(),f=new ue(I,S))}return f},splitAt:function(t){var i=this._path;return i?i.splitAt(t):null},splitAtTime:function(t){return this.splitAt(this.getLocationAtTime(t))},divide:function(t,i){return this.divideAtTime(t===n?.5:i?t:this.getTimeAt(t))},split:function(t,i){return this.splitAtTime(t===n?.5:i?t:this.getTimeAt(t))},reversed:function(){return new ue(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(t,i,s,l){var f=t._point,c=t._handleOut,v=i._handleIn,p=i._point,m=f.x,_=f.y,S=p.x,C=p.y,b=l?[m,_,m,_,S,C,S,C]:[m,_,m+c._x,_+c._y,S+v._x,C+v._y,S,C];return s&&s._transformCoordinates(b,b,4),b},subdivide:function(t,i){var s=t[0],l=t[1],f=t[2],c=t[3],v=t[4],p=t[5],m=t[6],_=t[7];i===n&&(i=.5);var S=1-i,C=S*s+i*f,b=S*l+i*c,x=S*f+i*v,I=S*c+i*p,F=S*v+i*m,M=S*p+i*_,w=S*C+i*x,O=S*b+i*I,y=S*x+i*F,E=S*I+i*M,L=S*w+i*y,U=S*O+i*E;return[[s,l,C,b,w,O,L,U],[L,U,y,E,F,M,m,_]]},getMonoCurves:function(t,i){var s=[],l=i?0:1,f=t[l+0],c=t[l+2],v=t[l+4],p=t[l+6];if(f>=c==c>=v&&c>=v==v>=p||ue.isStraight(t))s.push(t);else{var m=3*(c-v)-f+p,_=2*(f+v)-4*c,S=c-f,C=1e-8,b=1-C,x=[],I=R.solveQuadratic(m,_,S,x,C,b);if(!I)s.push(t);else{x.sort();var F=x[0],M=ue.subdivide(t,F);s.push(M[0]),I>1&&(F=(x[1]-F)/(1-F),M=ue.subdivide(M[1],F),s.push(M[0])),s.push(M[1])}}return s},solveCubic:function(t,i,s,l,f,c){var v=t[i],p=t[i+2],m=t[i+4],_=t[i+6],S=0;if(!(v<s&&_<s&&p<s&&m<s||v>s&&_>s&&p>s&&m>s)){var C=3*(p-v),b=3*(m-p)-C,x=_-v-C-b;S=R.solveCubic(x,b,C,v-s,l,f,c)}return S},getTimeOf:function(t,i){var s=new A(t[0],t[1]),l=new A(t[6],t[7]),f=1e-12,c=1e-7,v=i.isClose(s,f)?0:i.isClose(l,f)?1:null;if(v===null)for(var p=[i.x,i.y],m=[],_=0;_<2;_++)for(var S=ue.solveCubic(t,_,p[_],m,0,1),C=0;C<S;C++){var b=m[C];if(i.isClose(ue.getPoint(t,b),c))return b}return i.isClose(s,c)?0:i.isClose(l,c)?1:null},getNearestTime:function(t,i){if(ue.isStraight(t)){var s=t[0],l=t[1],f=t[6],c=t[7],v=f-s,p=c-l,m=v*v+p*p;if(m===0)return 0;var _=((i.x-s)*v+(i.y-l)*p)/m;return _<1e-12?0:_>.999999999999?1:ue.getTimeOf(t,new A(s+_*v,l+_*p))}var S=100,C=1/0,b=0;function x(M){if(M>=0&&M<=1){var w=i.getDistance(ue.getPoint(t,M),!0);if(w<C)return C=w,b=M,!0}}for(var I=0;I<=S;I++)x(I/S);for(var F=1/(S*2);F>1e-8;)!x(b-F)&&!x(b+F)&&(F/=2);return b},getPart:function(t,i,s){var l=i>s;if(l){var f=i;i=s,s=f}return i>0&&(t=ue.subdivide(t,i)[1]),s<1&&(t=ue.subdivide(t,(s-i)/(1-i))[0]),l?[t[6],t[7],t[4],t[5],t[2],t[3],t[0],t[1]]:t},isFlatEnough:function(t,i){var s=t[0],l=t[1],f=t[2],c=t[3],v=t[4],p=t[5],m=t[6],_=t[7],S=3*f-2*s-m,C=3*c-2*l-_,b=3*v-2*m-s,x=3*p-2*_-l;return Math.max(S*S,b*b)+Math.max(C*C,x*x)<=16*i*i},getArea:function(t){var i=t[0],s=t[1],l=t[2],f=t[3],c=t[4],v=t[5],p=t[6],m=t[7];return 3*((m-s)*(l+c)-(p-i)*(f+v)+f*(i-c)-l*(s-v)+m*(c+i/3)-p*(v+s/3))/20},getBounds:function(t){for(var i=t.slice(0,2),s=i.slice(),l=[0,0],f=0;f<2;f++)ue._addBounds(t[f],t[f+2],t[f+4],t[f+6],f,0,i,s,l);return new j(i[0],i[1],s[0]-i[0],s[1]-i[1])},_addBounds:function(t,i,s,l,f,c,v,p,m){function _(L,U){var P=L-U,B=L+U;P<v[f]&&(v[f]=P),B>p[f]&&(p[f]=B)}c/=2;var S=v[f]+c,C=p[f]-c;if(t<S||i<S||s<S||l<S||t>C||i>C||s>C||l>C)if(i<t!=i<l&&s<t!=s<l)_(t,0),_(l,0);else{var b=3*(i-s)-t+l,x=2*(t+s)-4*i,I=i-t,F=R.solveQuadratic(b,x,I,m),M=1e-8,w=1-M;_(l,0);for(var O=0;O<F;O++){var y=m[O],E=1-y;M<=y&&y<=w&&_(E*E*E*t+3*E*E*y*i+3*E*y*y*s+y*y*y*l,c)}}}}},o.each(["getBounds","getStrokeBounds","getHandleBounds"],function(t){this[t]=function(){this._bounds||(this._bounds={});var i=this._bounds[t];return i||(i=this._bounds[t]=Te[t]([this._segment1,this._segment2],!1,this._path)),i.clone()}},{}),o.each({isStraight:function(t,i,s,l){if(i.isZero()&&s.isZero())return!0;var f=l.subtract(t);if(f.isZero())return!1;if(f.isCollinear(i)&&f.isCollinear(s)){var c=new oe(t,l),v=1e-7;if(c.getDistance(t.add(i))<v&&c.getDistance(l.add(s))<v){var p=f.dot(f),m=f.dot(i)/p,_=f.dot(s)/p;return m>=0&&m<=1&&_<=0&&_>=-1}}return!1},isLinear:function(t,i,s,l){var f=l.subtract(t).divide(3);return i.equals(f)&&s.negate().equals(f)}},function(t,i){this[i]=function(s){var l=this._segment1,f=this._segment2;return t(l._point,l._handleOut,f._handleIn,f._point,s)},this.statics[i]=function(s,l){var f=s[0],c=s[1],v=s[6],p=s[7];return t(new A(f,c),new A(s[2]-f,s[3]-c),new A(s[4]-v,s[5]-p),new A(v,p),l)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(t){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(t||0)},isCollinear:function(t){return t&&this.isStraight()&&t.isStraight()&&this.getLine().isCollinear(t.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(t,i){return this.getLocationAtTime(i?t:this.getTimeAt(t))},getLocationAtTime:function(t){return t!=null&&t>=0&&t<=1?new ze(this,t):null},getTimeAt:function(t,i){return ue.getTimeAt(this.getValues(),t,i)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var t=A.read(arguments);return t.isZero()?[]:ue.getTimesWithTangent(this.getValues(),t)},getOffsetAtTime:function(t){return this.getPartLength(0,t)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(A.read(arguments)))},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getTimeOf:function(){return ue.getTimeOf(this.getValues(),A.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var t=A.read(arguments),i=this.getValues(),s=ue.getNearestTime(i,t),l=ue.getPoint(i,s);return new ze(this,s,l,null,t.getDistance(l))},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t&&t.getPoint()}},new function(){var t=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return o.each(t,function(i){this[i+"At"]=function(s,l){var f=this.getValues();return ue[i](f,l?s:ue.getTimeAt(f,s))},this[i+"AtTime"]=function(s){return ue[i](this.getValues(),s)}},{statics:{_evaluateMethods:t}})},new function(){function t(l){var f=l[0],c=l[1],v=l[2],p=l[3],m=l[4],_=l[5],S=l[6],C=l[7],b=9*(v-m)+3*(S-f),x=6*(f+m)-12*v,I=3*(v-f),F=9*(p-_)+3*(C-c),M=6*(c+_)-12*p,w=3*(p-c);return function(O){var y=(b*O+x)*O+I,E=(F*O+M)*O+w;return Math.sqrt(y*y+E*E)}}function i(l,f){return Math.max(2,Math.min(16,Math.ceil(Math.abs(f-l)*32)))}function s(l,f,c,v){if(f==null||f<0||f>1)return null;var p=l[0],m=l[1],_=l[2],S=l[3],C=l[4],b=l[5],x=l[6],I=l[7],F=R.isZero;F(_-p)&&F(S-m)&&(_=p,S=m),F(C-x)&&F(b-I)&&(C=x,b=I);var M=3*(_-p),w=3*(C-_)-M,O=x-p-M-w,y=3*(S-m),E=3*(b-S)-y,L=I-m-y-E,U,P;if(c===0)U=f===0?p:f===1?x:((O*f+w)*f+M)*f+p,P=f===0?m:f===1?I:((L*f+E)*f+y)*f+m;else{var B=1e-8,G=1-B;if(f<B?(U=M,P=y):f>G?(U=3*(x-C),P=3*(I-b)):(U=(3*O*f+2*w)*f+M,P=(3*L*f+2*E)*f+y),v){U===0&&P===0&&(f<B||f>G)&&(U=C-_,P=b-S);var H=Math.sqrt(U*U+P*P);H&&(U/=H,P/=H)}if(c===3){var C=6*O*f+2*w,b=6*L*f+2*E,Z=Math.pow(U*U+P*P,3/2);U=Z!==0?(U*b-P*C)/Z:0,P=0}}return c===2?new A(P,-U):new A(U,P)}return{statics:{classify:function(l){var f=l[0],c=l[1],v=l[2],p=l[3],m=l[4],_=l[5],S=l[6],C=l[7],b=f*(C-_)+c*(m-S)+S*_-C*m,x=v*(c-C)+p*(S-f)+f*C-c*S,I=m*(p-c)+_*(f-v)+v*c-p*f,F=3*I,M=F-x,w=M-x+b,O=Math.sqrt(w*w+M*M+F*F),y=O!==0?1/O:0,E=R.isZero,L="serpentine";w*=y,M*=y,F*=y;function U(H,Z,z){var W=Z!==n,X=W&&Z>0&&Z<1,Q=W&&z>0&&z<1;return W&&(!(X||Q)||H==="loop"&&!(X&&Q))&&(H="arch",X=Q=!1),{type:H,roots:X||Q?X&&Q?Z<z?[Z,z]:[z,Z]:[X?Z:z]:null}}if(E(w))return E(M)?U(E(F)?"line":"quadratic"):U(L,F/(3*M));var P=3*M*M-4*w*F;if(E(P))return U("cusp",M/(2*w));var B=P>0?Math.sqrt(P/3):Math.sqrt(-P),G=2*w;return U(P>0?L:"loop",(M+B)/G,(M-B)/G)},getLength:function(l,f,c,v){if(f===n&&(f=0),c===n&&(c=1),ue.isStraight(l)){var p=l;c<1&&(p=ue.subdivide(p,c)[0],f/=c),f>0&&(p=ue.subdivide(p,f)[1]);var m=p[6]-p[0],_=p[7]-p[1];return Math.sqrt(m*m+_*_)}return R.integrate(v||t(l),f,c,i(f,c))},getTimeAt:function(l,f,c){if(c===n&&(c=f<0?1:0),f===0)return c;var v=Math.abs,p=1e-12,m=f>0,_=m?c:0,S=m?1:c,C=t(l),b=ue.getLength(l,_,S,C),x=v(f)-b;if(v(x)<p)return m?S:_;if(x>p)return null;var I=f/b,F=0;function M(w){return F+=R.integrate(C,c,w,i(c,w)),c=w,F-f}return R.findRoot(M,C,c+I,_,S,32,1e-12)},getPoint:function(l,f){return s(l,f,0,!1)},getTangent:function(l,f){return s(l,f,1,!0)},getWeightedTangent:function(l,f){return s(l,f,1,!1)},getNormal:function(l,f){return s(l,f,2,!0)},getWeightedNormal:function(l,f){return s(l,f,2,!1)},getCurvature:function(l,f){return s(l,f,3,!1).x},getPeaks:function(l){var f=l[0],c=l[1],v=l[2],p=l[3],m=l[4],_=l[5],S=l[6],C=l[7],b=-f+3*v-3*m+S,x=3*f-6*v+3*m,I=-3*f+3*v,F=-c+3*p-3*_+C,M=3*c-6*p+3*_,w=-3*c+3*p,O=1e-8,y=1-O,E=[];return R.solveCubic(9*(b*b+F*F),9*(b*x+M*F),2*(x*x+M*M)+3*(I*b+w*F),I*x+M*w,E,O,y),E.sort()}}}},new function(){function t(x,I,F,M,w,O,y){var E=!y&&F.getPrevious()===w,L=!y&&F!==w&&F.getNext()===w,U=1e-8,P=1-U;if(M!==null&&M>=(E?U:0)&&M<=(L?P:1)&&O!==null&&O>=(L?U:0)&&O<=(E?P:1)){var B=new ze(F,M,null,y),G=new ze(w,O,null,y);B._intersection=G,G._intersection=B,(!I||I(B))&&ze.insert(x,B,!0)}}function i(x,I,F,M,w,O,y,E,L,U,P,B,G){if(++L>=4096||++E>=40)return L;var H=1e-9,Z=I[0],z=I[1],W=I[6],X=I[7],Q=oe.getSignedDistance,J=Q(Z,z,W,X,I[2],I[3]),$=Q(Z,z,W,X,I[4],I[5]),le=J*$>0?3/4:4/9,he=le*Math.min(0,J,$),ce=le*Math.max(0,J,$),me=Q(Z,z,W,X,x[0],x[1]),ne=Q(Z,z,W,X,x[2],x[3]),ae=Q(Z,z,W,X,x[4],x[5]),de=Q(Z,z,W,X,x[6],x[7]),ye=s(me,ne,ae,de),_e=ye[0],Fe=ye[1],ke,Me;if(J===0&&$===0&&me===0&&ne===0&&ae===0&&de===0||(ke=l(_e,Fe,he,ce))==null||(Me=l(_e.reverse(),Fe.reverse(),he,ce))==null)return L;var De=U+(P-U)*ke,Pe=U+(P-U)*Me;if(Math.max(G-B,Pe-De)<H){var ct=(De+Pe)/2,dt=(B+G)/2;t(w,O,y?M:F,y?dt:ct,y?F:M,y?ct:dt)}else{x=ue.getPart(x,ke,Me);var _t=G-B;if(Me-ke>.8)if(Pe-De>_t){var at=ue.subdivide(x,.5),ct=(De+Pe)/2;L=i(I,at[0],M,F,w,O,!y,E,L,B,G,De,ct),L=i(I,at[1],M,F,w,O,!y,E,L,B,G,ct,Pe)}else{var at=ue.subdivide(I,.5),dt=(B+G)/2;L=i(at[0],x,M,F,w,O,!y,E,L,B,dt,De,Pe),L=i(at[1],x,M,F,w,O,!y,E,L,dt,G,De,Pe)}else _t===0||_t>=H?L=i(I,x,M,F,w,O,!y,E,L,B,G,De,Pe):L=i(x,I,F,M,w,O,y,E,L,De,Pe,B,G)}return L}function s(x,I,F,M){var w=[0,x],O=[1/3,I],y=[2/3,F],E=[1,M],L=I-(2*x+M)/3,U=F-(x+2*M)/3,P;if(L*U<0)P=[[w,O,E],[w,y,E]];else{var B=L/U;P=[B>=2?[w,O,E]:B<=.5?[w,y,E]:[w,O,y,E],[w,E]]}return(L||U)<0?P.reverse():P}function l(x,I,F,M){return x[0][1]<F?f(x,!0,F):I[0][1]>M?f(I,!1,M):x[0][0]}function f(x,I,F){for(var M=x[0][0],w=x[0][1],O=1,y=x.length;O<y;O++){var E=x[O][0],L=x[O][1];if(I?L>=F:L<=F)return L===F?E:M+(F-w)*(E-M)/(L-w);M=E,w=L}return null}function c(x,I,F,M,w){var O=R.isZero;if(O(M)&&O(w)){var y=ue.getTimeOf(x,new A(I,F));return y===null?[]:[y]}for(var E=Math.atan2(-w,M),L=Math.sin(E),U=Math.cos(E),P=[],B=[],G=0;G<8;G+=2){var H=x[G]-I,Z=x[G+1]-F;P.push(H*U-Z*L,H*L+Z*U)}return ue.solveCubic(P,1,0,B,0,1),B}function v(x,I,F,M,w,O,y){for(var E=I[0],L=I[1],U=I[6],P=I[7],B=c(x,E,L,U-E,P-L),G=0,H=B.length;G<H;G++){var Z=B[G],z=ue.getPoint(x,Z),W=ue.getTimeOf(I,z);W!==null&&t(w,O,y?M:F,y?W:Z,y?F:M,y?Z:W)}}function p(x,I,F,M,w,O){var y=oe.intersect(x[0],x[1],x[6],x[7],I[0],I[1],I[6],I[7]);y&&t(w,O,F,ue.getTimeOf(x,y),M,ue.getTimeOf(I,y))}function m(x,I,F,M,w,O){var y=1e-12,E=Math.min,L=Math.max;if(L(x[0],x[2],x[4],x[6])+y>E(I[0],I[2],I[4],I[6])&&E(x[0],x[2],x[4],x[6])-y<L(I[0],I[2],I[4],I[6])&&L(x[1],x[3],x[5],x[7])+y>E(I[1],I[3],I[5],I[7])&&E(x[1],x[3],x[5],x[7])-y<L(I[1],I[3],I[5],I[7])){var U=C(x,I);if(U)for(var P=0;P<2;P++){var B=U[P];t(w,O,F,B[0],M,B[1],!0)}else{var G=ue.isStraight(x),H=ue.isStraight(I),Z=G&&H,z=G&&!H,W=w.length;if((Z?p:G||H?v:i)(z?I:x,z?x:I,z?M:F,z?F:M,w,O,z,0,0,0,1,0,1),!Z||w.length===W)for(var P=0;P<4;P++){var X=P>>1,Q=P&1,J=X*6,$=Q*6,le=new A(x[J],x[J+1]),he=new A(I[$],I[$+1]);le.isClose(he,y)&&t(w,O,F,X,M,Q)}}}return w}function _(x,I,F,M){var w=ue.classify(x);if(w.type==="loop"){var O=w.roots;t(F,M,I,O[0],I,O[1])}return F}function S(x,I,F,M,w,O){var y=1e-7,E=!I;E&&(I=x);for(var L=x.length,U=I.length,P=new Array(L),B=E?P:new Array(U),G=[],H=0;H<L;H++)P[H]=x[H].getValues(M);if(!E)for(var H=0;H<U;H++)B[H]=I[H].getValues(w);for(var Z=T.findCurveBoundsCollisions(P,B,y),z=0;z<L;z++){var W=x[z],X=P[z];E&&_(X,W,G,F);var Q=Z[z];if(Q)for(var J=0;J<Q.length;J++){if(O&&G.length)return G;var $=Q[J];if(!E||$>z){var le=I[$],he=B[$];m(X,he,W,le,G,F)}}}return G}function C(x,I){function F(de){var ye=de[6]-de[0],_e=de[7]-de[1];return ye*ye+_e*_e}var M=Math.abs,w=oe.getDistance,O=1e-8,y=1e-7,E=ue.isStraight(x),L=ue.isStraight(I),U=E&&L,P=F(x)<F(I),B=P?I:x,G=P?x:I,H=B[0],Z=B[1],z=B[6]-H,W=B[7]-Z;if(w(H,Z,z,W,G[0],G[1],!0)<y&&w(H,Z,z,W,G[6],G[7],!0)<y)!U&&w(H,Z,z,W,B[2],B[3],!0)<y&&w(H,Z,z,W,B[4],B[5],!0)<y&&w(H,Z,z,W,G[2],G[3],!0)<y&&w(H,Z,z,W,G[4],G[5],!0)<y&&(E=L=U=!0);else if(U)return null;if(E^L)return null;for(var X=[x,I],Q=[],J=0;J<4&&Q.length<2;J++){var $=J&1,le=$^1,he=J>>1,ce=ue.getTimeOf(X[$],new A(X[le][he?6:0],X[le][he?7:1]));if(ce!=null){var me=$?[he,ce]:[ce,he];(!Q.length||M(me[0]-Q[0][0])>O&&M(me[1]-Q[0][1])>O)&&Q.push(me)}if(J>2&&!Q.length)break}if(Q.length!==2)Q=null;else if(!U){var ne=ue.getPart(x,Q[0][0],Q[1][0]),ae=ue.getPart(I,Q[0][1],Q[1][1]);(M(ae[2]-ne[2])>y||M(ae[3]-ne[3])>y||M(ae[4]-ne[4])>y||M(ae[5]-ne[5])>y)&&(Q=null)}return Q}function b(x,I){var F=x[0],M=x[1],w=x[2],O=x[3],y=x[4],E=x[5],L=x[6],U=x[7],P=I.normalize(),B=P.x,G=P.y,H=3*L-9*y+9*w-3*F,Z=3*U-9*E+9*O-3*M,z=6*y-12*w+6*F,W=6*E-12*O+6*M,X=3*w-3*F,Q=3*O-3*M,J=2*H*G-2*Z*B,$=[];if(Math.abs(J)<R.CURVETIME_EPSILON){var le=H*Q-Z*X,J=H*W-Z*z;if(J!=0){var he=-le/J;he>=0&&he<=1&&$.push(he)}}else{var ce=(z*z-4*H*X)*G*G+(-2*z*W+4*Z*X+4*H*Q)*B*G+(W*W-4*Z*Q)*B*B,me=z*G-W*B;if(ce>=0&&J!=0){var ne=Math.sqrt(ce),ae=-(me+ne)/J,de=(-me+ne)/J;ae>=0&&ae<=1&&$.push(ae),de>=0&&de<=1&&$.push(de)}}return $}return{getIntersections:function(x){var I=this.getValues(),F=x&&x!==this&&x.getValues();return F?m(I,F,this,x,[]):_(I,this,[])},statics:{getOverlaps:C,getIntersections:S,getCurveLineIntersections:c,getTimesWithTangent:b}}}),ze=o.extend({_class:"CurveLocation",initialize:function(i,s,l,f,c){if(s>=.99999999){var v=i.getNext();v&&(s=0,i=v)}this._setCurve(i),this._time=s,this._point=l||i.getPointAtTime(s),this._overlap=f,this._distance=c,this._intersection=this._next=this._previous=null},_setPath:function(t){this._path=t,this._version=t?t._version:0},_setCurve:function(t){this._setPath(t._path),this._curve=t,this._segment=null,this._segment1=t._segment1,this._segment2=t._segment2},_setSegment:function(t){var i=t.getCurve();i?this._setCurve(i):(this._setPath(t._path),this._segment1=t,this._segment2=null),this._segment=t,this._time=t===this._segment1?0:1,this._point=t._point.clone()},getSegment:function(){var t=this._segment;if(!t){var i=this.getCurve(),s=this.getTime();s===0?t=i._segment1:s===1?t=i._segment2:s!=null&&(t=i.getPartLength(0,s)<i.getPartLength(s,1)?i._segment1:i._segment2),this._segment=t}return t},getCurve:function(){var t=this._path,i=this;t&&t._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null);function s(l){var f=l&&l.getCurve();if(f&&(i._time=f.getTimeOf(i._point))!=null)return i._setCurve(f),f}return this._curve||s(this._segment)||s(this._segment1)||s(this._segment2.getPrevious())},getPath:function(){var t=this.getCurve();return t&&t._path},getIndex:function(){var t=this.getCurve();return t&&t.getIndex()},getTime:function(){var t=this.getCurve(),i=this._time;return t&&i==null?this._time=t.getTimeOf(this._point):i},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var t=this._offset;if(t==null){t=0;var i=this.getPath(),s=this.getIndex();if(i&&s!=null)for(var l=i.getCurves(),f=0;f<s;f++)t+=l[f].getLength();this._offset=t+=this.getCurveOffset()}return t},getCurveOffset:function(){var t=this._curveOffset;if(t==null){var i=this.getCurve(),s=this.getTime();this._curveOffset=t=s!=null&&i&&i.getPartLength(0,s)}return t},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var t=this.getCurve(),i=t&&t.divideAtTime(this.getTime());return i&&this._setSegment(i._segment1),i},split:function(){var t=this.getCurve(),i=t._path,s=t&&t.splitAtTime(this.getTime());return s&&this._setSegment(i.getLastSegment()),s},equals:function(t,i){var s=this===t;if(!s&&t instanceof ze){var l=this.getCurve(),f=t.getCurve(),c=l._path,v=f._path;if(c===v){var p=Math.abs,m=1e-7,_=p(this.getOffset()-t.getOffset()),S=!i&&this._intersection,C=!i&&t._intersection;s=(_<m||c&&p(c.getLength()-_)<m)&&(!S&&!C||S&&C&&S.equals(C,!0))}}return s},toString:function(){var t=[],i=this.getPoint(),s=k.instance;i&&t.push("point: "+i);var l=this.getIndex();l!=null&&t.push("index: "+l);var f=this.getTime();return f!=null&&t.push("time: "+s.number(f)),this._distance!=null&&t.push("distance: "+s.number(this._distance)),"{ "+t.join(", ")+" }"},isTouching:function(){var t=this._intersection;if(t&&this.getTangent().isCollinear(t.getTangent())){var i=this.getCurve(),s=t.getCurve();return!(i.isStraight()&&s.isStraight()&&i.getLine().intersect(s.getLine()))}return!1},isCrossing:function(){var t=this._intersection;if(!t)return!1;var i=this.getTime(),s=t.getTime(),l=1e-8,f=1-l,c=i>=l&&i<=f,v=s>=l&&s<=f;if(c&&v)return!this.isTouching();var p=this.getCurve(),m=p&&i<l?p.getPrevious():p,_=t.getCurve(),S=_&&s<l?_.getPrevious():_;if(i>f&&(p=p.getNext()),s>f&&(_=_.getNext()),!m||!p||!S||!_)return!1;var C=[];function b(B,G){var H=B.getValues(),Z=ue.classify(H).roots||ue.getPeaks(H),z=Z.length,W=ue.getLength(H,G&&z?Z[z-1]:0,!G&&z?Z[0]:1);C.push(z?W:W/32)}function x(B,G,H){return G<H?B>G&&B<H:B>G||B<H}c||(b(m,!0),b(p,!1)),v||(b(S,!0),b(_,!1));var I=this.getPoint(),F=Math.min.apply(Math,C),M=c?p.getTangentAtTime(i):p.getPointAt(F).subtract(I),w=c?M.negate():m.getPointAt(-F).subtract(I),O=v?_.getTangentAtTime(s):_.getPointAt(F).subtract(I),y=v?O.negate():S.getPointAt(-F).subtract(I),E=w.getAngle(),L=M.getAngle(),U=y.getAngle(),P=O.getAngle();return!!(c?x(E,U,P)^x(L,U,P)&&x(E,P,U)^x(L,P,U):x(U,E,L)^x(P,E,L)&&x(U,L,E)^x(P,L,E))},hasOverlap:function(){return!!this._overlap}},o.each(ue._evaluateMethods,function(t){var i=t+"At";this[t]=function(){var s=this.getCurve(),l=this.getTime();return l!=null&&s&&s[i](l,!0)}},{preserve:!0}),new function(){function t(i,s,l){var f=i.length,c=0,v=f-1;function p(I,F){for(var M=I+F;M>=-1&&M<=f;M+=F){var w=i[(M%f+f)%f];if(!s.getPoint().isClose(w.getPoint(),1e-7))break;if(s.equals(w))return w}return null}for(;c<=v;){var m=c+v>>>1,_=i[m],S;if(l&&(S=s.equals(_)?_:p(m,-1)||p(m,1)))return s._overlap&&(S._overlap=S._intersection._overlap=!0),S;var C=s.getPath(),b=_.getPath(),x=C!==b?C._id-b._id:s.getIndex()+s.getTime()-(_.getIndex()+_.getTime());x<0?v=m-1:c=m+1}return i.splice(c,0,s),s}return{statics:{insert:t,expand:function(i){for(var s=i.slice(),l=i.length-1;l>=0;l--)t(s,i[l]._intersection,!1);return s}}}}),We=pe.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(t){var i,s,l;if(o.isPlainObject(t)?(s=t.segments,i=t.pathData):Array.isArray(t)?s=t:typeof t=="string"&&(i=t),s){var f=s[0];l=f&&Array.isArray(f[0])}else i&&(l=(i.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(i));var c=l?He:Te;return new c(t)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(t){this.isClockwise()!=(t=!!t)&&this.reverse()},setPathData:function(t){var i=t&&t.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),s,l=!1,f,c,v=new A,p=new A;function m(y,E){var L=+s[y];return l&&(L+=v[E]),L}function _(y){return new A(m(y,"x"),m(y+1,"y"))}this.clear();for(var S=0,C=i&&i.length;S<C;S++){var b=i[S],x=b[0],I=x.toLowerCase();s=b.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var F=s&&s.length;switch(l=x===I,f==="z"&&!/[mz]/.test(I)&&this.moveTo(v),I){case"m":case"l":for(var M=I==="m",w=0;w<F;w+=2)this[M?"moveTo":"lineTo"](v=_(w)),M&&(p=v,M=!1);c=v;break;case"h":case"v":var O=I==="h"?"x":"y";v=v.clone();for(var w=0;w<F;w++)v[O]=m(w,O),this.lineTo(v);c=v;break;case"c":for(var w=0;w<F;w+=6)this.cubicCurveTo(_(w),c=_(w+2),v=_(w+4));break;case"s":for(var w=0;w<F;w+=4)this.cubicCurveTo(/[cs]/.test(f)?v.multiply(2).subtract(c):v,c=_(w),v=_(w+2)),f=I;break;case"q":for(var w=0;w<F;w+=4)this.quadraticCurveTo(c=_(w),v=_(w+2));break;case"t":for(var w=0;w<F;w+=2)this.quadraticCurveTo(c=/[qt]/.test(f)?v.multiply(2).subtract(c):v,v=_(w)),f=I;break;case"a":for(var w=0;w<F;w+=7)this.arcTo(v=_(w+5),new N(+s[w],+s[w+1]),+s[w+2],+s[w+4],+s[w+3]);break;case"z":this.closePath(1e-12),v=p;break}f=I}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(t){var i=t.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(t):{};return i.onPath||!!(this.getFillRule()==="evenodd"?i.windingL&1||i.windingR&1:i.winding)},getIntersections:function(t,i,s,l){var f=this===t||!t,c=this._matrix._orNullIfIdentity(),v=f?c:(s||t._matrix)._orNullIfIdentity();return f||this.getBounds(c).intersects(t.getBounds(v),1e-12)?ue.getIntersections(this.getCurves(),!f&&t.getCurves(),i,c,v,l):[]},getCrossings:function(t){return this.getIntersections(t,function(i){return i.isCrossing()})},getNearestLocation:function(){for(var t=A.read(arguments),i=this.getCurves(),s=1/0,l=null,f=0,c=i.length;f<c;f++){var v=i[f].getNearestLocation(t);v._distance<s&&(s=v._distance,l=v)}return l},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t&&t.getPoint()},interpolate:function(t,i,s){var l=!this._children,f=l?"_segments":"_children",c=t[f],v=i[f],p=this[f];if(!c||!v||c.length!==v.length)throw new Error("Invalid operands in interpolate() call: "+t+", "+i);var m=p.length,_=v.length;if(m<_)for(var S=l?ge:Te,C=m;C<_;C++)this.add(new S);else m>_&&this[l?"removeSegments":"removeChildren"](_,m);for(var C=0;C<_;C++)p[C].interpolate(c[C],v[C],s);l&&(this.setClosed(t._closed),this._changed(9))},compare:function(t){var i=!1;if(t){var s=this._children||[this],l=t._children?t._children.slice():[t],f=s.length,c=l.length,v=[],p=0;i=!0;for(var m=T.findItemBoundsCollisions(s,l,R.GEOMETRIC_EPSILON),_=f-1;_>=0&&i;_--){var S=s[_];i=!1;var C=m[_];if(C)for(var b=C.length-1;b>=0&&!i;b--)S.compare(l[C[b]])&&(v[C[b]]||(v[C[b]]=!0,p++),i=!0)}i=i&&p===c}return i}}),Te=We.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(i){this._closed=!1,this._segments=[],this._version=0;var s=arguments,l=Array.isArray(i)?typeof i[0]=="object"?i:s:i&&i.size===n&&(i.x!==n||i.point!==n)?s:null;l&&l.length>0?this.setSegments(l):(this._curves=n,this._segmentSelection=0,!l&&typeof i=="string"&&(this.setPathData(i),i=null)),this._initialize(!l&&i)},_equals:function(t){return this._closed===t._closed&&o.equals(this._segments,t._segments)},copyContent:function(t){this.setSegments(t._segments),this._closed=t._closed},_changed:function t(i){if(t.base.call(this,i),i&8){if(this._length=this._area=n,i&32)this._version++;else if(this._curves)for(var s=0,l=this._curves.length;s<l;s++)this._curves[s]._changed()}else i&64&&(this._bounds=n)},getStyle:function(){var t=this._parent;return(t instanceof He?t:this)._style},getSegments:function(){return this._segments},setSegments:function(t){var i=this.isFullySelected(),s=t&&t.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=n,s){var l=t[s-1];typeof l=="boolean"&&(this.setClosed(l),s--),this._add(ge.readList(t,0,{},s))}i&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var t=this._curves,i=this._segments;if(!t){var s=this._countCurves();t=this._curves=new Array(s);for(var l=0;l<s;l++)t[l]=new ue(this,i[l],i[l+1]||i[0])}return t},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var t=this.getCurves();return t[t.length-1]},isClosed:function(){return this._closed},setClosed:function(t){if(this._closed!=(t=!!t)){if(this._closed=t,this._curves){var i=this._curves.length=this._countCurves();t&&(this._curves[i-1]=new ue(this,this._segments[i-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(t,i){var s=this._segments,l=s.length,f=new k(i),c=new Array(6),v=!0,p,m,_,S,C,b,x,I,F=[];function M(O,y){if(O._transformCoordinates(t,c),p=c[0],m=c[1],v)F.push("M"+f.pair(p,m)),v=!1;else if(C=c[2],b=c[3],C===p&&b===m&&x===_&&I===S){if(!y){var E=p-_,L=m-S;F.push(E===0?"v"+f.number(L):L===0?"h"+f.number(E):"l"+f.pair(E,L))}}else F.push("c"+f.pair(x-_,I-S)+" "+f.pair(C-_,b-S)+" "+f.pair(p-_,m-S));_=p,S=m,x=c[4],I=c[5]}if(!l)return"";for(var w=0;w<l;w++)M(s[w]);return this._closed&&l>0&&(M(s[0],!0),F.push("z")),F.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(t){for(var i=this._segments,s=new Array(6),l=0,f=i.length;l<f;l++)i[l]._transformCoordinates(t,s,!0);return!0},_add:function(t,v){for(var s=this._segments,l=this._curves,f=t.length,c=v==null,v=c?s.length:v,p=0;p<f;p++){var m=t[p];m._path&&(m=t[p]=m.clone()),m._path=this,m._index=v+p,m._selection&&this._updateSelection(m,0,m._selection)}if(c)o.push(s,t);else{s.splice.apply(s,[v,0].concat(t));for(var p=v+f,_=s.length;p<_;p++)s[p]._index=p}if(l){var S=this._countCurves(),C=v>0&&v+f-1===S?v-1:v,b=C,x=Math.min(C+f,S);t._curves&&(l.splice.apply(l,[C,0].concat(t._curves)),b+=t._curves.length);for(var p=b;p<x;p++)l.splice(p,0,new ue(this,null,null));this._adjustCurves(C,x)}return this._changed(41),t},_adjustCurves:function(t,i){for(var s=this._segments,l=this._curves,f,c=t;c<i;c++)f=l[c],f._path=this,f._segment1=s[c],f._segment2=s[c+1]||s[0],f._changed();(f=l[this._closed&&!t?s.length-1:t-1])&&(f._segment2=s[t]||s[0],f._changed()),(f=l[i])&&(f._segment1=s[i],f._changed())},_countCurves:function(){var t=this._segments.length;return!this._closed&&t>0?t-1:t},add:function(t){var i=arguments;return i.length>1&&typeof t!="number"?this._add(ge.readList(i)):this._add([ge.read(i)])[0]},insert:function(t,i){var s=arguments;return s.length>2&&typeof i!="number"?this._add(ge.readList(s,1),t):this._add([ge.read(s,1)],t)[0]},addSegment:function(){return this._add([ge.read(arguments)])[0]},insertSegment:function(t){return this._add([ge.read(arguments,1)],t)[0]},addSegments:function(t){return this._add(ge.readList(t))},insertSegments:function(t,i){return this._add(ge.readList(i),t)},removeSegment:function(t){return this.removeSegments(t,t+1)[0]||null},removeSegments:function(t,i,s){t=t||0,i=o.pick(i,this._segments.length);var l=this._segments,f=this._curves,c=l.length,v=l.splice(t,i-t),p=v.length;if(!p)return v;for(var m=0;m<p;m++){var _=v[m];_._selection&&this._updateSelection(_,_._selection,0),_._index=_._path=null}for(var m=t,S=l.length;m<S;m++)l[m]._index=m;if(f){for(var C=t>0&&i===c+(this._closed?1:0)?t-1:t,f=f.splice(C,p),m=f.length-1;m>=0;m--)f[m]._path=null;s&&(v._curves=f.slice(1)),this._adjustCurves(C,C)}return this._changed(41),v},clear:"#removeSegments",hasHandles:function(){for(var t=this._segments,i=0,s=t.length;i<s;i++)if(t[i].hasHandles())return!0;return!1},clearHandles:function(){for(var t=this._segments,i=0,s=t.length;i<s;i++)t[i].clearHandles()},getLength:function(){if(this._length==null){for(var t=this.getCurves(),i=0,s=0,l=t.length;s<l;s++)i+=t[s].getLength();this._length=i}return this._length},getArea:function(){var t=this._area;if(t==null){var i=this._segments,s=this._closed;t=0;for(var l=0,f=i.length;l<f;l++){var c=l+1===f;t+=ue.getArea(ue.getValues(i[l],i[c?0:l+1],null,c&&!s))}this._area=t}return t},isFullySelected:function(){var t=this._segments.length;return this.isSelected()&&t>0&&this._segmentSelection===t*7},setFullySelected:function(t){t&&this._selectSegments(!0),this.setSelected(t)},setSelection:function t(i){i&1||this._selectSegments(!1),t.base.call(this,i)},_selectSegments:function(t){var i=this._segments,s=i.length,l=t?7:0;this._segmentSelection=l*s;for(var f=0;f<s;f++)i[f]._selection=l},_updateSelection:function(t,i,s){t._selection=s;var l=this._segmentSelection+=s-i;l>0&&this.setSelected(!0)},divideAt:function(t){var i=this.getLocationAt(t),s;return i&&(s=i.getCurve().divideAt(i.getCurveOffset()))?s._segment1:null},splitAt:function(t){var i=this.getLocationAt(t),s=i&&i.index,l=i&&i.time,f=1e-8,c=1-f;l>c&&(s++,l=0);var v=this.getCurves();if(s>=0&&s<v.length){l>=f&&v[s++].divideAtTime(l);var p=this.removeSegments(s,this._segments.length,!0),m;return this._closed?(this.setClosed(!1),m=this):(m=new Te(pe.NO_INSERT),m.insertAbove(this),m.copyAttributes(this)),m._add(p,0),this.addSegment(p[0]),m}return null},split:function(t,i){var s,l=i===n?t:(s=this.getCurves()[t])&&s.getLocationAtTime(i);return l!=null?this.splitAt(l):null},join:function(t,i){var s=i||0;if(t&&t!==this){var l=t._segments,f=this.getLastSegment(),c=t.getLastSegment();if(!c)return this;f&&f._point.isClose(c._point,s)&&t.reverse();var v=t.getFirstSegment();if(f&&f._point.isClose(v._point,s))f.setHandleOut(v._handleOut),this._add(l.slice(1));else{var p=this.getFirstSegment();p&&p._point.isClose(v._point,s)&&t.reverse(),c=t.getLastSegment(),p&&p._point.isClose(c._point,s)?(p.setHandleIn(c._handleIn),this._add(l.slice(0,l.length-1),0)):this._add(l.slice())}t._closed&&this._add([l[0]]),t.remove()}var m=this.getFirstSegment(),_=this.getLastSegment();return m!==_&&m._point.isClose(_._point,s)&&(m.setHandleIn(_._handleIn),_.remove(),this.setClosed(!0)),this},reduce:function(t){for(var i=this.getCurves(),s=t&&t.simplify,l=s?1e-7:0,f=i.length-1;f>=0;f--){var c=i[f];!c.hasHandles()&&(!c.hasLength(l)||s&&c.isCollinear(c.getNext()))&&c.remove()}return this},reverse:function(){this._segments.reverse();for(var t=0,i=this._segments.length;t<i;t++){var s=this._segments[t],l=s._handleIn;s._handleIn=s._handleOut,s._handleOut=l,s._index=t}this._curves=null,this._changed(9)},flatten:function(t){for(var i=new Ie(this,t||.25,256,!0),s=i.parts,l=s.length,f=[],c=0;c<l;c++)f.push(new ge(s[c].curve.slice(0,2)));!this._closed&&l>0&&f.push(new ge(s[l-1].curve.slice(6))),this.setSegments(f)},simplify:function(t){var i=new Ve(this).fit(t||2.5);return i&&this.setSegments(i),!!i},smooth:function(t){var i=this,s=t||{},l=s.type||"asymmetric",f=this._segments,c=f.length,v=this._closed;function p(_e,Fe){var ke=_e&&_e.index;if(ke!=null){var Me=_e.path;if(Me&&Me!==i)throw new Error(_e._class+" "+ke+" of "+Me+" is not part of "+i);Fe&&_e instanceof ue&&ke++}else ke=typeof _e=="number"?_e:Fe;return Math.min(ke<0&&v?ke%c:ke<0?ke+c:ke,c-1)}var m=v&&s.from===n&&s.to===n,_=p(s.from,0),S=p(s.to,c-1);if(_>S)if(v)_-=c;else{var C=_;_=S,S=C}if(/^(?:asymmetric|continuous)$/.test(l)){var b=l==="asymmetric",x=Math.min,I=S-_+1,F=I-1,M=m?x(I,4):1,w=M,O=M,y=[];if(v||(w=x(1,_),O=x(1,c-S-1)),F+=w+O,F<=1)return;for(var E=0,L=_-w;E<=F;E++,L++)y[E]=f[(L<0?L+c:L)%c]._point;for(var U=y[0]._x+2*y[1]._x,P=y[0]._y+2*y[1]._y,B=2,G=F-1,H=[U],Z=[P],z=[B],W=[],X=[],E=1;E<F;E++){var Q=E<G,J=Q||b?1:2,$=Q?4:b?2:7,le=Q?4:b?3:8,he=Q?2:b?0:1,ce=J/B;B=z[E]=$-ce,U=H[E]=le*y[E]._x+he*y[E+1]._x-ce*U,P=Z[E]=le*y[E]._y+he*y[E+1]._y-ce*P}W[G]=H[G]/z[G],X[G]=Z[G]/z[G];for(var E=F-2;E>=0;E--)W[E]=(H[E]-W[E+1])/z[E],X[E]=(Z[E]-X[E+1])/z[E];W[F]=(3*y[F]._x-W[G])/2,X[F]=(3*y[F]._y-X[G])/2;for(var E=w,me=F-O,L=_;E<=me;E++,L++){var ne=f[L<0?L+c:L],ae=ne._point,de=W[E]-ae._x,ye=X[E]-ae._y;(m||E<me)&&ne.setHandleOut(de,ye),(m||E>w)&&ne.setHandleIn(-de,-ye)}}else for(var E=_;E<=S;E++)f[E<0?E+c:E].smooth(s,!m&&E===_,!m&&E===S)},toShape:function(t){if(!this._closed)return null;var i=this._segments,s,l,f,c;function v(b,x){var I=i[b],F=I.getNext(),M=i[x],w=M.getNext();return I._handleOut.isZero()&&F._handleIn.isZero()&&M._handleOut.isZero()&&w._handleIn.isZero()&&F._point.subtract(I._point).isCollinear(w._point.subtract(M._point))}function p(b){var x=i[b],I=x.getPrevious(),F=x.getNext();return I._handleOut.isZero()&&x._handleIn.isZero()&&x._handleOut.isZero()&&F._handleIn.isZero()&&x._point.subtract(I._point).isOrthogonal(F._point.subtract(x._point))}function m(b){var x=i[b],I=x.getNext(),F=x._handleOut,M=I._handleIn,w=.5522847498307936;if(F.isOrthogonal(M)){var O=x._point,y=I._point,E=new oe(O,F,!0).intersect(new oe(y,M,!0),!0);return E&&R.isZero(F.getLength()/E.subtract(O).getLength()-w)&&R.isZero(M.getLength()/E.subtract(y).getLength()-w)}return!1}function _(b,x){return i[b]._point.getDistance(i[x]._point)}if(!this.hasHandles()&&i.length===4&&v(0,2)&&v(1,3)&&p(1)?(s=Re.Rectangle,l=new N(_(0,3),_(0,1)),c=i[1]._point.add(i[2]._point).divide(2)):i.length===8&&m(0)&&m(2)&&m(4)&&m(6)&&v(1,5)&&v(3,7)?(s=Re.Rectangle,l=new N(_(1,6),_(0,3)),f=l.subtract(new N(_(0,7),_(1,2))).divide(2),c=i[3]._point.add(i[4]._point).divide(2)):i.length===4&&m(0)&&m(1)&&m(2)&&m(3)&&(R.isZero(_(0,2)-_(1,3))?(s=Re.Circle,f=_(0,2)/2):(s=Re.Ellipse,f=new N(_(2,0)/2,_(3,1)/2)),c=i[1]._point),s){var S=this.getPosition(!0),C=new s({center:S,size:l,radius:f,insert:!1});return C.copyAttributes(this,!0),C._matrix.prepend(this._matrix),C.rotate(c.subtract(S).getAngle()+90),(t===n||t)&&C.insertAbove(this),C}return null},toPath:"#clone",compare:function t(i){if(!i||i instanceof He)return t.base.call(this,i);var s=this.getCurves(),l=i.getCurves(),f=s.length,c=l.length;if(!f||!c)return f==c;for(var v=s[0].getValues(),p=[],m=0,_,S=0,C,b=0;b<c;b++){var M=l[b].getValues();p.push(M);var x=ue.getOverlaps(v,M);if(x){_=!b&&x[0][0]>0?c-1:b,C=x[0][1];break}}for(var I=Math.abs,F=1e-8,M=p[_],w;v&&M;){var x=ue.getOverlaps(v,M);if(x){var O=x[0][0];if(I(O-S)<F){S=x[1][0],S===1&&(v=++m<f?s[m].getValues():null,S=0);var y=x[0][1];if(I(y-C)<F){if(w||(w=[_,y]),C=x[1][1],C===1&&(++_>=c&&(_=0),M=p[_]||l[_].getValues(),C=0),!v)return w[0]===_&&w[1]===C;continue}}}break}return!1},_hitTestSelf:function(t,i,s,l){var f=this,c=this.getStyle(),v=this._segments,p=v.length,m=this._closed,_=i._tolerancePadding,S=_,C,b,x,I,F,M,w=i.stroke&&c.hasStroke(),O=i.fill&&c.hasFill(),y=i.curves,E=w?c.getStrokeWidth()/2:O&&i.tolerance>0||y?0:null;E!==null&&(E>0?(C=c.getStrokeJoin(),b=c.getStrokeCap(),x=c.getMiterLimit(),S=S.add(Te._getStrokePadding(E,l))):C=b="round");function L(W,X){return t.subtract(W).divide(X).length<=1}function U(W,X,Q){if(!i.selected||X.isSelected()){var J=W._point;if(X!==J&&(X=X.add(J)),L(X,S))return new Ye(Q,f,{segment:W,point:X})}}function P(W,X){return(X||i.segments)&&U(W,W._point,"segment")||!X&&i.handles&&(U(W,W._handleIn,"handle-in")||U(W,W._handleOut,"handle-out"))}function B(W){I.add(W)}function G(W){var X=m||W._index>0&&W._index<p-1;if((X?C:b)==="round")return L(W._point,S);if(I=new Te({internal:!0,closed:!0}),X?W.isSmooth()||Te._addBevelJoin(W,C,E,x,null,l,B,!0):b==="square"&&Te._addSquareCap(W,b,E,null,l,B,!0),!I.isEmpty()){var Q;return I.contains(t)||(Q=I.getNearestLocation(t))&&L(Q.getPoint(),_)}}if(i.ends&&!i.segments&&!m){if(M=P(v[0],!0)||P(v[p-1],!0))return M}else if(i.segments||i.handles){for(var H=0;H<p;H++)if(M=P(v[H]))return M}if(E!==null){if(F=this.getNearestLocation(t),F){var Z=F.getTime();Z===0||Z===1&&p>1?G(F.getSegment())||(F=null):L(F.getPoint(),S)||(F=null)}if(!F&&C==="miter"&&p>1)for(var H=0;H<p;H++){var z=v[H];if(t.getDistance(z._point)<=x*E&&G(z)){F=z.getLocation();break}}}return!F&&O&&this._contains(t)||F&&!w&&!y?new Ye("fill",this):F?new Ye(w?"stroke":"curve",this,{location:F,point:F.getPoint()}):null}},o.each(ue._evaluateMethods,function(t){this[t+"At"]=function(i){var s=this.getLocationAt(i);return s&&s[t]()}},{beans:!1,getLocationOf:function(){for(var t=A.read(arguments),i=this.getCurves(),s=0,l=i.length;s<l;s++){var f=i[s].getLocationOf(t);if(f)return f}return null},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getLocationAt:function(t){if(typeof t=="number"){for(var i=this.getCurves(),s=0,l=0,f=i.length;l<f;l++){var c=s,v=i[l];if(s+=v.getLength(),s>t)return v.getLocationAt(t-c)}if(i.length>0&&t<=this.getLength())return new ze(i[i.length-1],1)}else if(t&&t.getPath&&t.getPath()===this)return t;return null},getOffsetsWithTangent:function(){var t=A.read(arguments);if(t.isZero())return[];for(var i=[],s=0,l=this.getCurves(),f=0,c=l.length;f<c;f++){for(var v=l[f],p=v.getTimesWithTangent(t),m=0,_=p.length;m<_;m++){var S=s+v.getOffsetAtTime(p[m]);i.indexOf(S)<0&&i.push(S)}s+=v.length}return i}}),new function(){function t(s,l,f,c){if(c<=0)return;var v=c/2,p=c-2,m=v-1,_=new Array(6),S,C;function b(O){var y=_[O],E=_[O+1];(S!=y||C!=E)&&(s.beginPath(),s.moveTo(S,C),s.lineTo(y,E),s.stroke(),s.beginPath(),s.arc(y,E,v,0,Math.PI*2,!0),s.fill())}for(var x=0,I=l.length;x<I;x++){var F=l[x],M=F._selection;if(F._transformCoordinates(f,_),S=_[0],C=_[1],M&2&&b(2),M&4&&b(4),s.fillRect(S-v,C-v,c,c),p>0&&!(M&1)){var w=s.fillStyle;s.fillStyle="#ffffff",s.fillRect(S-m,C-m,p,p),s.fillStyle=w}}}function i(s,l,f){var c=l._segments,v=c.length,p=new Array(6),m=!0,_,S,C,b,x,I,F,M;function w(y){if(f)y._transformCoordinates(f,p),_=p[0],S=p[1];else{var E=y._point;_=E._x,S=E._y}if(m)s.moveTo(_,S),m=!1;else{if(f)x=p[2],I=p[3];else{var L=y._handleIn;x=_+L._x,I=S+L._y}x===_&&I===S&&F===C&&M===b?s.lineTo(_,S):s.bezierCurveTo(F,M,x,I,_,S)}if(C=_,b=S,f)F=p[4],M=p[5];else{var L=y._handleOut;F=C+L._x,M=b+L._y}}for(var O=0;O<v;O++)w(c[O]);l._closed&&v>0&&w(c[0])}return{_draw:function(s,l,f,c){var v=l.dontStart,p=l.dontFinish||l.clip,m=this.getStyle(),_=m.hasFill(),S=m.hasStroke(),C=m.getDashArray(),b=!Ne.support.nativeDash&&S&&C&&C.length;v||s.beginPath(),(_||S&&!b||p)&&(i(s,this,c),this._closed&&s.closePath());function x(y){return C[(y%b+b)%b]}if(!p&&(_||S)&&(this._setStyles(s,l,f),_&&(s.fill(m.getFillRule()),s.shadowColor="rgba(0,0,0,0)"),S)){if(b){v||s.beginPath();for(var I=new Ie(this,.25,32,!1,c),F=I.length,M=-m.getDashOffset(),w,O=0;M>0;)M-=x(O--)+x(O--);for(;M<F;)w=M+x(O++),(M>0||w>0)&&I.drawPart(s,Math.max(M,0),Math.max(w,0)),M=w+x(O++)}s.stroke()}},_drawSelected:function(s,l){s.beginPath(),i(s,this,l),s.stroke(),t(s,this._segments,l,Ne.settings.handleSize)}}},new function(){function t(i){var s=i._segments;if(!s.length)throw new Error("Use a moveTo() command first");return s[s.length-1]}return{moveTo:function(){var i=this._segments;i.length===1&&this.removeSegment(0),i.length||this._add([new ge(A.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new ge(A.read(arguments))])},cubicCurveTo:function(){var i=arguments,s=A.read(i),l=A.read(i),f=A.read(i),c=t(this);c.setHandleOut(s.subtract(c._point)),this._add([new ge(f,l.subtract(f))])},quadraticCurveTo:function(){var i=arguments,s=A.read(i),l=A.read(i),f=t(this)._point;this.cubicCurveTo(s.add(f.subtract(s).multiply(1/3)),s.add(l.subtract(s).multiply(1/3)),l)},curveTo:function(){var i=arguments,s=A.read(i),l=A.read(i),f=o.pick(o.read(i),.5),c=1-f,v=t(this)._point,p=s.subtract(v.multiply(c*c)).subtract(l.multiply(f*f)).divide(2*f*c);if(p.isNaN())throw new Error("Cannot put a curve through points with parameter = "+f);this.quadraticCurveTo(p,l)},arcTo:function(){var i=arguments,s=Math.abs,l=Math.sqrt,f=t(this),c=f._point,v=A.read(i),p,m=o.peek(i),_=o.pick(m,!0),S,C,b,x;if(typeof _=="boolean")var I=c.add(v).divide(2),p=I.add(I.subtract(c).rotate(_?-90:90));else if(o.remain(i)<=2)p=v,v=A.read(i);else if(!c.equals(v)){var F=N.read(i),M=R.isZero;if(M(F.width)||M(F.height))return this.lineTo(v);var w=o.read(i),_=!!o.read(i),O=!!o.read(i),I=c.add(v).divide(2),y=c.subtract(I).rotate(-w),E=y.x,L=y.y,U=s(F.width),P=s(F.height),B=U*U,G=P*P,H=E*E,Z=L*L,z=l(H/B+Z/G);if(z>1&&(U*=z,P*=z,B=U*U,G=P*P),z=(B*G-B*Z-G*H)/(B*Z+G*H),s(z)<1e-12&&(z=0),z<0)throw new Error("Cannot create an arc with the given arguments");S=new A(U*L/P,-P*E/U).multiply((O===_?-1:1)*l(z)).rotate(w).add(I),x=new te().translate(S).rotate(w).scale(U,P),b=x._inverseTransform(c),C=b.getDirectedAngle(x._inverseTransform(v)),!_&&C>0?C-=360:_&&C<0&&(C+=360)}if(p){var W=new oe(c.add(p).divide(2),p.subtract(c).rotate(90),!0),X=new oe(p.add(v).divide(2),v.subtract(p).rotate(90),!0),Q=new oe(c,v),J=Q.getSide(p);if(S=W.intersect(X,!0),!S){if(!J)return this.lineTo(v);throw new Error("Cannot create an arc with the given arguments")}b=c.subtract(S),C=b.getDirectedAngle(v.subtract(S));var $=Q.getSide(S,!0);$===0?C=J*s(C):J===$&&(C+=C<0?360:-360)}if(C){for(var le=1e-7,he=s(C),ce=he>=360?4:Math.ceil((he-le)/90),me=C/ce,ne=me*Math.PI/360,ae=4/3*Math.sin(ne)/(1+Math.cos(ne)),de=[],ye=0;ye<=ce;ye++){var y=v,_e=null;if(ye<ce&&(_e=b.rotate(90).multiply(ae),x?(y=x._transformPoint(b),_e=x._transformPoint(b.add(_e)).subtract(y)):y=S.add(b)),!ye)f.setHandleOut(_e);else{var Fe=b.rotate(-90).multiply(ae);x&&(Fe=x._transformPoint(b.add(Fe)).subtract(y)),de.push(new ge(y,Fe,_e))}b=b.rotate(me)}this._add(de)}},lineBy:function(){var i=A.read(arguments),s=t(this)._point;this.lineTo(s.add(i))},curveBy:function(){var i=arguments,s=A.read(i),l=A.read(i),f=o.read(i),c=t(this)._point;this.curveTo(c.add(s),c.add(l),f)},cubicCurveBy:function(){var i=arguments,s=A.read(i),l=A.read(i),f=A.read(i),c=t(this)._point;this.cubicCurveTo(c.add(s),c.add(l),c.add(f))},quadraticCurveBy:function(){var i=arguments,s=A.read(i),l=A.read(i),f=t(this)._point;this.quadraticCurveTo(f.add(s),f.add(l))},arcBy:function(){var i=arguments,s=t(this)._point,l=s.add(A.read(i)),f=o.pick(o.peek(i),!0);typeof f=="boolean"?this.arcTo(l,f):this.arcTo(l,s.add(A.read(i)))},closePath:function(i){this.setClosed(!0),this.join(this,i)}}},{_getBounds:function(t,i){var s=i.handle?"getHandleBounds":i.stroke?"getStrokeBounds":"getBounds";return Te[s](this._segments,this._closed,this,t,i)},statics:{getBounds:function(t,i,s,l,f,c){var v=t[0];if(!v)return new j;var p=new Array(6),m=v._transformCoordinates(l,new Array(6)),_=m.slice(0,2),S=_.slice(),C=new Array(2);function b(F){F._transformCoordinates(l,p);for(var M=0;M<2;M++)ue._addBounds(m[M],m[M+4],p[M+2],p[M],M,c?c[M]:0,_,S,C);var w=m;m=p,p=w}for(var x=1,I=t.length;x<I;x++)b(t[x]);return i&&b(v),new j(_[0],_[1],S[0]-_[0],S[1]-_[1])},getStrokeBounds:function(t,i,s,l,f){var c=s.getStyle(),v=c.hasStroke(),p=c.getStrokeWidth(),m=v&&s._getStrokeMatrix(l,f),_=v&&Te._getStrokePadding(p,m),S=Te.getBounds(t,i,s,l,f,_);if(!v)return S;var C=p/2,b=c.getStrokeJoin(),x=c.getStrokeCap(),I=c.getMiterLimit(),F=new j(new N(_));function M(U){S=S.include(U)}function w(U){S=S.unite(F.setCenter(U._point.transform(l)))}function O(U,P){P==="round"||U.isSmooth()?w(U):Te._addBevelJoin(U,P,C,I,l,m,M)}function y(U,P){P==="round"?w(U):Te._addSquareCap(U,P,C,l,m,M)}var E=t.length-(i?0:1);if(E>0){for(var L=1;L<E;L++)O(t[L],b);i?O(t[0],b):(y(t[0],x),y(t[t.length-1],x))}return S},_getStrokePadding:function(t,i){if(!i)return[t,t];var s=new A(t,0).transform(i),l=new A(0,t).transform(i),f=s.getAngleInRadians(),c=s.getLength(),v=l.getLength(),p=Math.sin(f),m=Math.cos(f),_=Math.tan(f),S=Math.atan2(v*_,c),C=Math.atan2(v,_*c);return[Math.abs(c*Math.cos(S)*m+v*Math.sin(S)*p),Math.abs(v*Math.sin(C)*m+c*Math.cos(C)*p)]},_addBevelJoin:function(t,i,s,l,f,c,v,p){var m=t.getCurve(),_=m.getPrevious(),S=m.getPoint1().transform(f),C=_.getNormalAtTime(1).multiply(s).transform(c),b=m.getNormalAtTime(0).multiply(s).transform(c),x=C.getDirectedAngle(b);if((x<0||x>=180)&&(C=C.negate(),b=b.negate()),p&&v(S),v(S.add(C)),i==="miter"){var I=new oe(S.add(C),new A(-C.y,C.x),!0).intersect(new oe(S.add(b),new A(-b.y,b.x),!0),!0);I&&S.getDistance(I)<=l*s&&v(I)}v(S.add(b))},_addSquareCap:function(t,i,s,l,f,c,v){var p=t._point.transform(l),m=t.getLocation(),_=m.getNormal().multiply(m.getTime()===0?s:-s).transform(f);i==="square"&&(v&&(c(p.subtract(_)),c(p.add(_))),p=p.add(_.rotate(-90))),c(p.add(_)),c(p.subtract(_))},getHandleBounds:function(t,i,s,l,f){var c=s.getStyle(),v=f.stroke&&c.hasStroke(),p,m;if(v){var _=s._getStrokeMatrix(l,f),S=c.getStrokeWidth()/2,C=S;c.getStrokeJoin()==="miter"&&(C=S*c.getMiterLimit()),c.getStrokeCap()==="square"&&(C=Math.max(C,S*Math.SQRT2)),p=Te._getStrokePadding(S,_),m=Te._getStrokePadding(C,_)}for(var b=new Array(6),x=1/0,I=-x,F=x,M=I,w=0,O=t.length;w<O;w++){var y=t[w];y._transformCoordinates(l,b);for(var E=0;E<6;E+=2){var L=E?p:m,U=L?L[0]:0,P=L?L[1]:0,B=b[E],G=b[E+1],H=B-U,Z=B+U,z=G-P,W=G+P;H<x&&(x=H),Z>I&&(I=Z),z<F&&(F=z),W>M&&(M=W)}}return new j(x,F,I-x,M-F)}}});Te.inject({statics:new function(){var t=.5522847498307936,i=[new ge([-1,0],[0,t],[0,-t]),new ge([0,-1],[-t,0],[t,0]),new ge([1,0],[0,-t],[0,t]),new ge([0,1],[t,0],[-t,0])];function s(f,c,v){var p=o.getNamed(v),m=new Te(p&&p.insert==!1&&pe.NO_INSERT);return m._add(f),m._closed=c,m.set(p,{insert:!0})}function l(f,c,v){for(var p=new Array(4),m=0;m<4;m++){var _=i[m];p[m]=new ge(_._point.multiply(c).add(f),_._handleIn.multiply(c),_._handleOut.multiply(c))}return s(p,!0,v)}return{Line:function(){var f=arguments;return s([new ge(A.readNamed(f,"from")),new ge(A.readNamed(f,"to"))],!1,f)},Circle:function(){var f=arguments,c=A.readNamed(f,"center"),v=o.readNamed(f,"radius");return l(c,new N(v),f)},Rectangle:function(){var f=arguments,c=j.readNamed(f,"rectangle"),v=N.readNamed(f,"radius",0,{readNull:!0}),p=c.getBottomLeft(!0),m=c.getTopLeft(!0),_=c.getTopRight(!0),S=c.getBottomRight(!0),C;if(!v||v.isZero())C=[new ge(p),new ge(m),new ge(_),new ge(S)];else{v=N.min(v,c.getSize(!0).divide(2));var b=v.width,x=v.height,I=b*t,F=x*t;C=[new ge(p.add(b,0),null,[-I,0]),new ge(p.subtract(0,x),[0,F]),new ge(m.add(0,x),null,[0,-F]),new ge(m.add(b,0),[-I,0],null),new ge(_.subtract(b,0),null,[I,0]),new ge(_.add(0,x),[0,-F],null),new ge(S.subtract(0,x),null,[0,F]),new ge(S.subtract(b,0),[I,0])]}return s(C,!0,f)},RoundRectangle:"#Rectangle",Ellipse:function(){var f=arguments,c=Re._readEllipse(f);return l(c.center,c.radius,f)},Oval:"#Ellipse",Arc:function(){var f=arguments,c=A.readNamed(f,"from"),v=A.readNamed(f,"through"),p=A.readNamed(f,"to"),m=o.getNamed(f),_=new Te(m&&m.insert==!1&&pe.NO_INSERT);return _.moveTo(c),_.arcTo(v,p),_.set(m)},RegularPolygon:function(){for(var f=arguments,c=A.readNamed(f,"center"),v=o.readNamed(f,"sides"),p=o.readNamed(f,"radius"),m=360/v,_=v%3===0,S=new A(0,_?-p:p),C=_?-1:.5,b=new Array(v),x=0;x<v;x++)b[x]=new ge(c.add(S.rotate((x+C)*m)));return s(b,!0,f)},Star:function(){for(var f=arguments,c=A.readNamed(f,"center"),v=o.readNamed(f,"points")*2,p=o.readNamed(f,"radius1"),m=o.readNamed(f,"radius2"),_=360/v,S=new A(0,-1),C=new Array(v),b=0;b<v;b++)C[b]=new ge(c.add(S.rotate(_*b).multiply(b%2?m:p)));return s(C,!0,f)}}}});var He=We.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(i){this._children=[],this._namedChildren={},this._initialize(i)||(typeof i=="string"?this.setPathData(i):this.addChildren(Array.isArray(i)?i:arguments))},insertChildren:function t(i,s){var l=s,f=l[0];f&&typeof f[0]=="number"&&(l=[l]);for(var c=s.length-1;c>=0;c--){var v=l[c];l===s&&!(v instanceof Te)&&(l=o.slice(l)),Array.isArray(v)?l[c]=new Te({segments:v,insert:!1}):v instanceof He&&(l.splice.apply(l,[c,1].concat(v.removeChildren())),v.remove())}return t.base.call(this,i,l)},reduce:function t(i){for(var s=this._children,l=s.length-1;l>=0;l--){var f=s[l].reduce(i);f.isEmpty()&&f.remove()}if(!s.length){var f=new Te(pe.NO_INSERT);return f.copyAttributes(this),f.insertAbove(this),this.remove(),f}return t.base.call(this)},isClosed:function(){for(var t=this._children,i=0,s=t.length;i<s;i++)if(!t[i]._closed)return!1;return!0},setClosed:function(t){for(var i=this._children,s=0,l=i.length;s<l;s++)i[s].setClosed(t)},getFirstSegment:function(){var t=this.getFirstChild();return t&&t.getFirstSegment()},getLastSegment:function(){var t=this.getLastChild();return t&&t.getLastSegment()},getCurves:function(){for(var t=this._children,i=[],s=0,l=t.length;s<l;s++)o.push(i,t[s].getCurves());return i},getFirstCurve:function(){var t=this.getFirstChild();return t&&t.getFirstCurve()},getLastCurve:function(){var t=this.getLastChild();return t&&t.getLastCurve()},getArea:function(){for(var t=this._children,i=0,s=0,l=t.length;s<l;s++)i+=t[s].getArea();return i},getLength:function(){for(var t=this._children,i=0,s=0,l=t.length;s<l;s++)i+=t[s].getLength();return i},getPathData:function(t,i){for(var s=this._children,l=[],f=0,c=s.length;f<c;f++){var v=s[f],p=v._matrix;l.push(v.getPathData(t&&!p.isIdentity()?t.appended(p):t,i))}return l.join("")},_hitTestChildren:function t(i,s,l){return t.base.call(this,i,s.class===Te||s.type==="path"?s:o.set({},s,{fill:!1}),l)},_draw:function(t,i,s,l){var f=this._children;if(!!f.length){i=i.extend({dontStart:!0,dontFinish:!0}),t.beginPath();for(var c=0,v=f.length;c<v;c++)f[c].draw(t,i,l);if(!i.clip){this._setStyles(t,i,s);var p=this._style;p.hasFill()&&(t.fill(p.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),p.hasStroke()&&t.stroke()}}},_drawSelected:function(t,i,s){for(var l=this._children,f=0,c=l.length;f<c;f++){var v=l[f],p=v._matrix;s[v._id]||v._drawSelected(t,p.isIdentity()?i:i.appended(p))}}},new function(){function t(i,s){var l=i._children;if(s&&!l.length)throw new Error("Use a moveTo() command first");return l[l.length-1]}return o.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(i){this[i]=function(){var s=t(this,!0);s[i].apply(s,arguments)}},{moveTo:function(){var i=t(this),s=i&&i.isEmpty()?i:new Te(pe.NO_INSERT);s!==i&&this.addChild(s),s.moveTo.apply(s,arguments)},moveBy:function(){var i=t(this,!0),s=i&&i.getLastSegment(),l=A.read(arguments);this.moveTo(s?l.add(s._point):l)},closePath:function(i){t(this,!0).closePath(i)}})},o.each(["reverse","flatten","simplify","smooth"],function(t){this[t]=function(i){for(var s=this._children,l,f=0,c=s.length;f<c;f++)l=s[f][t](i)||l;return l}},{}));We.inject(new function(){var t=Math.min,i=Math.max,s=Math.abs,l={unite:{"1":!0,"2":!0},intersect:{"2":!0},subtract:{"1":!0},exclude:{"1":!0,"-1":!0}};function f(w){return w._children||[w]}function c(w,O){var y=w.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(O){for(var E=f(y),L=0,U=E.length;L<U;L++){var w=E[L];!w._closed&&!w.isEmpty()&&(w.closePath(1e-12),w.getFirstSegment().setHandleIn(0,0),w.getLastSegment().setHandleOut(0,0))}y=y.resolveCrossings().reorient(y.getFillRule()==="nonzero",!0)}return y}function v(w,O,y,E,L){var U=new He(pe.NO_INSERT);return U.addChildren(w,!0),U=U.reduce({simplify:O}),L&&L.insert==!1||U.insertAbove(E&&y.isSibling(E)&&y.getIndex()<E.getIndex()?E:y),U.copyAttributes(y,!0),U}function p(w){return w.hasOverlap()||w.isCrossing()}function m(w,O,y,E){if(E&&(E.trace==!1||E.stroke)&&/^(subtract|intersect)$/.test(y))return _(w,O,y);var L=c(w,!0),U=O&&w!==O&&c(O,!0),P=l[y];P[y]=!0,U&&(P.subtract||P.exclude)^(U.isClockwise()^L.isClockwise())&&U.reverse();var B=x(ze.expand(L.getIntersections(U,p))),G=f(L),H=U&&f(U),Z=[],z=[],W;function X(_e){for(var Fe=0,ke=_e.length;Fe<ke;Fe++){var Me=_e[Fe];o.push(Z,Me._segments),o.push(z,Me.getCurves()),Me._overlapsOnly=!0}}function Q(_e){for(var Fe=[],ke=0,Me=_e&&_e.length;ke<Me;ke++)Fe.push(z[_e[ke]]);return Fe}if(B.length){X(G),H&&X(H);for(var J=new Array(z.length),$=0,le=z.length;$<le;$++)J[$]=z[$].getValues();for(var he=T.findCurveBoundsCollisions(J,J,0,!0),ce={},$=0;$<z.length;$++){var me=z[$],ne=me._path._id,ae=ce[ne]=ce[ne]||{};ae[me.getIndex()]={hor:Q(he[$].hor),ver:Q(he[$].ver)}}for(var $=0,le=B.length;$<le;$++)F(B[$]._segment,L,U,ce,P);for(var $=0,le=Z.length;$<le;$++){var de=Z[$],ye=de._intersection;de._winding||F(de,L,U,ce,P),ye&&ye._overlap||(de._path._overlapsOnly=!1)}W=M(Z,P)}else W=b(H?G.concat(H):G.slice(),function(_e){return!!P[_e]});return v(W,!0,w,O,E)}function _(w,O,y){var E=c(w),L=c(O),U=E.getIntersections(L,p),P=y==="subtract",B=y==="divide",G={},H=[];function Z(X){if(!G[X._id]&&(B||L.contains(X.getPointAt(X.getLength()/2))^P))return H.unshift(X),G[X._id]=!0}for(var z=U.length-1;z>=0;z--){var W=U[z].split();W&&(Z(W)&&W.getFirstSegment().setHandleIn(0,0),E.getLastSegment().setHandleOut(0,0))}return Z(E),v(H,!1,w,O)}function S(w,O){for(var y=w;y;){if(y===O)return;y=y._previous}for(;w._next&&w._next!==O;)w=w._next;if(!w._next){for(;O._previous;)O=O._previous;w._next=O,O._previous=w}}function C(w){for(var O=w.length-1;O>=0;O--)w[O].clearHandles()}function b(w,O,y){var E=w&&w.length;if(E){var L=o.each(w,function(he,ce){this[he._id]={container:null,winding:he.isClockwise()?1:-1,index:ce}},{}),U=w.slice().sort(function(he,ce){return s(ce.getArea())-s(he.getArea())}),P=U[0],B=T.findItemBoundsCollisions(U,null,R.GEOMETRIC_EPSILON);y==null&&(y=P.isClockwise());for(var G=0;G<E;G++){var H=U[G],Z=L[H._id],z=0,W=B[G];if(W){for(var X=null,Q=W.length-1;Q>=0;Q--)if(W[Q]<G){X=X||H.getInteriorPoint();var J=U[W[Q]];if(J.contains(X)){var $=L[J._id];z=$.winding,Z.winding+=z,Z.container=$.exclude?$.container:J;break}}}if(O(Z.winding)===O(z))Z.exclude=!0,w[Z.index]=null;else{var le=Z.container;H.setClockwise(le?!le.isClockwise():y)}}}return w}function x(w,O,y){var E=O&&[],L=1e-8,U=1-L,P=!1,B=y||[],G=y&&{},H,Z,z;function W(Fe){return Fe._path._id+"."+Fe._segment1._index}for(var X=(y&&y.length)-1;X>=0;X--){var Q=y[X];Q._path&&(G[W(Q)]=!0)}for(var X=w.length-1;X>=0;X--){var J=w[X],$=J._time,le=$,he=O&&!O(J),Q=J._curve,ce;if(Q&&(Q!==Z?(P=!Q.hasHandles()||G&&G[W(Q)],H=[],z=null,Z=Q):z>=L&&($/=z)),he){H&&H.push(J);continue}else O&&E.unshift(J);if(z=le,$<L)ce=Q._segment1;else if($>U)ce=Q._segment2;else{var me=Q.divideAtTime($,!0);P&&B.push(Q,me),ce=me._segment1;for(var ne=H.length-1;ne>=0;ne--){var ae=H[ne];ae._time=(ae._time-$)/(1-$)}}J._setSegment(ce);var de=ce._intersection,ye=J._intersection;if(de){S(de,ye);for(var _e=de;_e;)S(_e._intersection,de),_e=_e._next}else ce._intersection=ye}return y||C(B),E||w}function I(w,O,y,E,L){var U=Array.isArray(O)?O:O[y?"hor":"ver"],P=y?1:0,B=P^1,G=[w.x,w.y],H=G[P],Z=G[B],z=1e-9,W=1e-6,X=H-z,Q=H+z,J=0,$=0,le=0,he=0,ce=!1,me=!1,ne=1,ae=[],de,ye;function _e(Xe){var st=Xe[B+0],St=Xe[B+6];if(!(Z<t(st,St)||Z>i(st,St))){var pt=Xe[P+0],Ot=Xe[P+2],ur=Xe[P+4],Lt=Xe[P+6];if(st===St){(pt<Q&&Lt>X||Lt<Q&&pt>X)&&(ce=!0);return}var It=Z===st?0:Z===St||X>i(pt,Ot,ur,Lt)||Q<t(pt,Ot,ur,Lt)?1:ue.solveCubic(Xe,B,Z,ae,0,1)>0?ae[0]:1,wt=It===0?pt:It===1?Lt:ue.getPoint(Xe,It)[y?"y":"x"],kt=st>St?1:-1,lr=de[B]>de[B+6]?1:-1,Mt=de[P+6];return Z!==st?(wt<X?le+=kt:wt>Q?he+=kt:ce=!0,wt>H-W&&wt<H+W&&(ne/=2)):(kt!==lr?pt<X?le+=kt:pt>Q&&(he+=kt):pt!=Mt&&(Mt<Q&&wt>Q?(he+=kt,ce=!0):Mt>X&&wt<X&&(le+=kt,ce=!0)),ne/=4),de=Xe,!L&&wt>X&&wt<Q&&ue.getTangent(Xe,It)[y?"x":"y"]===0&&I(w,O,!y,E,!0)}}function Fe(Xe){var st=Xe[B+0],St=Xe[B+2],pt=Xe[B+4],Ot=Xe[B+6];if(Z<=i(st,St,pt,Ot)&&Z>=t(st,St,pt,Ot)){for(var ur=Xe[P+0],Lt=Xe[P+2],It=Xe[P+4],wt=Xe[P+6],kt=X>i(ur,Lt,It,wt)||Q<t(ur,Lt,It,wt)?[Xe]:ue.getMonoCurves(Xe,y),lr,Mt=0,Cn=kt.length;Mt<Cn;Mt++)if(lr=_e(kt[Mt]))return lr}}for(var ke=0,Me=U.length;ke<Me;ke++){var De=U[ke],Pe=De._path,ct=De.getValues(),dt;if((!ke||U[ke-1]._path!==Pe)&&(de=null,Pe._closed||(ye=ue.getValues(Pe.getLastCurve().getSegment2(),De.getSegment1(),null,!E),ye[B]!==ye[B+6]&&(de=ye)),!de)){de=ct;for(var _t=Pe.getLastCurve();_t&&_t!==De;){var at=_t.getValues();if(at[B]!==at[B+6]){de=at;break}_t=_t.getPrevious()}}if(dt=Fe(ct))return dt;if(ke+1===Me||U[ke+1]._path!==Pe){if(ye&&(dt=Fe(ye)))return dt;ce&&!le&&!he&&(le=he=Pe.isClockwise(E)^y?1:-1),J+=le,$+=he,le=he=0,ce&&(me=!0,ce=!1),ye=null}}return J=s(J),$=s($),{winding:i(J,$),windingL:J,windingR:$,quality:ne,onPath:me}}function F(w,O,y,E,L){var U=[],P=w,B=0,z;do{var G=w.getCurve();if(G){var H=G.getLength();U.push({segment:w,curve:G,length:H}),B+=H}w=w.getNext()}while(w&&!w._intersection&&w!==P);for(var Z=[.5,.25,.75],z={winding:0,quality:-1},W=.001,X=1-W,Q=0;Q<Z.length&&z.quality<.5;Q++)for(var H=B*Z[Q],J=0,$=U.length;J<$;J++){var le=U[J],he=le.length;if(H<=he){var G=le.curve,ce=G._path,me=ce._parent,ne=me instanceof He?me:ce,ae=R.clamp(G.getTimeAt(H),W,X),de=G.getPointAtTime(ae),ye=s(G.getTangentAtTime(ae).y)<Math.SQRT1_2,_e=null;if(L.subtract&&y){var Fe=ne===O?y:O,ke=Fe._getWinding(de,ye,!0);if(ne===O&&ke.winding||ne===y&&!ke.winding){if(ke.quality<1)continue;_e={winding:0,quality:1}}}_e=_e||I(de,E[ce._id][G.getIndex()],ye,!0),_e.quality>z.quality&&(z=_e);break}H-=he}for(var J=U.length-1;J>=0;J--)U[J].segment._winding=z}function M(w,O){var y=[],E;function L(Me){var De;return!!(Me&&!Me._visited&&(!O||O[(De=Me._winding||{}).winding]&&!(O.unite&&De.winding===2&&De.windingL&&De.windingR)))}function U(Me){if(Me){for(var De=0,Pe=E.length;De<Pe;De++)if(Me===E[De])return!0}return!1}function P(Me){for(var De=Me._segments,Pe=0,ct=De.length;Pe<ct;Pe++)De[Pe]._visited=!0}function B(Me,De){var Pe=Me._intersection,ct=Pe,dt=[];De&&(E=[Me]);function _t(at,Xe){for(;at&&at!==Xe;){var st=at._segment,St=st&&st._path;if(St){var pt=st.getNext()||St.getFirstSegment(),Ot=pt._intersection;st!==Me&&(U(st)||U(pt)||pt&&L(st)&&(L(pt)||Ot&&L(Ot._segment)))&&dt.push(st),De&&E.push(st)}at=at._next}}if(Pe){for(_t(Pe);Pe&&Pe._previous;)Pe=Pe._previous;_t(Pe,ct)}return dt}w.sort(function(Me,De){var Pe=Me._intersection,ct=De._intersection,dt=!!(Pe&&Pe._overlap),_t=!!(ct&&ct._overlap),at=Me._path,Xe=De._path;return dt^_t?dt?1:-1:!Pe^!ct?Pe?1:-1:at!==Xe?at._id-Xe._id:Me._index-De._index});for(var G=0,H=w.length;G<H;G++){var Z=w[G],z=L(Z),W=null,X=!1,Q=!0,J=[],$,le,he;if(z&&Z._path._overlapsOnly){var ce=Z._path,me=Z._intersection._segment._path;ce.compare(me)&&(ce.getArea()&&y.push(ce.clone(!1)),P(ce),P(me),z=!1)}for(;z;){var ne=!W,ae=B(Z,ne),de=ae.shift(),X=!ne&&(U(Z)||U(de)),ye=!X&&de;if(ne&&(W=new Te(pe.NO_INSERT),$=null),X){(Z.isFirst()||Z.isLast())&&(Q=Z._path._closed),Z._visited=!0;break}if(ye&&$&&(J.push($),$=null),$||(ye&&ae.push(Z),$={start:W._segments.length,crossings:ae,visited:le=[],handleIn:he}),ye&&(Z=de),!L(Z)){W.removeSegments($.start);for(var _e=0,Fe=le.length;_e<Fe;_e++)le[_e]._visited=!1;le.length=0;do Z=$&&$.crossings.shift(),(!Z||!Z._path)&&(Z=null,$=J.pop(),$&&(le=$.visited,he=$.handleIn));while($&&!L(Z));if(!Z)break}var ke=Z.getNext();W.add(new ge(Z._point,he,ke&&Z._handleOut)),Z._visited=!0,le.push(Z),Z=ke||Z._path.getFirstSegment(),he=ke&&ke._handleIn}X&&(Q&&(W.getFirstSegment().setHandleIn(he),W.setClosed(Q)),W.getArea()!==0&&y.push(W))}return y}return{_getWinding:function(w,O,y){return I(w,this.getCurves(),O,y)},unite:function(w,O){return m(this,w,"unite",O)},intersect:function(w,O){return m(this,w,"intersect",O)},subtract:function(w,O){return m(this,w,"subtract",O)},exclude:function(w,O){return m(this,w,"exclude",O)},divide:function(w,O){return O&&(O.trace==!1||O.stroke)?_(this,w,"divide"):v([this.subtract(w,O),this.intersect(w,O)],!0,this,w,O)},resolveCrossings:function(){var w=this._children,O=w||[this];function y($,le){var he=$&&$._intersection;return he&&he._overlap&&he._path===le}var E=!1,L=!1,U=this.getIntersections(null,function($){return $.hasOverlap()&&(E=!0)||$.isCrossing()&&(L=!0)}),P=E&&L&&[];if(U=ze.expand(U),E)for(var B=x(U,function($){return $.hasOverlap()},P),G=B.length-1;G>=0;G--){var H=B[G],Z=H._path,z=H._segment,W=z.getPrevious(),X=z.getNext();y(W,Z)&&y(X,Z)&&(z.remove(),W._handleOut._set(0,0),X._handleIn._set(0,0),W!==z&&!W.getCurve().hasLength()&&(X._handleIn.set(W._handleIn),W.remove()))}L&&(x(U,E&&function($){var le=$.getCurve(),he=$.getSegment(),ce=$._intersection,me=ce._curve,ne=ce._segment;if(le&&me&&le._path&&me._path)return!0;he&&(he._intersection=null),ne&&(ne._intersection=null)},P),P&&C(P),O=M(o.each(O,function($){o.push(this,$._segments)},[])));var Q=O.length,J;return Q>1&&w?(O!==w&&this.setChildren(O),J=this):Q===1&&!w&&(O[0]!==this&&this.setSegments(O[0].removeSegments()),J=this),J||(J=new He(pe.NO_INSERT),J.addChildren(O),J=J.reduce(),J.copyAttributes(this),this.replaceWith(J)),J},reorient:function(w,O){var y=this._children;return y&&y.length?this.setChildren(b(this.removeChildren(),function(E){return!!(w?E:E&1)},O)):O!==n&&this.setClockwise(O),this},getInteriorPoint:function(){var w=this.getBounds(),O=w.getCenter(!0);if(!this.contains(O)){for(var y=this.getCurves(),E=O.y,L=[],U=[],P=0,B=y.length;P<B;P++){var G=y[P].getValues(),H=G[1],Z=G[3],z=G[5],W=G[7];if(E>=t(H,Z,z,W)&&E<=i(H,Z,z,W))for(var X=ue.getMonoCurves(G),Q=0,J=X.length;Q<J;Q++){var $=X[Q],le=$[1],he=$[7];if(le!==he&&(E>=le&&E<=he||E>=he&&E<=le)){var ce=E===le?$[0]:E===he?$[6]:ue.solveCubic($,1,E,U,0,1)===1?ue.getPoint($,U[0]).x:($[0]+$[6])/2;L.push(ce)}}}L.length>1&&(L.sort(function(me,ne){return me-ne}),O.x=(L[0]+L[1])/2)}return O}}});var Ie=o.extend({_class:"PathFlattener",initialize:function(t,i,s,l,f){var c=[],v=[],p=0,m=1/(s||32),_=t._segments,S=_[0],C;function b(M,w){var O=ue.getValues(M,w,f);c.push(O),x(O,M._index,0,1)}function x(M,w,O,y){if(y-O>m&&!(l&&ue.isStraight(M))&&!ue.isFlatEnough(M,i||.25)){var E=ue.subdivide(M,.5),L=(O+y)/2;x(E[0],w,O,L),x(E[1],w,L,y)}else{var U=M[6]-M[0],P=M[7]-M[1],B=Math.sqrt(U*U+P*P);B>0&&(p+=B,v.push({offset:p,curve:M,index:w,time:y}))}}for(var I=1,F=_.length;I<F;I++)C=_[I],b(S,C),S=C;t._closed&&b(C||S,_[0]),this.curves=c,this.parts=v,this.length=p,this.index=0},_get:function(t){for(var i=this.parts,s=i.length,l,f=this.index;l=f,!(!f||i[--f].offset<t););for(;l<s;l++){var c=i[l];if(c.offset>=t){this.index=l;var v=i[l-1],p=v&&v.index===c.index?v.time:0,m=v?v.offset:0;return{index:c.index,time:p+(c.time-p)*(t-m)/(c.offset-m)}}}return{index:i[s-1].index,time:1}},drawPart:function(t,i,s){for(var l=this._get(i),f=this._get(s),c=l.index,v=f.index;c<=v;c++){var p=ue.getPart(this.curves[c],c===l.index?l.time:0,c===f.index?f.time:1);c===l.index&&t.moveTo(p[0],p[1]),t.bezierCurveTo.apply(t,p.slice(2))}}},o.each(ue._evaluateMethods,function(t){this[t+"At"]=function(i){var s=this._get(i);return ue[t](this.curves[s.index],s.time)}},{})),Ve=o.extend({initialize:function(t){for(var i=this.points=[],s=t._segments,l=t._closed,f=0,c,v=s.length;f<v;f++){var p=s[f].point;(!c||!c.equals(p))&&i.push(c=p.clone())}l&&(i.unshift(i[i.length-1]),i.push(i[1])),this.closed=l},fit:function(t){var i=this.points,s=i.length,l=null;return s>0&&(l=[new ge(i[0])],s>1&&(this.fitCubic(l,t,0,s-1,i[1].subtract(i[0]),i[s-2].subtract(i[s-1])),this.closed&&(l.shift(),l.pop()))),l},fitCubic:function(t,i,s,l,f,c){var v=this.points;if(l-s===1){var p=v[s],m=v[l],_=p.getDistance(m)/3;this.addCurve(t,[p,p.add(f.normalize(_)),m.add(c.normalize(_)),m]);return}for(var S=this.chordLengthParameterize(s,l),C=Math.max(i,i*i),b,x=!0,I=0;I<=4;I++){var F=this.generateBezier(s,l,S,f,c),M=this.findMaxError(s,l,F,S);if(M.error<i&&x){this.addCurve(t,F);return}if(b=M.index,M.error>=C)break;x=this.reparameterize(s,l,S,F),C=M.error}var w=v[b-1].subtract(v[b+1]);this.fitCubic(t,i,s,b,f,w),this.fitCubic(t,i,b,l,w.negate(),c)},addCurve:function(t,i){var s=t[t.length-1];s.setHandleOut(i[1].subtract(i[0])),t.push(new ge(i[3],i[2].subtract(i[3])))},generateBezier:function(t,i,s,l,f){for(var c=1e-12,v=Math.abs,p=this.points,m=p[t],_=p[i],S=[[0,0],[0,0]],C=[0,0],b=0,x=i-t+1;b<x;b++){var I=s[b],F=1-I,M=3*I*F,w=F*F*F,O=M*F,y=M*I,E=I*I*I,L=l.normalize(O),U=f.normalize(y),P=p[t+b].subtract(m.multiply(w+O)).subtract(_.multiply(y+E));S[0][0]+=L.dot(L),S[0][1]+=L.dot(U),S[1][0]=S[0][1],S[1][1]+=U.dot(U),C[0]+=L.dot(P),C[1]+=U.dot(P)}var B=S[0][0]*S[1][1]-S[1][0]*S[0][1],G,H;if(v(B)>c){var Z=S[0][0]*C[1]-S[1][0]*C[0],z=C[0]*S[1][1]-C[1]*S[0][1];G=z/B,H=Z/B}else{var W=S[0][0]+S[0][1],X=S[1][0]+S[1][1];G=H=v(W)>c?C[0]/W:v(X)>c?C[1]/X:0}var Q=_.getDistance(m),J=c*Q,$,le;if(G<J||H<J)G=H=Q/3;else{var he=_.subtract(m);$=l.normalize(G),le=f.normalize(H),$.dot(he)-le.dot(he)>Q*Q&&(G=H=Q/3,$=le=null)}return[m,m.add($||l.normalize(G)),_.add(le||f.normalize(H)),_]},reparameterize:function(t,i,s,l){for(var f=t;f<=i;f++)s[f-t]=this.findRoot(l,this.points[f],s[f-t]);for(var f=1,c=s.length;f<c;f++)if(s[f]<=s[f-1])return!1;return!0},findRoot:function(t,i,s){for(var l=[],f=[],c=0;c<=2;c++)l[c]=t[c+1].subtract(t[c]).multiply(3);for(var c=0;c<=1;c++)f[c]=l[c+1].subtract(l[c]).multiply(2);var v=this.evaluate(3,t,s),p=this.evaluate(2,l,s),m=this.evaluate(1,f,s),_=v.subtract(i),S=p.dot(p)+_.dot(m);return R.isMachineZero(S)?s:s-_.dot(p)/S},evaluate:function(t,i,s){for(var l=i.slice(),f=1;f<=t;f++)for(var c=0;c<=t-f;c++)l[c]=l[c].multiply(1-s).add(l[c+1].multiply(s));return l[0]},chordLengthParameterize:function(t,i){for(var s=[0],l=t+1;l<=i;l++)s[l-t]=s[l-t-1]+this.points[l].getDistance(this.points[l-1]);for(var l=1,f=i-t;l<=f;l++)s[l]/=s[f];return s},findMaxError:function(t,i,s,l){for(var f=Math.floor((i-t+1)/2),c=0,v=t+1;v<i;v++){var p=this.evaluate(3,s,l[v-t]),m=p.subtract(this.points[v]),_=m.x*m.x+m.y*m.y;_>=c&&(c=_,f=v)}return{error:c,index:f}}}),xt=pe.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(i){this._content="",this._lines=[];var s=i&&o.isPlainObject(i)&&i.x===n&&i.y===n;this._initialize(s&&i,!s&&A.read(arguments))},_equals:function(t){return this._content===t._content},copyContent:function(t){this.setContent(t._content)},getContent:function(){return this._content},setContent:function(t){this._content=""+t,this._lines=this._content.split(/\r\n|\n|\r/mg),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),yr=xt.extend({_class:"PointText",initialize:function(){xt.apply(this,arguments)},getPoint:function(){var t=this._matrix.getTranslation();return new V(t.x,t.y,this,"setPoint")},setPoint:function(){var t=A.read(arguments);this.translate(t.subtract(this._matrix.getTranslation()))},_draw:function(t,i,s){if(!!this._content){this._setStyles(t,i,s);var l=this._lines,f=this._style,c=f.hasFill(),v=f.hasStroke(),p=f.getLeading(),m=t.shadowColor;t.font=f.getFontStyle(),t.textAlign=f.getJustification();for(var _=0,S=l.length;_<S;_++){t.shadowColor=m;var C=l[_];c&&(t.fillText(C,0,0),t.shadowColor="rgba(0,0,0,0)"),v&&t.strokeText(C,0,0),t.translate(0,p)}}},_getBounds:function(t,i){var s=this._style,l=this._lines,f=l.length,c=s.getJustification(),v=s.getLeading(),p=this.getView().getTextWidth(s.getFontStyle(),l),m=0;c!=="left"&&(m-=p/(c==="center"?2:1));var _=new j(m,f?-.75*v:0,p,f*v);return t?t._transformBounds(_,_):_}}),$e=o.extend(new function(){var t={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},i={},s={transparent:[0,0,0,0]},l;function f(p){var m=p.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||p.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),_="rgb",S;if(m){var C=m[4]?4:3;S=new Array(C);for(var b=0;b<C;b++){var x=m[b+1];S[b]=parseInt(x.length==1?x+x:x,16)/255}}else if(m=p.match(/^(rgb|hsl)a?\((.*)\)$/)){_=m[1],S=m[2].trim().split(/[,\s]+/g);for(var I=_==="hsl",b=0,F=Math.min(S.length,4);b<F;b++){var M=S[b],x=parseFloat(M);if(I)if(b===0){var w=M.match(/([a-z]*)$/)[1];x*={turn:360,rad:180/Math.PI,grad:.9}[w]||1}else b<3&&(x/=100);else b<3&&(x/=/%$/.test(M)?100:255);S[b]=x}}else{var O=s[p];if(!O)if(a){l||(l=ht.getContext(1,1),l.globalCompositeOperation="copy"),l.fillStyle="rgba(0,0,0,0)",l.fillStyle=p,l.fillRect(0,0,1,1);var y=l.getImageData(0,0,1,1).data;O=s[p]=[y[0]/255,y[1]/255,y[2]/255]}else O=[0,0,0];S=O.slice()}return[_,S]}var c=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],v={"rgb-hsb":function(p,m,_){var S=Math.max(p,m,_),C=Math.min(p,m,_),b=S-C,x=b===0?0:(S==p?(m-_)/b+(m<_?6:0):S==m?(_-p)/b+2:(p-m)/b+4)*60;return[x,S===0?0:b/S,S]},"hsb-rgb":function(p,m,_){p=(p/60%6+6)%6;var C=Math.floor(p),S=p-C,C=c[C],b=[_,_*(1-m),_*(1-m*S),_*(1-m*(1-S))];return[b[C[0]],b[C[1]],b[C[2]]]},"rgb-hsl":function(p,m,_){var S=Math.max(p,m,_),C=Math.min(p,m,_),b=S-C,x=b===0,I=x?0:(S==p?(m-_)/b+(m<_?6:0):S==m?(_-p)/b+2:(p-m)/b+4)*60,F=(S+C)/2,M=x?0:F<.5?b/(S+C):b/(2-S-C);return[I,M,F]},"hsl-rgb":function(p,m,_){if(p=(p/360%1+1)%1,m===0)return[_,_,_];for(var S=[p+1/3,p,p-1/3],C=_<.5?_*(1+m):_+m-_*m,b=2*_-C,x=[],I=0;I<3;I++){var F=S[I];F<0&&(F+=1),F>1&&(F-=1),x[I]=6*F<1?b+(C-b)*6*F:2*F<1?C:3*F<2?b+(C-b)*(2/3-F)*6:b}return x},"rgb-gray":function(p,m,_){return[p*.2989+m*.587+_*.114]},"gray-rgb":function(p){return[p,p,p]},"gray-hsb":function(p){return[0,0,p]},"gray-hsl":function(p){return[0,0,p]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return o.each(t,function(p,m){i[m]=[],o.each(p,function(_,S){var C=o.capitalize(_),b=/^(hue|saturation)$/.test(_),x=i[m][S]=m==="gradient"?_==="gradient"?function(I){var F=this._components[0];return I=Pt.read(Array.isArray(I)?I:arguments,0,{readNull:!0}),F!==I&&(F&&F._removeOwner(this),I&&I._addOwner(this)),I}:function(){return A.read(arguments,0,{readNull:_==="highlight",clone:!0})}:function(I){return I==null||isNaN(I)?0:+I};this["get"+C]=function(){return this._type===m||b&&/^hs[bl]$/.test(this._type)?this._components[S]:this._convert(m)[S]},this["set"+C]=function(I){this._type!==m&&!(b&&/^hs[bl]$/.test(this._type))&&(this._components=this._convert(m),this._properties=t[m],this._type=m),this._components[S]=x.call(this,I),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function p(m){var _=arguments,S=this.__read,C=0,b,x,I,F;Array.isArray(m)&&(_=m,m=_[0]);var M=m!=null&&typeof m;if(M==="string"&&m in t&&(b=m,m=_[1],Array.isArray(m)?(x=m,I=_[2]):(S&&(C=1),_=o.slice(_,1),M=typeof m)),!x){if(F=M==="number"?_:M==="object"&&m.length!=null?m:null,F){b||(b=F.length>=3?"rgb":"gray");var w=t[b].length;I=F[w],S&&(C+=F===arguments?w+(I!=null?1:0):1),F.length>w&&(F=o.slice(F,0,w))}else if(M==="string"){var O=f(m);b=O[0],x=O[1],x.length===4&&(I=x[3],x.length--)}else if(M==="object")if(m.constructor===p){if(b=m._type,x=m._components.slice(),I=m._alpha,b==="gradient")for(var y=1,E=x.length;y<E;y++){var L=x[y];L&&(x[y]=L.clone())}}else if(m.constructor===Pt)b="gradient",F=_;else{b="hue"in m?"lightness"in m?"hsl":"hsb":"gradient"in m||"stops"in m||"radial"in m?"gradient":"gray"in m?"gray":"rgb";var U=t[b],P=i[b];this._components=x=[];for(var y=0,E=U.length;y<E;y++){var B=m[U[y]];B==null&&!y&&b==="gradient"&&"stops"in m&&(B={stops:m.stops,radial:m.radial}),B=P[y].call(this,B),B!=null&&(x[y]=B)}I=m.alpha}S&&b&&(C=1)}if(this._type=b||"rgb",!x){this._components=x=[];for(var P=i[this._type],y=0,E=P.length;y<E;y++){var B=P[y].call(this,F&&F[y]);B!=null&&(x[y]=B)}}return this._components=x,this._properties=t[this._type],this._alpha=I,S&&(this.__read=C),this},set:"#initialize",_serialize:function(p,m){var _=this.getComponents();return o.serialize(/^(gray|rgb)$/.test(this._type)?_:[this._type].concat(_),p,!0,m)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(p){var m;return this._type===p?this._components.slice():(m=v[this._type+"-"+p])?m.apply(this,this._components):v["rgb-"+p].apply(this,v[this._type+"-rgb"].apply(this,this._components))},convert:function(p){return new $e(p,this._convert(p),this._alpha)},getType:function(){return this._type},setType:function(p){this._components=this._convert(p),this._properties=t[p],this._type=p},getComponents:function(){var p=this._components.slice();return this._alpha!=null&&p.push(this._alpha),p},getAlpha:function(){return this._alpha!=null?this._alpha:1},setAlpha:function(p){this._alpha=p==null?null:Math.min(Math.max(p,0),1),this._changed()},hasAlpha:function(){return this._alpha!=null},equals:function(p){var m=o.isPlainValue(p,!0)?$e.read(arguments):p;return m===this||m&&this._class===m._class&&this._type===m._type&&this.getAlpha()===m.getAlpha()&&o.equals(this._components,m._components)||!1},toString:function(){for(var p=this._properties,m=[],_=this._type==="gradient",S=k.instance,C=0,b=p.length;C<b;C++){var x=this._components[C];x!=null&&m.push(p[C]+": "+(_?x:S.number(x)))}return this._alpha!=null&&m.push("alpha: "+S.number(this._alpha)),"{ "+m.join(", ")+" }"},toCSS:function(p){var m=this._convert("rgb"),_=p||this._alpha==null?1:this._alpha;function S(C){return Math.round((C<0?0:C>1?1:C)*255)}return m=[S(m[0]),S(m[1]),S(m[2])],_<1&&m.push(_<0?0:_),p?"#"+((1<<24)+(m[0]<<16)+(m[1]<<8)+m[2]).toString(16).slice(1):(m.length==4?"rgba(":"rgb(")+m.join(",")+")"},toCanvasStyle:function(p,m){if(this._canvasStyle)return this._canvasStyle;if(this._type!=="gradient")return this._canvasStyle=this.toCSS();var _=this._components,S=_[0],C=S._stops,b=_[1],x=_[2],I=_[3],F=m&&m.inverted(),M;if(F&&(b=F._transformPoint(b),x=F._transformPoint(x),I&&(I=F._transformPoint(I))),S._radial){var w=x.getDistance(b);if(I){var O=I.subtract(b);O.getLength()>w&&(I=b.add(O.normalize(w-.1)))}var y=I||b;M=p.createRadialGradient(y.x,y.y,0,b.x,b.y,w)}else M=p.createLinearGradient(b.x,b.y,x.x,x.y);for(var E=0,L=C.length;E<L;E++){var U=C[E],P=U._offset;M.addColorStop(P==null?E/(L-1):P,U._color.toCanvasStyle())}return this._canvasStyle=M},transform:function(p){if(this._type==="gradient"){for(var m=this._components,_=1,S=m.length;_<S;_++){var C=m[_];p._transformPoint(C,C,!0)}this._changed()}},statics:{_types:t,random:function(){var p=Math.random;return new $e(p(),p(),p())},_setOwner:function(p,m,_){return p&&(p._owner&&m&&p._owner!==m&&(p=p.clone()),!p._owner^!m&&(p._owner=m||null,p._setter=_||null)),p}}})},new function(){var t={add:function(i,s){return i+s},subtract:function(i,s){return i-s},multiply:function(i,s){return i*s},divide:function(i,s){return i/s}};return o.each(t,function(i,s){this[s]=function(l){l=$e.read(arguments);for(var f=this._type,c=this._components,v=l._convert(f),p=0,m=c.length;p<m;p++)v[p]=i(c[p],v[p]);return new $e(f,v,this._alpha!=null?i(this._alpha,l.getAlpha()):null)}},{})}),Pt=o.extend({_class:"Gradient",initialize:function(i,s){this._id=D.get(),i&&o.isPlainObject(i)&&(this.set(i),i=s=null),this._stops==null&&this.setStops(i||["white","black"]),this._radial==null&&this.setRadial(typeof s=="string"&&s==="radial"||s||!1)},_serialize:function(t,i){return i.add(this,function(){return o.serialize([this._stops,this._radial],t,!0,i)})},_changed:function(){for(var t=0,i=this._owners&&this._owners.length;t<i;t++)this._owners[t]._changed()},_addOwner:function(t){this._owners||(this._owners=[]),this._owners.push(t)},_removeOwner:function(t){var i=this._owners?this._owners.indexOf(t):-1;i!=-1&&(this._owners.splice(i,1),this._owners.length||(this._owners=n))},clone:function(){for(var t=[],i=0,s=this._stops.length;i<s;i++)t[i]=this._stops[i].clone();return new Pt(t,this._radial)},getStops:function(){return this._stops},setStops:function(t){if(t.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var i=this._stops;if(i)for(var s=0,l=i.length;s<l;s++)i[s]._owner=n;i=this._stops=Lr.readList(t,0,{clone:!0});for(var s=0,l=i.length;s<l;s++)i[s]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(t){this._radial=t,this._changed()},equals:function(t){if(t===this)return!0;if(t&&this._class===t._class){var i=this._stops,s=t._stops,l=i.length;if(l===s.length){for(var f=0;f<l;f++)if(!i[f].equals(s[f]))return!1;return!0}}return!1}}),Lr=o.extend({_class:"GradientStop",initialize:function(i,s){var l=i,f=s;typeof i=="object"&&s===n&&(Array.isArray(i)&&typeof i[0]!="number"?(l=i[0],f=i[1]):("color"in i||"offset"in i||"rampPoint"in i)&&(l=i.color,f=i.offset||i.rampPoint||0)),this.setColor(l),this.setOffset(f)},clone:function(){return new Lr(this._color.clone(),this._offset)},_serialize:function(t,i){var s=this._color,l=this._offset;return o.serialize(l==null?[s]:[s,l],t,!0,i)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(t){this._offset=t,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){$e._setOwner(this._color,null),this._color=$e._setOwner($e.read(arguments,0),this,"setColor"),this._changed()},equals:function(t){return t===this||t&&this._class===t._class&&this._color.equals(t._color)&&this._offset==t._offset||!1}}),or=o.extend(new function(){var t={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new A,selectedColor:null},i=o.set({},t,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),s=o.set({},i,{fillColor:new $e}),l={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},f={beans:!0},c={_class:"Style",beans:!0,initialize:function(p,m,_){this._values={},this._owner=m,this._project=m&&m._project||_||Ne.project,this._defaults=!m||m instanceof Ce?i:m instanceof xt?s:t,p&&this.set(p)}};return o.each(i,function(v,p){var m=/Color$/.test(p),_=p==="shadowOffset",S=o.capitalize(p),C=l[p],b="set"+S,x="get"+S;c[b]=function(I){var F=this._owner,M=F&&F._children,w=M&&M.length>0&&!(F instanceof He);if(w)for(var O=0,y=M.length;O<y;O++)M[O]._style[b](I);if((p==="selectedColor"||!w)&&p in this._defaults){var E=this._values[p];E!==I&&(m&&(E&&($e._setOwner(E,null),E._canvasStyle=null),I&&I.constructor===$e&&(I=$e._setOwner(I,F,w&&b))),this._values[p]=I,F&&F._changed(C||129))}},c[x]=function(I){var F=this._owner,M=F&&F._children,w=M&&M.length>0&&!(F instanceof He),O;if(w&&!I)for(var y=0,E=M.length;y<E;y++){var L=M[y]._style[x]();if(!y)O=L;else if(!o.equals(O,L))return n}else if(p in this._defaults){var O=this._values[p];if(O===n)O=this._defaults[p],O&&O.clone&&(O=O.clone());else{var U=m?$e:_?A:null;U&&!(O&&O.constructor===U)&&(this._values[p]=O=U.read([O],0,{readNull:!0,clone:!0}))}}return O&&m&&(O=$e._setOwner(O,F,w&&b)),O},f[x]=function(I){return this._style[x](I)},f[b]=function(I){this._style[b](I)}}),o.each({Font:"FontFamily",WindingRule:"FillRule"},function(v,p){var m="get"+p,_="set"+p;c[m]=f[m]="#get"+v,c[_]=f[_]="#set"+v}),pe.inject(f),c},{set:function(t){var i=t instanceof or,s=i?t._values:t;if(s){for(var l in s)if(l in this._defaults){var f=s[l];this[l]=f&&i&&f.clone?f.clone():f}}},equals:function(t){function i(s,l,f){var c=s._values,v=l._values,p=l._defaults;for(var m in c){var _=c[m],S=v[m];if(!(f&&m in v)&&!o.equals(_,S===n?p[m]:S))return!1}return!0}return t===this||t&&this._class===t._class&&i(this,t)&&i(t,this,!0)||!1},_dispose:function(){var t;t=this.getFillColor(),t&&(t._canvasStyle=null),t=this.getStrokeColor(),t&&(t._canvasStyle=null),t=this.getShadowColor(),t&&(t._canvasStyle=null)},hasFill:function(){var t=this.getFillColor();return!!t&&t.alpha>0},hasStroke:function(){var t=this.getStrokeColor();return!!t&&t.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var t=this.getShadowColor();return!!t&&t.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var t=this.getFontSize();return this.getFontWeight()+" "+t+(/[a-z]/i.test(t+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function t(){var i=t.base.call(this),s=this.getFontSize();return/pt|em|%|px/.test(s)&&(s=this.getView().getPixelSize(s)),i!=null?i:s*1.2}}),nt=new function(){function t(i,s,l,f){for(var c=["","webkit","moz","Moz","ms","o"],v=s[0].toUpperCase()+s.substring(1),p=0;p<6;p++){var m=c[p],_=m?m+v:s;if(_ in i){if(l)i[_]=f;else return i[_];break}}}return{getStyles:function(i){var s=i&&i.nodeType!==9?i.ownerDocument:i,l=s&&s.defaultView;return l&&l.getComputedStyle(i,"")},getBounds:function(i,s){var l=i.ownerDocument,f=l.body,c=l.documentElement,v;try{v=i.getBoundingClientRect()}catch{v={left:0,top:0,width:0,height:0}}var p=v.left-(c.clientLeft||f.clientLeft||0),m=v.top-(c.clientTop||f.clientTop||0);if(!s){var _=l.defaultView;p+=_.pageXOffset||c.scrollLeft||f.scrollLeft,m+=_.pageYOffset||c.scrollTop||f.scrollTop}return new j(p,m,v.width,v.height)},getViewportBounds:function(i){var s=i.ownerDocument,l=s.defaultView,f=s.documentElement;return new j(0,0,l.innerWidth||f.clientWidth,l.innerHeight||f.clientHeight)},getOffset:function(i,s){return nt.getBounds(i,s).getPoint()},getSize:function(i){return nt.getBounds(i,!0).getSize()},isInvisible:function(i){return nt.getSize(i).equals(new N(0,0))},isInView:function(i){return!nt.isInvisible(i)&&nt.getViewportBounds(i).intersects(nt.getBounds(i,!0))},isInserted:function(i){return u.body.contains(i)},getPrefixed:function(i,s){return i&&t(i,s)},setPrefixed:function(i,s,l){if(typeof s=="object")for(var f in s)t(i,f,!0,s[f]);else t(i,s,!0,l)}}},ft={add:function(t,i){if(t)for(var s in i)for(var l=i[s],f=s.split(/[\s,]+/g),c=0,v=f.length;c<v;c++){var p=f[c],m=t===u&&(p==="touchstart"||p==="touchmove")?{passive:!1}:!1;t.addEventListener(p,l,m)}},remove:function(t,i){if(t)for(var s in i)for(var l=i[s],f=s.split(/[\s,]+/g),c=0,v=f.length;c<v;c++)t.removeEventListener(f[c],l,!1)},getPoint:function(t){var i=t.targetTouches?t.targetTouches.length?t.targetTouches[0]:t.changedTouches[0]:t;return new A(i.pageX||i.clientX+u.documentElement.scrollLeft,i.pageY||i.clientY+u.documentElement.scrollTop)},getTarget:function(t){return t.target||t.srcElement},getRelatedTarget:function(t){return t.relatedTarget||t.toElement},getOffset:function(t,i){return ft.getPoint(t).subtract(nt.getOffset(i||ft.getTarget(t)))}};ft.requestAnimationFrame=new function(){var t=nt.getPrefixed(a,"requestAnimationFrame"),i=!1,s=[],l;function f(){var c=s;s=[];for(var v=0,p=c.length;v<p;v++)c[v]();i=t&&s.length,i&&t(f)}return function(c){s.push(c),t?i||(t(f),i=!0):l||(l=setInterval(f,1e3/60))}};var tt=o.extend(h,{_class:"View",initialize:function t(i,s){function l(C){return s[C]||parseInt(s.getAttribute(C),10)}function f(){var C=nt.getSize(s);return C.isNaN()||C.isZero()?new N(l("width"),l("height")):C}var c;if(a&&s){this._id=s.getAttribute("id"),this._id==null&&s.setAttribute("id",this._id="paper-view-"+t._id++),ft.add(s,this._viewEvents);var v="none";if(nt.setPrefixed(s.style,{userDrag:v,userSelect:v,touchCallout:v,contentZooming:v,tapHighlightColor:"rgba(0,0,0,0)"}),g.hasAttribute(s,"resize")){var p=this;ft.add(a,this._windowEvents={resize:function(){p.setViewSize(f())}})}if(c=f(),g.hasAttribute(s,"stats")&&typeof Stats!="undefined"){this._stats=new Stats;var m=this._stats.domElement,_=m.style,S=nt.getOffset(s);_.position="absolute",_.left=S.x+"px",_.top=S.y+"px",u.body.appendChild(m)}}else c=new N(s),s=null;this._project=i,this._scope=i._scope,this._element=s,this._pixelRatio||(this._pixelRatio=a&&a.devicePixelRatio||1),this._setElementSize(c.width,c.height),this._viewSize=c,t._views.push(this),t._viewsById[this._id]=this,(this._matrix=new te)._owner=this,t._focused||(t._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!Ne.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;tt._focused===this&&(tt._focused=null),tt._views.splice(tt._views.indexOf(this),1),delete tt._viewsById[this._id];var t=this._project;return t._view===this&&(t._view=null),ft.remove(this._element,this._viewEvents),ft.remove(a,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:o.each(pe._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(t){this[t]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(t){this._autoUpdate=t,t&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var t=this;ft.requestAnimationFrame(function(){if(t._requested=!1,t._animate){t.requestUpdate();var i=t._element;(!nt.getPrefixed(u,"hidden")||g.getAttribute(i,"keepalive")==="true")&&nt.isInView(i)&&t._handleFrame()}t._autoUpdate&&t.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){Ne=this._scope;var t=Date.now()/1e3,i=this._last?t-this._last:0;this._last=t,this.emit("frame",new o({delta:i,time:this._time+=i,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(t,i){var s=this._frameItems;i?(s[t._id]={item:t,time:0,count:0},++this._frameItemCount===1&&this.on("frame",this._handleFrameItems)):(delete s[t._id],--this._frameItemCount===0&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(t){for(var i in this._frameItems){var s=this._frameItems[i];s.item.emit("frame",new o(t,{time:s.time+=t.delta,count:s.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=n},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return this._pixelRatio*72},getViewSize:function(){var t=this._viewSize;return new K(t.width,t.height,this,"setViewSize")},setViewSize:function(){var t=N.read(arguments),i=t.subtract(this._viewSize);i.isZero()||(this._setElementSize(t.width,t.height),this._viewSize.set(t),this._changed(),this.emit("resize",{size:t,delta:i}),this._autoUpdate&&this.update())},_setElementSize:function(t,i){var s=this._element;s&&(s.width!==t&&(s.width=t),s.height!==i&&(s.height=i))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new j(new A,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return nt.isInView(this._element)},isInserted:function(){return nt.isInserted(this._element)},getPixelSize:function(t){var i=this._element,s;if(i){var l=i.parentNode,f=u.createElement("div");f.style.fontSize=t,l.appendChild(f),s=parseFloat(nt.getStyles(f).fontSize),l.removeChild(f)}else s=parseFloat(s);return s},getTextWidth:function(t,i){return 0}},o.each(["rotate","scale","shear","skew"],function(t){var i=t==="rotate";this[t]=function(){var s=arguments,l=(i?o:A).read(s),f=A.read(s,0,{readNull:!0});return this.transform(new te()[t](l,f||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var t=new te;return this.transform(t.translate.apply(t,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var t=A.read(arguments);this.translate(this.getCenter().subtract(t))},getZoom:function(){var t=this._decompose().scaling;return(t.x+t.y)/2},setZoom:function(t){this.transform(new te().scale(t/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(t){var i=this.getRotation();i!=null&&t!=null&&this.rotate(t-i)},getScaling:function(){var t=this._decompose().scaling;return new V(t.x,t.y,this,"setScaling")},setScaling:function(){var t=this.getScaling(),i=A.read(arguments,0,{clone:!0,readNull:!0});t&&i&&this.scale(i.x/t.x,i.y/t.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.set.apply(t,arguments)},transform:function(t){this._matrix.append(t)},scrollBy:function(){this.translate(A.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(A.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(A.read(arguments))},getEventPoint:function(t){return this.viewToProject(ft.getOffset(t,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(t,i){u&&typeof i=="string"&&(i=u.getElementById(i));var s=a?mu:tt;return new s(t,i)}}},new function(){if(!a)return;var t,i,s=!1,l=!1;function f(z){var W=ft.getTarget(z);return W.getAttribute&&tt._viewsById[W.getAttribute("id")]}function c(){var z=tt._focused;if(!z||!z.isVisible()){for(var W=0,X=tt._views.length;W<X;W++)if((z=tt._views[W]).isVisible()){tt._focused=i=z;break}}}function v(z,W,X){z._handleMouseEvent("mousemove",W,X)}var p=a.navigator,m,_,S;p.pointerEnabled||p.msPointerEnabled?(m="pointerdown MSPointerDown",_="pointermove MSPointerMove",S="pointerup pointercancel MSPointerUp MSPointerCancel"):(m="touchstart",_="touchmove",S="touchend touchcancel","ontouchstart"in a&&p.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(m+=" mousedown",_+=" mousemove",S+=" mouseup"));var C={},b={mouseout:function(z){var W=tt._focused,X=ft.getRelatedTarget(z);if(W&&(!X||X.nodeName==="HTML")){var Q=ft.getOffset(z,W._element),J=Q.x,$=Math.abs,le=$(J),he=1<<25,ce=le-he;Q.x=$(ce)<le?ce*(J<0?-1:1):J,v(W,z,W.viewToProject(Q))}},scroll:c};C[m]=function(z){var W=tt._focused=f(z);s||(s=!0,W._handleMouseEvent("mousedown",z))},b[_]=function(z){var W=tt._focused;if(!l){var X=f(z);X?W!==X&&(W&&v(W,z),t||(t=W),W=tt._focused=i=X):i&&i===W&&(t&&!t.isInserted()&&(t=null),W=tt._focused=t,t=null,c())}W&&v(W,z)},b[m]=function(){l=!0},b[S]=function(z){var W=tt._focused;W&&s&&W._handleMouseEvent("mouseup",z),l=s=!1},ft.add(u,b),ft.add(a,{load:c});var x=!1,I=!1,F={doubleclick:"click",mousedrag:"mousemove"},M=!1,w,O,y,E,L,U,P,B;function G(z,W,X,Q,J,$,le){var he=!1,ce;function me(ne,ae){if(ne.responds(ae)){if(ce||(ce=new yu(ae,Q,J,W||ne,$?J.subtract($):null)),ne.emit(ae,ce)&&(x=!0,ce.prevented&&(I=!0),ce.stopped))return he=!0}else{var de=F[ae];if(de)return me(ne,de)}}for(;z&&z!==le&&!me(z,X);)z=z._parent;return he}function H(z,W,X,Q,J,$){return z._project.removeOn(X),I=x=!1,L&&G(L,null,X,Q,J,$)||W&&W!==L&&!W.isDescendant(L)&&G(W,null,X==="mousedrag"?"mousemove":X,Q,J,$,L)||G(z,L||W||z,X,Q,J,$)}var Z={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:C,_handleMouseEvent:function(z,W,X){var Q=this._itemEvents,J=Q.native[z],$=z==="mousemove",le=this._scope.tool,he=this;function ce(Fe){return Q.virtual[Fe]||he.responds(Fe)||le&&le.responds(Fe)}$&&s&&ce("mousedrag")&&(z="mousedrag"),X||(X=this.getEventPoint(W));var me=this.getBounds().contains(X),ne=J&&me&&he._project.hitTest(X,{tolerance:0,fill:!0,stroke:!0}),ae=ne&&ne.item||null,de=!1,ye={};if(ye[z.substr(5)]=!0,J&&ae!==E&&(E&&G(E,null,"mouseleave",W,X),ae&&G(ae,null,"mouseenter",W,X),E=ae),M^me&&(G(this,null,me?"mouseenter":"mouseleave",W,X),de=!0),(me||ye.drag)&&!X.equals(O)&&(H(this,ae,$?z:"mousemove",W,X,O),de=!0),M=me,ye.down&&me||ye.up&&w){if(H(this,ae,z,W,X,w),ye.down){if(B=ae===U&&Date.now()-P<300,y=U=ae,!I&&ae){for(var _e=ae;_e&&!_e.responds("mousedrag");)_e=_e._parent;_e&&(L=ae)}w=X}else ye.up&&(!I&&ae===y&&(P=Date.now(),H(this,ae,B?"doubleclick":"click",W,X,w),B=!1),y=L=null);M=!1,de=!0}O=X,de&&le&&(x=le._handleMouseEvent(z,W,X,ye)||x),W.cancelable!==!1&&(x&&!ye.move||ye.down&&ce("mouseup"))&&W.preventDefault()},_handleKeyEvent:function(z,W,X,Q){var J=this._scope,$=J.tool,le;function he(ce){ce.responds(z)&&(Ne=J,ce.emit(z,le=le||new _u(z,W,X,Q)))}this.isVisible()&&(he(this),$&&$.responds(z)&&he($))},_countItemEvent:function(z,W){var X=this._itemEvents,Q=X.native,J=X.virtual;for(var $ in Z)Q[$]=(Q[$]||0)+(Z[$][z]||0)*W;J[z]=(J[z]||0)+W},statics:{updateFocus:c,_resetState:function(){s=l=x=M=!1,t=i=w=O=y=E=L=U=P=B=null}}}}),mu=tt.extend({_class:"CanvasView",initialize:function(i,s){if(!(s instanceof a.HTMLCanvasElement)){var l=N.read(arguments,1);if(l.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+o.slice(arguments,1));s=ht.getCanvas(l)}var f=this._context=s.getContext("2d");if(f.save(),this._pixelRatio=1,!/^off|false$/.test(g.getAttribute(s,"hidpi"))){var c=a.devicePixelRatio||1,v=nt.getPrefixed(f,"backingStorePixelRatio")||1;this._pixelRatio=c/v}tt.call(this,i,s),this._needsUpdate=!0},remove:function t(){return this._context.restore(),t.base.call(this)},_setElementSize:function t(i,s){var l=this._pixelRatio;if(t.base.call(this,i*l,s*l),l!==1){var f=this._element,c=this._context;if(!g.hasAttribute(f,"resize")){var v=f.style;v.width=i+"px",v.height=s+"px"}c.restore(),c.save(),c.scale(l,l)}},getContext:function(){return this._context},getPixelSize:function t(i){var s=Ne.agent,l;if(s&&s.firefox)l=t.base.call(this,i);else{var f=this._context,c=f.font;f.font=i+" serif",l=parseFloat(f.font),f.font=c}return l},getTextWidth:function(t,i){var s=this._context,l=s.font,f=0;s.font=t;for(var c=0,v=i.length;c<v;c++)f=Math.max(f,s.measureText(i[c]).width);return s.font=l,f},update:function(){if(!this._needsUpdate)return!1;var t=this._project,i=this._context,s=this._viewSize;return i.clearRect(0,0,s.width+1,s.height+1),t&&t.draw(i,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),wn=o.extend({_class:"Event",initialize:function(i){this.event=i,this.type=i&&i.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return _a.modifiers}}),_u=wn.extend({_class:"KeyEvent",initialize:function(i,s,l,f){this.type=i,this.event=s,this.key=l,this.character=f},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),_a=new function(){var t={"	":"tab"," ":"space","\b":"backspace","\x7F":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},i={tab:"	",space:" ",enter:"\r"},s={},l={},f,c,v=new o({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var _=Ne&&Ne.agent;return _&&_.mac?this.meta:this.control}}});function p(_){var S=_.key||_.keyIdentifier;return S=/^U\+/.test(S)?String.fromCharCode(parseInt(S.substr(2),16)):/^Arrow[A-Z]/.test(S)?S.substr(5):S==="Unidentified"||S===n?String.fromCharCode(_.keyCode):S,t[S]||(S.length>1?o.hyphenate(S):S.toLowerCase())}function m(_,S,C,b){var x=tt._focused,I;if(s[S]=_,_?l[S]=C:delete l[S],S.length>1&&(I=o.camelize(S))in v){v[I]=_;var F=Ne&&Ne.agent;if(I==="meta"&&F&&F.mac)if(_)f={};else{for(var M in f)M in l&&m(!1,M,f[M],b);f=null}}else _&&f&&(f[S]=C);x&&x._handleKeyEvent(_?"keydown":"keyup",b,S,C)}return ft.add(u,{keydown:function(_){var S=p(_),C=Ne&&Ne.agent;S.length>1||C&&C.chrome&&(_.altKey||C.mac&&_.metaKey||!C.mac&&_.ctrlKey)?m(!0,S,i[S]||(S.length>1?"":S),_):c=S},keypress:function(_){if(c){var S=p(_),C=_.charCode,b=C>=32?String.fromCharCode(C):S.length>1?"":S;S!==c&&(S=b.toLowerCase()),m(!0,S,b,_),c=null}},keyup:function(_){var S=p(_);S in l&&m(!1,S,l[S],_)}}),ft.add(a,{blur:function(_){for(var S in l)m(!1,S,l[S],_)}}),{modifiers:v,isDown:function(_){return!!s[_]}}},yu=wn.extend({_class:"MouseEvent",initialize:function(i,s,l,f,c){this.type=i,this.event=s,this.point=l,this.target=f,this.delta=c},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),xu=wn.extend({_class:"ToolEvent",_item:null,initialize:function(i,s,l){this.tool=i,this.type=s,this.event=l},_choosePoint:function(t,i){return t||(i?i.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(t){this._point=t},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(t){this._lastPoint=t},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(t){this._downPoint=t},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(t){this._middlePoint=t},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(t){this._delta=t},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(t){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=t},getItem:function(){if(!this._item){var t=this.tool._scope.project.hitTest(this.getPoint());if(t){for(var i=t.item,s=i._parent;/^(Group|CompoundPath)$/.test(s._class);)i=s,s=s._parent;this._item=i}}return this._item},setItem:function(t){this._item=t},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),bu=d.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(i){d.call(this),this._moveCount=-1,this._downCount=-1,this.set(i)},getMinDistance:function(){return this._minDistance},setMinDistance:function(t){this._minDistance=t,t!=null&&this._maxDistance!=null&&t>this._maxDistance&&(this._maxDistance=t)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(t){this._maxDistance=t,this._minDistance!=null&&t!=null&&t<this._minDistance&&(this._minDistance=t)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(t){this._minDistance=this._maxDistance=t},_handleMouseEvent:function(t,i,s,l){Ne=this._scope,l.drag&&!this.responds(t)&&(t="mousemove");var f=l.move||l.drag,c=this.responds(t),v=this.minDistance,p=this.maxDistance,m=!1,_=this;function S(b,x){var I=s,F=f?_._point:_._downPoint||I;if(f){if(_._moveCount>=0&&I.equals(F))return!1;if(F&&(b!=null||x!=null)){var M=I.subtract(F),w=M.getLength();if(w<(b||0))return!1;x&&(I=F.add(M.normalize(Math.min(w,x))))}_._moveCount++}return _._point=I,_._lastPoint=F||I,l.down&&(_._moveCount=-1,_._downPoint=I,_._downCount++),!0}function C(){c&&(m=_.emit(t,new xu(_,t,i))||m)}if(l.down)S(),C();else if(l.up)S(null,p),C();else if(c)for(;S(v,p);)C();return m}}),Su=o.extend(h,{_class:"Tween",statics:{easings:new o({linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:-1+2*(2-t)*t},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}})},initialize:function t(i,s,l,f,c,v){this.object=i;var p=typeof c,m=p==="function";this.type=m?p:p==="string"?c:"linear",this.easing=m?c:t.easings[this.type],this.duration=f,this.running=!1,this._then=null,this._startTime=null;var _=s||l;this._keys=_?Object.keys(_):[],this._parsedKeys=this._parseKeys(this._keys),this._from=_&&this._getState(s),this._to=_&&this._getState(l),v!==!1&&this.start()},then:function(t){return this._then=t,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(t){if(this.running){t>=1&&(t=1,this.running=!1);for(var i=this.easing(t),s=this._keys,l=function(S){return typeof S=="function"?S(i,t):S},f=0,c=s&&s.length;f<c;f++){var v=s[f],p=l(this._from[v]),m=l(this._to[v]),_=p&&m&&p.__add&&m.__add?m.__subtract(p).__multiply(i).__add(p):(m-p)*i+p;this._setProperty(this._parsedKeys[v],_)}this.responds("update")&&this.emit("update",new o({progress:t,factor:i})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(t){var i=this._startTime,s=i?(t-i)/this.duration:0;i||(this._startTime=t),this.update(s)},_getState:function(t){for(var i=this._keys,s={},l=0,f=i.length;l<f;l++){var c=i[l],v=this._parsedKeys[c],p=this._getProperty(v),m;if(t){var _=this._resolveValue(p,t[c]);this._setProperty(v,_),m=this._getProperty(v),m=m&&m.clone?m.clone():m,this._setProperty(v,p)}else m=p&&p.clone?p.clone():p;s[c]=m}return s},_resolveValue:function(t,i){if(i){if(Array.isArray(i)&&i.length===2){var s=i[0];return s&&s.match&&s.match(/^[+\-\*\/]=/)?this._calculate(t,s[0],i[1]):i}else if(typeof i=="string"){var l=i.match(/^[+\-*/]=(.*)/);if(l){var f=JSON.parse(l[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(t,i[0],f)}}}return i},_calculate:function(t,i,s){return Ne.PaperScript.calculateBinary(t,i,s)},_parseKeys:function(t){for(var i={},s=0,l=t.length;s<l;s++){var f=t[s],c=f.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");i[f]=c.split("/")}return i},_getProperty:function(t,i){for(var s=this.object,l=0,f=t.length-(i||0);l<f&&s;l++)s=s[t[l]];return s},_setProperty:function(t,i){var s=this._getProperty(t,1);s&&(s[t[t.length-1]]=i)}}),ya={request:function(t){var i=new r.XMLHttpRequest;return i.open((t.method||"get").toUpperCase(),t.url,o.pick(t.async,!0)),t.mimeType&&i.overrideMimeType(t.mimeType),i.onload=function(){var s=i.status;s===0||s===200?t.onLoad&&t.onLoad.call(i,i.responseText):i.onerror()},i.onerror=function(){var s=i.status,l='Could not load "'+t.url+'" (Status: '+s+")";if(t.onError)t.onError(l,s);else throw new Error(l)},i.send(null)}},ht=o.exports.CanvasProvider={canvases:[],getCanvas:function(t,i){if(!a)return null;var s,l=!0;typeof t=="object"&&(i=t.height,t=t.width),this.canvases.length?s=this.canvases.pop():(s=u.createElement("canvas"),l=!1);var f=s.getContext("2d");if(!f)throw new Error("Canvas "+s+" is unable to provide a 2D context.");return s.width===t&&s.height===i?l&&f.clearRect(0,0,t+1,i+1):(s.width=t,s.height=i),f.save(),s},getContext:function(t,i){var s=this.getCanvas(t,i);return s?s.getContext("2d"):null},release:function(t){var i=t&&t.canvas?t.canvas:t;i&&i.getContext&&(i.getContext("2d").restore(),this.canvases.push(i))}},fi=new function(){var t=Math.min,i=Math.max,s=Math.abs,l,f,c,v,p,m,_,S,C,b,x;function I(L,U,P){return .2989*L+.587*U+.114*P}function F(L,U,P,H){var G=H-I(L,U,P);C=L+G,b=U+G,x=P+G;var H=I(C,b,x),Z=t(C,b,x),z=i(C,b,x);if(Z<0){var W=H-Z;C=H+(C-H)*H/W,b=H+(b-H)*H/W,x=H+(x-H)*H/W}if(z>255){var X=255-H,Q=z-H;C=H+(C-H)*X/Q,b=H+(b-H)*X/Q,x=H+(x-H)*X/Q}}function M(L,U,P){return i(L,U,P)-t(L,U,P)}function w(L,U,P,B){var G=[L,U,P],H=i(L,U,P),Z=t(L,U,P),z;Z=Z===L?0:Z===U?1:2,H=H===L?0:H===U?1:2,z=t(Z,H)===0?i(Z,H)===1?2:1:0,G[H]>G[Z]?(G[z]=(G[z]-G[Z])*B/(G[H]-G[Z]),G[H]=B):G[z]=G[H]=0,G[Z]=0,C=G[0],b=G[1],x=G[2]}var O={multiply:function(){C=p*l/255,b=m*f/255,x=_*c/255},screen:function(){C=p+l-p*l/255,b=m+f-m*f/255,x=_+c-_*c/255},overlay:function(){C=p<128?2*p*l/255:255-2*(255-p)*(255-l)/255,b=m<128?2*m*f/255:255-2*(255-m)*(255-f)/255,x=_<128?2*_*c/255:255-2*(255-_)*(255-c)/255},"soft-light":function(){var L=l*p/255;C=L+p*(255-(255-p)*(255-l)/255-L)/255,L=f*m/255,b=L+m*(255-(255-m)*(255-f)/255-L)/255,L=c*_/255,x=L+_*(255-(255-_)*(255-c)/255-L)/255},"hard-light":function(){C=l<128?2*l*p/255:255-2*(255-l)*(255-p)/255,b=f<128?2*f*m/255:255-2*(255-f)*(255-m)/255,x=c<128?2*c*_/255:255-2*(255-c)*(255-_)/255},"color-dodge":function(){C=p===0?0:l===255?255:t(255,255*p/(255-l)),b=m===0?0:f===255?255:t(255,255*m/(255-f)),x=_===0?0:c===255?255:t(255,255*_/(255-c))},"color-burn":function(){C=p===255?255:l===0?0:i(0,255-(255-p)*255/l),b=m===255?255:f===0?0:i(0,255-(255-m)*255/f),x=_===255?255:c===0?0:i(0,255-(255-_)*255/c)},darken:function(){C=p<l?p:l,b=m<f?m:f,x=_<c?_:c},lighten:function(){C=p>l?p:l,b=m>f?m:f,x=_>c?_:c},difference:function(){C=p-l,C<0&&(C=-C),b=m-f,b<0&&(b=-b),x=_-c,x<0&&(x=-x)},exclusion:function(){C=p+l*(255-p-p)/255,b=m+f*(255-m-m)/255,x=_+c*(255-_-_)/255},hue:function(){w(l,f,c,M(p,m,_)),F(C,b,x,I(p,m,_))},saturation:function(){w(p,m,_,M(l,f,c)),F(C,b,x,I(p,m,_))},luminosity:function(){F(p,m,_,I(l,f,c))},color:function(){F(l,f,c,I(p,m,_))},add:function(){C=t(p+l,255),b=t(m+f,255),x=t(_+c,255)},subtract:function(){C=i(p-l,0),b=i(m-f,0),x=i(_-c,0)},average:function(){C=(p+l)/2,b=(m+f)/2,x=(_+c)/2},negation:function(){C=255-s(255-l-p),b=255-s(255-f-m),x=255-s(255-c-_)}},y=this.nativeModes=o.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(L){this[L]=!0},{}),E=ht.getContext(1,1);E&&(o.each(O,function(L,U){var P=U==="darken",B=!1;E.save();try{E.fillStyle=P?"#300":"#a00",E.fillRect(0,0,1,1),E.globalCompositeOperation=U,E.globalCompositeOperation===U&&(E.fillStyle=P?"#a00":"#300",E.fillRect(0,0,1,1),B=E.getImageData(0,0,1,1).data[0]!==P?170:51)}catch{}E.restore(),y[U]=B}),ht.release(E)),this.process=function(L,U,P,B,G){var H=U.canvas,Z=L==="normal";if(Z||y[L])P.save(),P.setTransform(1,0,0,1,0,0),P.globalAlpha=B,Z||(P.globalCompositeOperation=L),P.drawImage(H,G.x,G.y),P.restore();else{var z=O[L];if(!z)return;for(var W=P.getImageData(G.x,G.y,H.width,H.height),X=W.data,Q=U.getImageData(0,0,H.width,H.height).data,J=0,$=X.length;J<$;J+=4){l=Q[J],p=X[J],f=Q[J+1],m=X[J+1],c=Q[J+2],_=X[J+2],v=Q[J+3],S=X[J+3],z();var le=v*B/255,he=1-le;X[J]=le*C+he*p,X[J+1]=le*b+he*m,X[J+2]=le*x+he*_,X[J+3]=v*B+he*S}P.putImageData(W,G.x,G.y)}}},it=new function(){var t="http://www.w3.org/2000/svg",i="http://www.w3.org/2000/xmlns",s="http://www.w3.org/1999/xlink",l={href:s,xlink:i,xmlns:i+"/","xmlns:xlink":i+"/"};function f(p,m,_){return v(u.createElementNS(t,p),m,_)}function c(p,m){var _=l[m],S=_?p.getAttributeNS(_,m):p.getAttribute(m);return S==="null"?null:S}function v(p,m,_){for(var S in m){var C=m[S],b=l[S];typeof C=="number"&&_&&(C=_.number(C)),b?p.setAttributeNS(b,S,C):p.setAttribute(S,C)}return p}return{svg:t,xmlns:i,xlink:s,create:f,get:c,set:v}},xa=o.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(t,i){return!i&&(t instanceof We||t instanceof Re||t instanceof xt)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(t,i){var s=o.capitalize(i),l=t[2];this[i]={type:t[1],property:i,attribute:t[0],toSVG:l,fromSVG:l&&o.each(l,function(f,c){this[f]=c},{}),exportFilter:t[3],get:"get"+s,set:"set"+s}},{});new function(){var t;function i(O,y,E){var L=new o,U=O.getTranslation();if(y){var P;O.isInvertible()?(O=O._shiftless(),P=O._inverseTransform(U),U=null):P=new A,L[E?"cx":"x"]=P.x,L[E?"cy":"y"]=P.y}if(!O.isIdentity()){var B=O.decompose();if(B){var G=[],H=B.rotation,Z=B.scaling,z=B.skewing;U&&!U.isZero()&&G.push("translate("+t.point(U)+")"),H&&G.push("rotate("+t.number(H)+")"),(!R.isZero(Z.x-1)||!R.isZero(Z.y-1))&&G.push("scale("+t.point(Z)+")"),z.x&&G.push("skewX("+t.number(z.x)+")"),z.y&&G.push("skewY("+t.number(z.y)+")"),L.transform=G.join(" ")}else L.transform="matrix("+O.getValues().join(",")+")"}return L}function s(O,y){for(var E=i(O._matrix),L=O._children,U=it.create("g",E,t),P=0,B=L.length;P<B;P++){var G=L[P],H=M(G,y);if(H)if(G.isClipMask()){var Z=it.create("clipPath");Z.appendChild(H),I(G,Z,"clip"),it.set(U,{"clip-path":"url(#"+Z.id+")"})}else U.appendChild(H)}return U}function l(O,y){var E=i(O._matrix,!0),L=O.getSize(),U=O.getImage();return E.x-=L.width/2,E.y-=L.height/2,E.width=L.width,E.height=L.height,E.href=y.embedImages==!1&&U&&U.src||O.toDataURL(),it.create("image",E,t)}function f(O,y){var E=y.matchShapes;if(E){var L=O.toShape(!1);if(L)return c(L)}var U=O._segments,P=U.length,B,G=i(O._matrix);if(E&&P>=2&&!O.hasHandles())if(P>2){B=O._closed?"polygon":"polyline";for(var H=[],Z=0;Z<P;Z++)H.push(t.point(U[Z]._point));G.points=H.join(" ")}else{B="line";var z=U[0]._point,W=U[1]._point;G.set({x1:z.x,y1:z.y,x2:W.x,y2:W.y})}else B="path",G.d=O.getPathData(null,y.precision);return it.create(B,G,t)}function c(O){var y=O._type,E=O._radius,L=i(O._matrix,!0,y!=="rectangle");if(y==="rectangle"){y="rect";var U=O._size,P=U.width,B=U.height;L.x-=P/2,L.y-=B/2,L.width=P,L.height=B,E.isZero()&&(E=null)}return E&&(y==="circle"?L.r=E:(L.rx=E.width,L.ry=E.height)),it.create(y,L,t)}function v(O,y){var E=i(O._matrix),L=O.getPathData(null,y.precision);return L&&(E.d=L),it.create("path",E,t)}function p(O,y){var E=i(O._matrix,!0),L=O._definition,U=x(L,"symbol"),P=L._item,B=P.getStrokeBounds();return U||(U=it.create("symbol",{viewBox:t.rectangle(B)}),U.appendChild(M(P,y)),I(L,U,"symbol")),E.href="#"+U.id,E.x+=B.x,E.y+=B.y,E.width=B.width,E.height=B.height,E.overflow="visible",it.create("use",E,t)}function m(O){var y=x(O,"color");if(!y){var E=O.getGradient(),L=E._radial,U=O.getOrigin(),P=O.getDestination(),B;if(L){B={cx:U.x,cy:U.y,r:U.getDistance(P)};var G=O.getHighlight();G&&(B.fx=G.x,B.fy=G.y)}else B={x1:U.x,y1:U.y,x2:P.x,y2:P.y};B.gradientUnits="userSpaceOnUse",y=it.create((L?"radial":"linear")+"Gradient",B,t);for(var H=E._stops,Z=0,z=H.length;Z<z;Z++){var W=H[Z],X=W._color,Q=X.getAlpha(),J=W._offset;B={offset:J==null?Z/(z-1):J},X&&(B["stop-color"]=X.toCSS(!0)),Q<1&&(B["stop-opacity"]=Q),y.appendChild(it.create("stop",B,t))}I(O,y,"color")}return"url(#"+y.id+")"}function _(O){var y=it.create("text",i(O._matrix,!0),t);return y.textContent=O._content,y}var S={Group:s,Layer:s,Raster:l,Path:f,Shape:c,CompoundPath:v,SymbolItem:p,PointText:_};function C(O,y,E){var L={},U=!E&&O.getParent(),P=[];return O._name!=null&&(L.id=O._name),o.each(xa,function(B){var G=B.get,H=B.type,Z=O[G]();if(B.exportFilter?B.exportFilter(O,Z):!U||!o.equals(U[G](),Z)){if(H==="color"&&Z!=null){var z=Z.getAlpha();z<1&&(L[B.attribute+"-opacity"]=z)}H==="style"?P.push(B.attribute+": "+Z):L[B.attribute]=Z==null?"none":H==="color"?Z.gradient?m(Z):Z.toCSS(!0):H==="array"?Z.join(","):H==="lookup"?B.toSVG[Z]:Z}}),P.length&&(L.style=P.join(";")),L.opacity===1&&delete L.opacity,O._visible||(L.visibility="hidden"),it.set(y,L,t)}var b;function x(O,y){return b||(b={ids:{},svgs:{}}),O&&b.svgs[y+"-"+(O._id||O.__id||(O.__id=D.get("svg")))]}function I(O,y,E){b||x();var L=b.ids[E]=(b.ids[E]||0)+1;y.id=E+"-"+L,b.svgs[E+"-"+(O._id||O.__id)]=y}function F(O,y){var E=O,L=null;if(b){E=O.nodeName.toLowerCase()==="svg"&&O;for(var U in b.svgs)L||(E||(E=it.create("svg"),E.appendChild(O)),L=E.insertBefore(it.create("defs"),E.firstChild)),L.appendChild(b.svgs[U]);b=null}return y.asString?new r.XMLSerializer().serializeToString(E):E}function M(O,y,E){var L=S[O._class],U=L&&L(O,y);if(U){var P=y.onExport;P&&(U=P(O,U,y)||U);var B=JSON.stringify(O._data);B&&B!=="{}"&&B!=="null"&&U.setAttribute("data-paper-data",B)}return U&&C(O,U,E)}function w(O){return O||(O={}),t=new k(O.precision),O}pe.inject({exportSVG:function(O){return O=w(O),F(M(this,O,!0),O)}}),fe.inject({exportSVG:function(O){O=w(O);var y=this._children,E=this.getView(),L=o.pick(O.bounds,"view"),U=O.matrix||L==="view"&&E._matrix,P=U&&te.read([U]),B=L==="view"?new j([0,0],E.getViewSize()):L==="content"?pe._getBounds(y,P,{stroke:!0}).rect:j.read([L],0,{readNull:!0}),G={version:"1.1",xmlns:it.svg,"xmlns:xlink":it.xlink};B&&(G.width=B.width,G.height=B.height,(B.x||B.x===0||B.y||B.y===0)&&(G.viewBox=t.rectangle(B)));var H=it.create("svg",G,t),Z=H;P&&!P.isIdentity()&&(Z=H.appendChild(it.create("g",i(P),t)));for(var z=0,W=y.length;z<W;z++)Z.appendChild(M(y[z],O,!0));return F(H,O)}})},new function(){var t={},i;function s(y,E,L,U,P,B){var G=it.get(y,E)||B,H=G==null?U?null:L?"":0:L?G:parseFloat(G);return/%\s*$/.test(G)?H/100*(P?1:i[/x|^width/.test(E)?"width":"height"]):H}function l(y,E,L,U,P,B,G){return E=s(y,E||"x",!1,U,P,B),L=s(y,L||"y",!1,U,P,G),U&&(E==null||L==null)?null:new A(E,L)}function f(y,E,L,U,P){return E=s(y,E||"width",!1,U,P),L=s(y,L||"height",!1,U,P),U&&(E==null||L==null)?null:new N(E,L)}function c(y,E,L){return y==="none"?null:E==="number"?parseFloat(y):E==="array"?y?y.split(/[\s,]+/g).map(parseFloat):[]:E==="color"?M(y)||y:E==="lookup"?L[y]:y}function v(y,E,L,U){var P=y.childNodes,B=E==="clippath",G=E==="defs",H=new Ce,Z=H._project,z=Z._currentStyle,W=[];if(!B&&!G&&(H=F(H,y,U),Z._currentStyle=H._style.clone()),U)for(var X=y.querySelectorAll("defs"),Q=0,J=X.length;Q<J;Q++)w(X[Q],L,!1);for(var Q=0,J=P.length;Q<J;Q++){var $=P[Q],le;$.nodeType===1&&!/^defs$/i.test($.nodeName)&&(le=w($,L,!1))&&!(le instanceof Je)&&W.push(le)}return H.addChildren(W),B&&(H=F(H.reduce(),y,U)),Z._currentStyle=z,(B||G)&&(H.remove(),H=null),H}function p(y,E){for(var L=y.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),U=[],P=0,B=L.length;P<B;P+=2)U.push(new A(parseFloat(L[P]),parseFloat(L[P+1])));var G=new Te(U);return E==="polygon"&&G.closePath(),G}function m(y){return We.create(y.getAttribute("d"))}function _(y,E){var L=(s(y,"href",!0)||"").substring(1),U=E==="radialgradient",P;if(L)P=t[L].getGradient(),P._radial^U&&(P=P.clone(),P._radial=U);else{for(var B=y.childNodes,G=[],H=0,Z=B.length;H<Z;H++){var z=B[H];z.nodeType===1&&G.push(F(new Lr,z))}P=new Pt(G,U)}var W,X,Q,J=s(y,"gradientUnits",!0)!=="userSpaceOnUse";U?(W=l(y,"cx","cy",!1,J,"50%","50%"),X=W.add(s(y,"r",!1,!1,J,"50%"),0),Q=l(y,"fx","fy",!0,J)):(W=l(y,"x1","y1",!1,J,"0%","0%"),X=l(y,"x2","y2",!1,J,"100%","0%"));var $=F(new $e(P,W,X,Q),y);return $._scaleToBounds=J,null}var S={"#document":function(y,E,L,U){for(var P=y.childNodes,B=0,G=P.length;B<G;B++){var H=P[B];if(H.nodeType===1)return w(H,L,U)}},g:v,svg:v,clippath:v,polygon:p,polyline:p,path:m,lineargradient:_,radialgradient:_,image:function(y){var E=new Ke(s(y,"href",!0));return E.on("load",function(){var L=f(y);this.setSize(L);var U=l(y).add(L.divide(2));this._matrix.append(new te().translate(U))}),E},symbol:function(y,E,L,U){return new Je(v(y,E,L,U),!0)},defs:v,use:function(y){var E=(s(y,"href",!0)||"").substring(1),L=t[E],U=l(y);return L?L instanceof Je?L.place(U):L.clone().translate(U):null},circle:function(y){return new Re.Circle(l(y,"cx","cy"),s(y,"r"))},ellipse:function(y){return new Re.Ellipse({center:l(y,"cx","cy"),radius:f(y,"rx","ry")})},rect:function(y){return new Re.Rectangle(new j(l(y),f(y)),f(y,"rx","ry"))},line:function(y){return new Te.Line(l(y,"x1","y1"),l(y,"x2","y2"))},text:function(y){var E=new yr(l(y).add(l(y,"dx","dy")));return E.setContent(y.textContent.trim()||""),E},switch:v};function C(y,E,L,U){if(y.transform){for(var P=(U.getAttribute(L)||"").split(/\)\s*/g),B=new te,G=0,H=P.length;G<H;G++){var Z=P[G];if(!Z)break;for(var z=Z.split(/\(\s*/),W=z[0],X=z[1].split(/[\s,]+/g),Q=0,J=X.length;Q<J;Q++)X[Q]=parseFloat(X[Q]);switch(W){case"matrix":B.append(new te(X[0],X[1],X[2],X[3],X[4],X[5]));break;case"rotate":B.rotate(X[0],X[1]||0,X[2]||0);break;case"translate":B.translate(X[0],X[1]||0);break;case"scale":B.scale(X);break;case"skewX":B.skew(X[0],0);break;case"skewY":B.skew(0,X[0]);break}}y.transform(B)}}function b(y,E,L){var U=L==="fill-opacity"?"getFillColor":"getStrokeColor",P=y[U]&&y[U]();P&&P.setAlpha(parseFloat(E))}var x=o.set(o.each(xa,function(y){this[y.attribute]=function(E,L){if(E[y.set]&&(E[y.set](c(L,y.type,y.fromSVG)),y.type==="color")){var U=E[y.get]();if(U&&U._scaleToBounds){var P=E.getBounds();U.transform(new te().translate(P.getPoint()).scale(P.getSize()))}}}},{}),{id:function(y,E){t[E]=y,y.setName&&y.setName(E)},"clip-path":function(y,E){var L=M(E);if(L)if(L=L.clone(),L.setClipMask(!0),y instanceof Ce)y.insertChild(0,L);else return new Ce(L,y)},gradientTransform:C,transform:C,"fill-opacity":b,"stroke-opacity":b,visibility:function(y,E){y.setVisible&&y.setVisible(E==="visible")},display:function(y,E){y.setVisible&&y.setVisible(E!==null)},"stop-color":function(y,E){y.setColor&&y.setColor(E)},"stop-opacity":function(y,E){y._color&&y._color.setAlpha(parseFloat(E))},offset:function(y,E){if(y.setOffset){var L=E.match(/(.*)%$/);y.setOffset(L?L[1]/100:parseFloat(E))}},viewBox:function(y,E,L,U,P){var B=new j(c(E,"array")),G=f(U,null,null,!0),H,Z;if(y instanceof Ce){var z=G?G.divide(B.getSize()):1,Z=new te().scale(z).translate(B.getPoint().negate());H=y}else y instanceof Je&&(G&&B.setSize(G),H=y._item);if(H){if(I(U,"overflow",P)!=="visible"){var W=new Re.Rectangle(B);W.setClipMask(!0),H.addChild(W)}Z&&H.transform(Z)}}});function I(y,E,L){var U=y.attributes[E],P=U&&U.value;if(!P&&y.style){var B=o.camelize(E);P=y.style[B],!P&&L.node[B]!==L.parent[B]&&(P=L.node[B])}return P?P==="none"?null:P:n}function F(y,E,L){var U=E.parentNode,P={node:nt.getStyles(E)||{},parent:!L&&!/^defs$/i.test(U.tagName)&&nt.getStyles(U)||{}};return o.each(x,function(B,G){var H=I(E,G,P);y=H!==n&&B(y,H,G,E,P)||y}),y}function M(y){var E=y&&y.match(/\((?:["'#]*)([^"')]+)/),L=E&&E[1],U=L&&t[a?L.replace(a.location.href.split("#")[0]+"#",""):L];return U&&U._scaleToBounds&&(U=U.clone(),U._scaleToBounds=!0),U}function w(y,E,L){var U=y.nodeName.toLowerCase(),P=U!=="#document",B=u.body,G,H,Z;L&&P&&(i=Ne.getView().getSize(),i=f(y,null,null,!0)||i,G=it.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),H=y.parentNode,Z=y.nextSibling,G.appendChild(y),B.appendChild(G));var z=Ne.settings,W=z.applyMatrix,X=z.insertItems;z.applyMatrix=!1,z.insertItems=!1;var Q=S[U],J=Q&&Q(y,U,E,L)||null;if(z.insertItems=X,z.applyMatrix=W,J){P&&!(J instanceof Ce)&&(J=F(J,y,L));var $=E.onImport,le=P&&y.getAttribute("data-paper-data");$&&(J=$(y,J,E)||J),E.expandShapes&&J instanceof Re&&(J.remove(),J=J.toPath()),le&&(J._data=JSON.parse(le))}return G&&(B.removeChild(G),H&&(Z?H.insertBefore(y,Z):H.appendChild(y))),L&&(t={},J&&o.pick(E.applyMatrix,W)&&J.matrix.apply(!0,!0)),J}function O(y,E,L){if(!y)return null;E=typeof E=="function"?{onLoad:E}:E||{};var U=Ne,P=null;function B(z){try{var W=typeof z=="object"?z:new r.DOMParser().parseFromString(z.trim(),"image/svg+xml");if(!W.nodeName)throw W=null,new Error("Unsupported SVG source: "+y);Ne=U,P=w(W,E,!0),(!E||E.insert!==!1)&&L._insertItem(n,P);var X=E.onLoad;X&&X(P,z)}catch(Q){G(Q)}}function G(z,W){var X=E.onError;if(X)X(z,W);else throw new Error(z)}if(typeof y=="string"&&!/^[\s\S]*</.test(y)){var H=u.getElementById(y);H?B(H):ya.request({url:y,async:!0,onLoad:B,onError:G})}else if(typeof File!="undefined"&&y instanceof File){var Z=new FileReader;return Z.onload=function(){B(Z.result)},Z.onerror=function(){G(Z.error)},Z.readAsText(y)}else B(y);return P}pe.inject({importSVG:function(y,E){return O(y,E,this)}}),fe.inject({importSVG:function(y,E){return this.activate(),O(y,E,this)}})},o.exports.PaperScript=function(){var t=this,i=t.acorn;if(!i&&typeof ml!="undefined")try{i=require("acorn")}catch{}if(!i){var s,l;i=s=l={},function(F,M){if(typeof s=="object"&&typeof l=="object")return M(s);if(typeof n=="function"&&n.amd)return n(["exports"],M);M(F.acorn||(F.acorn={}))}(this,function(F){F.version="0.5.0";var M,w,O,y;F.parse=function(q,Y){return w=String(q),O=w.length,L(Y),Ma(),Qu(M.program)};var E=F.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function L(q){M=q||{};for(var Y in E)Object.prototype.hasOwnProperty.call(M,Y)||(M[Y]=E[Y]);y=M.sourceFile||null}var U=F.getLineInfo=function(q,Y){for(var re=1,se=0;;){Ur.lastIndex=se;var Ee=Ur.exec(q);if(Ee&&Ee.index<Y)++re,se=Ee.index+Ee[0].length;else break}return{line:re,column:Y-se}};F.tokenize=function(q,Y){w=String(q),O=w.length,L(Y),Ma();var re={};function se(Ee){return le=G,wr(Ee),re.start=B,re.end=G,re.startLoc=H,re.endLoc=Z,re.type=z,re.value=W,re}return se.jumpTo=function(Ee,Oe){if(P=Ee,M.locations){Q=1,J=Ur.lastIndex=0;for(var Ue;(Ue=Ur.exec(w))&&Ue.index<Ee;)++Q,J=Ue.index+Ue[0].length}X=Oe,Dr()},se};var P,B,G,H,Z,z,W,X,Q,J,$,le,he,ce,me,ne;function ae(q,Y){var re=U(w,q);Y+=" ("+re.line+":"+re.column+")";var se=new SyntaxError(Y);throw se.pos=q,se.loc=re,se.raisedAt=P,se}var de=[],ye={type:"num"},_e={type:"regexp"},Fe={type:"string"},ke={type:"name"},Me={type:"eof"},De={keyword:"break"},Pe={keyword:"case",beforeExpr:!0},ct={keyword:"catch"},dt={keyword:"continue"},_t={keyword:"debugger"},at={keyword:"default"},Xe={keyword:"do",isLoop:!0},st={keyword:"else",beforeExpr:!0},St={keyword:"finally"},pt={keyword:"for",isLoop:!0},Ot={keyword:"function"},ur={keyword:"if"},Lt={keyword:"return",beforeExpr:!0},It={keyword:"switch"},wt={keyword:"throw",beforeExpr:!0},kt={keyword:"try"},lr={keyword:"var"},Mt={keyword:"while",isLoop:!0},Cn={keyword:"with"},ba={keyword:"new",beforeExpr:!0},Sa={keyword:"this"},wa={keyword:"null",atomValue:null},Ca={keyword:"true",atomValue:!0},Ta={keyword:"false",atomValue:!1},Tn={keyword:"in",binop:7,beforeExpr:!0},hi={break:De,case:Pe,catch:ct,continue:dt,debugger:_t,default:at,do:Xe,else:st,finally:St,for:pt,function:Ot,if:ur,return:Lt,switch:It,throw:wt,try:kt,var:lr,while:Mt,with:Cn,null:wa,true:Ca,false:Ta,new:ba,in:Tn,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:Sa,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},kn={type:"[",beforeExpr:!0},Fn={type:"]"},Ir={type:"{",beforeExpr:!0},xr={type:"}"},Wt={type:"(",beforeExpr:!0},Ut={type:")"},Kt={type:",",beforeExpr:!0},Zt={type:";",beforeExpr:!0},Mr={type:":",beforeExpr:!0},ci={type:"."},di={type:"?",beforeExpr:!0},pi={binop:10,beforeExpr:!0},gi={isAssign:!0,beforeExpr:!0},br={isAssign:!0,beforeExpr:!0},wu={postfix:!0,prefix:!0,isUpdate:!0},ka={prefix:!0,beforeExpr:!0},Fa={binop:1,beforeExpr:!0},Ea={binop:2,beforeExpr:!0},Cu={binop:3,beforeExpr:!0},Tu={binop:4,beforeExpr:!0},ku={binop:5,beforeExpr:!0},Fu={binop:6,beforeExpr:!0},Eu={binop:7,beforeExpr:!0},Au={binop:8,beforeExpr:!0},Ou={binop:9,prefix:!0,beforeExpr:!0},Pu={binop:10,beforeExpr:!0};F.tokTypes={bracketL:kn,bracketR:Fn,braceL:Ir,braceR:xr,parenL:Wt,parenR:Ut,comma:Kt,semi:Zt,colon:Mr,dot:ci,question:di,slash:pi,eq:gi,name:ke,eof:Me,num:ye,regexp:_e,string:Fe};for(var Aa in hi)F.tokTypes["_"+Aa]=hi[Aa];function Qr(q){q=q.split(" ");var Y="",re=[];e:for(var se=0;se<q.length;++se){for(var Ee=0;Ee<re.length;++Ee)if(re[Ee][0].length==q[se].length){re[Ee].push(q[se]);continue e}re.push([q[se]])}function Oe(qe){if(qe.length==1)return Y+="return str === "+JSON.stringify(qe[0])+";";Y+="switch(str){";for(var Rt=0;Rt<qe.length;++Rt)Y+="case "+JSON.stringify(qe[Rt])+":";Y+="return true}return false;"}if(re.length>3){re.sort(function(qe,Rt){return Rt.length-qe.length}),Y+="switch(str.length){";for(var se=0;se<re.length;++se){var Ue=re[se];Y+="case "+Ue[0].length+":",Oe(Ue)}Y+="}"}else Oe(q);return new Function("str",Y)}var Lu=Qr("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),Iu=Qr("class enum extends super const export import"),Oa=Qr("implements interface let package private protected public static yield"),En=Qr("eval arguments"),Mu=Qr("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),Uu=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Pa="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F0\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",Du="\u0300-\u036F\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u0620-\u0649\u0672-\u06D3\u06E7-\u06E8\u06FB-\u06FC\u0730-\u074A\u0800-\u0814\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0840-\u0857\u08E4-\u08FE\u0900-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962-\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09D7\u09DF-\u09E0\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5F-\u0B60\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C01-\u0C03\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62-\u0C63\u0C66-\u0C6F\u0C82\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2-\u0CE3\u0CE6-\u0CEF\u0D02\u0D03\u0D46-\u0D48\u0D57\u0D62-\u0D63\u0D66-\u0D6F\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E34-\u0E3A\u0E40-\u0E45\u0E50-\u0E59\u0EB4-\u0EB9\u0EC8-\u0ECD\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F41-\u0F47\u0F71-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1029\u1040-\u1049\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u170E-\u1710\u1720-\u1730\u1740-\u1750\u1772\u1773\u1780-\u17B2\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1920-\u192B\u1930-\u193B\u1951-\u196D\u19B0-\u19C0\u19C8-\u19C9\u19D0-\u19D9\u1A00-\u1A15\u1A20-\u1A53\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1B46-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C00-\u1C22\u1C40-\u1C49\u1C5B-\u1C7D\u1CD0-\u1CD2\u1D00-\u1DBE\u1E01-\u1F15\u200C\u200D\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2D81-\u2D96\u2DE0-\u2DFF\u3021-\u3028\u3099\u309A\uA640-\uA66D\uA674-\uA67D\uA69F\uA6F0-\uA6F1\uA7F8-\uA800\uA806\uA80B\uA823-\uA827\uA880-\uA881\uA8B4-\uA8C4\uA8D0-\uA8D9\uA8F3-\uA8F7\uA900-\uA909\uA926-\uA92D\uA930-\uA945\uA980-\uA983\uA9B3-\uA9C0\uAA00-\uAA27\uAA40-\uAA41\uAA4C-\uAA4D\uAA50-\uAA59\uAA7B\uAAE0-\uAAE9\uAAF2-\uAAF3\uABC0-\uABE1\uABEC\uABED\uABF0-\uABF9\uFB20-\uFB28\uFE00-\uFE0F\uFE20-\uFE26\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F",La=new RegExp("["+Pa+"]"),Ru=new RegExp("["+Pa+Du+"]"),An=/[\n\r\u2028\u2029]/,Ur=/\r\n|[\n\r\u2028\u2029]/g,On=F.isIdentifierStart=function(q){return q<65?q===36:q<91?!0:q<97?q===95:q<123?!0:q>=170&&La.test(String.fromCharCode(q))},Ia=F.isIdentifierChar=function(q){return q<48?q===36:q<58?!0:q<65?!1:q<91?!0:q<97?q===95:q<123?!0:q>=170&&Ru.test(String.fromCharCode(q))};function Sr(){this.line=Q,this.column=P-J}function Ma(){Q=1,P=J=0,X=!0,Dr()}function gt(q,Y){G=P,M.locations&&(Z=new Sr),z=q,Dr(),W=Y,X=q.beforeExpr}function Bu(){var q=M.onComment&&M.locations&&new Sr,Y=P,re=w.indexOf("*/",P+=2);if(re===-1&&ae(P-2,"Unterminated comment"),P=re+2,M.locations){Ur.lastIndex=Y;for(var se;(se=Ur.exec(w))&&se.index<P;)++Q,J=se.index+se[0].length}M.onComment&&M.onComment(!0,w.slice(Y+2,re),Y,P,q,M.locations&&new Sr)}function vi(){for(var q=P,Y=M.onComment&&M.locations&&new Sr,re=w.charCodeAt(P+=2);P<O&&re!==10&&re!==13&&re!==8232&&re!==8233;)++P,re=w.charCodeAt(P);M.onComment&&M.onComment(!1,w.slice(q+2,P),q,P,Y,M.locations&&new Sr)}function Dr(){for(;P<O;){var q=w.charCodeAt(P);if(q===32)++P;else if(q===13){++P;var Y=w.charCodeAt(P);Y===10&&++P,M.locations&&(++Q,J=P)}else if(q===10||q===8232||q===8233)++P,M.locations&&(++Q,J=P);else if(q>8&&q<14)++P;else if(q===47){var Y=w.charCodeAt(P+1);if(Y===42)Bu();else if(Y===47)vi();else break}else if(q===160)++P;else if(q>=5760&&Uu.test(String.fromCharCode(q)))++P;else break}}function Nu(){var q=w.charCodeAt(P+1);return q>=48&&q<=57?Da(!0):(++P,gt(ci))}function zu(){var q=w.charCodeAt(P+1);return X?(++P,Ua()):q===61?vt(br,2):vt(pi,1)}function Gu(){var q=w.charCodeAt(P+1);return q===61?vt(br,2):vt(Pu,1)}function Hu(q){var Y=w.charCodeAt(P+1);return Y===q?vt(q===124?Fa:Ea,2):Y===61?vt(br,2):vt(q===124?Cu:ku,1)}function Vu(){var q=w.charCodeAt(P+1);return q===61?vt(br,2):vt(Tu,1)}function qu(q){var Y=w.charCodeAt(P+1);return Y===q?Y==45&&w.charCodeAt(P+2)==62&&An.test(w.slice(le,P))?(P+=3,vi(),Dr(),wr()):vt(wu,2):Y===61?vt(br,2):vt(Ou,1)}function Wu(q){var Y=w.charCodeAt(P+1),re=1;return Y===q?(re=q===62&&w.charCodeAt(P+2)===62?3:2,w.charCodeAt(P+re)===61?vt(br,re+1):vt(Au,re)):Y==33&&q==60&&w.charCodeAt(P+2)==45&&w.charCodeAt(P+3)==45?(P+=4,vi(),Dr(),wr()):(Y===61&&(re=w.charCodeAt(P+2)===61?3:2),vt(Eu,re))}function Zu(q){var Y=w.charCodeAt(P+1);return Y===61?vt(Fu,w.charCodeAt(P+2)===61?3:2):vt(q===61?gi:ka,1)}function Xu(q){switch(q){case 46:return Nu();case 40:return++P,gt(Wt);case 41:return++P,gt(Ut);case 59:return++P,gt(Zt);case 44:return++P,gt(Kt);case 91:return++P,gt(kn);case 93:return++P,gt(Fn);case 123:return++P,gt(Ir);case 125:return++P,gt(xr);case 58:return++P,gt(Mr);case 63:return++P,gt(di);case 48:var Y=w.charCodeAt(P+1);if(Y===120||Y===88)return Yu();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return Da(!1);case 34:case 39:return ju(q);case 47:return zu();case 37:case 42:return Gu();case 124:case 38:return Hu(q);case 94:return Vu();case 43:case 45:return qu(q);case 60:case 62:return Wu(q);case 61:case 33:return Zu(q);case 126:return vt(ka,1)}return!1}function wr(q){if(q?P=B+1:B=P,M.locations&&(H=new Sr),q)return Ua();if(P>=O)return gt(Me);var Y=w.charCodeAt(P);if(On(Y)||Y===92)return Ba();var re=Xu(Y);if(re===!1){var se=String.fromCharCode(Y);if(se==="\\"||La.test(se))return Ba();ae(P,"Unexpected character '"+se+"'")}return re}function vt(q,Y){var re=w.slice(P,P+Y);P+=Y,gt(q,re)}function Ua(){for(var Ee="",q,Y,re=P;;){P>=O&&ae(re,"Unterminated regular expression");var se=w.charAt(P);if(An.test(se)&&ae(re,"Unterminated regular expression"),q)q=!1;else{if(se==="[")Y=!0;else if(se==="]"&&Y)Y=!1;else if(se==="/"&&!Y)break;q=se==="\\"}++P}var Ee=w.slice(re,P);++P;var Oe=Ra();Oe&&!/^[gmsiy]*$/.test(Oe)&&ae(re,"Invalid regexp flag");try{var Ue=new RegExp(Ee,Oe)}catch(qe){qe instanceof SyntaxError&&ae(re,qe.message),ae(qe)}return gt(_e,Ue)}function Kr(q,Y){for(var re=P,se=0,Ee=0,Oe=Y==null?1/0:Y;Ee<Oe;++Ee){var Ue=w.charCodeAt(P),qe;if(Ue>=97?qe=Ue-97+10:Ue>=65?qe=Ue-65+10:Ue>=48&&Ue<=57?qe=Ue-48:qe=1/0,qe>=q)break;++P,se=se*q+qe}return P===re||Y!=null&&P-re!==Y?null:se}function Yu(){P+=2;var q=Kr(16);return q==null&&ae(B+2,"Expected hexadecimal number"),On(w.charCodeAt(P))&&ae(P,"Identifier directly after number"),gt(ye,q)}function Da(q){var Y=P,re=!1,se=w.charCodeAt(P)===48;!q&&Kr(10)===null&&ae(Y,"Invalid number"),w.charCodeAt(P)===46&&(++P,Kr(10),re=!0);var Ee=w.charCodeAt(P);(Ee===69||Ee===101)&&(Ee=w.charCodeAt(++P),(Ee===43||Ee===45)&&++P,Kr(10)===null&&ae(Y,"Invalid number"),re=!0),On(w.charCodeAt(P))&&ae(P,"Identifier directly after number");var Oe=w.slice(Y,P),Ue;return re?Ue=parseFloat(Oe):!se||Oe.length===1?Ue=parseInt(Oe,10):/[89]/.test(Oe)||ne?ae(Y,"Invalid number"):Ue=parseInt(Oe,8),gt(ye,Ue)}function ju(q){P++;for(var Y="";;){P>=O&&ae(B,"Unterminated string constant");var re=w.charCodeAt(P);if(re===q)return++P,gt(Fe,Y);if(re===92){re=w.charCodeAt(++P);var se=/^[0-7]+/.exec(w.slice(P,P+3));for(se&&(se=se[0]);se&&parseInt(se,8)>255;)se=se.slice(0,-1);if(se==="0"&&(se=null),++P,se)ne&&ae(P-2,"Octal literal in strict mode"),Y+=String.fromCharCode(parseInt(se,8)),P+=se.length-1;else switch(re){case 110:Y+=`
`;break;case 114:Y+="\r";break;case 120:Y+=String.fromCharCode(Pn(2));break;case 117:Y+=String.fromCharCode(Pn(4));break;case 85:Y+=String.fromCharCode(Pn(8));break;case 116:Y+="	";break;case 98:Y+="\b";break;case 118:Y+="\v";break;case 102:Y+="\f";break;case 48:Y+="\0";break;case 13:w.charCodeAt(P)===10&&++P;case 10:M.locations&&(J=P,++Q);break;default:Y+=String.fromCharCode(re);break}}else(re===13||re===10||re===8232||re===8233)&&ae(B,"Unterminated string constant"),Y+=String.fromCharCode(re),++P}}function Pn(q){var Y=Kr(16,q);return Y===null&&ae(B,"Bad character escape sequence"),Y}var Rr;function Ra(){Rr=!1;for(var q,Y=!0,re=P;;){var se=w.charCodeAt(P);if(Ia(se))Rr&&(q+=w.charAt(P)),++P;else if(se===92){Rr||(q=w.slice(re,P)),Rr=!0,w.charCodeAt(++P)!=117&&ae(P,"Expecting Unicode escape sequence \\uXXXX"),++P;var Ee=Pn(4),Oe=String.fromCharCode(Ee);Oe||ae(P-1,"Invalid Unicode escape"),(Y?On(Ee):Ia(Ee))||ae(P-4,"Invalid Unicode escape"),q+=Oe}else break;Y=!1}return Rr?q:w.slice(re,P)}function Ba(){var q=Ra(),Y=ke;return!Rr&&Mu(q)&&(Y=hi[q]),gt(Y,q)}function Ge(){$=B,le=G,he=Z,wr()}function mi(q){if(ne=q,P=B,M.locations)for(;P<J;)J=w.lastIndexOf(`
`,J-2)+1,--Q;Dr(),wr()}function Na(){this.type=null,this.start=B,this.end=null}function za(){this.start=H,this.end=null,y!==null&&(this.source=y)}function yt(){var q=new Na;return M.locations&&(q.loc=new za),M.directSourceFile&&(q.sourceFile=M.directSourceFile),M.ranges&&(q.range=[B,0]),q}function fr(q){var Y=new Na;return Y.start=q.start,M.locations&&(Y.loc=new za,Y.loc.start=q.loc.start),M.ranges&&(Y.range=[q.range[0],0]),Y}function Be(q,Y){return q.type=Y,q.end=le,M.locations&&(q.loc.end=he),M.ranges&&(q.range[1]=le),q}function _i(q){return M.ecmaVersion>=5&&q.type==="ExpressionStatement"&&q.expression.type==="Literal"&&q.expression.value==="use strict"}function et(q){if(z===q)return Ge(),!0}function Ln(){return!M.strictSemicolons&&(z===Me||z===xr||An.test(w.slice(le,B)))}function Cr(){!et(Zt)&&!Ln()&&Jt()}function ut(q){z===q?Ge():Jt()}function Jt(){ae(B,"Unexpected token")}function In(q){q.type!=="Identifier"&&q.type!=="MemberExpression"&&ae(q.start,"Assigning to rvalue"),ne&&q.type==="Identifier"&&En(q.name)&&ae(q.start,"Assigning to "+q.name+" in strict mode")}function Qu(q){$=le=P,M.locations&&(he=new Sr),ce=ne=null,me=[],wr();var Y=q||yt(),re=!0;for(q||(Y.body=[]);z!==Me;){var se=Dt();Y.body.push(se),re&&_i(se)&&mi(!0),re=!1}return Be(Y,"Program")}var yi={kind:"loop"},Ku={kind:"switch"};function Dt(){(z===pi||z===br&&W=="/=")&&wr(!0);var q=z,Y=yt();switch(q){case De:case dt:Ge();var re=q===De;et(Zt)||Ln()?Y.label=null:z!==ke?Jt():(Y.label=hr(),Cr());for(var se=0;se<me.length;++se){var Ee=me[se];if((Y.label==null||Ee.name===Y.label.name)&&(Ee.kind!=null&&(re||Ee.kind==="loop")||Y.label&&re))break}return se===me.length&&ae(Y.start,"Unsyntactic "+q.keyword),Be(Y,re?"BreakStatement":"ContinueStatement");case _t:return Ge(),Cr(),Be(Y,"DebuggerStatement");case Xe:return Ge(),me.push(yi),Y.body=Dt(),me.pop(),ut(Mt),Y.test=Jr(),Cr(),Be(Y,"DoWhileStatement");case pt:if(Ge(),me.push(yi),ut(Wt),z===Zt)return xi(Y,null);if(z===lr){var Oe=yt();return Ge(),Ha(Oe,!0),Be(Oe,"VariableDeclaration"),Oe.declarations.length===1&&et(Tn)?Ga(Y,Oe):xi(Y,Oe)}var Oe=bt(!1,!0);return et(Tn)?(In(Oe),Ga(Y,Oe)):xi(Y,Oe);case Ot:return Ge(),Ti(Y,!0);case ur:return Ge(),Y.test=Jr(),Y.consequent=Dt(),Y.alternate=et(st)?Dt():null,Be(Y,"IfStatement");case Lt:return!ce&&!M.allowReturnOutsideFunction&&ae(B,"'return' outside of function"),Ge(),et(Zt)||Ln()?Y.argument=null:(Y.argument=bt(),Cr()),Be(Y,"ReturnStatement");case It:Ge(),Y.discriminant=Jr(),Y.cases=[],ut(Ir),me.push(Ku);for(var Ue,qe;z!=xr;)if(z===Pe||z===at){var Rt=z===Pe;Ue&&Be(Ue,"SwitchCase"),Y.cases.push(Ue=yt()),Ue.consequent=[],Ge(),Rt?Ue.test=bt():(qe&&ae($,"Multiple default clauses"),qe=!0,Ue.test=null),ut(Mr)}else Ue||Jt(),Ue.consequent.push(Dt());return Ue&&Be(Ue,"SwitchCase"),Ge(),me.pop(),Be(Y,"SwitchStatement");case wt:return Ge(),An.test(w.slice(le,B))&&ae(le,"Illegal newline after throw"),Y.argument=bt(),Cr(),Be(Y,"ThrowStatement");case kt:if(Ge(),Y.block=$r(),Y.handler=null,z===ct){var Tr=yt();Ge(),ut(Wt),Tr.param=hr(),ne&&En(Tr.param.name)&&ae(Tr.param.start,"Binding "+Tr.param.name+" in strict mode"),ut(Ut),Tr.guard=null,Tr.body=$r(),Y.handler=Be(Tr,"CatchClause")}return Y.guardedHandlers=de,Y.finalizer=et(St)?$r():null,!Y.handler&&!Y.finalizer&&ae(Y.start,"Missing catch or finally clause"),Be(Y,"TryStatement");case lr:return Ge(),Ha(Y),Cr(),Be(Y,"VariableDeclaration");case Mt:return Ge(),Y.test=Jr(),me.push(yi),Y.body=Dt(),me.pop(),Be(Y,"WhileStatement");case Cn:return ne&&ae(B,"'with' in strict mode"),Ge(),Y.object=Jr(),Y.body=Dt(),Be(Y,"WithStatement");case Ir:return $r();case Zt:return Ge(),Be(Y,"EmptyStatement");default:var Fi=W,Mn=bt();if(q===ke&&Mn.type==="Identifier"&&et(Mr)){for(var se=0;se<me.length;++se)me[se].name===Fi&&ae(Mn.start,"Label '"+Fi+"' is already declared");var nl=z.isLoop?"loop":z===It?"switch":null;return me.push({name:Fi,kind:nl}),Y.body=Dt(),me.pop(),Y.label=Mn,Be(Y,"LabeledStatement")}else return Y.expression=Mn,Cr(),Be(Y,"ExpressionStatement")}}function Jr(){ut(Wt);var q=bt();return ut(Ut),q}function $r(q){var Y=yt(),re=!0,se=!1,Ee;for(Y.body=[],ut(Ir);!et(xr);){var Oe=Dt();Y.body.push(Oe),re&&q&&_i(Oe)&&(Ee=se,mi(se=!0)),re=!1}return se&&!Ee&&mi(!1),Be(Y,"BlockStatement")}function xi(q,Y){return q.init=Y,ut(Zt),q.test=z===Zt?null:bt(),ut(Zt),q.update=z===Ut?null:bt(),ut(Ut),q.body=Dt(),me.pop(),Be(q,"ForStatement")}function Ga(q,Y){return q.left=Y,q.right=bt(),ut(Ut),q.body=Dt(),me.pop(),Be(q,"ForInStatement")}function Ha(q,Y){for(q.declarations=[],q.kind="var";;){var re=yt();if(re.id=hr(),ne&&En(re.id.name)&&ae(re.id.start,"Binding "+re.id.name+" in strict mode"),re.init=et(gi)?bt(!0,Y):null,q.declarations.push(Be(re,"VariableDeclarator")),!et(Kt))break}return q}function bt(q,Y){var re=bi(Y);if(!q&&z===Kt){var se=fr(re);for(se.expressions=[re];et(Kt);)se.expressions.push(bi(Y));return Be(se,"SequenceExpression")}return re}function bi(q){var Y=Ju(q);if(z.isAssign){var re=fr(Y);return re.operator=W,re.left=Y,Ge(),re.right=bi(q),In(Y),Be(re,"AssignmentExpression")}return Y}function Ju(q){var Y=$u(q);if(et(di)){var re=fr(Y);return re.test=Y,re.consequent=bt(!0),ut(Mr),re.alternate=bt(!0,q),Be(re,"ConditionalExpression")}return Y}function $u(q){return Si(wi(),-1,q)}function Si(q,Y,re){var se=z.binop;if(se!=null&&(!re||z!==Tn)&&se>Y){var Ee=fr(q);Ee.left=q,Ee.operator=W;var Oe=z;Ge(),Ee.right=Si(wi(),se,re);var Ue=Be(Ee,Oe===Fa||Oe===Ea?"LogicalExpression":"BinaryExpression");return Si(Ue,Y,re)}return q}function wi(){if(z.prefix){var q=yt(),Y=z.isUpdate;return q.operator=W,q.prefix=!0,X=!0,Ge(),q.argument=wi(),Y?In(q.argument):ne&&q.operator==="delete"&&q.argument.type==="Identifier"&&ae(q.start,"Deleting local variable in strict mode"),Be(q,Y?"UpdateExpression":"UnaryExpression")}for(var re=el();z.postfix&&!Ln();){var q=fr(re);q.operator=W,q.prefix=!1,q.argument=re,In(re),Ge(),re=Be(q,"UpdateExpression")}return re}function el(){return en(Ci())}function en(q,Y){if(et(ci)){var re=fr(q);return re.object=q,re.property=hr(!0),re.computed=!1,en(Be(re,"MemberExpression"),Y)}else if(et(kn)){var re=fr(q);return re.object=q,re.property=bt(),re.computed=!0,ut(Fn),en(Be(re,"MemberExpression"),Y)}else if(!Y&&et(Wt)){var re=fr(q);return re.callee=q,re.arguments=ki(Ut,!1),en(Be(re,"CallExpression"),Y)}else return q}function Ci(){switch(z){case Sa:var se=yt();return Ge(),Be(se,"ThisExpression");case ke:return hr();case ye:case Fe:case _e:var se=yt();return se.value=W,se.raw=w.slice(B,G),Ge(),Be(se,"Literal");case wa:case Ca:case Ta:var se=yt();return se.value=z.atomValue,se.raw=z.keyword,Ge(),Be(se,"Literal");case Wt:var q=H,Y=B;Ge();var re=bt();return re.start=Y,re.end=G,M.locations&&(re.loc.start=q,re.loc.end=Z),M.ranges&&(re.range=[Y,G]),ut(Ut),re;case kn:var se=yt();return Ge(),se.elements=ki(Fn,!0,!0),Be(se,"ArrayExpression");case Ir:return rl();case Ot:var se=yt();return Ge(),Ti(se,!1);case ba:return tl();default:Jt()}}function tl(){var q=yt();return Ge(),q.callee=en(Ci(),!0),et(Wt)?q.arguments=ki(Ut,!1):q.arguments=de,Be(q,"NewExpression")}function rl(){var q=yt(),Y=!0,re=!1;for(q.properties=[],Ge();!et(xr);){if(Y)Y=!1;else if(ut(Kt),M.allowTrailingCommas&&et(xr))break;var se={key:Va()},Ee=!1,Oe;if(et(Mr)?(se.value=bt(!0),Oe=se.kind="init"):M.ecmaVersion>=5&&se.key.type==="Identifier"&&(se.key.name==="get"||se.key.name==="set")?(Ee=re=!0,Oe=se.kind=se.key.name,se.key=Va(),z!==Wt&&Jt(),se.value=Ti(yt(),!1)):Jt(),se.key.type==="Identifier"&&(ne||re))for(var Ue=0;Ue<q.properties.length;++Ue){var qe=q.properties[Ue];if(qe.key.name===se.key.name){var Rt=Oe==qe.kind||Ee&&qe.kind==="init"||Oe==="init"&&(qe.kind==="get"||qe.kind==="set");Rt&&!ne&&Oe==="init"&&qe.kind==="init"&&(Rt=!1),Rt&&ae(se.key.start,"Redefinition of property")}}q.properties.push(se)}return Be(q,"ObjectExpression")}function Va(){return z===ye||z===Fe?Ci():hr(!0)}function Ti(q,Y){z===ke?q.id=hr():Y?Jt():q.id=null,q.params=[];var re=!0;for(ut(Wt);!et(Ut);)re?re=!1:ut(Kt),q.params.push(hr());var se=ce,Ee=me;if(ce=!0,me=[],q.body=$r(!0),ce=se,me=Ee,ne||q.body.body.length&&_i(q.body.body[0]))for(var Oe=q.id?-1:0;Oe<q.params.length;++Oe){var Ue=Oe<0?q.id:q.params[Oe];if((Oa(Ue.name)||En(Ue.name))&&ae(Ue.start,"Defining '"+Ue.name+"' in strict mode"),Oe>=0)for(var qe=0;qe<Oe;++qe)Ue.name===q.params[qe].name&&ae(Ue.start,"Argument name clash in strict mode")}return Be(q,Y?"FunctionDeclaration":"FunctionExpression")}function ki(q,Y,re){for(var se=[],Ee=!0;!et(q);){if(Ee)Ee=!1;else if(ut(Kt),Y&&M.allowTrailingCommas&&et(q))break;re&&z===Kt?se.push(null):se.push(bt(!0))}return se}function hr(q){var Y=yt();return q&&M.forbidReserved=="everywhere"&&(q=!1),z===ke?(!q&&(M.forbidReserved&&(M.ecmaVersion===3?Lu:Iu)(W)||ne&&Oa(W))&&w.slice(B,G).indexOf("\\")==-1&&ae(B,"The keyword '"+W+"' is reserved"),Y.name=W):q&&z.keyword?Y.name=z.keyword:Jt(),X=!1,Ge(),Be(Y,"Identifier")}}),i.version||(i=null)}function f(F,M){return(t.acorn||i).parse(F,M)}var c={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"__equals","!=":"__equals"},v={"-":"__negate","+":"__self"},p=o.each(["add","subtract","multiply","divide","modulo","equals","negate"],function(F){this["__"+F]="#"+F},{__self:function(){return this}});A.inject(p),N.inject(p),$e.inject(p);function m(F,M,w){var O=c[M];if(F&&F[O]){var y=F[O](w);return M==="!="?!y:y}switch(M){case"+":return F+w;case"-":return F-w;case"*":return F*w;case"/":return F/w;case"%":return F%w;case"==":return F==w;case"!=":return F!=w}}function _(F,M){var w=v[F];if(M&&M[w])return M[w]();switch(F){case"+":return+M;case"-":return-M}}function S(F,M){if(!F)return"";M=M||{};var w=[];function O(ne){for(var ae=0,de=w.length;ae<de;ae++){var ye=w[ae];if(ye[0]>=ne)break;ne+=ye[1]}return ne}function y(ne){return F.substring(O(ne.range[0]),O(ne.range[1]))}function E(ne,ae){return F.substring(O(ne.range[1]),O(ae.range[0]))}function L(ne,ae){for(var de=O(ne.range[0]),ye=O(ne.range[1]),_e=0,Fe=w.length-1;Fe>=0;Fe--)if(de>w[Fe][0]){_e=Fe+1;break}w.splice(_e,0,[de,ae.length-ye+de]),F=F.substring(0,de)+ae+F.substring(ye)}function U(ne,ae){switch(ne.type){case"UnaryExpression":if(ne.operator in v&&ne.argument.type!=="Literal"){var de=y(ne.argument);L(ne,'$__("'+ne.operator+'", '+de+")")}break;case"BinaryExpression":if(ne.operator in c&&ne.left.type!=="Literal"){var ye=y(ne.left),_e=y(ne.right),Fe=E(ne.left,ne.right),ke=ne.operator;L(ne,"__$__("+ye+","+Fe.replace(new RegExp("\\"+ke),'"'+ke+'"')+", "+_e+")")}break;case"UpdateExpression":case"AssignmentExpression":var Me=ae&&ae.type;if(!(Me==="ForStatement"||Me==="BinaryExpression"&&/^[=!<>]/.test(ae.operator)||Me==="MemberExpression"&&ae.computed)){if(ne.type==="UpdateExpression"){var de=y(ne.argument),De="__$__("+de+', "'+ne.operator[0]+'", 1)',Pe=de+" = "+De;ne.prefix?Pe="("+Pe+")":(Me==="AssignmentExpression"||Me==="VariableDeclarator"||Me==="BinaryExpression")&&(y(ae.left||ae.id)===de&&(Pe=De),Pe=de+"; "+Pe),L(ne,Pe)}else if(/^.=$/.test(ne.operator)&&ne.left.type!=="Literal"){var ye=y(ne.left),_e=y(ne.right),De=ye+" = __$__("+ye+', "'+ne.operator[0]+'", '+_e+")";L(ne,/^\(.*\)$/.test(y(ne))?"("+De+")":De)}}break}}function P(ne){switch(ne.type){case"ExportDefaultDeclaration":L({range:[ne.start,ne.declaration.start]},"module.exports = ");break;case"ExportNamedDeclaration":var ae=ne.declaration,de=ne.specifiers;if(ae){var ye=ae.declarations;ye&&(ye.forEach(function(Fe){L(Fe,"module.exports."+y(Fe))}),L({range:[ne.start,ae.start+ae.kind.length]},""))}else if(de){var _e=de.map(function(Fe){var ke=y(Fe);return"module.exports."+ke+" = "+ke+"; "}).join("");_e&&L(ne,_e)}break}}function B(ne,ae,de){if(ne){for(var ye in ne)if(ye!=="range"&&ye!=="loc"){var _e=ne[ye];if(Array.isArray(_e))for(var Fe=0,ke=_e.length;Fe<ke;Fe++)B(_e[Fe],ne,de);else _e&&typeof _e=="object"&&B(_e,ne,de)}de.operatorOverloading!==!1&&U(ne,ae),de.moduleExports!==!1&&P(ne)}}function G(ne){var ae="",de="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(ne=(Math.abs(ne)<<1)+(ne<0?1:0);ne||!ae;){var ye=ne&31;ne>>=5,ne&&(ye|=32),ae+=de[ye]}return ae}var H=M.url||"",Z=M.sourceMaps,z=M.paperFeatures||{},W=M.source||F,X=M.offset||0,Q=Ne.agent,J=Q.versionNumber,$=!1,le=/\r\n|\n|\r/mg,he;if(Z&&(Q.chrome&&J>=30||Q.webkit&&J>=537.76||Q.firefox&&J>=23||Q.node)){if(Q.node)X-=2;else if(a&&H&&!a.location.href.indexOf(H)){var ce=u.getElementsByTagName("html")[0].innerHTML;X=ce.substr(0,ce.indexOf(F)+1).match(le).length+1}$=X>0&&!(Q.chrome&&J>=36||Q.safari&&J>=600||Q.firefox&&J>=40||Q.node);var me=["AA"+G($?0:X)+"A"];me.length=(F.match(le)||[]).length+1+($?X:0),he={version:3,file:H,names:[],mappings:me.join(";AACA"),sourceRoot:"",sources:[H],sourcesContent:[W]}}return(z.operatorOverloading!==!1||z.moduleExports!==!1)&&B(f(F,{ranges:!0,preserveParens:!0,sourceType:"module"}),null,z),he&&($&&(F=new Array(X+1).join(`
`)+F),/^(inline|both)$/.test(Z)&&(F+=`
//# sourceMappingURL=data:application/json;base64,`+r.btoa(unescape(encodeURIComponent(JSON.stringify(he))))),F+=`
//# sourceURL=`+(H||"paperscript")),{url:H,source:W,code:F,map:he}}function C(F,M,w){Ne=M;var O=M.getView(),y=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(F)&&!/\bnew\s+Tool\b/.test(F)?new bu:null,E=y?y._events:[],L=["onFrame","onResize"].concat(E),U=[],P=[],B,G=typeof F=="object"?F:S(F,w);F=G.code;function H(J,$){for(var le in J)($||!/^_/.test(le))&&new RegExp("([\\b\\s\\W]|^)"+le.replace(/\$/g,"\\$")+"\\b").test(F)&&(U.push(le),P.push(J[le]))}H({__$__:m,$__:_,paper:M,tool:y},!0),H(M),F="var module = { exports: {} }; "+F;var X=o.each(L,function(J){new RegExp("\\s+"+J+"\\b").test(F)&&(U.push(J),this.push("module.exports."+J+" = "+J+";"))},[]).join(`
`);X&&(F+=`
`+X),F+=`
return module.exports;`;var Z=Ne.agent;if(u&&(Z.chrome||Z.firefox&&Z.versionNumber<40)){var z=u.createElement("script"),W=u.head||u.getElementsByTagName("head")[0];Z.firefox&&(F=`
`+F),z.appendChild(u.createTextNode("document.__paperscript__ = function("+U+") {"+F+`
}`)),W.appendChild(z),B=u.__paperscript__,delete u.__paperscript__,W.removeChild(z)}else B=Function(U,F);var X=B&&B.apply(M,P),Q=X||{};return o.each(E,function(J){var $=Q[J];$&&(y[J]=$)}),O&&(Q.onResize&&O.setOnResize(Q.onResize),O.emit("resize",{size:O.size,delta:new A}),Q.onFrame&&O.setOnFrame(Q.onFrame),O.requestUpdate()),X}function b(F){if(/^text\/(?:x-|)paperscript$/.test(F.type)&&g.getAttribute(F,"ignore")!=="true"){var M=g.getAttribute(F,"canvas"),w=u.getElementById(M),O=F.src||F.getAttribute("data-src"),y=g.hasAttribute(F,"async"),E="data-paper-scope";if(!w)throw new Error('Unable to find canvas with id "'+M+'"');var L=g.get(w.getAttribute(E))||new g().setup(w);return w.setAttribute(E,L._id),O?ya.request({url:O,async:y,mimeType:"text/plain",onLoad:function(U){C(U,L,O)}}):C(F.innerHTML,L,F.baseURI),F.setAttribute("data-paper-ignore","true"),L}}function x(){o.each(u&&u.getElementsByTagName("script"),b)}function I(F){return F?b(F):x()}return a&&(u.readyState==="complete"?setTimeout(x):ft.add(a,{load:x})),{compile:S,execute:C,load:I,parse:f,calculateBinary:m,calculateUnary:_}}.call(this);var Ne=new(g.inject(o.exports,{Base:o,Numerical:R,Key:_a,DomEvent:ft,DomElement:nt,document:u,window:a,Symbol:Je,PlacedSymbol:Ze}));return Ne.agent.node&&Us(Ne),typeof n=="function"&&n.amd?n("paper",Ne):e&&(e.exports=Ne),Ne}).call(_l,typeof self=="object"?self:null)})(Yo);var Bt=Yo.exports;/*!
* SVGPathCommander v1.0.4 (http://thednp.github.io/svg-path-commander)
* Copyright 2022 © thednp
* Licensed under MIT (https://github.com/thednp/svg-path-commander/blob/master/LICENSE)
*/const bn={origin:[0,0,0],round:4},an={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0};function Ds(e){let r=e.pathValue[e.segmentStart],n=r.toLowerCase();const{data:a}=e;for(;a.length>=an[n]&&(n==="m"&&a.length>2?(e.segments.push([r,...a.splice(0,2)]),n="l",r=r==="m"?"l":"L"):e.segments.push([r,...a.splice(0,an[n])]),!!an[n]););}const tr="SVGPathCommander error";function W0(e){const{index:r,pathValue:n}=e,a=n.charCodeAt(r);if(a===48){e.param=0,e.index+=1;return}if(a===49){e.param=1,e.index+=1;return}e.err=`${tr}: invalid Arc flag "${n[r]}", expecting 0 or 1 at index ${r}`}function zr(e){return e>=48&&e<=57}const Gr="Invalid path value";function Z0(e){const{max:r,pathValue:n,index:a}=e;let u=a,o=!1,h=!1,g=!1,d=!1,T;if(u>=r){e.err=`${tr}: ${Gr} at index ${u}, "pathValue" is missing param`;return}if(T=n.charCodeAt(u),(T===43||T===45)&&(u+=1,T=n.charCodeAt(u)),!zr(T)&&T!==46){e.err=`${tr}: ${Gr} at index ${u}, "${n[u]}" is not a number`;return}if(T!==46){if(o=T===48,u+=1,T=n.charCodeAt(u),o&&u<r&&T&&zr(T)){e.err=`${tr}: ${Gr} at index ${a}, "${n[a]}" illegal number`;return}for(;u<r&&zr(n.charCodeAt(u));)u+=1,h=!0;T=n.charCodeAt(u)}if(T===46){for(d=!0,u+=1;zr(n.charCodeAt(u));)u+=1,g=!0;T=n.charCodeAt(u)}if(T===101||T===69){if(d&&!h&&!g){e.err=`${tr}: ${Gr} at index ${u}, "${n[u]}" invalid float exponent`;return}if(u+=1,T=n.charCodeAt(u),(T===43||T===45)&&(u+=1),u<r&&zr(n.charCodeAt(u)))for(;u<r&&zr(n.charCodeAt(u));)u+=1;else{e.err=`${tr}: ${Gr} at index ${u}, "${n[u]}" invalid integer exponent`;return}}e.index=u,e.param=+e.pathValue.slice(a,u)}function X0(e){const r=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];return e===10||e===13||e===8232||e===8233||e===32||e===9||e===11||e===12||e===160||e>=5760&&r.includes(e)}function sn(e){const{pathValue:r,max:n}=e;for(;e.index<n&&X0(r.charCodeAt(e.index));)e.index+=1}function Y0(e){switch(e|32){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}}function j0(e){return e>=48&&e<=57||e===43||e===45||e===46}function Q0(e){return(e|32)===97}function jo(e){const{max:r,pathValue:n,index:a}=e,u=n.charCodeAt(a),o=an[n[a].toLowerCase()];if(e.segmentStart=a,!Y0(u)){e.err=`${tr}: ${Gr} "${n[a]}" is not a path command`;return}if(e.index+=1,sn(e),e.data=[],!o){Ds(e);return}for(;;){for(let h=o;h>0;h-=1){if(Q0(u)&&(h===3||h===4)?W0(e):Z0(e),e.err.length)return;e.data.push(e.param),sn(e),e.index<r&&n.charCodeAt(e.index)===44&&(e.index+=1,sn(e))}if(e.index>=e.max||!j0(n.charCodeAt(e.index)))break}Ds(e)}function Ht(e){return e.map(r=>Array.isArray(r)?[...r]:r)}function Qo(e){this.segments=[],this.pathValue=e,this.max=e.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""}function ni(e){return Array.isArray(e)&&e.every(r=>{const n=r[0].toLowerCase();return an[n]===r.length-1&&"achlmqstvz".includes(n)})}function _r(e){if(ni(e))return Ht(e);const r=new Qo(e);for(sn(r);r.index<r.max&&!r.err.length;)jo(r);return r.err?r.err:r.segments}function da(e){return ni(e)&&e.every(([r])=>r===r.toUpperCase())}function jr(e){if(da(e))return Ht(e);const r=_r(e);let n=0,a=0,u=0,o=0;return r.map(h=>{const g=h.slice(1).map(Number),[d]=h,T=d.toUpperCase();if(d==="M")return[n,a]=g,u=n,o=a,["M",n,a];let k=[];if(d!==T)switch(T){case"A":k=[T,g[0],g[1],g[2],g[3],g[4],g[5]+n,g[6]+a];break;case"V":k=[T,g[0]+a];break;case"H":k=[T,g[0]+n];break;default:{const D=g.map((A,V)=>A+(V%2?a:n));k=[T,...D]}}else k=[T,...g];const R=k.length;switch(T){case"Z":n=u,a=o;break;case"H":[,n]=k;break;case"V":[,a]=k;break;default:n=k[R-2],a=k[R-1],T==="M"&&(u=n,o=a)}return k})}function Ko(e){return ni(e)&&e.slice(1).every(([r])=>r===r.toLowerCase())}function pa(e){if(Ko(e))return Ht(e);const r=_r(e);let n=0,a=0,u=0,o=0;return r.map(h=>{const g=h.slice(1).map(Number),[d]=h,T=d.toLowerCase();if(d==="M")return[n,a]=g,u=n,o=a,["M",n,a];let k=[];if(d!==T)switch(T){case"a":k=[T,g[0],g[1],g[2],g[3],g[4],g[5]-n,g[6]-a];break;case"v":k=[T,g[0]-a];break;case"h":k=[T,g[0]-n];break;default:{const D=g.map((A,V)=>A-(V%2?a:n));k=[T,...D]}}else d==="m"&&(u=g[0]+n,o=g[1]+a),k=[T,...g];const R=k.length;switch(T){case"z":n=u,a=o;break;case"h":n+=k[1];break;case"v":a+=k[1];break;default:n+=k[R-2],a+=k[R-1]}return k})}function Ji(e,r,n){if(e[n].length>7){e[n].shift();const a=e[n];let u=n;for(;a.length;)r[n]="A",e.splice(u+=1,0,["C",...a.splice(0,6)]);e.splice(n,1)}}function K0(e,r){const[n]=e,{x1:a,y1:u,x2:o,y2:h}=r,g=e.slice(1).map(Number);let d=e;if("TQ".includes(n)||(r.qx=null,r.qy=null),n==="H")d=["L",e[1],u];else if(n==="V")d=["L",a,e[1]];else if(n==="S"){const T=a*2-o,k=u*2-h;r.x1=T,r.y1=k,d=["C",T,k,...g]}else if(n==="T"){const T=a*2-r.qx,k=u*2-r.qy;r.qx=T,r.qy=k,d=["Q",T,k,...g]}else if(n==="Q"){const[T,k]=g;r.qx=T,r.qy=k}return d}function ga(e){return da(e)&&e.every(([r])=>"ACLMQZ".includes(r))}const ii={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null};function sr(e){if(ga(e))return Ht(e);const r=jr(e),n=Br({},ii),a=r.length;for(let u=0;u<a;u+=1){r[u]=K0(r[u],n);const o=r[u],h=o.length;n.x1=+o[h-2],n.y1=+o[h-1],n.x2=+o[h-4]||n.x1,n.y2=+o[h-3]||n.y1}return r}function Jo(e){const r=_r(e),n=sr(r),{length:a}=r,u=n.slice(-1)[0][0]==="Z",o=u?a-2:a-1,[h,g]=n[0].slice(1),[d,T]=n[o].slice(-2);return u&&h===d&&g===T?r.slice(0,-1):r}function $o(e){return ga(e)&&e.every(([r])=>"MC".includes(r))}function Gn(e,r,n){const a=e*Math.cos(n)-r*Math.sin(n),u=e*Math.sin(n)+r*Math.cos(n);return{x:a,y:u}}function eu(e,r,n,a,u,o,h,g,d,T){let k=e,R=r,D=n,A=a,V=g,N=d;const K=Math.PI*120/180,j=Math.PI/180*(+u||0);let ie=[],te,oe,fe,pe,Ce;if(T)[oe,fe,pe,Ce]=T;else{te=Gn(k,R,-j),k=te.x,R=te.y,te=Gn(V,N,-j),V=te.x,N=te.y;const Ie=(k-V)/2,Ve=(R-N)/2;let xt=Ie*Ie/(D*D)+Ve*Ve/(A*A);xt>1&&(xt=Math.sqrt(xt),D*=xt,A*=xt);const yr=D*D,$e=A*A,Pt=(o===h?-1:1)*Math.sqrt(Math.abs((yr*$e-yr*Ve*Ve-$e*Ie*Ie)/(yr*Ve*Ve+$e*Ie*Ie)));pe=Pt*D*Ve/A+(k+V)/2,Ce=Pt*-A*Ie/D+(R+N)/2,oe=(Math.asin((R-Ce)/A)*10**9>>0)/10**9,fe=(Math.asin((N-Ce)/A)*10**9>>0)/10**9,oe=k<pe?Math.PI-oe:oe,fe=V<pe?Math.PI-fe:fe,oe<0&&(oe=Math.PI*2+oe),fe<0&&(fe=Math.PI*2+fe),h&&oe>fe&&(oe-=Math.PI*2),!h&&fe>oe&&(fe-=Math.PI*2)}let xe=fe-oe;if(Math.abs(xe)>K){const Ie=fe,Ve=V,xt=N;fe=oe+K*(h&&fe>oe?1:-1),V=pe+D*Math.cos(fe),N=Ce+A*Math.sin(fe),ie=eu(V,N,D,A,u,0,h,Ve,xt,[fe,Ie,pe,Ce])}xe=fe-oe;const Re=Math.cos(oe),Ke=Math.sin(oe),Ze=Math.cos(fe),Je=Math.sin(fe),Ye=Math.tan(xe/4),ge=4/3*D*Ye,Qe=4/3*A*Ye,ue=[k,R],ze=[k+ge*Ke,R-Qe*Re],We=[V+ge*Je,N-Qe*Ze],Te=[V,N];if(ze[0]=2*ue[0]-ze[0],ze[1]=2*ue[1]-ze[1],T)return[...ze,...We,...Te,...ie];ie=[...ze,...We,...Te,...ie];const He=[];for(let Ie=0,Ve=ie.length;Ie<Ve;Ie+=1)He[Ie]=Ie%2?Gn(ie[Ie-1],ie[Ie],j).y:Gn(ie[Ie],ie[Ie+1],j).x;return He}function J0(e,r,n,a,u,o){const h=.3333333333333333,g=2/3;return[h*e+g*n,h*r+g*a,h*u+g*n,h*o+g*a,u,o]}function Hr(e,r,n){const[a,u]=e,[o,h]=r;return[a+(o-a)*n,u+(h-u)*n]}function ai(e,r){return Math.sqrt((e[0]-r[0])*(e[0]-r[0])+(e[1]-r[1])*(e[1]-r[1]))}function gn(e,r,n,a,u){const o=ai([e,r],[n,a]);let h={x:0,y:0};if(typeof u=="number")if(u===0)h={x:e,y:r};else if(u>=o)h={x:n,y:a};else{const[g,d]=Hr([e,r],[n,a],u/o);h={x:g,y:d}}return{length:o,point:h,min:{x:Math.min(e,n),y:Math.min(r,a)},max:{x:Math.max(e,n),y:Math.max(r,a)}}}function Rs(e,r,n,a){const o=[e,r],h=[n,a],g=Hr(o,h,.5),d=Hr(h,g,.5),T=Hr(g,d,.5),k=Hr(d,T,.5),R=Hr(T,k,.5),D=[...o,...g,...T,...R,.5],A=gn(...D).point,V=[...R,...k,...d,...h,0],N=gn(...V).point;return[A.x,A.y,N.x,N.y,n,a]}function qn(e,r){const[n]=e,a=e.slice(1).map(Number),[u,o]=a;let h;const{x1:g,y1:d,x:T,y:k}=r;switch("TQ".includes(n)||(r.qx=null,r.qy=null),n){case"M":return r.x=u,r.y=o,e;case"A":return h=[g,d,...a],["C",...eu(...h)];case"Q":return r.qx=u,r.qy=o,h=[g,d,...a],["C",...J0(...h)];case"L":return["C",...Rs(g,d,u,o)];case"Z":return["C",...Rs(g,d,T,k)]}return e}function si(e){if($o(e))return Ht(e);const r=Jo(sr(e)),n=Br({},ii),a=[];let u="",o=r.length;for(let h=0;h<o;h+=1){[u]=r[h],a[h]=u,r[h]=qn(r[h],n),Ji(r,a,h),o=r.length;const g=r[h],d=g.length;n.x1=+g[d-2],n.y1=+g[d-1],n.x2=+g[d-4]||n.x1,n.y2=+g[d-3]||n.y1}return r}function ei(e,r){let{round:n}=bn;if(r==="off"||n==="off")return Ht(e);n=r>=0?r:n;const a=typeof n=="number"&&n>=1?10**n:1;return e.map(u=>{const o=u.slice(1).map(Number).map(h=>n?Math.round(h*a)/a:Math.round(h));return[u[0],...o]})}function Ar(e,r){return ei(e,r).map(n=>n[0]+n.slice(1).join(" ")).join("")}function Wn(e){const r=jr(e),n=r.slice(-1)[0][0]==="Z",a=sr(r).map((u,o)=>{const[h,g]=u.slice(-2).map(Number);return{seg:r[o],n:u,c:r[o][0],x:h,y:g}}).map((u,o,h)=>{const g=u.seg,d=u.n,T=o&&h[o-1],k=h[o+1],R=u.c,D=h.length,A=o?h[o-1].x:h[D-1].x,V=o?h[o-1].y:h[D-1].y;let N=[];switch(R){case"M":N=n?["Z"]:[R,A,V];break;case"A":N=[R,...g.slice(1,-3),g[5]===1?0:1,A,V];break;case"C":k&&k.c==="S"?N=["S",g[1],g[2],A,V]:N=[R,g[3],g[4],g[1],g[2],A,V];break;case"S":T&&"CS".includes(T.c)&&(!k||k.c!=="S")?N=["C",d[3],d[4],d[1],d[2],A,V]:N=[R,d[1],d[2],A,V];break;case"Q":k&&k.c==="T"?N=["T",A,V]:N=[R,...g.slice(1,-2),A,V];break;case"T":T&&"QT".includes(T.c)&&(!k||k.c!=="T")?N=["Q",d[1],d[2],A,V]:N=[R,A,V];break;case"Z":N=["M",A,V];break;case"H":N=[R,A];break;case"V":N=[R,V];break;default:N=[R,...g.slice(1,-2),A,V]}return N});return n?a.reverse():[a[0],...a.slice(1).reverse()]}function tu(e){const r=[];let n,a=-1;return e.forEach(u=>{u[0]==="M"?(n=[u],a+=1):n=[...n,u],r[a]=n}),r}function $0(e,r,n,a){const[u]=e,o=j=>Math.round(j*10**4)/10**4,h=e.slice(1).map(j=>+j),g=r.slice(1).map(j=>+j),{x1:d,y1:T,x2:k,y2:R,x:D,y:A}=n;let V=e;const[N,K]=g.slice(-2);if("TQ".includes(u)||(n.qx=null,n.qy=null),["V","H","S","T","Z"].includes(u))V=[u,...h];else if(u==="L")o(D)===o(N)?V=["V",K]:o(A)===o(K)&&(V=["H",N]);else if(u==="C"){const[j,ie]=g;"CS".includes(a)&&(o(j)===o(d*2-k)&&o(ie)===o(T*2-R)||o(d)===o(k*2-D)&&o(T)===o(R*2-A))&&(V=["S",...g.slice(-4)]),n.x1=j,n.y1=ie}else if(u==="Q"){const[j,ie]=g;n.qx=j,n.qy=ie,"QT".includes(a)&&(o(j)===o(d*2-k)&&o(ie)===o(T*2-R)||o(d)===o(k*2-D)&&o(T)===o(R*2-A))&&(V=["T",...g.slice(-2)])}return V}function ru(e,r){const n=jr(e),a=sr(n),u=Br({},ii),o=[],h=n.length;let g="",d="",T=0,k=0,R=0,D=0;for(let N=0;N<h;N+=1){[g]=n[N],o[N]=g,N&&(d=o[N-1]),n[N]=$0(n[N],a[N],u,d);const K=n[N],j=K.length;switch(u.x1=+K[j-2],u.y1=+K[j-1],u.x2=+K[j-4]||u.x1,u.y2=+K[j-3]||u.y1,g){case"Z":T=R,k=D;break;case"H":[,T]=K;break;case"V":[,k]=K;break;default:[T,k]=K.slice(-2).map(Number),g==="M"&&(R=T,D=k)}u.x=T,u.y=k}const A=ei(n,r),V=ei(pa(n),r);return A.map((N,K)=>K?N.join("").length<V[K].join("").length?N:V[K]:N)}function Sn(e){const r=new Tt,n=Array.from(e);if(!n.every(a=>!Number.isNaN(a)))throw TypeError(`CSSMatrix: "${e}" must only have numbers.`);if(n.length===16){const[a,u,o,h,g,d,T,k,R,D,A,V,N,K,j,ie]=n;r.m11=a,r.a=a,r.m21=g,r.c=g,r.m31=R,r.m41=N,r.e=N,r.m12=u,r.b=u,r.m22=d,r.d=d,r.m32=D,r.m42=K,r.f=K,r.m13=o,r.m23=T,r.m33=A,r.m43=j,r.m14=h,r.m24=k,r.m34=V,r.m44=ie}else if(n.length===6){const[a,u,o,h,g,d]=n;r.m11=a,r.a=a,r.m12=u,r.b=u,r.m21=o,r.c=o,r.m22=h,r.d=h,r.m41=g,r.e=g,r.m42=d,r.f=d}else throw new TypeError("CSSMatrix: expecting an Array of 6/16 values.");return r}function nu(e){const r=Object.keys(new Tt);if(typeof e=="object"&&r.every(n=>n in e))return Sn([e.m11,e.m12,e.m13,e.m14,e.m21,e.m22,e.m23,e.m24,e.m31,e.m32,e.m33,e.m34,e.m41,e.m42,e.m43,e.m44]);throw TypeError(`CSSMatrix: "${JSON.stringify(e)}" is not a DOMMatrix / CSSMatrix / JSON compatible object.`)}function iu(e){if(typeof e!="string")throw TypeError(`CSSMatrix: "${e}" is not a string.`);const r=String(e).replace(/\s/g,"");let n=new Tt;const a=`CSSMatrix: invalid transform string "${e}"`;return r.split(")").filter(u=>u).forEach(u=>{const[o,h]=u.split("(");if(!h)throw TypeError(a);const g=h.split(",").map(V=>V.includes("rad")?parseFloat(V)*(180/Math.PI):parseFloat(V)),[d,T,k,R]=g,D=[d,T,k],A=[d,T,k,R];if(o==="perspective"&&d&&[T,k].every(V=>V===void 0))n.m34=-1/d;else if(o.includes("matrix")&&[6,16].includes(g.length)&&g.every(V=>!Number.isNaN(+V))){const V=g.map(N=>Math.abs(N)<1e-6?0:N);n=n.multiply(Sn(V))}else if(o==="translate3d"&&D.every(V=>!Number.isNaN(+V)))n=n.translate(d,T,k);else if(o==="translate"&&d&&k===void 0)n=n.translate(d,T||0,0);else if(o==="rotate3d"&&A.every(V=>!Number.isNaN(+V))&&R)n=n.rotateAxisAngle(d,T,k,R);else if(o==="rotate"&&d&&[T,k].every(V=>V===void 0))n=n.rotate(0,0,d);else if(o==="scale3d"&&D.every(V=>!Number.isNaN(+V))&&D.some(V=>V!==1))n=n.scale(d,T,k);else if(o==="scale"&&!Number.isNaN(d)&&d!==1&&k===void 0){const N=Number.isNaN(+T)?d:T;n=n.scale(d,N,1)}else if(o==="skew"&&(d||!Number.isNaN(d)&&T)&&k===void 0)n=n.skew(d,T||0);else if(/[XYZ]/.test(o)&&d&&[T,k].every(V=>V===void 0)&&["translate","rotate","scale","skew"].some(V=>o.includes(V)))if(["skewX","skewY"].includes(o))n=n[o](d);else{const V=o.replace(/[XYZ]/,""),N=o.replace(V,""),K=["X","Y","Z"].indexOf(N),j=V==="scale"?1:0,ie=[K===0?d:j,K===1?d:j,K===2?d:j];n=n[V](...ie)}else throw TypeError(a)}),n}function $i(e,r){return r?[e.a,e.b,e.c,e.d,e.e,e.f]:[e.m11,e.m12,e.m13,e.m14,e.m21,e.m22,e.m23,e.m24,e.m31,e.m32,e.m33,e.m34,e.m41,e.m42,e.m43,e.m44]}function va(e,r,n){const a=new Tt;return a.m41=e,a.e=e,a.m42=r,a.f=r,a.m43=n,a}function au(e,r,n){const a=new Tt,u=Math.PI/180,o=e*u,h=r*u,g=n*u,d=Math.cos(o),T=-Math.sin(o),k=Math.cos(h),R=-Math.sin(h),D=Math.cos(g),A=-Math.sin(g),V=k*D,N=-k*A;a.m11=V,a.a=V,a.m12=N,a.b=N,a.m13=R;const K=T*R*D+d*A;a.m21=K,a.c=K;const j=d*D-T*R*A;return a.m22=j,a.d=j,a.m23=-T*k,a.m31=T*A-d*R*D,a.m32=T*D+d*R*A,a.m33=d*k,a}function su(e,r,n,a){const u=new Tt,o=Math.sqrt(e*e+r*r+n*n);if(o===0)return u;const h=e/o,g=r/o,d=n/o,T=a*(Math.PI/360),k=Math.sin(T),R=Math.cos(T),D=k*k,A=h*h,V=g*g,N=d*d,K=1-2*(V+N)*D;u.m11=K,u.a=K;const j=2*(h*g*D+d*k*R);u.m12=j,u.b=j,u.m13=2*(h*d*D-g*k*R);const ie=2*(g*h*D-d*k*R);u.m21=ie,u.c=ie;const te=1-2*(N+A)*D;return u.m22=te,u.d=te,u.m23=2*(g*d*D+h*k*R),u.m31=2*(d*h*D+g*k*R),u.m32=2*(d*g*D-h*k*R),u.m33=1-2*(A+V)*D,u}function ou(e,r,n){const a=new Tt;return a.m11=e,a.a=e,a.m22=r,a.d=r,a.m33=n,a}function oi(e,r){const n=new Tt;if(e){const a=e*Math.PI/180,u=Math.tan(a);n.m21=u,n.c=u}if(r){const a=r*Math.PI/180,u=Math.tan(a);n.m12=u,n.b=u}return n}function uu(e){return oi(e,0)}function lu(e){return oi(0,e)}function $t(e,r){const n=r.m11*e.m11+r.m12*e.m21+r.m13*e.m31+r.m14*e.m41,a=r.m11*e.m12+r.m12*e.m22+r.m13*e.m32+r.m14*e.m42,u=r.m11*e.m13+r.m12*e.m23+r.m13*e.m33+r.m14*e.m43,o=r.m11*e.m14+r.m12*e.m24+r.m13*e.m34+r.m14*e.m44,h=r.m21*e.m11+r.m22*e.m21+r.m23*e.m31+r.m24*e.m41,g=r.m21*e.m12+r.m22*e.m22+r.m23*e.m32+r.m24*e.m42,d=r.m21*e.m13+r.m22*e.m23+r.m23*e.m33+r.m24*e.m43,T=r.m21*e.m14+r.m22*e.m24+r.m23*e.m34+r.m24*e.m44,k=r.m31*e.m11+r.m32*e.m21+r.m33*e.m31+r.m34*e.m41,R=r.m31*e.m12+r.m32*e.m22+r.m33*e.m32+r.m34*e.m42,D=r.m31*e.m13+r.m32*e.m23+r.m33*e.m33+r.m34*e.m43,A=r.m31*e.m14+r.m32*e.m24+r.m33*e.m34+r.m34*e.m44,V=r.m41*e.m11+r.m42*e.m21+r.m43*e.m31+r.m44*e.m41,N=r.m41*e.m12+r.m42*e.m22+r.m43*e.m32+r.m44*e.m42,K=r.m41*e.m13+r.m42*e.m23+r.m43*e.m33+r.m44*e.m43,j=r.m41*e.m14+r.m42*e.m24+r.m43*e.m34+r.m44*e.m44;return Sn([n,a,u,o,h,g,d,T,k,R,D,A,V,N,K,j])}class Tt{constructor(...r){const n=this;if(n.a=1,n.b=0,n.c=0,n.d=1,n.e=0,n.f=0,n.m11=1,n.m12=0,n.m13=0,n.m14=0,n.m21=0,n.m22=1,n.m23=0,n.m24=0,n.m31=0,n.m32=0,n.m33=1,n.m34=0,n.m41=0,n.m42=0,n.m43=0,n.m44=1,r.length){const a=[16,6].some(u=>u===r.length)?r:r[0];return n.setMatrixValue(a)}return n}get isIdentity(){const r=this;return r.m11===1&&r.m12===0&&r.m13===0&&r.m14===0&&r.m21===0&&r.m22===1&&r.m23===0&&r.m24===0&&r.m31===0&&r.m32===0&&r.m33===1&&r.m34===0&&r.m41===0&&r.m42===0&&r.m43===0&&r.m44===1}get is2D(){const r=this;return r.m31===0&&r.m32===0&&r.m33===1&&r.m34===0&&r.m43===0&&r.m44===1}setMatrixValue(r){const n=this;return typeof r=="string"&&r.length&&r!=="none"?iu(r):[Array,Float64Array,Float32Array].some(a=>r instanceof a)?Sn(r):[Tt,DOMMatrix,Object].some(a=>r instanceof a)?nu(r):n}toFloat32Array(r){return Float32Array.from($i(this,r))}toFloat64Array(r){return Float64Array.from($i(this,r))}toString(){const r=this,{is2D:n}=r,a=r.toFloat64Array(n).join(", ");return`${n?"matrix":"matrix3d"}(${a})`}toJSON(){const r=this,{is2D:n,isIdentity:a}=r;return Za(Br({},r),{is2D:n,isIdentity:a})}multiply(r){return $t(this,r)}translate(r,n,a){const u=r;let o=n,h=a;return o===void 0&&(o=0),h===void 0&&(h=0),$t(this,va(u,o,h))}scale(r,n,a){const u=r;let o=n,h=a;return o===void 0&&(o=r),h===void 0&&(h=1),$t(this,ou(u,o,h))}rotate(r,n,a){let u=r,o=n||0,h=a||0;return typeof r=="number"&&n===void 0&&a===void 0&&(h=u,u=0,o=0),$t(this,au(u,o,h))}rotateAxisAngle(r,n,a,u){if([r,n,a,u].some(o=>Number.isNaN(+o)))throw new TypeError("CSSMatrix: expecting 4 values");return $t(this,su(r,n,a,u))}skewX(r){return $t(this,uu(r))}skewY(r){return $t(this,lu(r))}skew(r,n){return $t(this,oi(r,n))}transformPoint(r){const n=this,a=n.m11*r.x+n.m21*r.y+n.m31*r.z+n.m41*r.w,u=n.m12*r.x+n.m22*r.y+n.m32*r.z+n.m42*r.w,o=n.m13*r.x+n.m23*r.y+n.m33*r.z+n.m43*r.w,h=n.m14*r.x+n.m24*r.y+n.m34*r.z+n.m44*r.w;return r instanceof DOMPoint?new DOMPoint(a,u,o,h):{x:a,y:u,z:o,w:h}}}Object.assign(Tt,{Translate:va,Rotate:au,RotateAxisAngle:su,Scale:ou,SkewX:uu,SkewY:lu,Skew:oi,Multiply:$t,fromArray:Sn,fromMatrix:nu,fromString:iu,toArray:$i});var ed="1.0.3";const td=ed;Object.assign(Tt,{Version:td});function rd(e){let r=new Tt;const{origin:n}=e,[a,u]=n,{translate:o}=e,{rotate:h}=e,{skew:g}=e,{scale:d}=e;return Array.isArray(o)&&o.every(T=>!Number.isNaN(+T))&&o.some(T=>T!==0)?r=r.translate(...o):typeof o=="number"&&!Number.isNaN(o)&&(r=r.translate(o)),(h||g||d)&&(r=r.translate(a,u),Array.isArray(h)&&h.every(T=>!Number.isNaN(+T))&&h.some(T=>T!==0)?r=r.rotate(...h):typeof h=="number"&&!Number.isNaN(h)&&(r=r.rotate(h)),Array.isArray(g)&&g.every(T=>!Number.isNaN(+T))&&g.some(T=>T!==0)?(r=g[0]?r.skewX(g[0]):r,r=g[1]?r.skewY(g[1]):r):typeof g=="number"&&!Number.isNaN(g)&&(r=r.skewX(g)),Array.isArray(d)&&d.every(T=>!Number.isNaN(+T))&&d.some(T=>T!==1)?r=r.scale(...d):typeof d=="number"&&!Number.isNaN(d)&&(r=r.scale(d)),r=r.translate(-a,-u)),r}function nd(e,r){let n=va(...r);return[,,,n.m44]=r,n=e.multiply(n),[n.m41,n.m42,n.m43,n.m44]}function Bs(e,r,n){const[a,u,o]=n,[h,g,d]=nd(e,[...r,0,1]),T=h-a,k=g-u,R=d-o;return[T*(Math.abs(o)/Math.abs(R)||1)+a,k*(Math.abs(o)/Math.abs(R)||1)+u]}function fu(e,r){let n=0,a=0,u,o,h,g,d,T;const k=jr(e),R=r&&Object.keys(r);if(!r||!R.length)return Ht(k);const D=sr(k);if(!r.origin){const{origin:fe}=bn;Object.assign(r,{origin:fe})}const A=rd(r),{origin:V}=r,N=Br({},ii);let K=[],j=0,ie="",te=[];const oe=[];if(!A.isIdentity){for(u=0,h=k.length;u<h;u+=1){K=k[u],k[u]&&([ie]=K),oe[u]=ie,ie==="A"&&(K=qn(D[u],N),k[u]=qn(D[u],N),Ji(k,oe,u),D[u]=qn(D[u],N),Ji(D,oe,u),h=Math.max(k.length,D.length)),K=D[u],j=K.length,N.x1=+K[j-2],N.y1=+K[j-1],N.x2=+K[j-4]||N.x1,N.y2=+K[j-3]||N.y1;const fe={s:k[u],c:k[u][0],x:N.x1,y:N.y1};te=[...te,fe]}return te.map(fe=>{switch(ie=fe.c,K=fe.s,ie){case"L":case"H":case"V":return[d,T]=Bs(A,[fe.x,fe.y],V),n!==d&&a!==T?K=["L",d,T]:a===T?K=["H",d]:n===d&&(K=["V",T]),n=d,a=T,K;default:for(o=1,g=K.length;o<g;o+=2)[n,a]=Bs(A,[+K[o],+K[o+1]],V),K[o]=n,K[o+1]=a;return K}})}return Ht(k)}function Ns(e,r){const{x:n,y:a}=e,{x:u,y:o}=r,h=n*u+a*o,g=Math.sqrt((n**2+a**2)*(u**2+o**2));return(n*o-a*u<0?-1:1)*Math.acos(h/g)}function id(e,r,n,a,u,o,h,g,d,T){const{abs:k,sin:R,cos:D,sqrt:A,PI:V}=Math;let N=k(n),K=k(a);const ie=(u%360+360)%360*(V/180);if(e===g&&r===d)return{x:e,y:r};if(N===0||K===0)return gn(e,r,g,d,T).point;const te=(e-g)/2,oe=(r-d)/2,fe={x:D(ie)*te+R(ie)*oe,y:-R(ie)*te+D(ie)*oe},pe=fe.x**2/N**2+fe.y**2/K**2;pe>1&&(N*=A(pe),K*=A(pe));const Ce=N**2*K**2-N**2*fe.y**2-K**2*fe.x**2,xe=N**2*fe.y**2+K**2*fe.x**2;let Re=Ce/xe;Re=Re<0?0:Re;const Ke=(o!==h?1:-1)*A(Re),Ze={x:Ke*(N*fe.y/K),y:Ke*(-(K*fe.x)/N)},Je={x:D(ie)*Ze.x-R(ie)*Ze.y+(e+g)/2,y:R(ie)*Ze.x+D(ie)*Ze.y+(r+d)/2},Ye={x:(fe.x-Ze.x)/N,y:(fe.y-Ze.y)/K},ge=Ns({x:1,y:0},Ye),Qe={x:(-fe.x-Ze.x)/N,y:(-fe.y-Ze.y)/K};let ue=Ns(Ye,Qe);!h&&ue>0?ue-=2*V:h&&ue<0&&(ue+=2*V),ue%=2*V;const ze=ge+ue*T,We=N*D(ze),Te=K*R(ze);return{x:D(ie)*We-R(ie)*Te+Je.x,y:R(ie)*We+D(ie)*Te+Je.y}}function ad(e,r,n,a,u,o,h,g,d,T){const k=typeof T=="number";let R=e,D=r,A=0,V=[R,D,A],N=[R,D],K=0,j={x:0,y:0},ie=[{x:R,y:D}];k&&T===0&&(j={x:R,y:D});const te=300;for(let oe=0;oe<=te;oe+=1){if(K=oe/te,{x:R,y:D}=id(e,r,n,a,u,o,h,g,d,K),ie=[...ie,{x:R,y:D}],A+=ai(N,[R,D]),N=[R,D],k&&A>T&&T>V[2]){const fe=(A-T)/(A-V[2]);j={x:N[0]*(1-fe)+V[0]*fe,y:N[1]*(1-fe)+V[1]*fe}}V=[R,D,A]}return k&&T>=A&&(j={x:g,y:d}),{length:A,point:j,min:{x:Math.min(...ie.map(oe=>oe.x)),y:Math.min(...ie.map(oe=>oe.y))},max:{x:Math.max(...ie.map(oe=>oe.x)),y:Math.max(...ie.map(oe=>oe.y))}}}function sd(e,r,n,a,u,o,h,g,d){const T=1-d;return{x:T**3*e+3*T**2*d*n+3*T*d**2*u+d**3*h,y:T**3*r+3*T**2*d*a+3*T*d**2*o+d**3*g}}function od(e,r,n,a,u,o,h,g,d){const T=typeof d=="number";let k=e,R=r,D=0,A=[k,R,D],V=[k,R],N=0,K={x:0,y:0},j=[{x:k,y:R}];T&&d===0&&(K={x:k,y:R});const ie=300;for(let te=0;te<=ie;te+=1){if(N=te/ie,{x:k,y:R}=sd(e,r,n,a,u,o,h,g,N),j=[...j,{x:k,y:R}],D+=ai(V,[k,R]),V=[k,R],T&&D>d&&d>A[2]){const oe=(D-d)/(D-A[2]);K={x:V[0]*(1-oe)+A[0]*oe,y:V[1]*(1-oe)+A[1]*oe}}A=[k,R,D]}return T&&d>=D&&(K={x:h,y:g}),{length:D,point:K,min:{x:Math.min(...j.map(te=>te.x)),y:Math.min(...j.map(te=>te.y))},max:{x:Math.max(...j.map(te=>te.x)),y:Math.max(...j.map(te=>te.y))}}}function ud(e,r,n,a,u,o,h){const g=1-h;return{x:g**2*e+2*g*h*n+h**2*u,y:g**2*r+2*g*h*a+h**2*o}}function ld(e,r,n,a,u,o,h){const g=typeof h=="number";let d=e,T=r,k=0,R=[d,T,k],D=[d,T],A=0,V={x:0,y:0},N=[{x:d,y:T}];g&&h===0&&(V={x:d,y:T});const K=300;for(let j=0;j<=K;j+=1){if(A=j/K,{x:d,y:T}=ud(e,r,n,a,u,o,A),N=[...N,{x:d,y:T}],k+=ai(D,[d,T]),D=[d,T],g&&k>h&&h>R[2]){const ie=(k-h)/(k-R[2]);V={x:D[0]*(1-ie)+R[0]*ie,y:D[1]*(1-ie)+R[1]*ie}}R=[d,T,k]}return g&&h>=k&&(V={x:u,y:o}),{length:k,point:V,min:{x:Math.min(...N.map(j=>j.x)),y:Math.min(...N.map(j=>j.y))},max:{x:Math.max(...N.map(j=>j.x)),y:Math.max(...N.map(j=>j.y))}}}function ui(e,r){const n=sr(e),a=typeof r=="number";let u,o=[],h,g=0,d=0,T=0,k=0,R,D=[],A=[],V=0,N={x:0,y:0},K=N,j=N,ie=N,te=0;for(let oe=0,fe=n.length;oe<fe;oe+=1)R=n[oe],[h]=R,u=h==="M",o=u?o:[g,d,...R.slice(1)],u?([,T,k]=R,N={x:T,y:k},K=N,V=0,a&&r<.001&&(ie=N)):h==="L"?{length:V,min:N,max:K,point:j}=gn(...o,(r||0)-te):h==="A"?{length:V,min:N,max:K,point:j}=ad(...o,(r||0)-te):h==="C"?{length:V,min:N,max:K,point:j}=od(...o,(r||0)-te):h==="Q"?{length:V,min:N,max:K,point:j}=ld(...o,(r||0)-te):h==="Z"&&(o=[g,d,T,k],{length:V,min:N,max:K,point:j}=gn(...o,(r||0)-te)),a&&te<r&&te+V>=r&&(ie=j),A=[...A,K],D=[...D,N],te+=V,[g,d]=h!=="Z"?R.slice(-2):[T,k];return a&&r>=te&&(ie={x:g,y:d}),{length:te,point:ie,min:{x:Math.min(...D.map(oe=>oe.x)),y:Math.min(...D.map(oe=>oe.y))},max:{x:Math.max(...A.map(oe=>oe.x)),y:Math.max(...A.map(oe=>oe.y))}}}function hu(e){if(!e)return{x:0,y:0,width:0,height:0,x2:0,y2:0,cx:0,cy:0,cz:0};const{min:{x:r,y:n},max:{x:a,y:u}}=ui(e),o=a-r,h=u-n;return{width:o,height:h,x:r,y:n,x2:a,y2:u,cx:r+o/2,cy:n+h/2,cz:Math.max(o,h)+Math.min(o,h)/2}}function Wr(e){return ui(e).length}function on(e,r){return ui(e,r).point}class cu{constructor(r,n){const a=n||{},u=typeof r=="undefined";if(u||!r.length)throw TypeError(`${tr}: "pathValue" is ${u?"undefined":"empty"}`);const o=_r(r);if(typeof o=="string")throw TypeError(o);this.segments=o;const{width:h,height:g,cx:d,cy:T,cz:k}=this.getBBox(),{round:R,origin:D}=a;let A;if(R==="auto"){const N=`${Math.floor(Math.max(h,g))}`.length;A=N>=4?0:4-N}else Number.isInteger(R)||R==="off"?A=R:{round:A}=bn;let V;if(Array.isArray(D)&&D.length>=2){const[N,K,j]=D.map(Number);V=[Number.isNaN(N)?d:N,Number.isNaN(K)?T:K,Number.isNaN(j)?k:j]}else V=[d,T,k];return this.round=A,this.origin=V,this}getBBox(){return hu(this.segments)}getTotalLength(){return Wr(this.segments)}getPointAtLength(r){return on(this.segments,r)}toAbsolute(){const{segments:r}=this;return this.segments=jr(r),this}toRelative(){const{segments:r}=this;return this.segments=pa(r),this}toCurve(){const{segments:r}=this;return this.segments=si(r),this}reverse(r){this.toAbsolute();const{segments:n}=this,a=tu(n),u=a.length>1?a:0,o=u&&Ht(u).map((g,d)=>r?d?Wn(g):_r(g):Wn(g));let h=[];return u?h=o.flat(1):h=r?n:Wn(n),this.segments=Ht(h),this}normalize(){const{segments:r}=this;return this.segments=sr(r),this}optimize(){const{segments:r}=this;return this.segments=ru(r,this.round),this}transform(r){if(!r||typeof r!="object"||typeof r=="object"&&!["translate","rotate","skew","scale"].some(d=>d in r))return this;const n={};Object.keys(r).forEach(d=>{n[d]=Array.isArray(r[d])?[...r[d]]:Number(r[d])});const{segments:a}=this,[u,o,h]=this.origin,{origin:g}=n;if(Array.isArray(g)&&g.length>=2){const[d,T,k]=g.map(Number);n.origin=[Number.isNaN(d)?u:d,Number.isNaN(T)?o:T,k||h]}else n.origin=[u,o,h];return this.segments=fu(a,n),this}flipX(){return this.transform({rotate:[0,180,0]}),this}flipY(){return this.transform({rotate:[180,0,0]}),this}toString(){return Ar(this.segments,this.round)}}function fd(e,r,n,a,u,o,h,g){return 3*((g-r)*(n+u)-(h-e)*(a+o)+a*(e-u)-n*(r-o)+g*(u+e/3)-h*(o+r/3))/20}function du(e){let r=0,n=0,a=0;return si(e).map(u=>{switch(u[0]){case"M":return[,r,n]=u,0;default:return a=fd(r,n,...u.slice(1)),[r,n]=u.slice(-2),a}}).reduce((u,o)=>u+o,0)}function hd(e){return du(si(e))>=0}function ma(e,r){const n=_r(e);if(typeof n=="string")throw TypeError(n);let a=[...n],u=Wr(a),o=a.length-1,h=0,g=0,d=n[0];const[T,k]=d.slice(-2),R={x:T,y:k};if(o<=0||!r||!Number.isFinite(r))return{segment:d,index:0,length:g,point:R,lengthAtSegment:h};if(r>=u)return a=n.slice(0,-1),h=Wr(a),g=u-h,{segment:n[o],index:o,length:g,lengthAtSegment:h};const D=[];for(;o>0;)d=a[o],a=a.slice(0,-1),h=Wr(a),g=u-h,u=h,D.push({segment:d,index:o,length:g,lengthAtSegment:h}),o-=1;return D.find(({lengthAtSegment:A})=>A<=r)}function li(e,r){const n=_r(e),a=sr(n),u=Wr(n),o=oe=>{const fe=oe.x-r.x,pe=oe.y-r.y;return fe*fe+pe*pe};let h=8,g,d=0,T,k=0,R=1/0;for(let oe=0;oe<=u;oe+=h)g=on(a,oe),d=o(g),d<R&&(T=g,k=oe,R=d);h/=2;let D,A,V=0,N=0,K=0,j=0;for(;h>.5;)V=k-h,D=on(a,V),K=o(D),N=k+h,A=on(a,N),j=o(A),V>=0&&K<R?(T=D,k=V,R=K):N<=u&&j<R?(T=A,k=N,R=j):h/=2;const ie=ma(n,k),te=Math.sqrt(R);return{closest:T,distance:te,segment:ie}}function cd(e,r){return li(e,r).closest}function dd(e,r){return li(e,r).segment}function pd(e,r){return ma(e,r).segment}function gd(e,r){const{distance:n}=li(e,r);return Math.abs(n)<.001}function pu(e){if(typeof e!="string")return!1;const r=new Qo(e);for(sn(r);r.index<r.max&&!r.err.length;)jo(r);return!r.err.length&&"mM".includes(r.segments[0][0])}const zs={line:["x1","y1","x2","y2"],circle:["cx","cy","r"],ellipse:["cx","cy","rx","ry"],rect:["width","height","x","y","rx","ry"],polygon:["points"],polyline:["points"],glyph:["d"]};function vd(e){const{x1:r,y1:n,x2:a,y2:u}=e;return[["M",r,n],["L",a,u]]}function md(e){const r=[],n=(e.points||"").trim().split(/[\s|,]/).map(Number);let a=0;for(;a<n.length;)r.push([a?"L":"M",n[a],n[a+1]]),a+=2;return e.type==="polygon"?[...r,["z"]]:r}function _d(e){const{cx:r,cy:n,r:a}=e;return[["M",r-a,n],["a",a,a,0,1,0,2*a,0],["a",a,a,0,1,0,-2*a,0]]}function yd(e){const{cx:r,cy:n,rx:a,ry:u}=e;return[["M",r-a,n],["a",a,u,0,1,0,2*a,0],["a",a,u,0,1,0,-2*a,0]]}function xd(e){const r=+e.x||0,n=+e.y||0,a=+e.width,u=+e.height;let o=+e.rx,h=+e.ry;return o||h?(o=o||h,h=h||o,o*2>a&&(o-=(o*2-a)/2),h*2>u&&(h-=(h*2-u)/2),[["M",r+o,n],["h",a-o*2],["s",o,0,o,h],["v",u-h*2],["s",0,h,-o,h],["h",-a+o*2],["s",-o,0,-o,-h],["v",-u+h*2],["s",0,-h,o,-h]]):[["M",r,n],["h",a],["v",u],["H",r],["Z"]]}function bd(e,r){const n=Object.keys(zs),{tagName:a}=e;if(a&&!n.some(k=>a===k))throw TypeError(`${tr}: "${a}" is not SVGElement`);const u=document.createElementNS("http://www.w3.org/2000/svg","path"),o=a||e.type,h={};h.type=o;const g=zs[o];a?(g.forEach(k=>{h[k]=e.getAttribute(k)}),Object.values(e.attributes).forEach(({name:k,value:R})=>{g.includes(k)||u.setAttribute(k,R)})):(Object.assign(h,e),Object.keys(h).forEach(k=>{!g.includes(k)&&k!=="type"&&u.setAttribute(k.replace(/[A-Z]/g,R=>`-${R.toLowerCase()}`),h[k])}));let d;const{round:T}=bn;return o==="circle"?d=Ar(_d(h),T):o==="ellipse"?d=Ar(yd(h),T):["polyline","polygon"].includes(o)?d=Ar(md(h),T):o==="rect"?d=Ar(xd(h),T):o==="line"?d=Ar(vd(h),T):o==="glyph"&&(d=a?e.getAttribute("d"):e.d),pu(d)?(u.setAttribute("d",d),r&&a&&(e.before(u,e),e.remove()),u):!1}function Sd(e){const r=e.slice(1).map((n,a,u)=>a?[...u[a-1].slice(-2),...n.slice(1)]:[...e[0].slice(1),...n.slice(1)]).map(n=>n.map((a,u)=>n[n.length-u-2*(1-u%2)])).reverse();return[["M",...r[0].slice(0,2)],...r.map(n=>["C",...n.slice(2)])]}const wd={CSSMatrix:Tt,parsePathString:_r,isPathArray:ni,isCurveArray:$o,isAbsoluteArray:da,isRelativeArray:Ko,isNormalizedArray:ga,isValidPath:pu,pathToAbsolute:jr,pathToRelative:pa,pathToCurve:si,pathToString:Ar,getDrawDirection:hd,getPathArea:du,getPathBBox:hu,pathLengthFactory:ui,getTotalLength:Wr,getPointAtLength:on,getClosestPoint:cd,getSegmentOfPoint:dd,getPropertiesAtPoint:li,getPropertiesAtLength:ma,getSegmentAtLength:pd,isPointInStroke:gd,clonePath:Ht,splitPath:tu,fixPath:Jo,roundPath:ei,optimizePath:ru,reverseCurve:Sd,reversePath:Wn,normalizePath:sr,transformPath:fu,shapeToPath:bd,options:bn};var Cd="1.0.4";const Td=Cd;Object.assign(cu,wd,{Version:Td});function kd(e){return new Bt.Path.Rectangle(e)}function gu(e,r=.56,n=!1,a="NE"){const u=e.topRight;let o;n?o=e.topRight:o=e.bottomLeft;let h=e.topLeft,g=h.add(u.subtract(h).multiply(r)),d=e.bottomRight,T=d.add(u.subtract(d).multiply(r));const k=new Bt.Path;return k.moveTo(h),k.cubicCurveTo(g,T,d),k.lineTo(o),k.closePath(),(a=="SE"||a=="SW")&&k.scale(1,-1,e.center),(a=="NW"||a=="SW")&&k.scale(-1,1,e.center),k}function Fd(e,r=.56,n=!1){const a=new Bt.Size(e.width/2,e.height/2),u={NE:e.topCenter,NW:e.topLeft,SE:e.center,SW:e.leftCenter},o=[];for(let h of yl){const g=new Bt.Rectangle(u[h],a);o.push(gu(g,r,n,h))}return o}function vu(e){return e.split(/\r?\n/)}function Ed(e){const r=[],n=vu(e);n.reverse();for(let[a,u]of n.entries()){const o=u.split("");for(let[h,g]of o.entries())r.push({symbol:g,point:{x:h,y:a}})}return r}function Ad(e,r){let n=[];if(r.shape.kind==Un.Rectangle)n.push(kd(e));else if(r.shape.kind==Un.Ellipse)n.push(...Fd(e,ja(r.shape.props.squaring),Ya(r.shape.props.negative)));else if(r.shape.kind==Un.Quarter)n.push(gu(e,ja(r.shape.props.squaring),Ya(r.shape.props.negative),xl(r.shape.props.orientation)));else if(r.shape.kind==Un.Void)n.push(new Bt.Path);else throw new Error("unknownShape");return n}function Od(e,r){for(let n of e.rules)if(n.symbol==r)return n;throw new Error("missingSymbol")}function Pd(e,r,n){const a=r*n,u=r,o=a*e.point.x,h=u*e.point.y,g=new Bt.Point(o,h),d=new Bt.Size(a,u);return new Bt.Rectangle(g,d)}function Ld(e,r){const a=vu(e)[0].length;return r*a}function Id(e,r=!1){const a=e.exportSVG({asString:!1}).getAttribute("d");return a?new cu(a,{round:0}).optimize().normalize().toAbsolute().segments:[]}function Md(e){const r=[];if(!e.length)return[];for(let n of e)n[0]=="Z"&&r.push({type:n[0]}),(n[0]=="L"||n[0]=="M")&&r.push({type:n[0],x:n[1],y:n[2]}),n[0]=="C"&&r.push({type:n[0],x1:n[1],y1:n[2],x2:n[3],y2:n[4],x:n[5],y:n[6]});return r}function Ud(e,r,n=0){for(let a of r)a.type=="M"?e.moveTo(a.x,a.y+n):a.type=="L"?e.lineTo(a.x,a.y+n):a.type=="Z"?e.close():a.type=="C"&&e.bezierCurveTo(a.x1,a.y1+n,a.x2,a.y2+n,a.x,a.y+n);return e}const Dd={A:"0041",AE:"00C6",AEacute:"01FC",Aacute:"00C1",Abreve:"0102",Acircumflex:"00C2",Adieresis:"00C4",Agrave:"00C0",Alpha:"0391",Alphatonos:"0386",Amacron:"0100",Aogonek:"0104",Aring:"00C5",Aringacute:"01FA",Atilde:"00C3",B:"0042",Beta:"0392",C:"0043",Cacute:"0106",Ccaron:"010C",Ccedilla:"00C7",Ccircumflex:"0108",Cdotaccent:"010A",Chi:"03A7",D:"0044",Dcaron:"010E",Dcroat:"0110",Delta:"2206",E:"0045",Eacute:"00C9",Ebreve:"0114",Ecaron:"011A",Ecircumflex:"00CA",Edieresis:"00CB",Edotaccent:"0116",Egrave:"00C8",Emacron:"0112",Eng:"014A",Eogonek:"0118",Epsilon:"0395",Epsilontonos:"0388",Eta:"0397",Etatonos:"0389",Eth:"00D0",Euro:"20AC",F:"0046",G:"0047",Gamma:"0393",Gbreve:"011E",Gcaron:"01E6",Gcircumflex:"011C",Gdotaccent:"0120",H:"0048",H18533:"25CF",H18543:"25AA",H18551:"25AB",H22073:"25A1",Hbar:"0126",Hcircumflex:"0124",I:"0049",IJ:"0132",Iacute:"00CD",Ibreve:"012C",Icircumflex:"00CE",Idieresis:"00CF",Idotaccent:"0130",Ifraktur:"2111",Igrave:"00CC",Imacron:"012A",Iogonek:"012E",Iota:"0399",Iotadieresis:"03AA",Iotatonos:"038A",Itilde:"0128",J:"004A",Jcircumflex:"0134",K:"004B",Kappa:"039A",L:"004C",Lacute:"0139",Lambda:"039B",Lcaron:"013D",Ldot:"013F",Lslash:"0141",M:"004D",Mu:"039C",N:"004E",Nacute:"0143",Ncaron:"0147",Ntilde:"00D1",Nu:"039D",O:"004F",OE:"0152",Oacute:"00D3",Obreve:"014E",Ocircumflex:"00D4",Odieresis:"00D6",Ograve:"00D2",Ohorn:"01A0",Ohungarumlaut:"0150",Omacron:"014C",Omega:"2126",Omegatonos:"038F",Omicron:"039F",Omicrontonos:"038C",Oslash:"00D8",Oslashacute:"01FE",Otilde:"00D5",P:"0050",Phi:"03A6",Pi:"03A0",Psi:"03A8",Q:"0051",R:"0052",Racute:"0154",Rcaron:"0158",Rfraktur:"211C",Rho:"03A1",S:"0053",SF010000:"250C",SF020000:"2514",SF030000:"2510",SF040000:"2518",SF050000:"253C",SF060000:"252C",SF070000:"2534",SF080000:"251C",SF090000:"2524",SF100000:"2500",SF110000:"2502",SF190000:"2561",SF200000:"2562",SF210000:"2556",SF220000:"2555",SF230000:"2563",SF240000:"2551",SF250000:"2557",SF260000:"255D",SF270000:"255C",SF280000:"255B",SF360000:"255E",SF370000:"255F",SF380000:"255A",SF390000:"2554",SF400000:"2569",SF410000:"2566",SF420000:"2560",SF430000:"2550",SF440000:"256C",SF450000:"2567",SF460000:"2568",SF470000:"2564",SF480000:"2565",SF490000:"2559",SF500000:"2558",SF510000:"2552",SF520000:"2553",SF530000:"256B",SF540000:"256A",Sacute:"015A",Scaron:"0160",Scedilla:"015E",Scircumflex:"015C",Sigma:"03A3",T:"0054",Tau:"03A4",Tbar:"0166",Tcaron:"0164",Theta:"0398",Thorn:"00DE",U:"0055",Uacute:"00DA",Ubreve:"016C",Ucircumflex:"00DB",Udieresis:"00DC",Ugrave:"00D9",Uhorn:"01AF",Uhungarumlaut:"0170",Umacron:"016A",Uogonek:"0172",Upsilon:"03A5",Upsilon1:"03D2",Upsilondieresis:"03AB",Upsilontonos:"038E",Uring:"016E",Utilde:"0168",V:"0056",W:"0057",Wacute:"1E82",Wcircumflex:"0174",Wdieresis:"1E84",Wgrave:"1E80",X:"0058",Xi:"039E",Y:"0059",Yacute:"00DD",Ycircumflex:"0176",Ydieresis:"0178",Ygrave:"1EF2",Z:"005A",Zacute:"0179",Zcaron:"017D",Zdotaccent:"017B",Zeta:"0396",a:"0061",aacute:"00E1",abreve:"0103",acircumflex:"00E2",acute:"00B4",acutecomb:"0301",adieresis:"00E4",ae:"00E6",aeacute:"01FD",agrave:"00E0",aleph:"2135",alpha:"03B1",alphatonos:"03AC",amacron:"0101",ampersand:"0026",angle:"2220",angleleft:"2329",angleright:"232A",anoteleia:"0387",aogonek:"0105",approxequal:"2248",aring:"00E5",aringacute:"01FB",arrowboth:"2194",arrowdblboth:"21D4",arrowdbldown:"21D3",arrowdblleft:"21D0",arrowdblright:"21D2",arrowdblup:"21D1",arrowdown:"2193",arrowleft:"2190",arrowright:"2192",arrowup:"2191",arrowupdn:"2195",arrowupdnbse:"21A8",asciicircum:"005E",asciitilde:"007E",asterisk:"002A",asteriskmath:"2217",at:"0040",atilde:"00E3",b:"0062",backslash:"005C",bar:"007C",beta:"03B2",block:"2588",braceleft:"007B",braceright:"007D",bracketleft:"005B",bracketright:"005D",breve:"02D8",brokenbar:"00A6",bullet:"2022",c:"0063",cacute:"0107",caron:"02C7",carriagereturn:"21B5",ccaron:"010D",ccedilla:"00E7",ccircumflex:"0109",cdotaccent:"010B",cedilla:"00B8",cent:"00A2",chi:"03C7",circle:"25CB",circlemultiply:"2297",circleplus:"2295",circumflex:"02C6",club:"2663",colon:"003A",colonmonetary:"20A1",comma:"002C",congruent:"2245",copyright:"00A9",currency:"00A4",d:"0064",dagger:"2020",daggerdbl:"2021",dcaron:"010F",dcroat:"0111",degree:"00B0",delta:"03B4",diamond:"2666",dieresis:"00A8",dieresistonos:"0385",divide:"00F7",dkshade:"2593",dnblock:"2584",dollar:"0024",dong:"20AB",dotaccent:"02D9",dotbelowcomb:"0323",dotlessi:"0131",dotmath:"22C5",e:"0065",eacute:"00E9",ebreve:"0115",ecaron:"011B",ecircumflex:"00EA",edieresis:"00EB",edotaccent:"0117",egrave:"00E8",eight:"0038",element:"2208",ellipsis:"2026",emacron:"0113",emdash:"2014",emptyset:"2205",endash:"2013",eng:"014B",eogonek:"0119",epsilon:"03B5",epsilontonos:"03AD",equal:"003D",equivalence:"2261",estimated:"212E",eta:"03B7",etatonos:"03AE",eth:"00F0",exclam:"0021",exclamdbl:"203C",exclamdown:"00A1",existential:"2203",f:"0066",female:"2640",figuredash:"2012",filledbox:"25A0",filledrect:"25AC",five:"0035",fiveeighths:"215D",florin:"0192",four:"0034",fraction:"2044",franc:"20A3",g:"0067",gamma:"03B3",gbreve:"011F",gcaron:"01E7",gcircumflex:"011D",gdotaccent:"0121",germandbls:"00DF",gradient:"2207",grave:"0060",gravecomb:"0300",greater:"003E",greaterequal:"2265",guillemotleft:"00AB",guillemotright:"00BB",guilsinglleft:"2039",guilsinglright:"203A",h:"0068",hbar:"0127",hcircumflex:"0125",heart:"2665",hookabovecomb:"0309",house:"2302",hungarumlaut:"02DD",hyphen:"002D",i:"0069",iacute:"00ED",ibreve:"012D",icircumflex:"00EE",idieresis:"00EF",igrave:"00EC",ij:"0133",imacron:"012B",infinity:"221E",integral:"222B",integralbt:"2321",integraltp:"2320",intersection:"2229",invbullet:"25D8",invcircle:"25D9",invsmileface:"263B",iogonek:"012F",iota:"03B9",iotadieresis:"03CA",iotadieresistonos:"0390",iotatonos:"03AF",itilde:"0129",j:"006A",jcircumflex:"0135",k:"006B",kappa:"03BA",kgreenlandic:"0138",l:"006C",lacute:"013A",lambda:"03BB",lcaron:"013E",ldot:"0140",less:"003C",lessequal:"2264",lfblock:"258C",lira:"20A4",logicaland:"2227",logicalnot:"00AC",logicalor:"2228",longs:"017F",lozenge:"25CA",lslash:"0142",ltshade:"2591",m:"006D",macron:"00AF",male:"2642",minus:"2212",minute:"2032",mu:"00B5",multiply:"00D7",musicalnote:"266A",musicalnotedbl:"266B",n:"006E",nacute:"0144",napostrophe:"0149",ncaron:"0148",nine:"0039",notelement:"2209",notequal:"2260",notsubset:"2284",ntilde:"00F1",nu:"03BD",numbersign:"0023",o:"006F",oacute:"00F3",obreve:"014F",ocircumflex:"00F4",odieresis:"00F6",oe:"0153",ogonek:"02DB",ograve:"00F2",ohorn:"01A1",ohungarumlaut:"0151",omacron:"014D",omega:"03C9",omega1:"03D6",omegatonos:"03CE",omicron:"03BF",omicrontonos:"03CC",one:"0031",onedotenleader:"2024",oneeighth:"215B",onehalf:"00BD",onequarter:"00BC",onethird:"2153",openbullet:"25E6",ordfeminine:"00AA",ordmasculine:"00BA",orthogonal:"221F",oslash:"00F8",oslashacute:"01FF",otilde:"00F5",p:"0070",paragraph:"00B6",parenleft:"0028",parenright:"0029",partialdiff:"2202",percent:"0025",period:"002E",periodcentered:"00B7",perpendicular:"22A5",perthousand:"2030",peseta:"20A7",phi:"03C6",phi1:"03D5",pi:"03C0",plus:"002B",plusminus:"00B1",prescription:"211E",product:"220F",propersubset:"2282",propersuperset:"2283",proportional:"221D",psi:"03C8",q:"0071",question:"003F",questiondown:"00BF",quotedbl:"0022",quotedblbase:"201E",quotedblleft:"201C",quotedblright:"201D",quoteleft:"2018",quotereversed:"201B",quoteright:"2019",quotesinglbase:"201A",quotesingle:"0027",r:"0072",racute:"0155",radical:"221A",rcaron:"0159",reflexsubset:"2286",reflexsuperset:"2287",registered:"00AE",revlogicalnot:"2310",rho:"03C1",ring:"02DA",rtblock:"2590",s:"0073",sacute:"015B",scaron:"0161",scedilla:"015F",scircumflex:"015D",second:"2033",section:"00A7",semicolon:"003B",seven:"0037",seveneighths:"215E",shade:"2592",sigma:"03C3",sigma1:"03C2",similar:"223C",six:"0036",slash:"002F",smileface:"263A",space:"0020",spade:"2660",sterling:"00A3",suchthat:"220B",summation:"2211",sun:"263C",t:"0074",tau:"03C4",tbar:"0167",tcaron:"0165",therefore:"2234",theta:"03B8",theta1:"03D1",thorn:"00FE",three:"0033",threeeighths:"215C",threequarters:"00BE",tilde:"02DC",tildecomb:"0303",tonos:"0384",trademark:"2122",triagdn:"25BC",triaglf:"25C4",triagrt:"25BA",triagup:"25B2",two:"0032",twodotenleader:"2025",twothirds:"2154",u:"0075",uacute:"00FA",ubreve:"016D",ucircumflex:"00FB",udieresis:"00FC",ugrave:"00F9",uhorn:"01B0",uhungarumlaut:"0171",umacron:"016B",underscore:"005F",underscoredbl:"2017",union:"222A",universal:"2200",uogonek:"0173",upblock:"2580",upsilon:"03C5",upsilondieresis:"03CB",upsilondieresistonos:"03B0",upsilontonos:"03CD",uring:"016F",utilde:"0169",v:"0076",w:"0077",wacute:"1E83",wcircumflex:"0175",wdieresis:"1E85",weierstrass:"2118",wgrave:"1E81",x:"0078",xi:"03BE",y:"0079",yacute:"00FD",ycircumflex:"0177",ydieresis:"00FF",yen:"00A5",ygrave:"1EF3",z:"007A",zacute:"017A",zcaron:"017E",zdotaccent:"017C",zero:"0030",zeta:"03B6"};function Rd(e,r,n=100,a=1,u=1){const o=new Bt.Size(n,n);Bt.setup(o);const h=[],g=Ed(e.structure);for(let R of g){const D=Pd(R,n,a),A=Od(r,R.symbol),V=Ad(D,A);h.push(...V)}const d=new nn.Path;for(let R of h){const D=Id(R),A=Md(D);Ud(d,A,-n*u)}const T=e.name,k=Ld(e.structure,n*a);return Bt.project.clear(),new nn.Glyph({name:T,unicode:parseInt(Dd[T],16),advanceWidth:k,path:d})}function Bd(e,r,n){const u=Math.round(1e3/n.height),o=[],h=new nn.Glyph({name:".notdef",unicode:0,advanceWidth:u*4,path:new nn.Path});o.push(h);for(let g of r)o.push(Rd(g,e,u,1,n.baseline));return new nn.Font({familyName:"GTL",styleName:e.name,unitsPerEm:1e3,ascender:u*(n.height-n.baseline),descender:-u*n.baseline,glyphs:o})}function Nd(e){let r,n,a,u,o,h;return{c(){r=un("canvas"),n=Zn(),a=un("button"),u=Xs("Scarica font!"),this.h()},l(g){r=ln(g,"CANVAS",{width:!0,height:!0,class:!0}),fn(r).forEach(Ct),n=Xn(g),a=ln(g,"BUTTON",{});var d=fn(a);u=Ys(d,"Scarica font!"),d.forEach(Ct),this.h()},h(){Vr(r,"width","600"),Vr(r,"height","300"),Vr(r,"class","border-2")},m(g,d){nr(g,r,d),nr(g,n,d),nr(g,a,d),ea(a,u),o||(h=[ll(e[0].call(null,r)),fl(a,"click",e[1])],o=!0)},p:Ei,i:Ei,o:Ei,d(g){g&&Ct(r),g&&Ct(n),g&&Ct(a),o=!1,hl(h)}}}function zd(e,r,n){let{font:a}=r,{text:u}=r,{size:o}=r;function h(d){const T=d.getContext("2d");console.log(a),a.draw(T,u,0,200,o,{kerning:!1})}function g(){a.download()}return e.$$set=d=>{"font"in d&&n(2,a=d.font),"text"in d&&n(3,u=d.text),"size"in d&&n(4,o=d.size)},[h,g,a,u,o]}class Gd extends qs{constructor(r){super(),Ws(this,r,zd,Nd,Zs,{font:2,text:3,size:4})}}function Gs(e,r,n){const a=e.slice();return a[7]=r[n],a}function Hs(e){let r,n,a,u,o,h,g,d;n=new Sl({props:{target:"text",$$slots:{default:[Hd]},$$scope:{ctx:e}}});function T(V){e[2](V)}let k={name:"text"};e[1]!==void 0&&(k.value=e[1]),u=new bl({props:k}),Ks.push(()=>Js(u,"value",T));let R=e[0],D=[];for(let V=0;V<R.length;V+=1)D[V]=Vs(Gs(e,R,V));const A=V=>Or(D[V],1,1,()=>{D[V]=null});return{c(){r=un("div"),Ni(n.$$.fragment),a=Zn(),Ni(u.$$.fragment),h=Zn();for(let V=0;V<D.length;V+=1)D[V].c();g=Xa(),this.h()},l(V){r=ln(V,"DIV",{class:!0});var N=fn(r);zi(n.$$.fragment,N),a=Xn(N),zi(u.$$.fragment,N),N.forEach(Ct),h=Xn(V);for(let K=0;K<D.length;K+=1)D[K].l(V);g=Xa(),this.h()},h(){Vr(r,"class","flex flex-col")},m(V,N){nr(V,r,N),Gi(n,r,null),ea(r,a),Gi(u,r,null),nr(V,h,N);for(let K=0;K<D.length;K+=1)D[K].m(V,N);nr(V,g,N),d=!0},p(V,N){const K={};N&1024&&(K.$$scope={dirty:N,ctx:V}),n.$set(K);const j={};if(!o&&N&2&&(o=!0,j.value=V[1],js(()=>o=!1)),u.$set(j),N&3){R=V[0];let ie;for(ie=0;ie<R.length;ie+=1){const te=Gs(V,R,ie);D[ie]?(D[ie].p(te,N),er(D[ie],1)):(D[ie]=Vs(te),D[ie].c(),er(D[ie],1),D[ie].m(g.parentNode,g))}for($s(),ie=R.length;ie<D.length;ie+=1)A(ie);Qs()}},i(V){if(!d){er(n.$$.fragment,V),er(u.$$.fragment,V);for(let N=0;N<R.length;N+=1)er(D[N]);d=!0}},o(V){Or(n.$$.fragment,V),Or(u.$$.fragment,V),D=D.filter(Boolean);for(let N=0;N<D.length;N+=1)Or(D[N]);d=!1},d(V){V&&Ct(r),Hi(n),Hi(u),V&&Ct(h),cl(D,V),V&&Ct(g)}}}function Hd(e){let r;return{c(){r=Xs("Scrivi qui :D")},l(n){r=Ys(n,"Scrivi qui :D")},m(n,a){nr(n,r,a)},d(n){n&&Ct(r)}}}function Vs(e){let r,n,a,u,o;function h(d){e[3](d)}let g={font:e[7],size:qd};return e[1]!==void 0&&(g.text=e[1]),n=new Gd({props:g}),Ks.push(()=>Js(n,"text",h)),{c(){r=un("div"),Ni(n.$$.fragment),u=Zn(),this.h()},l(d){r=ln(d,"DIV",{class:!0});var T=fn(r);zi(n.$$.fragment,T),u=Xn(T),T.forEach(Ct),this.h()},h(){Vr(r,"class","mt-4")},m(d,T){nr(d,r,T),Gi(n,r,null),ea(r,u),o=!0},p(d,T){const k={};T&1&&(k.font=d[7]),!a&&T&2&&(a=!0,k.text=d[1],js(()=>a=!1)),n.$set(k)},i(d){o||(er(n.$$.fragment,d),o=!0)},o(d){Or(n.$$.fragment,d),o=!1},d(d){d&&Ct(r),Hi(n)}}}function Vd(e){let r,n,a=e[0].length&&Hs(e);return{c(){r=un("div"),a&&a.c(),this.h()},l(u){r=ln(u,"DIV",{class:!0});var o=fn(r);a&&a.l(o),o.forEach(Ct),this.h()},h(){Vr(r,"class","p-4")},m(u,o){nr(u,r,o),a&&a.m(r,null),n=!0},p(u,[o]){u[0].length?a?(a.p(u,o),o&1&&er(a,1)):(a=Hs(u),a.c(),er(a,1),a.m(r,null)):a&&($s(),Or(a,1,1,()=>{a=null}),Qs())},i(u){n||(er(a),n=!0)},o(u){Or(a),n=!1},d(u){u&&Ct(r),a&&a.d()}}}let qd=72;function Wd(e,r,n){let a,u,o;Ai(e,dl,k=>n(4,a=k)),Ai(e,pl,k=>n(5,u=k)),Ai(e,gl,k=>n(6,o=k));let h=[],g="a";for(let k of o)if(k){const R=Bd(k,u,a);h.push(R),h=h}function d(k){g=k,n(1,g)}function T(k){g=k,n(1,g)}return[h,g,d,T]}class ep extends qs{constructor(r){super(),Ws(this,r,Wd,Vd,Zs,{})}}export{ep as default};
