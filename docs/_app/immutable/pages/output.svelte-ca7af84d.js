var il=Object.defineProperty,al=Object.defineProperties;var sl=Object.getOwnPropertyDescriptors;var qa=Object.getOwnPropertySymbols;var ol=Object.prototype.hasOwnProperty,ul=Object.prototype.propertyIsEnumerable;var Wa=(e,r,n)=>r in e?il(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n,Gr=(e,r)=>{for(var n in r||(r={}))ol.call(r,n)&&Wa(e,n,r[n]);if(qa)for(var n of qa(r))ul.call(r,n)&&Wa(e,n,r[n]);return e},Za=(e,r)=>al(e,sl(r));import{S as qs,i as Ws,s as Zs,e as Pr,t as ii,k as jn,w as Xs,c as Lr,a as Zr,h as ai,d as St,m as Qn,x as Ys,b as er,g as ir,M as Fr,y as js,a2 as ll,j as fl,q as Ir,o as jr,B as Qs,K as qn,a0 as hl,p as Ks,v as cl,n as Js,E as Ii,l as Xa,O as dl}from"../chunks/index-643b3d06.js";import{m as $s,g as pl,a as gl}from"../chunks/index-87f617dd.js";import{g as vl,c as ml,a as _l,b as un,o as yl,S as on,d as Ya,e as xl}from"../chunks/lodash-26b3c147.js";import{B as bl}from"../chunks/button-fea341c8.js";import"../chunks/index-56f024cf.js";/*! https://mths.be/codepointat v0.2.0 by @mathias */String.prototype.codePointAt||function(){var e=function(){try{var n={},a=Object.defineProperty,o=a(n,n,n)&&a}catch{}return o}(),r=function(n){if(this==null)throw TypeError();var a=String(this),o=a.length,u=n?Number(n):0;if(u!=u&&(u=0),!(u<0||u>=o)){var h=a.charCodeAt(u),p;return h>=55296&&h<=56319&&o>u+1&&(p=a.charCodeAt(u+1),p>=56320&&p<=57343)?(h-55296)*1024+p-56320+65536:h}};e?e(String.prototype,"codePointAt",{value:r,configurable:!0,writable:!0}):String.prototype.codePointAt=r}();var ta=0,eo=-3;function pn(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function Sl(e,r){this.source=e,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=r,this.destLen=0,this.ltree=new pn,this.dtree=new pn}var to=new pn,ro=new pn,ra=new Uint8Array(30),na=new Uint16Array(30),no=new Uint8Array(30),io=new Uint16Array(30),wl=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ja=new pn,Xt=new Uint8Array(288+32);function ao(e,r,n,a){var o,u;for(o=0;o<n;++o)e[o]=0;for(o=0;o<30-n;++o)e[o+n]=o/n|0;for(u=a,o=0;o<30;++o)r[o]=u,u+=1<<e[o]}function Cl(e,r){var n;for(n=0;n<7;++n)e.table[n]=0;for(e.table[7]=24,e.table[8]=152,e.table[9]=112,n=0;n<24;++n)e.trans[n]=256+n;for(n=0;n<144;++n)e.trans[24+n]=n;for(n=0;n<8;++n)e.trans[24+144+n]=280+n;for(n=0;n<112;++n)e.trans[24+144+8+n]=144+n;for(n=0;n<5;++n)r.table[n]=0;for(r.table[5]=32,n=0;n<32;++n)r.trans[n]=n}var Qa=new Uint16Array(16);function Mi(e,r,n,a){var o,u;for(o=0;o<16;++o)e.table[o]=0;for(o=0;o<a;++o)e.table[r[n+o]]++;for(e.table[0]=0,u=0,o=0;o<16;++o)Qa[o]=u,u+=e.table[o];for(o=0;o<a;++o)r[n+o]&&(e.trans[Qa[r[n+o]]++]=o)}function Tl(e){e.bitcount--||(e.tag=e.source[e.sourceIndex++],e.bitcount=7);var r=e.tag&1;return e.tag>>>=1,r}function Yt(e,r,n){if(!r)return n;for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var a=e.tag&65535>>>16-r;return e.tag>>>=r,e.bitcount-=r,a+n}function Vi(e,r){for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var n=0,a=0,o=0,u=e.tag;do a=2*a+(u&1),u>>>=1,++o,n+=r.table[o],a-=r.table[o];while(a>=0);return e.tag=u,e.bitcount-=o,r.trans[n+a]}function kl(e,r,n){var a,o,u,h,p,d;for(a=Yt(e,5,257),o=Yt(e,5,1),u=Yt(e,4,4),h=0;h<19;++h)Xt[h]=0;for(h=0;h<u;++h){var k=Yt(e,3,0);Xt[wl[h]]=k}for(Mi(ja,Xt,0,19),p=0;p<a+o;){var C=Vi(e,ja);switch(C){case 16:var R=Xt[p-1];for(d=Yt(e,2,3);d;--d)Xt[p++]=R;break;case 17:for(d=Yt(e,3,3);d;--d)Xt[p++]=0;break;case 18:for(d=Yt(e,7,11);d;--d)Xt[p++]=0;break;default:Xt[p++]=C;break}}Mi(r,Xt,0,a),Mi(n,Xt,a,o)}function Ka(e,r,n){for(;;){var a=Vi(e,r);if(a===256)return ta;if(a<256)e.dest[e.destLen++]=a;else{var o,u,h,p;for(a-=257,o=Yt(e,ra[a],na[a]),u=Vi(e,n),h=e.destLen-Yt(e,no[u],io[u]),p=h;p<h+o;++p)e.dest[e.destLen++]=e.dest[p]}}}function Fl(e){for(var r,n,a;e.bitcount>8;)e.sourceIndex--,e.bitcount-=8;if(r=e.source[e.sourceIndex+1],r=256*r+e.source[e.sourceIndex],n=e.source[e.sourceIndex+3],n=256*n+e.source[e.sourceIndex+2],r!==(~n&65535))return eo;for(e.sourceIndex+=4,a=r;a;--a)e.dest[e.destLen++]=e.source[e.sourceIndex++];return e.bitcount=0,ta}function El(e,r){var n=new Sl(e,r),a,o,u;do{switch(a=Tl(n),o=Yt(n,2,0),o){case 0:u=Fl(n);break;case 1:u=Ka(n,to,ro);break;case 2:kl(n,n.ltree,n.dtree),u=Ka(n,n.ltree,n.dtree);break;default:u=eo}if(u!==ta)throw new Error("Data error")}while(!a);return n.destLen<n.dest.length?typeof n.dest.slice=="function"?n.dest.slice(0,n.destLen):n.dest.subarray(0,n.destLen):n.dest}Cl(to,ro);ao(ra,na,4,3);ao(no,io,2,1);ra[28]=0;na[28]=258;var Al=El;function Hr(e,r,n,a,o){return Math.pow(1-o,3)*e+3*Math.pow(1-o,2)*o*r+3*(1-o)*Math.pow(o,2)*n+Math.pow(o,3)*a}function ar(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}ar.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)};ar.prototype.addPoint=function(e,r){typeof e=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),typeof r=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=r,this.y2=r),r<this.y1&&(this.y1=r),r>this.y2&&(this.y2=r))};ar.prototype.addX=function(e){this.addPoint(e,null)};ar.prototype.addY=function(e){this.addPoint(null,e)};ar.prototype.addBezier=function(e,r,n,a,o,u,h,p){var d=[e,r],k=[n,a],C=[o,u],R=[h,p];this.addPoint(e,r),this.addPoint(h,p);for(var D=0;D<=1;D++){var F=6*d[D]-12*k[D]+6*C[D],q=-3*d[D]+9*k[D]-9*C[D]+3*R[D],G=3*k[D]-3*d[D];if(q===0){if(F===0)continue;var J=-G/F;0<J&&J<1&&(D===0&&this.addX(Hr(d[D],k[D],C[D],R[D],J)),D===1&&this.addY(Hr(d[D],k[D],C[D],R[D],J)));continue}var j=Math.pow(F,2)-4*G*q;if(!(j<0)){var se=(-F+Math.sqrt(j))/(2*q);0<se&&se<1&&(D===0&&this.addX(Hr(d[D],k[D],C[D],R[D],se)),D===1&&this.addY(Hr(d[D],k[D],C[D],R[D],se)));var re=(-F-Math.sqrt(j))/(2*q);0<re&&re<1&&(D===0&&this.addX(Hr(d[D],k[D],C[D],R[D],re)),D===1&&this.addY(Hr(d[D],k[D],C[D],R[D],re)))}}};ar.prototype.addQuad=function(e,r,n,a,o,u){var h=e+.6666666666666666*(n-e),p=r+2/3*(a-r),d=h+1/3*(o-e),k=p+1/3*(u-r);this.addBezier(e,r,h,p,d,k,o,u)};function lt(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}lt.prototype.moveTo=function(e,r){this.commands.push({type:"M",x:e,y:r})};lt.prototype.lineTo=function(e,r){this.commands.push({type:"L",x:e,y:r})};lt.prototype.curveTo=lt.prototype.bezierCurveTo=function(e,r,n,a,o,u){this.commands.push({type:"C",x1:e,y1:r,x2:n,y2:a,x:o,y:u})};lt.prototype.quadTo=lt.prototype.quadraticCurveTo=function(e,r,n,a){this.commands.push({type:"Q",x1:e,y1:r,x:n,y:a})};lt.prototype.close=lt.prototype.closePath=function(){this.commands.push({type:"Z"})};lt.prototype.extend=function(e){if(e.commands)e=e.commands;else if(e instanceof ar){var r=e;this.moveTo(r.x1,r.y1),this.lineTo(r.x2,r.y1),this.lineTo(r.x2,r.y2),this.lineTo(r.x1,r.y2),this.close();return}Array.prototype.push.apply(this.commands,e)};lt.prototype.getBoundingBox=function(){for(var e=new ar,r=0,n=0,a=0,o=0,u=0;u<this.commands.length;u++){var h=this.commands[u];switch(h.type){case"M":e.addPoint(h.x,h.y),r=a=h.x,n=o=h.y;break;case"L":e.addPoint(h.x,h.y),a=h.x,o=h.y;break;case"Q":e.addQuad(a,o,h.x1,h.y1,h.x,h.y),a=h.x,o=h.y;break;case"C":e.addBezier(a,o,h.x1,h.y1,h.x2,h.y2,h.x,h.y),a=h.x,o=h.y;break;case"Z":a=r,o=n;break;default:throw new Error("Unexpected path command "+h.type)}}return e.isEmpty()&&e.addPoint(0,0),e};lt.prototype.draw=function(e){e.beginPath();for(var r=0;r<this.commands.length;r+=1){var n=this.commands[r];n.type==="M"?e.moveTo(n.x,n.y):n.type==="L"?e.lineTo(n.x,n.y):n.type==="C"?e.bezierCurveTo(n.x1,n.y1,n.x2,n.y2,n.x,n.y):n.type==="Q"?e.quadraticCurveTo(n.x1,n.y1,n.x,n.y):n.type==="Z"&&e.closePath()}this.fill&&(e.fillStyle=this.fill,e.fill()),this.stroke&&(e.strokeStyle=this.stroke,e.lineWidth=this.strokeWidth,e.stroke())};lt.prototype.toPathData=function(e){e=e!==void 0?e:2;function r(h){return Math.round(h)===h?""+Math.round(h):h.toFixed(e)}function n(){for(var h=arguments,p="",d=0;d<arguments.length;d+=1){var k=h[d];k>=0&&d>0&&(p+=" "),p+=r(k)}return p}for(var a="",o=0;o<this.commands.length;o+=1){var u=this.commands[o];u.type==="M"?a+="M"+n(u.x,u.y):u.type==="L"?a+="L"+n(u.x,u.y):u.type==="C"?a+="C"+n(u.x1,u.y1,u.x2,u.y2,u.x,u.y):u.type==="Q"?a+="Q"+n(u.x1,u.y1,u.x,u.y):u.type==="Z"&&(a+="Z")}return a};lt.prototype.toSVG=function(e){var r='<path d="';return r+=this.toPathData(e),r+='"',this.fill&&this.fill!=="black"&&(this.fill===null?r+=' fill="none"':r+=' fill="'+this.fill+'"'),this.stroke&&(r+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),r+="/>",r};lt.prototype.toDOMElement=function(e){var r=this.toPathData(e),n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",r),n};function so(e){throw new Error(e)}function Ja(e,r){e||so(r)}var Ae={fail:so,argument:Ja,assert:Ja},$a=32768,es=2147483648,Qr={},ve={},Le={};function Vt(e){return function(){return e}}ve.BYTE=function(e){return Ae.argument(e>=0&&e<=255,"Byte value should be between 0 and 255."),[e]};Le.BYTE=Vt(1);ve.CHAR=function(e){return[e.charCodeAt(0)]};Le.CHAR=Vt(1);ve.CHARARRAY=function(e){typeof e=="undefined"&&(e="",console.warn("Undefined CHARARRAY encountered and treated as an empty string. This is probably caused by a missing glyph name."));for(var r=[],n=0;n<e.length;n+=1)r[n]=e.charCodeAt(n);return r};Le.CHARARRAY=function(e){return typeof e=="undefined"?0:e.length};ve.USHORT=function(e){return[e>>8&255,e&255]};Le.USHORT=Vt(2);ve.SHORT=function(e){return e>=$a&&(e=-(2*$a-e)),[e>>8&255,e&255]};Le.SHORT=Vt(2);ve.UINT24=function(e){return[e>>16&255,e>>8&255,e&255]};Le.UINT24=Vt(3);ve.ULONG=function(e){return[e>>24&255,e>>16&255,e>>8&255,e&255]};Le.ULONG=Vt(4);ve.LONG=function(e){return e>=es&&(e=-(2*es-e)),[e>>24&255,e>>16&255,e>>8&255,e&255]};Le.LONG=Vt(4);ve.FIXED=ve.ULONG;Le.FIXED=Le.ULONG;ve.FWORD=ve.SHORT;Le.FWORD=Le.SHORT;ve.UFWORD=ve.USHORT;Le.UFWORD=Le.USHORT;ve.LONGDATETIME=function(e){return[0,0,0,0,e>>24&255,e>>16&255,e>>8&255,e&255]};Le.LONGDATETIME=Vt(8);ve.TAG=function(e){return Ae.argument(e.length===4,"Tag should be exactly 4 ASCII characters."),[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]};Le.TAG=Vt(4);ve.Card8=ve.BYTE;Le.Card8=Le.BYTE;ve.Card16=ve.USHORT;Le.Card16=Le.USHORT;ve.OffSize=ve.BYTE;Le.OffSize=Le.BYTE;ve.SID=ve.USHORT;Le.SID=Le.USHORT;ve.NUMBER=function(e){return e>=-107&&e<=107?[e+139]:e>=108&&e<=1131?(e=e-108,[(e>>8)+247,e&255]):e>=-1131&&e<=-108?(e=-e-108,[(e>>8)+251,e&255]):e>=-32768&&e<=32767?ve.NUMBER16(e):ve.NUMBER32(e)};Le.NUMBER=function(e){return ve.NUMBER(e).length};ve.NUMBER16=function(e){return[28,e>>8&255,e&255]};Le.NUMBER16=Vt(3);ve.NUMBER32=function(e){return[29,e>>24&255,e>>16&255,e>>8&255,e&255]};Le.NUMBER32=Vt(5);ve.REAL=function(e){var r=e.toString(),n=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(r);if(n){var a=parseFloat("1e"+((n[2]?+n[2]:0)+n[1].length));r=(Math.round(e*a)/a).toString()}for(var o="",u=0,h=r.length;u<h;u+=1){var p=r[u];p==="e"?o+=r[++u]==="-"?"c":"b":p==="."?o+="a":p==="-"?o+="e":o+=p}o+=o.length&1?"f":"ff";for(var d=[30],k=0,C=o.length;k<C;k+=2)d.push(parseInt(o.substr(k,2),16));return d};Le.REAL=function(e){return ve.REAL(e).length};ve.NAME=ve.CHARARRAY;Le.NAME=Le.CHARARRAY;ve.STRING=ve.CHARARRAY;Le.STRING=Le.CHARARRAY;Qr.UTF8=function(e,r,n){for(var a=[],o=n,u=0;u<o;u++,r+=1)a[u]=e.getUint8(r);return String.fromCharCode.apply(null,a)};Qr.UTF16=function(e,r,n){for(var a=[],o=n/2,u=0;u<o;u++,r+=2)a[u]=e.getUint16(r);return String.fromCharCode.apply(null,a)};ve.UTF16=function(e){for(var r=[],n=0;n<e.length;n+=1){var a=e.charCodeAt(n);r[r.length]=a>>8&255,r[r.length]=a&255}return r};Le.UTF16=function(e){return e.length*2};var qi={"x-mac-croatian":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\u0160\u2122\xB4\xA8\u2260\u017D\xD8\u221E\xB1\u2264\u2265\u2206\xB5\u2202\u2211\u220F\u0161\u222B\xAA\xBA\u03A9\u017E\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u0106\xAB\u010C\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u0110\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\uF8FF\xA9\u2044\u20AC\u2039\u203A\xC6\xBB\u2013\xB7\u201A\u201E\u2030\xC2\u0107\xC1\u010D\xC8\xCD\xCE\xCF\xCC\xD3\xD4\u0111\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u03C0\xCB\u02DA\xB8\xCA\xE6\u02C7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041A\u041B\u041C\u041D\u041E\u041F\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042A\u042B\u042C\u042D\u042E\u042F\u2020\xB0\u0490\xA3\xA7\u2022\xB6\u0406\xAE\xA9\u2122\u0402\u0452\u2260\u0403\u0453\u221E\xB1\u2264\u2265\u0456\xB5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040A\u045A\u0458\u0405\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\u040B\u045B\u040C\u045C\u0455\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u201E\u040E\u045E\u040F\u045F\u2116\u0401\u0451\u044F\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043A\u043B\u043C\u043D\u043E\u043F\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044A\u044B\u044C\u044D\u044E","x-mac-gaelic":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u1E02\xB1\u2264\u2265\u1E03\u010A\u010B\u1E0A\u1E0B\u1E1E\u1E1F\u0120\u0121\u1E40\xE6\xF8\u1E41\u1E56\u1E57\u027C\u0192\u017F\u1E60\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\u1E61\u1E9B\xFF\u0178\u1E6A\u20AC\u2039\u203A\u0176\u0177\u1E6B\xB7\u1EF2\u1EF3\u204A\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\u2663\xD2\xDA\xDB\xD9\u0131\xDD\xFD\u0174\u0175\u1E84\u1E85\u1E80\u1E81\u1E82\u1E83","x-mac-greek":"\xC4\xB9\xB2\xC9\xB3\xD6\xDC\u0385\xE0\xE2\xE4\u0384\xA8\xE7\xE9\xE8\xEA\xEB\xA3\u2122\xEE\xEF\u2022\xBD\u2030\xF4\xF6\xA6\u20AC\xF9\xFB\xFC\u2020\u0393\u0394\u0398\u039B\u039E\u03A0\xDF\xAE\xA9\u03A3\u03AA\xA7\u2260\xB0\xB7\u0391\xB1\u2264\u2265\xA5\u0392\u0395\u0396\u0397\u0399\u039A\u039C\u03A6\u03AB\u03A8\u03A9\u03AC\u039D\xAC\u039F\u03A1\u2248\u03A4\xAB\xBB\u2026\xA0\u03A5\u03A7\u0386\u0388\u0153\u2013\u2015\u201C\u201D\u2018\u2019\xF7\u0389\u038A\u038C\u038E\u03AD\u03AE\u03AF\u03CC\u038F\u03CD\u03B1\u03B2\u03C8\u03B4\u03B5\u03C6\u03B3\u03B7\u03B9\u03BE\u03BA\u03BB\u03BC\u03BD\u03BF\u03C0\u03CE\u03C1\u03C3\u03C4\u03B8\u03C9\u03C2\u03C7\u03C5\u03B6\u03CA\u03CB\u0390\u03B0\xAD","x-mac-icelandic":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\xDD\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\xD0\xF0\xDE\xFE\xFD\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140A\u140B\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144E\u144F\u1450\u1451\u1455\u1456\u1466\u146D\u146E\u146F\u1470\u1472\u1473\u1483\u148B\u148C\u148D\u148E\u1490\u1491\xB0\u14A1\u14A5\u14A6\u2022\xB6\u14A7\xAE\xA9\u2122\u14A8\u14AA\u14AB\u14BB\u14C2\u14C3\u14C4\u14C5\u14C7\u14C8\u14D0\u14EF\u14F0\u14F1\u14F2\u14F4\u14F5\u1505\u14D5\u14D6\u14D7\u14D8\u14DA\u14DB\u14EA\u1528\u1529\u152A\u152B\u152D\u2026\xA0\u152E\u153E\u1555\u1556\u1557\u2013\u2014\u201C\u201D\u2018\u2019\u1558\u1559\u155A\u155D\u1546\u1547\u1548\u1549\u154B\u154C\u1550\u157F\u1580\u1581\u1582\u1583\u1584\u1585\u158F\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15A0\u15A1\u15A2\u15A3\u15A4\u15A5\u15A6\u157C\u0141\u0142","x-mac-ce":"\xC4\u0100\u0101\xC9\u0104\xD6\xDC\xE1\u0105\u010C\xE4\u010D\u0106\u0107\xE9\u0179\u017A\u010E\xED\u010F\u0112\u0113\u0116\xF3\u0117\xF4\xF6\xF5\xFA\u011A\u011B\xFC\u2020\xB0\u0118\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\u0119\xA8\u2260\u0123\u012E\u012F\u012A\u2264\u2265\u012B\u0136\u2202\u2211\u0142\u013B\u013C\u013D\u013E\u0139\u013A\u0145\u0146\u0143\xAC\u221A\u0144\u0147\u2206\xAB\xBB\u2026\xA0\u0148\u0150\xD5\u0151\u014C\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\u014D\u0154\u0155\u0158\u2039\u203A\u0159\u0156\u0157\u0160\u201A\u201E\u0161\u015A\u015B\xC1\u0164\u0165\xCD\u017D\u017E\u016A\xD3\xD4\u016B\u016E\xDA\u016F\u0170\u0171\u0172\u0173\xDD\xFD\u0137\u017B\u0141\u017C\u0122\u02C7",macintosh:"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\u2039\u203A\uFB01\uFB02\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-romanian":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\u0102\u0218\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\u0103\u0219\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\u2039\u203A\u021A\u021B\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-turkish":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u011E\u011F\u0130\u0131\u015E\u015F\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\uF8A0\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7"};Qr.MACSTRING=function(e,r,n,a){var o=qi[a];if(o!==void 0){for(var u="",h=0;h<n;h++){var p=e.getUint8(r+h);p<=127?u+=String.fromCharCode(p):u+=o[p&127]}return u}};var Bn=typeof WeakMap=="function"&&new WeakMap,Nn,Ol=function(e){if(!Nn){Nn={};for(var r in qi)Nn[r]=new String(r)}var n=Nn[e];if(n!==void 0){if(Bn){var a=Bn.get(n);if(a!==void 0)return a}var o=qi[e];if(o!==void 0){for(var u={},h=0;h<o.length;h++)u[o.charCodeAt(h)]=h+128;return Bn&&Bn.set(n,u),u}}};ve.MACSTRING=function(e,r){var n=Ol(r);if(n!==void 0){for(var a=[],o=0;o<e.length;o++){var u=e.charCodeAt(o);if(u>=128&&(u=n[u],u===void 0))return;a[o]=u}return a}};Le.MACSTRING=function(e,r){var n=ve.MACSTRING(e,r);return n!==void 0?n.length:0};function Wi(e){return e>=-128&&e<=127}function Pl(e,r,n){for(var a=0,o=e.length;r<o&&a<64&&e[r]===0;)++r,++a;return n.push(128|a-1),r}function Ll(e,r,n){for(var a=0,o=e.length,u=r;u<o&&a<64;){var h=e[u];if(!Wi(h)||h===0&&u+1<o&&e[u+1]===0)break;++u,++a}n.push(a-1);for(var p=r;p<u;++p)n.push(e[p]+256&255);return u}function Il(e,r,n){for(var a=0,o=e.length,u=r;u<o&&a<64;){var h=e[u];if(h===0||Wi(h)&&u+1<o&&Wi(e[u+1]))break;++u,++a}n.push(64|a-1);for(var p=r;p<u;++p){var d=e[p];n.push(d+65536>>8&255,d+256&255)}return u}ve.VARDELTAS=function(e){for(var r=0,n=[];r<e.length;){var a=e[r];a===0?r=Pl(e,r,n):a>=-128&&a<=127?r=Ll(e,r,n):r=Il(e,r,n)}return n};ve.INDEX=function(e){for(var r=1,n=[r],a=[],o=0;o<e.length;o+=1){var u=ve.OBJECT(e[o]);Array.prototype.push.apply(a,u),r+=u.length,n.push(r)}if(a.length===0)return[0,0];for(var h=[],p=1+Math.floor(Math.log(r)/Math.log(2))/8|0,d=[void 0,ve.BYTE,ve.USHORT,ve.UINT24,ve.ULONG][p],k=0;k<n.length;k+=1){var C=d(n[k]);Array.prototype.push.apply(h,C)}return Array.prototype.concat(ve.Card16(e.length),ve.OffSize(p),h,a)};Le.INDEX=function(e){return ve.INDEX(e).length};ve.DICT=function(e){for(var r=[],n=Object.keys(e),a=n.length,o=0;o<a;o+=1){var u=parseInt(n[o],0),h=e[u];r=r.concat(ve.OPERAND(h.value,h.type)),r=r.concat(ve.OPERATOR(u))}return r};Le.DICT=function(e){return ve.DICT(e).length};ve.OPERATOR=function(e){return e<1200?[e]:[12,e-1200]};ve.OPERAND=function(e,r){var n=[];if(Array.isArray(r))for(var a=0;a<r.length;a+=1)Ae.argument(e.length===r.length,"Not enough arguments given for type"+r),n=n.concat(ve.OPERAND(e[a],r[a]));else if(r==="SID")n=n.concat(ve.NUMBER(e));else if(r==="offset")n=n.concat(ve.NUMBER32(e));else if(r==="number")n=n.concat(ve.NUMBER(e));else if(r==="real")n=n.concat(ve.REAL(e));else throw new Error("Unknown operand type "+r);return n};ve.OP=ve.BYTE;Le.OP=Le.BYTE;var zn=typeof WeakMap=="function"&&new WeakMap;ve.CHARSTRING=function(e){if(zn){var r=zn.get(e);if(r!==void 0)return r}for(var n=[],a=e.length,o=0;o<a;o+=1){var u=e[o];n=n.concat(ve[u.type](u.value))}return zn&&zn.set(e,n),n};Le.CHARSTRING=function(e){return ve.CHARSTRING(e).length};ve.OBJECT=function(e){var r=ve[e.type];return Ae.argument(r!==void 0,"No encoding function for type "+e.type),r(e.value)};Le.OBJECT=function(e){var r=Le[e.type];return Ae.argument(r!==void 0,"No sizeOf function for type "+e.type),r(e.value)};ve.TABLE=function(e){for(var r=[],n=e.fields.length,a=[],o=[],u=0;u<n;u+=1){var h=e.fields[u],p=ve[h.type];Ae.argument(p!==void 0,"No encoding function for field type "+h.type+" ("+h.name+")");var d=e[h.name];d===void 0&&(d=h.value);var k=p(d);h.type==="TABLE"?(o.push(r.length),r=r.concat([0,0]),a.push(k)):r=r.concat(k)}for(var C=0;C<a.length;C+=1){var R=o[C],D=r.length;Ae.argument(D<65536,"Table "+e.tableName+" too big."),r[R]=D>>8,r[R+1]=D&255,r=r.concat(a[C])}return r};Le.TABLE=function(e){for(var r=0,n=e.fields.length,a=0;a<n;a+=1){var o=e.fields[a],u=Le[o.type];Ae.argument(u!==void 0,"No sizeOf function for field type "+o.type+" ("+o.name+")");var h=e[o.name];h===void 0&&(h=o.value),r+=u(h),o.type==="TABLE"&&(r+=2)}return r};ve.RECORD=ve.TABLE;Le.RECORD=Le.TABLE;ve.LITERAL=function(e){return e};Le.LITERAL=function(e){return e.length};function mt(e,r,n){if(r.length&&(r[0].name!=="coverageFormat"||r[0].value===1))for(var a=0;a<r.length;a+=1){var o=r[a];this[o.name]=o.value}if(this.tableName=e,this.fields=r,n)for(var u=Object.keys(n),h=0;h<u.length;h+=1){var p=u[h],d=n[p];this[p]!==void 0&&(this[p]=d)}}mt.prototype.encode=function(){return ve.TABLE(this)};mt.prototype.sizeOf=function(){return Le.TABLE(this)};function gn(e,r,n){n===void 0&&(n=r.length);var a=new Array(r.length+1);a[0]={name:e+"Count",type:"USHORT",value:n};for(var o=0;o<r.length;o++)a[o+1]={name:e+o,type:"USHORT",value:r[o]};return a}function Zi(e,r,n){var a=r.length,o=new Array(a+1);o[0]={name:e+"Count",type:"USHORT",value:a};for(var u=0;u<a;u++)o[u+1]={name:e+u,type:"TABLE",value:n(r[u],u)};return o}function vn(e,r,n){var a=r.length,o=[];o[0]={name:e+"Count",type:"USHORT",value:a};for(var u=0;u<a;u++)o=o.concat(n(r[u],u));return o}function Kn(e){e.format===1?mt.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(gn("glyph",e.glyphs))):e.format===2?mt.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:2}].concat(vn("rangeRecord",e.ranges,function(r){return[{name:"startGlyphID",type:"USHORT",value:r.start},{name:"endGlyphID",type:"USHORT",value:r.end},{name:"startCoverageIndex",type:"USHORT",value:r.index}]}))):Ae.assert(!1,"Coverage format must be 1 or 2.")}Kn.prototype=Object.create(mt.prototype);Kn.prototype.constructor=Kn;function Jn(e){mt.call(this,"scriptListTable",vn("scriptRecord",e,function(r,n){var a=r.script,o=a.defaultLangSys;return Ae.assert(!!o,"Unable to write GSUB: script "+r.tag+" has no default language system."),[{name:"scriptTag"+n,type:"TAG",value:r.tag},{name:"script"+n,type:"TABLE",value:new mt("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new mt("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:o.reqFeatureIndex}].concat(gn("featureIndex",o.featureIndexes)))}].concat(vn("langSys",a.langSysRecords,function(u,h){var p=u.langSys;return[{name:"langSysTag"+h,type:"TAG",value:u.tag},{name:"langSys"+h,type:"TABLE",value:new mt("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:p.reqFeatureIndex}].concat(gn("featureIndex",p.featureIndexes)))}]})))}]}))}Jn.prototype=Object.create(mt.prototype);Jn.prototype.constructor=Jn;function $n(e){mt.call(this,"featureListTable",vn("featureRecord",e,function(r,n){var a=r.feature;return[{name:"featureTag"+n,type:"TAG",value:r.tag},{name:"feature"+n,type:"TABLE",value:new mt("featureTable",[{name:"featureParams",type:"USHORT",value:a.featureParams}].concat(gn("lookupListIndex",a.lookupListIndexes)))}]}))}$n.prototype=Object.create(mt.prototype);$n.prototype.constructor=$n;function ei(e,r){mt.call(this,"lookupListTable",Zi("lookup",e,function(n){var a=r[n.lookupType];return Ae.assert(!!a,"Unable to write GSUB lookup type "+n.lookupType+" tables."),new mt("lookupTable",[{name:"lookupType",type:"USHORT",value:n.lookupType},{name:"lookupFlag",type:"USHORT",value:n.lookupFlag}].concat(Zi("subtable",n.subtables,a)))}))}ei.prototype=Object.create(mt.prototype);ei.prototype.constructor=ei;var be={Table:mt,Record:mt,Coverage:Kn,ScriptList:Jn,FeatureList:$n,LookupList:ei,ushortList:gn,tableList:Zi,recordList:vn};function ts(e,r){return e.getUint8(r)}function ti(e,r){return e.getUint16(r,!1)}function Ml(e,r){return e.getInt16(r,!1)}function ia(e,r){return e.getUint32(r,!1)}function oo(e,r){var n=e.getInt16(r,!1),a=e.getUint16(r+2,!1);return n+a/65535}function Ul(e,r){for(var n="",a=r;a<r+4;a+=1)n+=String.fromCharCode(e.getInt8(a));return n}function Dl(e,r,n){for(var a=0,o=0;o<n;o+=1)a<<=8,a+=e.getUint8(r+o);return a}function Rl(e,r,n){for(var a=[],o=r;o<n;o+=1)a.push(e.getUint8(o));return a}function Bl(e){for(var r="",n=0;n<e.length;n+=1)r+=String.fromCharCode(e[n]);return r}var Nl={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function ee(e,r){this.data=e,this.offset=r,this.relativeOffset=0}ee.prototype.parseByte=function(){var e=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e};ee.prototype.parseChar=function(){var e=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e};ee.prototype.parseCard8=ee.prototype.parseByte;ee.prototype.parseUShort=function(){var e=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e};ee.prototype.parseCard16=ee.prototype.parseUShort;ee.prototype.parseSID=ee.prototype.parseUShort;ee.prototype.parseOffset16=ee.prototype.parseUShort;ee.prototype.parseShort=function(){var e=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e};ee.prototype.parseF2Dot14=function(){var e=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,e};ee.prototype.parseULong=function(){var e=ia(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e};ee.prototype.parseOffset32=ee.prototype.parseULong;ee.prototype.parseFixed=function(){var e=oo(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e};ee.prototype.parseString=function(e){var r=this.data,n=this.offset+this.relativeOffset,a="";this.relativeOffset+=e;for(var o=0;o<e;o++)a+=String.fromCharCode(r.getUint8(n+o));return a};ee.prototype.parseTag=function(){return this.parseString(4)};ee.prototype.parseLongDateTime=function(){var e=ia(this.data,this.offset+this.relativeOffset+4);return e-=2082844800,this.relativeOffset+=8,e};ee.prototype.parseVersion=function(e){var r=ti(this.data,this.offset+this.relativeOffset),n=ti(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,e===void 0&&(e=4096),r+n/e/10};ee.prototype.skip=function(e,r){r===void 0&&(r=1),this.relativeOffset+=Nl[e]*r};ee.prototype.parseULongList=function(e){e===void 0&&(e=this.parseULong());for(var r=new Array(e),n=this.data,a=this.offset+this.relativeOffset,o=0;o<e;o++)r[o]=n.getUint32(a),a+=4;return this.relativeOffset+=e*4,r};ee.prototype.parseOffset16List=ee.prototype.parseUShortList=function(e){e===void 0&&(e=this.parseUShort());for(var r=new Array(e),n=this.data,a=this.offset+this.relativeOffset,o=0;o<e;o++)r[o]=n.getUint16(a),a+=2;return this.relativeOffset+=e*2,r};ee.prototype.parseShortList=function(e){for(var r=new Array(e),n=this.data,a=this.offset+this.relativeOffset,o=0;o<e;o++)r[o]=n.getInt16(a),a+=2;return this.relativeOffset+=e*2,r};ee.prototype.parseByteList=function(e){for(var r=new Array(e),n=this.data,a=this.offset+this.relativeOffset,o=0;o<e;o++)r[o]=n.getUint8(a++);return this.relativeOffset+=e,r};ee.prototype.parseList=function(e,r){r||(r=e,e=this.parseUShort());for(var n=new Array(e),a=0;a<e;a++)n[a]=r.call(this);return n};ee.prototype.parseList32=function(e,r){r||(r=e,e=this.parseULong());for(var n=new Array(e),a=0;a<e;a++)n[a]=r.call(this);return n};ee.prototype.parseRecordList=function(e,r){r||(r=e,e=this.parseUShort());for(var n=new Array(e),a=Object.keys(r),o=0;o<e;o++){for(var u={},h=0;h<a.length;h++){var p=a[h],d=r[p];u[p]=d.call(this)}n[o]=u}return n};ee.prototype.parseRecordList32=function(e,r){r||(r=e,e=this.parseULong());for(var n=new Array(e),a=Object.keys(r),o=0;o<e;o++){for(var u={},h=0;h<a.length;h++){var p=a[h],d=r[p];u[p]=d.call(this)}n[o]=u}return n};ee.prototype.parseStruct=function(e){if(typeof e=="function")return e.call(this);for(var r=Object.keys(e),n={},a=0;a<r.length;a++){var o=r[a],u=e[o];n[o]=u.call(this)}return n};ee.prototype.parseValueRecord=function(e){if(e===void 0&&(e=this.parseUShort()),e!==0){var r={};return e&1&&(r.xPlacement=this.parseShort()),e&2&&(r.yPlacement=this.parseShort()),e&4&&(r.xAdvance=this.parseShort()),e&8&&(r.yAdvance=this.parseShort()),e&16&&(r.xPlaDevice=void 0,this.parseShort()),e&32&&(r.yPlaDevice=void 0,this.parseShort()),e&64&&(r.xAdvDevice=void 0,this.parseShort()),e&128&&(r.yAdvDevice=void 0,this.parseShort()),r}};ee.prototype.parseValueRecordList=function(){for(var e=this.parseUShort(),r=this.parseUShort(),n=new Array(r),a=0;a<r;a++)n[a]=this.parseValueRecord(e);return n};ee.prototype.parsePointer=function(e){var r=this.parseOffset16();if(r>0)return new ee(this.data,this.offset+r).parseStruct(e)};ee.prototype.parsePointer32=function(e){var r=this.parseOffset32();if(r>0)return new ee(this.data,this.offset+r).parseStruct(e)};ee.prototype.parseListOfLists=function(e){for(var r=this.parseOffset16List(),n=r.length,a=this.relativeOffset,o=new Array(n),u=0;u<n;u++){var h=r[u];if(h===0){o[u]=void 0;continue}if(this.relativeOffset=h,e){for(var p=this.parseOffset16List(),d=new Array(p.length),k=0;k<p.length;k++)this.relativeOffset=h+p[k],d[k]=e.call(this);o[u]=d}else o[u]=this.parseUShortList()}return this.relativeOffset=a,o};ee.prototype.parseCoverage=function(){var e=this.offset+this.relativeOffset,r=this.parseUShort(),n=this.parseUShort();if(r===1)return{format:1,glyphs:this.parseUShortList(n)};if(r===2){for(var a=new Array(n),o=0;o<n;o++)a[o]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:a}}throw new Error("0x"+e.toString(16)+": Coverage format must be 1 or 2.")};ee.prototype.parseClassDef=function(){var e=this.offset+this.relativeOffset,r=this.parseUShort();if(r===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(r===2)return{format:2,ranges:this.parseRecordList({start:ee.uShort,end:ee.uShort,classId:ee.uShort})};throw new Error("0x"+e.toString(16)+": ClassDef format must be 1 or 2.")};ee.list=function(e,r){return function(){return this.parseList(e,r)}};ee.list32=function(e,r){return function(){return this.parseList32(e,r)}};ee.recordList=function(e,r){return function(){return this.parseRecordList(e,r)}};ee.recordList32=function(e,r){return function(){return this.parseRecordList32(e,r)}};ee.pointer=function(e){return function(){return this.parsePointer(e)}};ee.pointer32=function(e){return function(){return this.parsePointer32(e)}};ee.tag=ee.prototype.parseTag;ee.byte=ee.prototype.parseByte;ee.uShort=ee.offset16=ee.prototype.parseUShort;ee.uShortList=ee.prototype.parseUShortList;ee.uLong=ee.offset32=ee.prototype.parseULong;ee.uLongList=ee.prototype.parseULongList;ee.struct=ee.prototype.parseStruct;ee.coverage=ee.prototype.parseCoverage;ee.classDef=ee.prototype.parseClassDef;var rs={reserved:ee.uShort,reqFeatureIndex:ee.uShort,featureIndexes:ee.uShortList};ee.prototype.parseScriptList=function(){return this.parsePointer(ee.recordList({tag:ee.tag,script:ee.pointer({defaultLangSys:ee.pointer(rs),langSysRecords:ee.recordList({tag:ee.tag,langSys:ee.pointer(rs)})})}))||[]};ee.prototype.parseFeatureList=function(){return this.parsePointer(ee.recordList({tag:ee.tag,feature:ee.pointer({featureParams:ee.offset16,lookupListIndexes:ee.uShortList})}))||[]};ee.prototype.parseLookupList=function(e){return this.parsePointer(ee.list(ee.pointer(function(){var r=this.parseUShort();Ae.argument(1<=r&&r<=9,"GPOS/GSUB lookup type "+r+" unknown.");var n=this.parseUShort(),a=n&16;return{lookupType:r,lookupFlag:n,subtables:this.parseList(ee.pointer(e[r])),markFilteringSet:a?this.parseUShort():void 0}})))||[]};ee.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var e=this.parseUShort(),r=this.parseUShort();Ae.argument(e===1&&r<1,"GPOS/GSUB feature variations table unknown.");var n=this.parseRecordList32({conditionSetOffset:ee.offset32,featureTableSubstitutionOffset:ee.offset32});return n})||[]};var we={getByte:ts,getCard8:ts,getUShort:ti,getCard16:ti,getShort:Ml,getULong:ia,getFixed:oo,getTag:Ul,getOffset:Dl,getBytes:Rl,bytesToString:Bl,Parser:ee};function zl(e,r){r.parseUShort(),e.length=r.parseULong(),e.language=r.parseULong();var n;e.groupCount=n=r.parseULong(),e.glyphIndexMap={};for(var a=0;a<n;a+=1)for(var o=r.parseULong(),u=r.parseULong(),h=r.parseULong(),p=o;p<=u;p+=1)e.glyphIndexMap[p]=h,h++}function Gl(e,r,n,a,o){e.length=r.parseUShort(),e.language=r.parseUShort();var u;e.segCount=u=r.parseUShort()>>1,r.skip("uShort",3),e.glyphIndexMap={};for(var h=new we.Parser(n,a+o+14),p=new we.Parser(n,a+o+16+u*2),d=new we.Parser(n,a+o+16+u*4),k=new we.Parser(n,a+o+16+u*6),C=a+o+16+u*8,R=0;R<u-1;R+=1)for(var D=void 0,F=h.parseUShort(),q=p.parseUShort(),G=d.parseShort(),J=k.parseUShort(),j=q;j<=F;j+=1)J!==0?(C=k.offset+k.relativeOffset-2,C+=J,C+=(j-q)*2,D=we.getUShort(n,C),D!==0&&(D=D+G&65535)):D=j+G&65535,e.glyphIndexMap[j]=D}function Hl(e,r){var n={};n.version=we.getUShort(e,r),Ae.argument(n.version===0,"cmap table version should be 0."),n.numTables=we.getUShort(e,r+2);for(var a=-1,o=n.numTables-1;o>=0;o-=1){var u=we.getUShort(e,r+4+o*8),h=we.getUShort(e,r+4+o*8+2);if(u===3&&(h===0||h===1||h===10)||u===0&&(h===0||h===1||h===2||h===3||h===4)){a=we.getULong(e,r+4+o*8+4);break}}if(a===-1)throw new Error("No valid cmap sub-tables found.");var p=new we.Parser(e,r+a);if(n.format=p.parseUShort(),n.format===12)zl(n,p);else if(n.format===4)Gl(n,p,e,r,a);else throw new Error("Only format 4 and 12 cmap tables are supported (found format "+n.format+").");return n}function Vl(e,r,n){e.segments.push({end:r,start:r,delta:-(r-n),offset:0,glyphIndex:n})}function ql(e){e.segments.push({end:65535,start:65535,delta:1,offset:0})}function Wl(e){var r=!0,n;for(n=e.length-1;n>0;n-=1){var a=e.get(n);if(a.unicode>65535){console.log("Adding CMAP format 12 (needed!)"),r=!1;break}}var o=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:r?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:r?12:12+8}];r||(o=o.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),o=o.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var u=new be.Table("cmap",o);for(u.segments=[],n=0;n<e.length;n+=1){for(var h=e.get(n),p=0;p<h.unicodes.length;p+=1)Vl(u,h.unicodes[p],n);u.segments=u.segments.sort(function(se,re){return se.start-re.start})}ql(u);var d=u.segments.length,k=0,C=[],R=[],D=[],F=[],q=[],G=[];for(n=0;n<d;n+=1){var J=u.segments[n];J.end<=65535&&J.start<=65535?(C=C.concat({name:"end_"+n,type:"USHORT",value:J.end}),R=R.concat({name:"start_"+n,type:"USHORT",value:J.start}),D=D.concat({name:"idDelta_"+n,type:"SHORT",value:J.delta}),F=F.concat({name:"idRangeOffset_"+n,type:"USHORT",value:J.offset}),J.glyphId!==void 0&&(q=q.concat({name:"glyph_"+n,type:"USHORT",value:J.glyphId}))):k+=1,!r&&J.glyphIndex!==void 0&&(G=G.concat({name:"cmap12Start_"+n,type:"ULONG",value:J.start}),G=G.concat({name:"cmap12End_"+n,type:"ULONG",value:J.end}),G=G.concat({name:"cmap12Glyph_"+n,type:"ULONG",value:J.glyphIndex}))}if(u.segCountX2=(d-k)*2,u.searchRange=Math.pow(2,Math.floor(Math.log(d-k)/Math.log(2)))*2,u.entrySelector=Math.log(u.searchRange/2)/Math.log(2),u.rangeShift=u.segCountX2-u.searchRange,u.fields=u.fields.concat(C),u.fields.push({name:"reservedPad",type:"USHORT",value:0}),u.fields=u.fields.concat(R),u.fields=u.fields.concat(D),u.fields=u.fields.concat(F),u.fields=u.fields.concat(q),u.cmap4Length=14+C.length*2+2+R.length*2+D.length*2+F.length*2+q.length*2,!r){var j=16+G.length*4;u.cmap12Offset=12+2*2+4+u.cmap4Length,u.fields=u.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:j},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:G.length/3}]),u.fields=u.fields.concat(G)}return u}var uo={parse:Hl,make:Wl},Wn=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],Zl=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],Xl=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],Er=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function lo(e){this.font=e}lo.prototype.charToGlyphIndex=function(e){var r=e.codePointAt(0),n=this.font.glyphs;if(n){for(var a=0;a<n.length;a+=1)for(var o=n.get(a),u=0;u<o.unicodes.length;u+=1)if(o.unicodes[u]===r)return a}return null};function fo(e){this.cmap=e}fo.prototype.charToGlyphIndex=function(e){return this.cmap.glyphIndexMap[e.codePointAt(0)]||0};function ri(e,r){this.encoding=e,this.charset=r}ri.prototype.charToGlyphIndex=function(e){var r=e.codePointAt(0),n=this.encoding[r];return this.charset.indexOf(n)};function aa(e){switch(e.version){case 1:this.names=Er.slice();break;case 2:this.names=new Array(e.numberOfGlyphs);for(var r=0;r<e.numberOfGlyphs;r++)e.glyphNameIndex[r]<Er.length?this.names[r]=Er[e.glyphNameIndex[r]]:this.names[r]=e.names[e.glyphNameIndex[r]-Er.length];break;case 2.5:this.names=new Array(e.numberOfGlyphs);for(var n=0;n<e.numberOfGlyphs;n++)this.names[n]=Er[n+e.glyphNameIndex[n]];break;case 3:this.names=[];break;default:this.names=[];break}}aa.prototype.nameToGlyphIndex=function(e){return this.names.indexOf(e)};aa.prototype.glyphIndexToName=function(e){return this.names[e]};function Yl(e){for(var r,n=e.tables.cmap.glyphIndexMap,a=Object.keys(n),o=0;o<a.length;o+=1){var u=a[o],h=n[u];r=e.glyphs.get(h),r.addUnicode(parseInt(u))}for(var p=0;p<e.glyphs.length;p+=1)r=e.glyphs.get(p),e.cffEncoding?e.isCIDFont?r.name="gid"+p:r.name=e.cffEncoding.charset[p]:e.glyphNames.names&&(r.name=e.glyphNames.glyphIndexToName(p))}function jl(e){e._IndexToUnicodeMap={};for(var r=e.tables.cmap.glyphIndexMap,n=Object.keys(r),a=0;a<n.length;a+=1){var o=n[a],u=r[o];e._IndexToUnicodeMap[u]===void 0?e._IndexToUnicodeMap[u]={unicodes:[parseInt(o)]}:e._IndexToUnicodeMap[u].unicodes.push(parseInt(o))}}function Ql(e,r){r.lowMemory?jl(e):Yl(e)}function Kl(e,r,n,a,o){e.beginPath(),e.moveTo(r,n),e.lineTo(a,o),e.stroke()}var kr={line:Kl};function Jl(e,r){var n=r||new lt;return{configurable:!0,get:function(){return typeof n=="function"&&(n=n()),n},set:function(a){n=a}}}function Ft(e){this.bindConstructorValues(e)}Ft.prototype.bindConstructorValues=function(e){this.index=e.index||0,this.name=e.name||null,this.unicode=e.unicode||void 0,this.unicodes=e.unicodes||e.unicode!==void 0?[e.unicode]:[],"xMin"in e&&(this.xMin=e.xMin),"yMin"in e&&(this.yMin=e.yMin),"xMax"in e&&(this.xMax=e.xMax),"yMax"in e&&(this.yMax=e.yMax),"advanceWidth"in e&&(this.advanceWidth=e.advanceWidth),Object.defineProperty(this,"path",Jl(this,e.path))};Ft.prototype.addUnicode=function(e){this.unicodes.length===0&&(this.unicode=e),this.unicodes.push(e)};Ft.prototype.getBoundingBox=function(){return this.path.getBoundingBox()};Ft.prototype.getPath=function(e,r,n,a,o){e=e!==void 0?e:0,r=r!==void 0?r:0,n=n!==void 0?n:72;var u,h;a||(a={});var p=a.xScale,d=a.yScale;if(a.hinting&&o&&o.hinting&&(h=this.path&&o.hinting.exec(this,n)),h)u=o.hinting.getCommands(h),e=Math.round(e),r=Math.round(r),p=d=1;else{u=this.path.commands;var k=1/(this.path.unitsPerEm||1e3)*n;p===void 0&&(p=k),d===void 0&&(d=k)}for(var C=new lt,R=0;R<u.length;R+=1){var D=u[R];D.type==="M"?C.moveTo(e+D.x*p,r+-D.y*d):D.type==="L"?C.lineTo(e+D.x*p,r+-D.y*d):D.type==="Q"?C.quadraticCurveTo(e+D.x1*p,r+-D.y1*d,e+D.x*p,r+-D.y*d):D.type==="C"?C.curveTo(e+D.x1*p,r+-D.y1*d,e+D.x2*p,r+-D.y2*d,e+D.x*p,r+-D.y*d):D.type==="Z"&&C.closePath()}return C};Ft.prototype.getContours=function(){if(this.points===void 0)return[];for(var e=[],r=[],n=0;n<this.points.length;n+=1){var a=this.points[n];r.push(a),a.lastPointOfContour&&(e.push(r),r=[])}return Ae.argument(r.length===0,"There are still points left in the current contour."),e};Ft.prototype.getMetrics=function(){for(var e=this.path.commands,r=[],n=[],a=0;a<e.length;a+=1){var o=e[a];o.type!=="Z"&&(r.push(o.x),n.push(o.y)),(o.type==="Q"||o.type==="C")&&(r.push(o.x1),n.push(o.y1)),o.type==="C"&&(r.push(o.x2),n.push(o.y2))}var u={xMin:Math.min.apply(null,r),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,r),yMax:Math.max.apply(null,n),leftSideBearing:this.leftSideBearing};return isFinite(u.xMin)||(u.xMin=0),isFinite(u.xMax)||(u.xMax=this.advanceWidth),isFinite(u.yMin)||(u.yMin=0),isFinite(u.yMax)||(u.yMax=0),u.rightSideBearing=this.advanceWidth-u.leftSideBearing-(u.xMax-u.xMin),u};Ft.prototype.draw=function(e,r,n,a,o){this.getPath(r,n,a,o).draw(e)};Ft.prototype.drawPoints=function(e,r,n,a){function o(R,D,F,q){e.beginPath();for(var G=0;G<R.length;G+=1)e.moveTo(D+R[G].x*q,F+R[G].y*q),e.arc(D+R[G].x*q,F+R[G].y*q,2,0,Math.PI*2,!1);e.closePath(),e.fill()}r=r!==void 0?r:0,n=n!==void 0?n:0,a=a!==void 0?a:24;for(var u=1/this.path.unitsPerEm*a,h=[],p=[],d=this.path,k=0;k<d.commands.length;k+=1){var C=d.commands[k];C.x!==void 0&&h.push({x:C.x,y:-C.y}),C.x1!==void 0&&p.push({x:C.x1,y:-C.y1}),C.x2!==void 0&&p.push({x:C.x2,y:-C.y2})}e.fillStyle="blue",o(h,r,n,u),e.fillStyle="red",o(p,r,n,u)};Ft.prototype.drawMetrics=function(e,r,n,a){var o;r=r!==void 0?r:0,n=n!==void 0?n:0,a=a!==void 0?a:24,o=1/this.path.unitsPerEm*a,e.lineWidth=1,e.strokeStyle="black",kr.line(e,r,-1e4,r,1e4),kr.line(e,-1e4,n,1e4,n);var u=this.xMin||0,h=this.yMin||0,p=this.xMax||0,d=this.yMax||0,k=this.advanceWidth||0;e.strokeStyle="blue",kr.line(e,r+u*o,-1e4,r+u*o,1e4),kr.line(e,r+p*o,-1e4,r+p*o,1e4),kr.line(e,-1e4,n+-h*o,1e4,n+-h*o),kr.line(e,-1e4,n+-d*o,1e4,n+-d*o),e.strokeStyle="green",kr.line(e,r+k*o,-1e4,r+k*o,1e4)};function Gn(e,r,n){Object.defineProperty(e,r,{get:function(){return e.path,e[n]},set:function(a){e[n]=a},enumerable:!0,configurable:!0})}function sa(e,r){if(this.font=e,this.glyphs={},Array.isArray(r))for(var n=0;n<r.length;n++){var a=r[n];a.path.unitsPerEm=e.unitsPerEm,this.glyphs[n]=a}this.length=r&&r.length||0}sa.prototype.get=function(e){if(this.glyphs[e]===void 0){this.font._push(e),typeof this.glyphs[e]=="function"&&(this.glyphs[e]=this.glyphs[e]());var r=this.glyphs[e],n=this.font._IndexToUnicodeMap[e];if(n)for(var a=0;a<n.unicodes.length;a++)r.addUnicode(n.unicodes[a]);this.font.cffEncoding?this.font.isCIDFont?r.name="gid"+e:r.name=this.font.cffEncoding.charset[e]:this.font.glyphNames.names&&(r.name=this.font.glyphNames.glyphIndexToName(e)),this.glyphs[e].advanceWidth=this.font._hmtxTableData[e].advanceWidth,this.glyphs[e].leftSideBearing=this.font._hmtxTableData[e].leftSideBearing}else typeof this.glyphs[e]=="function"&&(this.glyphs[e]=this.glyphs[e]());return this.glyphs[e]};sa.prototype.push=function(e,r){this.glyphs[e]=r,this.length++};function $l(e,r){return new Ft({index:r,font:e})}function ef(e,r,n,a,o,u){return function(){var h=new Ft({index:r,font:e});return h.path=function(){n(h,a,o);var p=u(e.glyphs,h);return p.unitsPerEm=e.unitsPerEm,p},Gn(h,"xMin","_xMin"),Gn(h,"xMax","_xMax"),Gn(h,"yMin","_yMin"),Gn(h,"yMax","_yMax"),h}}function tf(e,r,n,a){return function(){var o=new Ft({index:r,font:e});return o.path=function(){var u=n(e,o,a);return u.unitsPerEm=e.unitsPerEm,u},o}}var Qt={GlyphSet:sa,glyphLoader:$l,ttfGlyphLoader:ef,cffGlyphLoader:tf};function ho(e,r){if(e===r)return!0;if(Array.isArray(e)&&Array.isArray(r)){if(e.length!==r.length)return!1;for(var n=0;n<e.length;n+=1)if(!ho(e[n],r[n]))return!1;return!0}else return!1}function Xi(e){var r;return e.length<1240?r=107:e.length<33900?r=1131:r=32768,r}function pr(e,r,n){var a=[],o=[],u=we.getCard16(e,r),h,p;if(u!==0){var d=we.getByte(e,r+2);h=r+(u+1)*d+2;for(var k=r+3,C=0;C<u+1;C+=1)a.push(we.getOffset(e,k,d)),k+=d;p=h+a[u]}else p=r+2;for(var R=0;R<a.length-1;R+=1){var D=we.getBytes(e,h+a[R],h+a[R+1]);n&&(D=n(D)),o.push(D)}return{objects:o,startOffset:r,endOffset:p}}function rf(e,r){var n=[],a=we.getCard16(e,r),o,u;if(a!==0){var h=we.getByte(e,r+2);o=r+(a+1)*h+2;for(var p=r+3,d=0;d<a+1;d+=1)n.push(we.getOffset(e,p,h)),p+=h;u=o+n[a]}else u=r+2;return{offsets:n,startOffset:r,endOffset:u}}function nf(e,r,n,a,o){var u=we.getCard16(n,a),h=0;if(u!==0){var p=we.getByte(n,a+2);h=a+(u+1)*p+2}var d=we.getBytes(n,h+r[e],h+r[e+1]);return o&&(d=o(d)),d}function af(e){for(var r="",n=15,a=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var o=e.parseByte(),u=o>>4,h=o&15;if(u===n||(r+=a[u],h===n))break;r+=a[h]}return parseFloat(r)}function sf(e,r){var n,a,o,u;if(r===28)return n=e.parseByte(),a=e.parseByte(),n<<8|a;if(r===29)return n=e.parseByte(),a=e.parseByte(),o=e.parseByte(),u=e.parseByte(),n<<24|a<<16|o<<8|u;if(r===30)return af(e);if(r>=32&&r<=246)return r-139;if(r>=247&&r<=250)return n=e.parseByte(),(r-247)*256+n+108;if(r>=251&&r<=254)return n=e.parseByte(),-(r-251)*256-n-108;throw new Error("Invalid b0 "+r)}function of(e){for(var r={},n=0;n<e.length;n+=1){var a=e[n][0],o=e[n][1],u=void 0;if(o.length===1?u=o[0]:u=o,r.hasOwnProperty(a)&&!isNaN(r[a]))throw new Error("Object "+r+" already has key "+a);r[a]=u}return r}function co(e,r,n){r=r!==void 0?r:0;var a=new we.Parser(e,r),o=[],u=[];for(n=n!==void 0?n:e.length;a.relativeOffset<n;){var h=a.parseByte();h<=21?(h===12&&(h=1200+a.parseByte()),o.push([h,u]),u=[]):u.push(sf(a,h))}return of(o)}function ln(e,r){return r<=390?r=Wn[r]:r=e[r-391],r}function po(e,r,n){for(var a={},o,u=0;u<r.length;u+=1){var h=r[u];if(Array.isArray(h.type)){var p=[];p.length=h.type.length;for(var d=0;d<h.type.length;d++)o=e[h.op]!==void 0?e[h.op][d]:void 0,o===void 0&&(o=h.value!==void 0&&h.value[d]!==void 0?h.value[d]:null),h.type[d]==="SID"&&(o=ln(n,o)),p[d]=o;a[h.name]=p}else o=e[h.op],o===void 0&&(o=h.value!==void 0?h.value:null),h.type==="SID"&&(o=ln(n,o)),a[h.name]=o}return a}function uf(e,r){var n={};return n.formatMajor=we.getCard8(e,r),n.formatMinor=we.getCard8(e,r+1),n.size=we.getCard8(e,r+2),n.offsetSize=we.getCard8(e,r+3),n.startOffset=r,n.endOffset=r+4,n}var go=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],vo=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function lf(e,r){var n=co(e,0,e.byteLength);return po(n,go,r)}function mo(e,r,n,a){var o=co(e,r,n);return po(o,vo,a)}function ns(e,r,n,a){for(var o=[],u=0;u<n.length;u+=1){var h=new DataView(new Uint8Array(n[u]).buffer),p=lf(h,a);p._subrs=[],p._subrsBias=0,p._defaultWidthX=0,p._nominalWidthX=0;var d=p.private[0],k=p.private[1];if(d!==0&&k!==0){var C=mo(e,k+r,d,a);if(p._defaultWidthX=C.defaultWidthX,p._nominalWidthX=C.nominalWidthX,C.subrs!==0){var R=k+C.subrs,D=pr(e,R+r);p._subrs=D.objects,p._subrsBias=Xi(p._subrs)}p._privateDict=C}o.push(p)}return o}function ff(e,r,n,a){var o,u,h=new we.Parser(e,r);n-=1;var p=[".notdef"],d=h.parseCard8();if(d===0)for(var k=0;k<n;k+=1)o=h.parseSID(),p.push(ln(a,o));else if(d===1)for(;p.length<=n;){o=h.parseSID(),u=h.parseCard8();for(var C=0;C<=u;C+=1)p.push(ln(a,o)),o+=1}else if(d===2)for(;p.length<=n;){o=h.parseSID(),u=h.parseCard16();for(var R=0;R<=u;R+=1)p.push(ln(a,o)),o+=1}else throw new Error("Unknown charset format "+d);return p}function hf(e,r,n){var a,o={},u=new we.Parser(e,r),h=u.parseCard8();if(h===0)for(var p=u.parseCard8(),d=0;d<p;d+=1)a=u.parseCard8(),o[a]=d;else if(h===1){var k=u.parseCard8();a=1;for(var C=0;C<k;C+=1)for(var R=u.parseCard8(),D=u.parseCard8(),F=R;F<=R+D;F+=1)o[F]=a,a+=1}else throw new Error("Unknown encoding format "+h);return new ri(o,n)}function is(e,r,n){var a,o,u,h,p=new lt,d=[],k=0,C=!1,R=!1,D=0,F=0,q,G,J,j;if(e.isCIDFont){var se=e.tables.cff.topDict._fdSelect[r.index],re=e.tables.cff.topDict._fdArray[se];q=re._subrs,G=re._subrsBias,J=re._defaultWidthX,j=re._nominalWidthX}else q=e.tables.cff.topDict._subrs,G=e.tables.cff.topDict._subrsBias,J=e.tables.cff.topDict._defaultWidthX,j=e.tables.cff.topDict._nominalWidthX;var oe=J;function fe(xe,Re){R&&p.closePath(),p.moveTo(xe,Re),R=!0}function pe(){var xe;xe=d.length%2!==0,xe&&!C&&(oe=d.shift()+j),k+=d.length>>1,d.length=0,C=!0}function Ce(xe){for(var Re,Ke,Ze,Je,Ye,ge,Qe,ue,ze,We,Te,He,Ie=0;Ie<xe.length;){var Ve=xe[Ie];switch(Ie+=1,Ve){case 1:pe();break;case 3:pe();break;case 4:d.length>1&&!C&&(oe=d.shift()+j,C=!0),F+=d.pop(),fe(D,F);break;case 5:for(;d.length>0;)D+=d.shift(),F+=d.shift(),p.lineTo(D,F);break;case 6:for(;d.length>0&&(D+=d.shift(),p.lineTo(D,F),d.length!==0);)F+=d.shift(),p.lineTo(D,F);break;case 7:for(;d.length>0&&(F+=d.shift(),p.lineTo(D,F),d.length!==0);)D+=d.shift(),p.lineTo(D,F);break;case 8:for(;d.length>0;)a=D+d.shift(),o=F+d.shift(),u=a+d.shift(),h=o+d.shift(),D=u+d.shift(),F=h+d.shift(),p.curveTo(a,o,u,h,D,F);break;case 10:Ye=d.pop()+G,ge=q[Ye],ge&&Ce(ge);break;case 11:return;case 12:switch(Ve=xe[Ie],Ie+=1,Ve){case 35:a=D+d.shift(),o=F+d.shift(),u=a+d.shift(),h=o+d.shift(),Qe=u+d.shift(),ue=h+d.shift(),ze=Qe+d.shift(),We=ue+d.shift(),Te=ze+d.shift(),He=We+d.shift(),D=Te+d.shift(),F=He+d.shift(),d.shift(),p.curveTo(a,o,u,h,Qe,ue),p.curveTo(ze,We,Te,He,D,F);break;case 34:a=D+d.shift(),o=F,u=a+d.shift(),h=o+d.shift(),Qe=u+d.shift(),ue=h,ze=Qe+d.shift(),We=h,Te=ze+d.shift(),He=F,D=Te+d.shift(),p.curveTo(a,o,u,h,Qe,ue),p.curveTo(ze,We,Te,He,D,F);break;case 36:a=D+d.shift(),o=F+d.shift(),u=a+d.shift(),h=o+d.shift(),Qe=u+d.shift(),ue=h,ze=Qe+d.shift(),We=h,Te=ze+d.shift(),He=We+d.shift(),D=Te+d.shift(),p.curveTo(a,o,u,h,Qe,ue),p.curveTo(ze,We,Te,He,D,F);break;case 37:a=D+d.shift(),o=F+d.shift(),u=a+d.shift(),h=o+d.shift(),Qe=u+d.shift(),ue=h+d.shift(),ze=Qe+d.shift(),We=ue+d.shift(),Te=ze+d.shift(),He=We+d.shift(),Math.abs(Te-D)>Math.abs(He-F)?D=Te+d.shift():F=He+d.shift(),p.curveTo(a,o,u,h,Qe,ue),p.curveTo(ze,We,Te,He,D,F);break;default:console.log("Glyph "+r.index+": unknown operator "+1200+Ve),d.length=0}break;case 14:d.length>0&&!C&&(oe=d.shift()+j,C=!0),R&&(p.closePath(),R=!1);break;case 18:pe();break;case 19:case 20:pe(),Ie+=k+7>>3;break;case 21:d.length>2&&!C&&(oe=d.shift()+j,C=!0),F+=d.pop(),D+=d.pop(),fe(D,F);break;case 22:d.length>1&&!C&&(oe=d.shift()+j,C=!0),D+=d.pop(),fe(D,F);break;case 23:pe();break;case 24:for(;d.length>2;)a=D+d.shift(),o=F+d.shift(),u=a+d.shift(),h=o+d.shift(),D=u+d.shift(),F=h+d.shift(),p.curveTo(a,o,u,h,D,F);D+=d.shift(),F+=d.shift(),p.lineTo(D,F);break;case 25:for(;d.length>6;)D+=d.shift(),F+=d.shift(),p.lineTo(D,F);a=D+d.shift(),o=F+d.shift(),u=a+d.shift(),h=o+d.shift(),D=u+d.shift(),F=h+d.shift(),p.curveTo(a,o,u,h,D,F);break;case 26:for(d.length%2&&(D+=d.shift());d.length>0;)a=D,o=F+d.shift(),u=a+d.shift(),h=o+d.shift(),D=u,F=h+d.shift(),p.curveTo(a,o,u,h,D,F);break;case 27:for(d.length%2&&(F+=d.shift());d.length>0;)a=D+d.shift(),o=F,u=a+d.shift(),h=o+d.shift(),D=u+d.shift(),F=h,p.curveTo(a,o,u,h,D,F);break;case 28:Re=xe[Ie],Ke=xe[Ie+1],d.push((Re<<24|Ke<<16)>>16),Ie+=2;break;case 29:Ye=d.pop()+e.gsubrsBias,ge=e.gsubrs[Ye],ge&&Ce(ge);break;case 30:for(;d.length>0&&(a=D,o=F+d.shift(),u=a+d.shift(),h=o+d.shift(),D=u+d.shift(),F=h+(d.length===1?d.shift():0),p.curveTo(a,o,u,h,D,F),d.length!==0);)a=D+d.shift(),o=F,u=a+d.shift(),h=o+d.shift(),F=h+d.shift(),D=u+(d.length===1?d.shift():0),p.curveTo(a,o,u,h,D,F);break;case 31:for(;d.length>0&&(a=D+d.shift(),o=F,u=a+d.shift(),h=o+d.shift(),F=h+d.shift(),D=u+(d.length===1?d.shift():0),p.curveTo(a,o,u,h,D,F),d.length!==0);)a=D,o=F+d.shift(),u=a+d.shift(),h=o+d.shift(),D=u+d.shift(),F=h+(d.length===1?d.shift():0),p.curveTo(a,o,u,h,D,F);break;default:Ve<32?console.log("Glyph "+r.index+": unknown operator "+Ve):Ve<247?d.push(Ve-139):Ve<251?(Re=xe[Ie],Ie+=1,d.push((Ve-247)*256+Re+108)):Ve<255?(Re=xe[Ie],Ie+=1,d.push(-(Ve-251)*256-Re-108)):(Re=xe[Ie],Ke=xe[Ie+1],Ze=xe[Ie+2],Je=xe[Ie+3],Ie+=4,d.push((Re<<24|Ke<<16|Ze<<8|Je)/65536))}}}return Ce(n),r.advanceWidth=oe,p}function cf(e,r,n,a){var o=[],u,h=new we.Parser(e,r),p=h.parseCard8();if(p===0)for(var d=0;d<n;d++){if(u=h.parseCard8(),u>=a)throw new Error("CFF table CID Font FDSelect has bad FD index value "+u+" (FD count "+a+")");o.push(u)}else if(p===3){var k=h.parseCard16(),C=h.parseCard16();if(C!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+C);for(var R,D=0;D<k;D++){if(u=h.parseCard8(),R=h.parseCard16(),u>=a)throw new Error("CFF table CID Font FDSelect has bad FD index value "+u+" (FD count "+a+")");if(R>n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+R);for(;C<R;C++)o.push(u);C=R}if(R!==n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+R)}else throw new Error("CFF Table CID Font FDSelect table has unsupported format "+p);return o}function df(e,r,n,a){n.tables.cff={};var o=uf(e,r),u=pr(e,o.endOffset,we.bytesToString),h=pr(e,u.endOffset),p=pr(e,h.endOffset,we.bytesToString),d=pr(e,p.endOffset);n.gsubrs=d.objects,n.gsubrsBias=Xi(n.gsubrs);var k=ns(e,r,h.objects,p.objects);if(k.length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+k.length);var C=k[0];if(n.tables.cff.topDict=C,C._privateDict&&(n.defaultWidthX=C._privateDict.defaultWidthX,n.nominalWidthX=C._privateDict.nominalWidthX),C.ros[0]!==void 0&&C.ros[1]!==void 0&&(n.isCIDFont=!0),n.isCIDFont){var R=C.fdArray,D=C.fdSelect;if(R===0||D===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");R+=r;var F=pr(e,R),q=ns(e,r,F.objects,p.objects);C._fdArray=q,D+=r,C._fdSelect=cf(e,D,n.numGlyphs,q.length)}var G=r+C.private[1],J=mo(e,G,C.private[0],p.objects);if(n.defaultWidthX=J.defaultWidthX,n.nominalWidthX=J.nominalWidthX,J.subrs!==0){var j=G+J.subrs,se=pr(e,j);n.subrs=se.objects,n.subrsBias=Xi(n.subrs)}else n.subrs=[],n.subrsBias=0;var re;a.lowMemory?(re=rf(e,r+C.charStrings),n.nGlyphs=re.offsets.length):(re=pr(e,r+C.charStrings),n.nGlyphs=re.objects.length);var oe=ff(e,r+C.charset,n.nGlyphs,p.objects);if(C.encoding===0?n.cffEncoding=new ri(Zl,oe):C.encoding===1?n.cffEncoding=new ri(Xl,oe):n.cffEncoding=hf(e,r+C.encoding,oe),n.encoding=n.encoding||n.cffEncoding,n.glyphs=new Qt.GlyphSet(n),a.lowMemory)n._push=function(Ce){var xe=nf(Ce,re.offsets,e,r+C.charStrings);n.glyphs.push(Ce,Qt.cffGlyphLoader(n,Ce,is,xe))};else for(var fe=0;fe<n.nGlyphs;fe+=1){var pe=re.objects[fe];n.glyphs.push(fe,Qt.cffGlyphLoader(n,fe,is,pe))}}function _o(e,r){var n,a=Wn.indexOf(e);return a>=0&&(n=a),a=r.indexOf(e),a>=0?n=a+Wn.length:(n=Wn.length+r.length,r.push(e)),n}function pf(){return new be.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}])}function gf(e){var r=new be.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);r.names=[];for(var n=0;n<e.length;n+=1)r.names.push({name:"name_"+n,type:"NAME",value:e[n]});return r}function yo(e,r,n){for(var a={},o=0;o<e.length;o+=1){var u=e[o],h=r[u.name];h!==void 0&&!ho(h,u.value)&&(u.type==="SID"&&(h=_o(h,n)),a[u.op]={name:u.name,type:u.type,value:h})}return a}function as(e,r){var n=new be.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=yo(go,e,r),n}function ss(e){var r=new be.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return r.topDicts=[{name:"topDict_0",type:"TABLE",value:e}],r}function vf(e){var r=new be.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);r.strings=[];for(var n=0;n<e.length;n+=1)r.strings.push({name:"string_"+n,type:"STRING",value:e[n]});return r}function mf(){return new be.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}])}function _f(e,r){for(var n=new be.Record("Charsets",[{name:"format",type:"Card8",value:0}]),a=0;a<e.length;a+=1){var o=e[a],u=_o(o,r);n.fields.push({name:"glyph_"+a,type:"SID",value:u})}return n}function yf(e){var r=[],n=e.path;r.push({name:"width",type:"NUMBER",value:e.advanceWidth});for(var a=0,o=0,u=0;u<n.commands.length;u+=1){var h=void 0,p=void 0,d=n.commands[u];if(d.type==="Q"){var k=.3333333333333333,C=2/3;d={type:"C",x:d.x,y:d.y,x1:Math.round(k*a+C*d.x1),y1:Math.round(k*o+C*d.y1),x2:Math.round(k*d.x+C*d.x1),y2:Math.round(k*d.y+C*d.y1)}}if(d.type==="M")h=Math.round(d.x-a),p=Math.round(d.y-o),r.push({name:"dx",type:"NUMBER",value:h}),r.push({name:"dy",type:"NUMBER",value:p}),r.push({name:"rmoveto",type:"OP",value:21}),a=Math.round(d.x),o=Math.round(d.y);else if(d.type==="L")h=Math.round(d.x-a),p=Math.round(d.y-o),r.push({name:"dx",type:"NUMBER",value:h}),r.push({name:"dy",type:"NUMBER",value:p}),r.push({name:"rlineto",type:"OP",value:5}),a=Math.round(d.x),o=Math.round(d.y);else if(d.type==="C"){var R=Math.round(d.x1-a),D=Math.round(d.y1-o),F=Math.round(d.x2-d.x1),q=Math.round(d.y2-d.y1);h=Math.round(d.x-d.x2),p=Math.round(d.y-d.y2),r.push({name:"dx1",type:"NUMBER",value:R}),r.push({name:"dy1",type:"NUMBER",value:D}),r.push({name:"dx2",type:"NUMBER",value:F}),r.push({name:"dy2",type:"NUMBER",value:q}),r.push({name:"dx",type:"NUMBER",value:h}),r.push({name:"dy",type:"NUMBER",value:p}),r.push({name:"rrcurveto",type:"OP",value:8}),a=Math.round(d.x),o=Math.round(d.y)}}return r.push({name:"endchar",type:"OP",value:14}),r}function xf(e){for(var r=new be.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),n=0;n<e.length;n+=1){var a=e.get(n),o=yf(a);r.charStrings.push({name:a.name,type:"CHARSTRING",value:o})}return r}function bf(e,r){var n=new be.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=yo(vo,e,r),n}function Sf(e,r){for(var n=new be.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),a=1/r.unitsPerEm,o={version:r.version,fullName:r.fullName,familyName:r.familyName,weight:r.weightName,fontBBox:r.fontBBox||[0,0,0,0],fontMatrix:[a,0,0,a,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},u={},h=[],p,d=1;d<e.length;d+=1)p=e.get(d),h.push(p.name);var k=[];n.header=pf(),n.nameIndex=gf([r.postScriptName]);var C=as(o,k);n.topDictIndex=ss(C),n.globalSubrIndex=mf(),n.charsets=_f(h,k),n.charStringsIndex=xf(e),n.privateDict=bf(u,k),n.stringIndex=vf(k);var R=n.header.sizeOf()+n.nameIndex.sizeOf()+n.topDictIndex.sizeOf()+n.stringIndex.sizeOf()+n.globalSubrIndex.sizeOf();return o.charset=R,o.encoding=0,o.charStrings=o.charset+n.charsets.sizeOf(),o.private[1]=o.charStrings+n.charStringsIndex.sizeOf(),C=as(o,k),n.topDictIndex=ss(C),n}var xo={parse:df,make:Sf};function wf(e,r){var n={},a=new we.Parser(e,r);return n.version=a.parseVersion(),n.fontRevision=Math.round(a.parseFixed()*1e3)/1e3,n.checkSumAdjustment=a.parseULong(),n.magicNumber=a.parseULong(),Ae.argument(n.magicNumber===1594834165,"Font header has wrong magic number."),n.flags=a.parseUShort(),n.unitsPerEm=a.parseUShort(),n.created=a.parseLongDateTime(),n.modified=a.parseLongDateTime(),n.xMin=a.parseShort(),n.yMin=a.parseShort(),n.xMax=a.parseShort(),n.yMax=a.parseShort(),n.macStyle=a.parseUShort(),n.lowestRecPPEM=a.parseUShort(),n.fontDirectionHint=a.parseShort(),n.indexToLocFormat=a.parseShort(),n.glyphDataFormat=a.parseShort(),n}function Cf(e){var r=Math.round(new Date().getTime()/1e3)+2082844800,n=r;return e.createdTimestamp&&(n=e.createdTimestamp+2082844800),new be.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:n},{name:"modified",type:"LONGDATETIME",value:r},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],e)}var bo={parse:wf,make:Cf};function Tf(e,r){var n={},a=new we.Parser(e,r);return n.version=a.parseVersion(),n.ascender=a.parseShort(),n.descender=a.parseShort(),n.lineGap=a.parseShort(),n.advanceWidthMax=a.parseUShort(),n.minLeftSideBearing=a.parseShort(),n.minRightSideBearing=a.parseShort(),n.xMaxExtent=a.parseShort(),n.caretSlopeRise=a.parseShort(),n.caretSlopeRun=a.parseShort(),n.caretOffset=a.parseShort(),a.relativeOffset+=8,n.metricDataFormat=a.parseShort(),n.numberOfHMetrics=a.parseUShort(),n}function kf(e){return new be.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],e)}var So={parse:Tf,make:kf};function Ff(e,r,n,a,o){for(var u,h,p=new we.Parser(e,r),d=0;d<a;d+=1){d<n&&(u=p.parseUShort(),h=p.parseShort());var k=o.get(d);k.advanceWidth=u,k.leftSideBearing=h}}function Ef(e,r,n,a,o){e._hmtxTableData={};for(var u,h,p=new we.Parser(r,n),d=0;d<o;d+=1)d<a&&(u=p.parseUShort(),h=p.parseShort()),e._hmtxTableData[d]={advanceWidth:u,leftSideBearing:h}}function Af(e,r,n,a,o,u,h){h.lowMemory?Ef(e,r,n,a,o):Ff(r,n,a,o,u)}function Of(e){for(var r=new be.Table("hmtx",[]),n=0;n<e.length;n+=1){var a=e.get(n),o=a.advanceWidth||0,u=a.leftSideBearing||0;r.fields.push({name:"advanceWidth_"+n,type:"USHORT",value:o}),r.fields.push({name:"leftSideBearing_"+n,type:"SHORT",value:u})}return r}var wo={parse:Af,make:Of};function Pf(e){for(var r=new be.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:e.length}]),n="",a=12+e.length*4,o=0;o<e.length;++o){var u=n.indexOf(e[o]);u<0&&(u=n.length,n+=e[o]),r.fields.push({name:"offset "+o,type:"USHORT",value:a+u}),r.fields.push({name:"length "+o,type:"USHORT",value:e[o].length})}return r.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),r}function Lf(e,r){var n=new we.Parser(e,r),a=n.parseULong();Ae.argument(a===1,"Unsupported ltag table version."),n.skip("uLong",1);for(var o=n.parseULong(),u=[],h=0;h<o;h++){for(var p="",d=r+n.parseUShort(),k=n.parseUShort(),C=d;C<d+k;++C)p+=String.fromCharCode(e.getInt8(C));u.push(p)}return u}var Co={make:Pf,parse:Lf};function If(e,r){var n={},a=new we.Parser(e,r);return n.version=a.parseVersion(),n.numGlyphs=a.parseUShort(),n.version===1&&(n.maxPoints=a.parseUShort(),n.maxContours=a.parseUShort(),n.maxCompositePoints=a.parseUShort(),n.maxCompositeContours=a.parseUShort(),n.maxZones=a.parseUShort(),n.maxTwilightPoints=a.parseUShort(),n.maxStorage=a.parseUShort(),n.maxFunctionDefs=a.parseUShort(),n.maxInstructionDefs=a.parseUShort(),n.maxStackElements=a.parseUShort(),n.maxSizeOfInstructions=a.parseUShort(),n.maxComponentElements=a.parseUShort(),n.maxComponentDepth=a.parseUShort()),n}function Mf(e){return new be.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:e}])}var To={parse:If,make:Mf},ko=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Fo={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Uf={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},Eo={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function Df(e,r,n){switch(e){case 0:if(r===65535)return"und";if(n)return n[r];break;case 1:return Fo[r];case 3:return Eo[r]}}var Yi="utf-16",Rf={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Bf={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function Ao(e,r,n){switch(e){case 0:return Yi;case 1:return Bf[n]||Rf[r];case 3:if(r===1||r===10)return Yi;break}}function Nf(e,r,n){for(var a={},o=new we.Parser(e,r),u=o.parseUShort(),h=o.parseUShort(),p=o.offset+o.parseUShort(),d=0;d<h;d++){var k=o.parseUShort(),C=o.parseUShort(),R=o.parseUShort(),D=o.parseUShort(),F=ko[D]||D,q=o.parseUShort(),G=o.parseUShort(),J=Df(k,R,n),j=Ao(k,C,R);if(j!==void 0&&J!==void 0){var se=void 0;if(j===Yi?se=Qr.UTF16(e,p+G,q):se=Qr.MACSTRING(e,p+G,q,j),se){var re=a[F];re===void 0&&(re=a[F]={}),re[J]=se}}}return u===1&&o.parseUShort(),a}function Ui(e){var r={};for(var n in e)r[e[n]]=parseInt(n);return r}function os(e,r,n,a,o,u){return new be.Record("NameRecord",[{name:"platformID",type:"USHORT",value:e},{name:"encodingID",type:"USHORT",value:r},{name:"languageID",type:"USHORT",value:n},{name:"nameID",type:"USHORT",value:a},{name:"length",type:"USHORT",value:o},{name:"offset",type:"USHORT",value:u}])}function zf(e,r){var n=e.length,a=r.length-n+1;e:for(var o=0;o<a;o++)for(;o<a;o++){for(var u=0;u<n;u++)if(r[o+u]!==e[u])continue e;return o}return-1}function us(e,r){var n=zf(e,r);if(n<0){n=r.length;for(var a=0,o=e.length;a<o;++a)r.push(e[a])}return n}function Gf(e,r){var n,a=[],o={},u=Ui(ko);for(var h in e){var p=u[h];if(p===void 0&&(p=h),n=parseInt(p),isNaN(n))throw new Error('Name table entry "'+h+'" does not exist, see nameTableNames for complete list.');o[n]=e[h],a.push(n)}for(var d=Ui(Fo),k=Ui(Eo),C=[],R=[],D=0;D<a.length;D++){n=a[D];var F=o[n];for(var q in F){var G=F[q],J=1,j=d[q],se=Uf[j],re=Ao(J,se,j),oe=ve.MACSTRING(G,re);oe===void 0&&(J=0,j=r.indexOf(q),j<0&&(j=r.length,r.push(q)),se=4,oe=ve.UTF16(G));var fe=us(oe,R);C.push(os(J,se,j,n,oe.length,fe));var pe=k[q];if(pe!==void 0){var Ce=ve.UTF16(G),xe=us(Ce,R);C.push(os(3,1,pe,n,Ce.length,xe))}}}C.sort(function(Ze,Je){return Ze.platformID-Je.platformID||Ze.encodingID-Je.encodingID||Ze.languageID-Je.languageID||Ze.nameID-Je.nameID});for(var Re=new be.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:C.length},{name:"stringOffset",type:"USHORT",value:6+C.length*12}]),Ke=0;Ke<C.length;Ke++)Re.fields.push({name:"record_"+Ke,type:"RECORD",value:C[Ke]});return Re.fields.push({name:"strings",type:"LITERAL",value:R}),Re}var Oo={parse:Nf,make:Gf},ji=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];function Hf(e){for(var r=0;r<ji.length;r+=1){var n=ji[r];if(e>=n.begin&&e<n.end)return r}return-1}function Vf(e,r){var n={},a=new we.Parser(e,r);n.version=a.parseUShort(),n.xAvgCharWidth=a.parseShort(),n.usWeightClass=a.parseUShort(),n.usWidthClass=a.parseUShort(),n.fsType=a.parseUShort(),n.ySubscriptXSize=a.parseShort(),n.ySubscriptYSize=a.parseShort(),n.ySubscriptXOffset=a.parseShort(),n.ySubscriptYOffset=a.parseShort(),n.ySuperscriptXSize=a.parseShort(),n.ySuperscriptYSize=a.parseShort(),n.ySuperscriptXOffset=a.parseShort(),n.ySuperscriptYOffset=a.parseShort(),n.yStrikeoutSize=a.parseShort(),n.yStrikeoutPosition=a.parseShort(),n.sFamilyClass=a.parseShort(),n.panose=[];for(var o=0;o<10;o++)n.panose[o]=a.parseByte();return n.ulUnicodeRange1=a.parseULong(),n.ulUnicodeRange2=a.parseULong(),n.ulUnicodeRange3=a.parseULong(),n.ulUnicodeRange4=a.parseULong(),n.achVendID=String.fromCharCode(a.parseByte(),a.parseByte(),a.parseByte(),a.parseByte()),n.fsSelection=a.parseUShort(),n.usFirstCharIndex=a.parseUShort(),n.usLastCharIndex=a.parseUShort(),n.sTypoAscender=a.parseShort(),n.sTypoDescender=a.parseShort(),n.sTypoLineGap=a.parseShort(),n.usWinAscent=a.parseUShort(),n.usWinDescent=a.parseUShort(),n.version>=1&&(n.ulCodePageRange1=a.parseULong(),n.ulCodePageRange2=a.parseULong()),n.version>=2&&(n.sxHeight=a.parseShort(),n.sCapHeight=a.parseShort(),n.usDefaultChar=a.parseUShort(),n.usBreakChar=a.parseUShort(),n.usMaxContent=a.parseUShort()),n}function qf(e){return new be.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],e)}var Qi={parse:Vf,make:qf,unicodeRanges:ji,getUnicodeRange:Hf};function Wf(e,r){var n={},a=new we.Parser(e,r);switch(n.version=a.parseVersion(),n.italicAngle=a.parseFixed(),n.underlinePosition=a.parseShort(),n.underlineThickness=a.parseShort(),n.isFixedPitch=a.parseULong(),n.minMemType42=a.parseULong(),n.maxMemType42=a.parseULong(),n.minMemType1=a.parseULong(),n.maxMemType1=a.parseULong(),n.version){case 1:n.names=Er.slice();break;case 2:n.numberOfGlyphs=a.parseUShort(),n.glyphNameIndex=new Array(n.numberOfGlyphs);for(var o=0;o<n.numberOfGlyphs;o++)n.glyphNameIndex[o]=a.parseUShort();n.names=[];for(var u=0;u<n.numberOfGlyphs;u++)if(n.glyphNameIndex[u]>=Er.length){var h=a.parseChar();n.names.push(a.parseString(h))}break;case 2.5:n.numberOfGlyphs=a.parseUShort(),n.offset=new Array(n.numberOfGlyphs);for(var p=0;p<n.numberOfGlyphs;p++)n.offset[p]=a.parseChar();break}return n}function Zf(){return new be.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}var Po={parse:Wf,make:Zf},Nt=new Array(9);Nt[1]=function(){var r=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:1,coverage:this.parsePointer(ee.coverage),deltaGlyphId:this.parseUShort()};if(n===2)return{substFormat:2,coverage:this.parsePointer(ee.coverage),substitute:this.parseOffset16List()};Ae.assert(!1,"0x"+r.toString(16)+": lookup type 1 format must be 1 or 2.")};Nt[2]=function(){var r=this.parseUShort();return Ae.argument(r===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:r,coverage:this.parsePointer(ee.coverage),sequences:this.parseListOfLists()}};Nt[3]=function(){var r=this.parseUShort();return Ae.argument(r===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:r,coverage:this.parsePointer(ee.coverage),alternateSets:this.parseListOfLists()}};Nt[4]=function(){var r=this.parseUShort();return Ae.argument(r===1,"GSUB ligature table identifier-format must be 1"),{substFormat:r,coverage:this.parsePointer(ee.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var Xr={sequenceIndex:ee.uShort,lookupListIndex:ee.uShort};Nt[5]=function(){var r=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:n,coverage:this.parsePointer(ee.coverage),ruleSets:this.parseListOfLists(function(){var u=this.parseUShort(),h=this.parseUShort();return{input:this.parseUShortList(u-1),lookupRecords:this.parseRecordList(h,Xr)}})};if(n===2)return{substFormat:n,coverage:this.parsePointer(ee.coverage),classDef:this.parsePointer(ee.classDef),classSets:this.parseListOfLists(function(){var u=this.parseUShort(),h=this.parseUShort();return{classes:this.parseUShortList(u-1),lookupRecords:this.parseRecordList(h,Xr)}})};if(n===3){var a=this.parseUShort(),o=this.parseUShort();return{substFormat:n,coverages:this.parseList(a,ee.pointer(ee.coverage)),lookupRecords:this.parseRecordList(o,Xr)}}Ae.assert(!1,"0x"+r.toString(16)+": lookup type 5 format must be 1, 2 or 3.")};Nt[6]=function(){var r=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:1,coverage:this.parsePointer(ee.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Xr)}})};if(n===2)return{substFormat:2,coverage:this.parsePointer(ee.coverage),backtrackClassDef:this.parsePointer(ee.classDef),inputClassDef:this.parsePointer(ee.classDef),lookaheadClassDef:this.parsePointer(ee.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Xr)}})};if(n===3)return{substFormat:3,backtrackCoverage:this.parseList(ee.pointer(ee.coverage)),inputCoverage:this.parseList(ee.pointer(ee.coverage)),lookaheadCoverage:this.parseList(ee.pointer(ee.coverage)),lookupRecords:this.parseRecordList(Xr)};Ae.assert(!1,"0x"+r.toString(16)+": lookup type 6 format must be 1, 2 or 3.")};Nt[7]=function(){var r=this.parseUShort();Ae.argument(r===1,"GSUB Extension Substitution subtable identifier-format must be 1");var n=this.parseUShort(),a=new ee(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:n,extension:Nt[n].call(a)}};Nt[8]=function(){var r=this.parseUShort();return Ae.argument(r===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:r,coverage:this.parsePointer(ee.coverage),backtrackCoverage:this.parseList(ee.pointer(ee.coverage)),lookaheadCoverage:this.parseList(ee.pointer(ee.coverage)),substitutes:this.parseUShortList()}};function Xf(e,r){r=r||0;var n=new ee(e,r),a=n.parseVersion(1);return Ae.argument(a===1||a===1.1,"Unsupported GSUB table version."),a===1?{version:a,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(Nt)}:{version:a,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(Nt),variations:n.parseFeatureVariationsList()}}var Kr=new Array(9);Kr[1]=function(r){return r.substFormat===1?new be.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new be.Coverage(r.coverage)},{name:"deltaGlyphID",type:"USHORT",value:r.deltaGlyphId}]):new be.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new be.Coverage(r.coverage)}].concat(be.ushortList("substitute",r.substitute)))};Kr[2]=function(r){return Ae.assert(r.substFormat===1,"Lookup type 2 substFormat must be 1."),new be.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new be.Coverage(r.coverage)}].concat(be.tableList("seqSet",r.sequences,function(n){return new be.Table("sequenceSetTable",be.ushortList("sequence",n))})))};Kr[3]=function(r){return Ae.assert(r.substFormat===1,"Lookup type 3 substFormat must be 1."),new be.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new be.Coverage(r.coverage)}].concat(be.tableList("altSet",r.alternateSets,function(n){return new be.Table("alternateSetTable",be.ushortList("alternate",n))})))};Kr[4]=function(r){return Ae.assert(r.substFormat===1,"Lookup type 4 substFormat must be 1."),new be.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new be.Coverage(r.coverage)}].concat(be.tableList("ligSet",r.ligatureSets,function(n){return new be.Table("ligatureSetTable",be.tableList("ligature",n,function(a){return new be.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:a.ligGlyph}].concat(be.ushortList("component",a.components,a.components.length+1)))}))})))};Kr[6]=function(r){if(r.substFormat===1){var n=new be.Table("chainContextTable",[{name:"substFormat",type:"USHORT",value:r.substFormat},{name:"coverage",type:"TABLE",value:new be.Coverage(r.coverage)}].concat(be.tableList("chainRuleSet",r.chainRuleSets,function(u){return new be.Table("chainRuleSetTable",be.tableList("chainRule",u,function(h){var p=be.ushortList("backtrackGlyph",h.backtrack,h.backtrack.length).concat(be.ushortList("inputGlyph",h.input,h.input.length+1)).concat(be.ushortList("lookaheadGlyph",h.lookahead,h.lookahead.length)).concat(be.ushortList("substitution",[],h.lookupRecords.length));return h.lookupRecords.forEach(function(d,k){p=p.concat({name:"sequenceIndex"+k,type:"USHORT",value:d.sequenceIndex}).concat({name:"lookupListIndex"+k,type:"USHORT",value:d.lookupListIndex})}),new be.Table("chainRuleTable",p)}))})));return n}else if(r.substFormat===2)Ae.assert(!1,"lookup type 6 format 2 is not yet supported.");else if(r.substFormat===3){var a=[{name:"substFormat",type:"USHORT",value:r.substFormat}];a.push({name:"backtrackGlyphCount",type:"USHORT",value:r.backtrackCoverage.length}),r.backtrackCoverage.forEach(function(u,h){a.push({name:"backtrackCoverage"+h,type:"TABLE",value:new be.Coverage(u)})}),a.push({name:"inputGlyphCount",type:"USHORT",value:r.inputCoverage.length}),r.inputCoverage.forEach(function(u,h){a.push({name:"inputCoverage"+h,type:"TABLE",value:new be.Coverage(u)})}),a.push({name:"lookaheadGlyphCount",type:"USHORT",value:r.lookaheadCoverage.length}),r.lookaheadCoverage.forEach(function(u,h){a.push({name:"lookaheadCoverage"+h,type:"TABLE",value:new be.Coverage(u)})}),a.push({name:"substitutionCount",type:"USHORT",value:r.lookupRecords.length}),r.lookupRecords.forEach(function(u,h){a=a.concat({name:"sequenceIndex"+h,type:"USHORT",value:u.sequenceIndex}).concat({name:"lookupListIndex"+h,type:"USHORT",value:u.lookupListIndex})});var o=new be.Table("chainContextTable",a);return o}Ae.assert(!1,"lookup type 6 format must be 1, 2 or 3.")};function Yf(e){return new be.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new be.ScriptList(e.scripts)},{name:"features",type:"TABLE",value:new be.FeatureList(e.features)},{name:"lookups",type:"TABLE",value:new be.LookupList(e.lookups,Kr)}])}var Lo={parse:Xf,make:Yf};function jf(e,r){var n=new we.Parser(e,r),a=n.parseULong();Ae.argument(a===1,"Unsupported META table version."),n.parseULong(),n.parseULong();for(var o=n.parseULong(),u={},h=0;h<o;h++){var p=n.parseTag(),d=n.parseULong(),k=n.parseULong(),C=Qr.UTF8(e,r+d,k);u[p]=C}return u}function Qf(e){var r=Object.keys(e).length,n="",a=16+r*12,o=new be.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:a},{name:"numTags",type:"ULONG",value:r}]);for(var u in e){var h=n.length;n+=e[u],o.fields.push({name:"tag "+u,type:"TAG",value:u}),o.fields.push({name:"offset "+u,type:"ULONG",value:a+h}),o.fields.push({name:"length "+u,type:"ULONG",value:e[u].length})}return o.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),o}var Io={parse:jf,make:Qf};function ls(e){return Math.log(e)/Math.log(2)|0}function oa(e){for(;e.length%4!==0;)e.push(0);for(var r=0,n=0;n<e.length;n+=4)r+=(e[n]<<24)+(e[n+1]<<16)+(e[n+2]<<8)+e[n+3];return r%=Math.pow(2,32),r}function fs(e,r,n,a){return new be.Record("Table Record",[{name:"tag",type:"TAG",value:e!==void 0?e:""},{name:"checkSum",type:"ULONG",value:r!==void 0?r:0},{name:"offset",type:"ULONG",value:n!==void 0?n:0},{name:"length",type:"ULONG",value:a!==void 0?a:0}])}function Mo(e){var r=new be.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);r.tables=e,r.numTables=e.length;var n=Math.pow(2,ls(r.numTables));r.searchRange=16*n,r.entrySelector=ls(n),r.rangeShift=r.numTables*16-r.searchRange;for(var a=[],o=[],u=r.sizeOf()+fs().sizeOf()*r.numTables;u%4!==0;)u+=1,o.push({name:"padding",type:"BYTE",value:0});for(var h=0;h<e.length;h+=1){var p=e[h];Ae.argument(p.tableName.length===4,"Table name"+p.tableName+" is invalid.");var d=p.sizeOf(),k=fs(p.tableName,oa(p.encode()),u,d);for(a.push({name:k.tag+" Table Record",type:"RECORD",value:k}),o.push({name:p.tableName+" table",type:"RECORD",value:p}),u+=d,Ae.argument(!isNaN(u),"Something went wrong calculating the offset.");u%4!==0;)u+=1,o.push({name:"padding",type:"BYTE",value:0})}return a.sort(function(C,R){return C.value.tag>R.value.tag?1:-1}),r.fields=r.fields.concat(a),r.fields=r.fields.concat(o),r}function hs(e,r,n){for(var a=0;a<r.length;a+=1){var o=e.charToGlyphIndex(r[a]);if(o>0){var u=e.glyphs.get(o);return u.getMetrics()}}return n}function Kf(e){for(var r=0,n=0;n<e.length;n+=1)r+=e[n];return r/e.length}function Jf(e){for(var r=[],n=[],a=[],o=[],u=[],h=[],p=[],d,k=0,C=0,R=0,D=0,F=0,q=0;q<e.glyphs.length;q+=1){var G=e.glyphs.get(q),J=G.unicode|0;if(isNaN(G.advanceWidth))throw new Error("Glyph "+G.name+" ("+q+"): advanceWidth is not a number.");(d>J||d===void 0)&&J>0&&(d=J),k<J&&(k=J);var j=Qi.getUnicodeRange(J);if(j<32)C|=1<<j;else if(j<64)R|=1<<j-32;else if(j<96)D|=1<<j-64;else if(j<123)F|=1<<j-96;else throw new Error("Unicode ranges bits > 123 are reserved for internal usage");if(G.name!==".notdef"){var se=G.getMetrics();r.push(se.xMin),n.push(se.yMin),a.push(se.xMax),o.push(se.yMax),h.push(se.leftSideBearing),p.push(se.rightSideBearing),u.push(G.advanceWidth)}}var re={xMin:Math.min.apply(null,r),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,a),yMax:Math.max.apply(null,o),advanceWidthMax:Math.max.apply(null,u),advanceWidthAvg:Kf(u),minLeftSideBearing:Math.min.apply(null,h),maxLeftSideBearing:Math.max.apply(null,h),minRightSideBearing:Math.min.apply(null,p)};re.ascender=e.ascender,re.descender=e.descender;var oe=bo.make({flags:3,unitsPerEm:e.unitsPerEm,xMin:re.xMin,yMin:re.yMin,xMax:re.xMax,yMax:re.yMax,lowestRecPPEM:3,createdTimestamp:e.createdTimestamp}),fe=So.make({ascender:re.ascender,descender:re.descender,advanceWidthMax:re.advanceWidthMax,minLeftSideBearing:re.minLeftSideBearing,minRightSideBearing:re.minRightSideBearing,xMaxExtent:re.maxLeftSideBearing+(re.xMax-re.xMin),numberOfHMetrics:e.glyphs.length}),pe=To.make(e.glyphs.length),Ce=Qi.make(Object.assign({xAvgCharWidth:Math.round(re.advanceWidthAvg),usFirstCharIndex:d,usLastCharIndex:k,ulUnicodeRange1:C,ulUnicodeRange2:R,ulUnicodeRange3:D,ulUnicodeRange4:F,sTypoAscender:re.ascender,sTypoDescender:re.descender,sTypoLineGap:0,usWinAscent:re.yMax,usWinDescent:Math.abs(re.yMin),ulCodePageRange1:1,sxHeight:hs(e,"xyvw",{yMax:Math.round(re.ascender/2)}).yMax,sCapHeight:hs(e,"HIKLEFJMNTZBDPRAGOQSUVWXY",re).yMax,usDefaultChar:e.hasChar(" ")?32:0,usBreakChar:e.hasChar(" ")?32:0},e.tables.os2)),xe=wo.make(e.glyphs),Re=uo.make(e.glyphs),Ke=e.getEnglishName("fontFamily"),Ze=e.getEnglishName("fontSubfamily"),Je=Ke+" "+Ze,Ye=e.getEnglishName("postScriptName");Ye||(Ye=Ke.replace(/\s/g,"")+"-"+Ze);var ge={};for(var Qe in e.names)ge[Qe]=e.names[Qe];ge.uniqueID||(ge.uniqueID={en:e.getEnglishName("manufacturer")+":"+Je}),ge.postScriptName||(ge.postScriptName={en:Ye}),ge.preferredFamily||(ge.preferredFamily=e.names.fontFamily),ge.preferredSubfamily||(ge.preferredSubfamily=e.names.fontSubfamily);var ue=[],ze=Oo.make(ge,ue),We=ue.length>0?Co.make(ue):void 0,Te=Po.make(),He=xo.make(e.glyphs,{version:e.getEnglishName("version"),fullName:Je,familyName:Ke,weightName:Ze,postScriptName:Ye,unitsPerEm:e.unitsPerEm,fontBBox:[0,re.yMin,re.ascender,re.advanceWidthMax]}),Ie=e.metas&&Object.keys(e.metas).length>0?Io.make(e.metas):void 0,Ve=[oe,fe,pe,Ce,ze,Re,Te,He,xe];We&&Ve.push(We),e.tables.gsub&&Ve.push(Lo.make(e.tables.gsub)),Ie&&Ve.push(Ie);for(var xt=Mo(Ve),yr=xt.encode(),$e=oa(yr),Lt=xt.fields,Ur=!1,or=0;or<Lt.length;or+=1)if(Lt[or].name==="head table"){Lt[or].value.checkSumAdjustment=2981146554-$e,Ur=!0;break}if(!Ur)throw new Error("Could not find head table with checkSum to adjust.");return xt}var $f={make:Mo,fontToTable:Jf,computeCheckSum:oa};function Di(e,r){for(var n=0,a=e.length-1;n<=a;){var o=n+a>>>1,u=e[o].tag;if(u===r)return o;u<r?n=o+1:a=o-1}return-n-1}function cs(e,r){for(var n=0,a=e.length-1;n<=a;){var o=n+a>>>1,u=e[o];if(u===r)return o;u<r?n=o+1:a=o-1}return-n-1}function ds(e,r){for(var n,a=0,o=e.length-1;a<=o;){var u=a+o>>>1;n=e[u];var h=n.start;if(h===r)return n;h<r?a=u+1:o=u-1}if(a>0)return n=e[a-1],r>n.end?0:n}function yn(e,r){this.font=e,this.tableName=r}yn.prototype={searchTag:Di,binSearch:cs,getTable:function(e){var r=this.font.tables[this.tableName];return!r&&e&&(r=this.font.tables[this.tableName]=this.createDefaultTable()),r},getScriptNames:function(){var e=this.getTable();return e?e.scripts.map(function(r){return r.tag}):[]},getDefaultScriptName:function(){var e=this.getTable();if(!!e){for(var r=!1,n=0;n<e.scripts.length;n++){var a=e.scripts[n].tag;if(a==="DFLT")return a;a==="latn"&&(r=!0)}if(r)return"latn"}},getScriptTable:function(e,r){var n=this.getTable(r);if(n){e=e||"DFLT";var a=n.scripts,o=Di(n.scripts,e);if(o>=0)return a[o].script;if(r){var u={tag:e,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return a.splice(-1-o,0,u),u.script}}},getLangSysTable:function(e,r,n){var a=this.getScriptTable(e,n);if(a){if(!r||r==="dflt"||r==="DFLT")return a.defaultLangSys;var o=Di(a.langSysRecords,r);if(o>=0)return a.langSysRecords[o].langSys;if(n){var u={tag:r,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return a.langSysRecords.splice(-1-o,0,u),u.langSys}}},getFeatureTable:function(e,r,n,a){var o=this.getLangSysTable(e,r,a);if(o){for(var u,h=o.featureIndexes,p=this.font.tables[this.tableName].features,d=0;d<h.length;d++)if(u=p[h[d]],u.tag===n)return u.feature;if(a){var k=p.length;return Ae.assert(k===0||n>=p[k-1].tag,"Features must be added in alphabetical order."),u={tag:n,feature:{params:0,lookupListIndexes:[]}},p.push(u),h.push(k),u.feature}}},getLookupTables:function(e,r,n,a,o){var u=this.getFeatureTable(e,r,n,o),h=[];if(u){for(var p,d=u.lookupListIndexes,k=this.font.tables[this.tableName].lookups,C=0;C<d.length;C++)p=k[d[C]],p.lookupType===a&&h.push(p);if(h.length===0&&o){p={lookupType:a,lookupFlag:0,subtables:[],markFilteringSet:void 0};var R=k.length;return k.push(p),d.push(R),[p]}}return h},getGlyphClass:function(e,r){switch(e.format){case 1:return e.startGlyph<=r&&r<e.startGlyph+e.classes.length?e.classes[r-e.startGlyph]:0;case 2:var n=ds(e.ranges,r);return n?n.classId:0}},getCoverageIndex:function(e,r){switch(e.format){case 1:var n=cs(e.glyphs,r);return n>=0?n:-1;case 2:var a=ds(e.ranges,r);return a?a.index+r-a.start:-1}},expandCoverage:function(e){if(e.format===1)return e.glyphs;for(var r=[],n=e.ranges,a=0;a<n.length;a++)for(var o=n[a],u=o.start,h=o.end,p=u;p<=h;p++)r.push(p);return r}};function xn(e){yn.call(this,e,"gpos")}xn.prototype=yn.prototype;xn.prototype.init=function(){var e=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(e)};xn.prototype.getKerningValue=function(e,r,n){for(var a=0;a<e.length;a++)for(var o=e[a].subtables,u=0;u<o.length;u++){var h=o[u],p=this.getCoverageIndex(h.coverage,r);if(!(p<0))switch(h.posFormat){case 1:for(var d=h.pairSets[p],k=0;k<d.length;k++){var C=d[k];if(C.secondGlyph===n)return C.value1&&C.value1.xAdvance||0}break;case 2:var R=this.getGlyphClass(h.classDef1,r),D=this.getGlyphClass(h.classDef2,n),F=h.classRecords[R][D];return F.value1&&F.value1.xAdvance||0}}return 0};xn.prototype.getKerningTables=function(e,r){if(this.font.tables.gpos)return this.getLookupTables(e,r,"kern",2)};function Et(e){yn.call(this,e,"gsub")}function eh(e,r){var n=e.length;if(n!==r.length)return!1;for(var a=0;a<n;a++)if(e[a]!==r[a])return!1;return!0}function ua(e,r,n){for(var a=e.subtables,o=0;o<a.length;o++){var u=a[o];if(u.substFormat===r)return u}if(n)return a.push(n),n}Et.prototype=yn.prototype;Et.prototype.createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}};Et.prototype.getSingle=function(e,r,n){for(var a=[],o=this.getLookupTables(r,n,e,1),u=0;u<o.length;u++)for(var h=o[u].subtables,p=0;p<h.length;p++){var d=h[p],k=this.expandCoverage(d.coverage),C=void 0;if(d.substFormat===1){var R=d.deltaGlyphId;for(C=0;C<k.length;C++){var D=k[C];a.push({sub:D,by:D+R})}}else{var F=d.substitute;for(C=0;C<k.length;C++)a.push({sub:k[C],by:F[C]})}}return a};Et.prototype.getMultiple=function(e,r,n){for(var a=[],o=this.getLookupTables(r,n,e,2),u=0;u<o.length;u++)for(var h=o[u].subtables,p=0;p<h.length;p++){var d=h[p],k=this.expandCoverage(d.coverage),C=void 0;for(C=0;C<k.length;C++){var R=k[C],D=d.sequences[C];a.push({sub:R,by:D})}}return a};Et.prototype.getAlternates=function(e,r,n){for(var a=[],o=this.getLookupTables(r,n,e,3),u=0;u<o.length;u++)for(var h=o[u].subtables,p=0;p<h.length;p++)for(var d=h[p],k=this.expandCoverage(d.coverage),C=d.alternateSets,R=0;R<k.length;R++)a.push({sub:k[R],by:C[R]});return a};Et.prototype.getLigatures=function(e,r,n){for(var a=[],o=this.getLookupTables(r,n,e,4),u=0;u<o.length;u++)for(var h=o[u].subtables,p=0;p<h.length;p++)for(var d=h[p],k=this.expandCoverage(d.coverage),C=d.ligatureSets,R=0;R<k.length;R++)for(var D=k[R],F=C[R],q=0;q<F.length;q++){var G=F[q];a.push({sub:[D].concat(G.components),by:G.ligGlyph})}return a};Et.prototype.addSingle=function(e,r,n,a){var o=this.getLookupTables(n,a,e,1,!0)[0],u=ua(o,2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});Ae.assert(u.coverage.format===1,"Single: unable to modify coverage table format "+u.coverage.format);var h=r.sub,p=this.binSearch(u.coverage.glyphs,h);p<0&&(p=-1-p,u.coverage.glyphs.splice(p,0,h),u.substitute.splice(p,0,0)),u.substitute[p]=r.by};Et.prototype.addMultiple=function(e,r,n,a){Ae.assert(r.by instanceof Array&&r.by.length>1,'Multiple: "by" must be an array of two or more ids');var o=this.getLookupTables(n,a,e,2,!0)[0],u=ua(o,1,{substFormat:1,coverage:{format:1,glyphs:[]},sequences:[]});Ae.assert(u.coverage.format===1,"Multiple: unable to modify coverage table format "+u.coverage.format);var h=r.sub,p=this.binSearch(u.coverage.glyphs,h);p<0&&(p=-1-p,u.coverage.glyphs.splice(p,0,h),u.sequences.splice(p,0,0)),u.sequences[p]=r.by};Et.prototype.addAlternate=function(e,r,n,a){var o=this.getLookupTables(n,a,e,3,!0)[0],u=ua(o,1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});Ae.assert(u.coverage.format===1,"Alternate: unable to modify coverage table format "+u.coverage.format);var h=r.sub,p=this.binSearch(u.coverage.glyphs,h);p<0&&(p=-1-p,u.coverage.glyphs.splice(p,0,h),u.alternateSets.splice(p,0,0)),u.alternateSets[p]=r.by};Et.prototype.addLigature=function(e,r,n,a){var o=this.getLookupTables(n,a,e,4,!0)[0],u=o.subtables[0];u||(u={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},o.subtables[0]=u),Ae.assert(u.coverage.format===1,"Ligature: unable to modify coverage table format "+u.coverage.format);var h=r.sub[0],p=r.sub.slice(1),d={ligGlyph:r.by,components:p},k=this.binSearch(u.coverage.glyphs,h);if(k>=0){for(var C=u.ligatureSets[k],R=0;R<C.length;R++)if(eh(C[R].components,p))return;C.push(d)}else k=-1-k,u.coverage.glyphs.splice(k,0,h),u.ligatureSets.splice(k,0,[d])};Et.prototype.getFeature=function(e,r,n){if(/ss\d\d/.test(e))return this.getSingle(e,r,n);switch(e){case"aalt":case"salt":return this.getSingle(e,r,n).concat(this.getAlternates(e,r,n));case"dlig":case"liga":case"rlig":return this.getLigatures(e,r,n);case"ccmp":return this.getMultiple(e,r,n).concat(this.getLigatures(e,r,n));case"stch":return this.getMultiple(e,r,n)}};Et.prototype.add=function(e,r,n,a){if(/ss\d\d/.test(e))return this.addSingle(e,r,n,a);switch(e){case"aalt":case"salt":return typeof r.by=="number"?this.addSingle(e,r,n,a):this.addAlternate(e,r,n,a);case"dlig":case"liga":case"rlig":return this.addLigature(e,r,n,a);case"ccmp":return r.by instanceof Array?this.addMultiple(e,r,n,a):this.addLigature(e,r,n,a)}};function th(){return typeof window!="undefined"}function Uo(e){for(var r=new ArrayBuffer(e.length),n=new Uint8Array(r),a=0;a<e.length;++a)n[a]=e[a];return r}function rh(e){for(var r=new Buffer(e.byteLength),n=new Uint8Array(e),a=0;a<r.length;++a)r[a]=n[a];return r}function sn(e,r){if(!e)throw r}function ps(e,r,n,a,o){var u;return(r&a)>0?(u=e.parseByte(),(r&o)===0&&(u=-u),u=n+u):(r&o)>0?u=n:u=n+e.parseShort(),u}function Do(e,r,n){var a=new we.Parser(r,n);e.numberOfContours=a.parseShort(),e._xMin=a.parseShort(),e._yMin=a.parseShort(),e._xMax=a.parseShort(),e._yMax=a.parseShort();var o,u;if(e.numberOfContours>0){for(var h=e.endPointIndices=[],p=0;p<e.numberOfContours;p+=1)h.push(a.parseUShort());e.instructionLength=a.parseUShort(),e.instructions=[];for(var d=0;d<e.instructionLength;d+=1)e.instructions.push(a.parseByte());var k=h[h.length-1]+1;o=[];for(var C=0;C<k;C+=1)if(u=a.parseByte(),o.push(u),(u&8)>0)for(var R=a.parseByte(),D=0;D<R;D+=1)o.push(u),C+=1;if(Ae.argument(o.length===k,"Bad flags."),h.length>0){var F=[],q;if(k>0){for(var G=0;G<k;G+=1)u=o[G],q={},q.onCurve=!!(u&1),q.lastPointOfContour=h.indexOf(G)>=0,F.push(q);for(var J=0,j=0;j<k;j+=1)u=o[j],q=F[j],q.x=ps(a,u,J,2,16),J=q.x;for(var se=0,re=0;re<k;re+=1)u=o[re],q=F[re],q.y=ps(a,u,se,4,32),se=q.y}e.points=F}else e.points=[]}else if(e.numberOfContours===0)e.points=[];else{e.isComposite=!0,e.points=[],e.components=[];for(var oe=!0;oe;){o=a.parseUShort();var fe={glyphIndex:a.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(o&1)>0?(o&2)>0?(fe.dx=a.parseShort(),fe.dy=a.parseShort()):fe.matchedPoints=[a.parseUShort(),a.parseUShort()]:(o&2)>0?(fe.dx=a.parseChar(),fe.dy=a.parseChar()):fe.matchedPoints=[a.parseByte(),a.parseByte()],(o&8)>0?fe.xScale=fe.yScale=a.parseF2Dot14():(o&64)>0?(fe.xScale=a.parseF2Dot14(),fe.yScale=a.parseF2Dot14()):(o&128)>0&&(fe.xScale=a.parseF2Dot14(),fe.scale01=a.parseF2Dot14(),fe.scale10=a.parseF2Dot14(),fe.yScale=a.parseF2Dot14()),e.components.push(fe),oe=!!(o&32)}if(o&256){e.instructionLength=a.parseUShort(),e.instructions=[];for(var pe=0;pe<e.instructionLength;pe+=1)e.instructions.push(a.parseByte())}}}function Ri(e,r){for(var n=[],a=0;a<e.length;a+=1){var o=e[a],u={x:r.xScale*o.x+r.scale01*o.y+r.dx,y:r.scale10*o.x+r.yScale*o.y+r.dy,onCurve:o.onCurve,lastPointOfContour:o.lastPointOfContour};n.push(u)}return n}function nh(e){for(var r=[],n=[],a=0;a<e.length;a+=1){var o=e[a];n.push(o),o.lastPointOfContour&&(r.push(n),n=[])}return Ae.argument(n.length===0,"There are still points left in the current contour."),r}function Ro(e){var r=new lt;if(!e)return r;for(var n=nh(e),a=0;a<n.length;++a){var o=n[a],u=null,h=o[o.length-1],p=o[0];if(h.onCurve)r.moveTo(h.x,h.y);else if(p.onCurve)r.moveTo(p.x,p.y);else{var d={x:(h.x+p.x)*.5,y:(h.y+p.y)*.5};r.moveTo(d.x,d.y)}for(var k=0;k<o.length;++k)if(u=h,h=p,p=o[(k+1)%o.length],h.onCurve)r.lineTo(h.x,h.y);else{var C=p;u.onCurve||((h.x+u.x)*.5,(h.y+u.y)*.5),p.onCurve||(C={x:(h.x+p.x)*.5,y:(h.y+p.y)*.5}),r.quadraticCurveTo(h.x,h.y,C.x,C.y)}r.closePath()}return r}function Bo(e,r){if(r.isComposite)for(var n=0;n<r.components.length;n+=1){var a=r.components[n],o=e.get(a.glyphIndex);if(o.getPath(),o.points){var u=void 0;if(a.matchedPoints===void 0)u=Ri(o.points,a);else{if(a.matchedPoints[0]>r.points.length-1||a.matchedPoints[1]>o.points.length-1)throw Error("Matched points out of range in "+r.name);var h=r.points[a.matchedPoints[0]],p=o.points[a.matchedPoints[1]],d={xScale:a.xScale,scale01:a.scale01,scale10:a.scale10,yScale:a.yScale,dx:0,dy:0};p=Ri([p],d)[0],d.dx=h.x-p.x,d.dy=h.y-p.y,u=Ri(o.points,d)}r.points=r.points.concat(u)}}return Ro(r.points)}function ih(e,r,n,a){for(var o=new Qt.GlyphSet(a),u=0;u<n.length-1;u+=1){var h=n[u],p=n[u+1];h!==p?o.push(u,Qt.ttfGlyphLoader(a,u,Do,e,r+h,Bo)):o.push(u,Qt.glyphLoader(a,u))}return o}function ah(e,r,n,a){var o=new Qt.GlyphSet(a);return a._push=function(u){var h=n[u],p=n[u+1];h!==p?o.push(u,Qt.ttfGlyphLoader(a,u,Do,e,r+h,Bo)):o.push(u,Qt.glyphLoader(a,u))},o}function sh(e,r,n,a,o){return o.lowMemory?ah(e,r,n,a):ih(e,r,n,a)}var No={getPath:Ro,parse:sh},zo,Mr,Go,Ki;function Ho(e){this.font=e,this.getCommands=function(r){return No.getPath(r).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function oh(e){return e}function Vo(e){return Math.sign(e)*Math.round(Math.abs(e))}function uh(e){return Math.sign(e)*Math.round(Math.abs(e*2))/2}function lh(e){return Math.sign(e)*(Math.round(Math.abs(e)+.5)-.5)}function fh(e){return Math.sign(e)*Math.ceil(Math.abs(e))}function hh(e){return Math.sign(e)*Math.floor(Math.abs(e))}var qo=function(e){var r=this.srPeriod,n=this.srPhase,a=this.srThreshold,o=1;return e<0&&(e=-e,o=-1),e+=a-n,e=Math.trunc(e/r)*r,e+=n,e<0?n*o:e*o},jt={x:1,y:0,axis:"x",distance:function(e,r,n,a){return(n?e.xo:e.x)-(a?r.xo:r.x)},interpolate:function(e,r,n,a){var o,u,h,p,d,k,C;if(!a||a===this){if(o=e.xo-r.xo,u=e.xo-n.xo,d=r.x-r.xo,k=n.x-n.xo,h=Math.abs(o),p=Math.abs(u),C=h+p,C===0){e.x=e.xo+(d+k)/2;return}e.x=e.xo+(d*p+k*h)/C;return}if(o=a.distance(e,r,!0,!0),u=a.distance(e,n,!0,!0),d=a.distance(r,r,!1,!0),k=a.distance(n,n,!1,!0),h=Math.abs(o),p=Math.abs(u),C=h+p,C===0){jt.setRelative(e,e,(d+k)/2,a,!0);return}jt.setRelative(e,e,(d*p+k*h)/C,a,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(e,r,n,a,o){if(!a||a===this){e.x=(o?r.xo:r.x)+n;return}var u=o?r.xo:r.x,h=o?r.yo:r.y,p=u+n*a.x,d=h+n*a.y;e.x=p+(e.y-d)/a.normalSlope},slope:0,touch:function(e){e.xTouched=!0},touched:function(e){return e.xTouched},untouch:function(e){e.xTouched=!1}},rr={x:0,y:1,axis:"y",distance:function(e,r,n,a){return(n?e.yo:e.y)-(a?r.yo:r.y)},interpolate:function(e,r,n,a){var o,u,h,p,d,k,C;if(!a||a===this){if(o=e.yo-r.yo,u=e.yo-n.yo,d=r.y-r.yo,k=n.y-n.yo,h=Math.abs(o),p=Math.abs(u),C=h+p,C===0){e.y=e.yo+(d+k)/2;return}e.y=e.yo+(d*p+k*h)/C;return}if(o=a.distance(e,r,!0,!0),u=a.distance(e,n,!0,!0),d=a.distance(r,r,!1,!0),k=a.distance(n,n,!1,!0),h=Math.abs(o),p=Math.abs(u),C=h+p,C===0){rr.setRelative(e,e,(d+k)/2,a,!0);return}rr.setRelative(e,e,(d*p+k*h)/C,a,!0)},normalSlope:0,setRelative:function(e,r,n,a,o){if(!a||a===this){e.y=(o?r.yo:r.y)+n;return}var u=o?r.xo:r.x,h=o?r.yo:r.y,p=u+n*a.x,d=h+n*a.y;e.y=d+a.normalSlope*(e.x-p)},slope:Number.POSITIVE_INFINITY,touch:function(e){e.yTouched=!0},touched:function(e){return e.yTouched},untouch:function(e){e.yTouched=!1}};Object.freeze(jt);Object.freeze(rr);function bn(e,r){this.x=e,this.y=r,this.axis=void 0,this.slope=r/e,this.normalSlope=-e/r,Object.freeze(this)}bn.prototype.distance=function(e,r,n,a){return this.x*jt.distance(e,r,n,a)+this.y*rr.distance(e,r,n,a)};bn.prototype.interpolate=function(e,r,n,a){var o,u,h,p,d,k,C;if(h=a.distance(e,r,!0,!0),p=a.distance(e,n,!0,!0),o=a.distance(r,r,!1,!0),u=a.distance(n,n,!1,!0),d=Math.abs(h),k=Math.abs(p),C=d+k,C===0){this.setRelative(e,e,(o+u)/2,a,!0);return}this.setRelative(e,e,(o*k+u*d)/C,a,!0)};bn.prototype.setRelative=function(e,r,n,a,o){a=a||this;var u=o?r.xo:r.x,h=o?r.yo:r.y,p=u+n*a.x,d=h+n*a.y,k=a.normalSlope,C=this.slope,R=e.x,D=e.y;e.x=(C*R-k*p+d-D)/(C-k),e.y=C*(e.x-R)+D};bn.prototype.touch=function(e){e.xTouched=!0,e.yTouched=!0};function Sn(e,r){var n=Math.sqrt(e*e+r*r);return e/=n,r/=n,e===1&&r===0?jt:e===0&&r===1?rr:new bn(e,r)}function nr(e,r,n,a){this.x=this.xo=Math.round(e*64)/64,this.y=this.yo=Math.round(r*64)/64,this.lastPointOfContour=n,this.onCurve=a,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}nr.prototype.nextTouched=function(e){for(var r=this.nextPointOnContour;!e.touched(r)&&r!==this;)r=r.nextPointOnContour;return r};nr.prototype.prevTouched=function(e){for(var r=this.prevPointOnContour;!e.touched(r)&&r!==this;)r=r.prevPointOnContour;return r};var mn=Object.freeze(new nr(0,0)),ch={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function gr(e,r){switch(this.env=e,this.stack=[],this.prog=r,e){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=jt,this.round=Vo}}Ho.prototype.exec=function(e,r){if(typeof r!="number")throw new Error("Point size is not a number!");if(!(this._errorState>2)){var n=this.font,a=this._prepState;if(!a||a.ppem!==r){var o=this._fpgmState;if(!o){gr.prototype=ch,o=this._fpgmState=new gr("fpgm",n.tables.fpgm),o.funcs=[],o.font=n,exports.DEBUG&&(console.log("---EXEC FPGM---"),o.step=-1);try{Mr(o)}catch(k){console.log("Hinting error in FPGM:"+k),this._errorState=3;return}}gr.prototype=o,a=this._prepState=new gr("prep",n.tables.prep),a.ppem=r;var u=n.tables.cvt;if(u)for(var h=a.cvt=new Array(u.length),p=r/n.unitsPerEm,d=0;d<u.length;d++)h[d]=u[d]*p;else a.cvt=[];exports.DEBUG&&(console.log("---EXEC PREP---"),a.step=-1);try{Mr(a)}catch(k){this._errorState<2&&console.log("Hinting error in PREP:"+k),this._errorState=2}}if(!(this._errorState>1))try{return Go(e,a)}catch(k){this._errorState<1&&(console.log("Hinting error:"+k),console.log("Note: further hinting errors are silenced")),this._errorState=1;return}}};Go=function(e,r){var n=r.ppem/r.font.unitsPerEm,a=n,o=e.components,u,h,p;if(gr.prototype=r,!o)p=new gr("glyf",e.instructions),exports.DEBUG&&(console.log("---EXEC GLYPH---"),p.step=-1),Ki(e,p,n,a),h=p.gZone;else{var d=r.font;h=[],u=[];for(var k=0;k<o.length;k++){var C=o[k],R=d.glyphs.get(C.glyphIndex);p=new gr("glyf",R.instructions),exports.DEBUG&&(console.log("---EXEC COMP "+k+"---"),p.step=-1),Ki(R,p,n,a);for(var D=Math.round(C.dx*n),F=Math.round(C.dy*a),q=p.gZone,G=p.contours,J=0;J<q.length;J++){var j=q[J];j.xTouched=j.yTouched=!1,j.xo=j.x=j.x+D,j.yo=j.y=j.y+F}var se=h.length;h.push.apply(h,q);for(var re=0;re<G.length;re++)u.push(G[re]+se)}e.instructions&&!p.inhibitGridFit&&(p=new gr("glyf",e.instructions),p.gZone=p.z0=p.z1=p.z2=h,p.contours=u,h.push(new nr(0,0),new nr(Math.round(e.advanceWidth*n),0)),exports.DEBUG&&(console.log("---EXEC COMPOSITE---"),p.step=-1),Mr(p),h.length-=2)}return h};Ki=function(e,r,n,a){for(var o=e.points||[],u=o.length,h=r.gZone=r.z0=r.z1=r.z2=[],p=r.contours=[],d,k=0;k<u;k++)d=o[k],h[k]=new nr(d.x*n,d.y*a,d.lastPointOfContour,d.onCurve);for(var C,R,D=0;D<u;D++)d=h[D],C||(C=d,p.push(D)),d.lastPointOfContour?(d.nextPointOnContour=C,C.prevPointOnContour=d,C=void 0):(R=h[D+1],d.nextPointOnContour=R,R.prevPointOnContour=d);if(!r.inhibitGridFit){if(exports.DEBUG){console.log("PROCESSING GLYPH",r.stack);for(var F=0;F<u;F++)console.log(F,h[F].x,h[F].y)}if(h.push(new nr(0,0),new nr(Math.round(e.advanceWidth*n),0)),Mr(r),h.length-=2,exports.DEBUG){console.log("FINISHED GLYPH",r.stack);for(var q=0;q<u;q++)console.log(q,h[q].x,h[q].y)}}};Mr=function(e){var r=e.prog;if(!!r){var n=r.length,a;for(e.ip=0;e.ip<n;e.ip++){if(exports.DEBUG&&e.step++,a=zo[r[e.ip]],!a)throw new Error("unknown instruction: 0x"+Number(r[e.ip]).toString(16));a(e)}}};function si(e){for(var r=e.tZone=new Array(e.gZone.length),n=0;n<r.length;n++)r[n]=new nr(0,0)}function Wo(e,r){var n=e.prog,a=e.ip,o=1,u;do if(u=n[++a],u===88)o++;else if(u===89)o--;else if(u===64)a+=n[a+1]+1;else if(u===65)a+=2*n[a+1]+1;else if(u>=176&&u<=183)a+=u-176+1;else if(u>=184&&u<=191)a+=(u-184+1)*2;else if(r&&o===1&&u===27)break;while(o>0);e.ip=a}function gs(e,r){exports.DEBUG&&console.log(r.step,"SVTCA["+e.axis+"]"),r.fv=r.pv=r.dpv=e}function vs(e,r){exports.DEBUG&&console.log(r.step,"SPVTCA["+e.axis+"]"),r.pv=r.dpv=e}function ms(e,r){exports.DEBUG&&console.log(r.step,"SFVTCA["+e.axis+"]"),r.fv=e}function _s(e,r){var n=r.stack,a=n.pop(),o=n.pop(),u=r.z2[a],h=r.z1[o];exports.DEBUG&&console.log("SPVTL["+e+"]",a,o);var p,d;e?(p=u.y-h.y,d=h.x-u.x):(p=h.x-u.x,d=h.y-u.y),r.pv=r.dpv=Sn(p,d)}function ys(e,r){var n=r.stack,a=n.pop(),o=n.pop(),u=r.z2[a],h=r.z1[o];exports.DEBUG&&console.log("SFVTL["+e+"]",a,o);var p,d;e?(p=u.y-h.y,d=h.x-u.x):(p=h.x-u.x,d=h.y-u.y),r.fv=Sn(p,d)}function dh(e){var r=e.stack,n=r.pop(),a=r.pop();exports.DEBUG&&console.log(e.step,"SPVFS[]",n,a),e.pv=e.dpv=Sn(a,n)}function ph(e){var r=e.stack,n=r.pop(),a=r.pop();exports.DEBUG&&console.log(e.step,"SPVFS[]",n,a),e.fv=Sn(a,n)}function gh(e){var r=e.stack,n=e.pv;exports.DEBUG&&console.log(e.step,"GPV[]"),r.push(n.x*16384),r.push(n.y*16384)}function vh(e){var r=e.stack,n=e.fv;exports.DEBUG&&console.log(e.step,"GFV[]"),r.push(n.x*16384),r.push(n.y*16384)}function mh(e){e.fv=e.pv,exports.DEBUG&&console.log(e.step,"SFVTPV[]")}function _h(e){var r=e.stack,n=r.pop(),a=r.pop(),o=r.pop(),u=r.pop(),h=r.pop(),p=e.z0,d=e.z1,k=p[n],C=p[a],R=d[o],D=d[u],F=e.z2[h];exports.DEBUG&&console.log("ISECT[], ",n,a,o,u,h);var q=k.x,G=k.y,J=C.x,j=C.y,se=R.x,re=R.y,oe=D.x,fe=D.y,pe=(q-J)*(re-fe)-(G-j)*(se-oe),Ce=q*j-G*J,xe=se*fe-re*oe;F.x=(Ce*(se-oe)-xe*(q-J))/pe,F.y=(Ce*(re-fe)-xe*(G-j))/pe}function yh(e){e.rp0=e.stack.pop(),exports.DEBUG&&console.log(e.step,"SRP0[]",e.rp0)}function xh(e){e.rp1=e.stack.pop(),exports.DEBUG&&console.log(e.step,"SRP1[]",e.rp1)}function bh(e){e.rp2=e.stack.pop(),exports.DEBUG&&console.log(e.step,"SRP2[]",e.rp2)}function Sh(e){var r=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SZP0[]",r),e.zp0=r,r){case 0:e.tZone||si(e),e.z0=e.tZone;break;case 1:e.z0=e.gZone;break;default:throw new Error("Invalid zone pointer")}}function wh(e){var r=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SZP1[]",r),e.zp1=r,r){case 0:e.tZone||si(e),e.z1=e.tZone;break;case 1:e.z1=e.gZone;break;default:throw new Error("Invalid zone pointer")}}function Ch(e){var r=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SZP2[]",r),e.zp2=r,r){case 0:e.tZone||si(e),e.z2=e.tZone;break;case 1:e.z2=e.gZone;break;default:throw new Error("Invalid zone pointer")}}function Th(e){var r=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SZPS[]",r),e.zp0=e.zp1=e.zp2=r,r){case 0:e.tZone||si(e),e.z0=e.z1=e.z2=e.tZone;break;case 1:e.z0=e.z1=e.z2=e.gZone;break;default:throw new Error("Invalid zone pointer")}}function kh(e){e.loop=e.stack.pop(),exports.DEBUG&&console.log(e.step,"SLOOP[]",e.loop)}function Fh(e){exports.DEBUG&&console.log(e.step,"RTG[]"),e.round=Vo}function Eh(e){exports.DEBUG&&console.log(e.step,"RTHG[]"),e.round=lh}function Ah(e){var r=e.stack.pop();exports.DEBUG&&console.log(e.step,"SMD[]",r),e.minDis=r/64}function Oh(e){exports.DEBUG&&console.log(e.step,"ELSE[]"),Wo(e,!1)}function Ph(e){var r=e.stack.pop();exports.DEBUG&&console.log(e.step,"JMPR[]",r),e.ip+=r-1}function Lh(e){var r=e.stack.pop();exports.DEBUG&&console.log(e.step,"SCVTCI[]",r),e.cvCutIn=r/64}function Ih(e){var r=e.stack;exports.DEBUG&&console.log(e.step,"DUP[]"),r.push(r[r.length-1])}function Bi(e){exports.DEBUG&&console.log(e.step,"POP[]"),e.stack.pop()}function Mh(e){exports.DEBUG&&console.log(e.step,"CLEAR[]"),e.stack.length=0}function Uh(e){var r=e.stack,n=r.pop(),a=r.pop();exports.DEBUG&&console.log(e.step,"SWAP[]"),r.push(n),r.push(a)}function Dh(e){var r=e.stack;exports.DEBUG&&console.log(e.step,"DEPTH[]"),r.push(r.length)}function Rh(e){var r=e.stack,n=r.pop(),a=r.pop();exports.DEBUG&&console.log(e.step,"LOOPCALL[]",n,a);var o=e.ip,u=e.prog;e.prog=e.funcs[n];for(var h=0;h<a;h++)Mr(e),exports.DEBUG&&console.log(++e.step,h+1<a?"next loopcall":"done loopcall",h);e.ip=o,e.prog=u}function Bh(e){var r=e.stack.pop();exports.DEBUG&&console.log(e.step,"CALL[]",r);var n=e.ip,a=e.prog;e.prog=e.funcs[r],Mr(e),e.ip=n,e.prog=a,exports.DEBUG&&console.log(++e.step,"returning from",r)}function Nh(e){var r=e.stack,n=r.pop();exports.DEBUG&&console.log(e.step,"CINDEX[]",n),r.push(r[r.length-n])}function zh(e){var r=e.stack,n=r.pop();exports.DEBUG&&console.log(e.step,"MINDEX[]",n),r.push(r.splice(r.length-n,1)[0])}function Gh(e){if(e.env!=="fpgm")throw new Error("FDEF not allowed here");var r=e.stack,n=e.prog,a=e.ip,o=r.pop(),u=a;for(exports.DEBUG&&console.log(e.step,"FDEF[]",o);n[++a]!==45;);e.ip=a,e.funcs[o]=n.slice(u+1,a)}function xs(e,r){var n=r.stack.pop(),a=r.z0[n],o=r.fv,u=r.pv;exports.DEBUG&&console.log(r.step,"MDAP["+e+"]",n);var h=u.distance(a,mn);e&&(h=r.round(h)),o.setRelative(a,mn,h,u),o.touch(a),r.rp0=r.rp1=n}function bs(e,r){var n=r.z2,a=n.length-2,o,u,h;exports.DEBUG&&console.log(r.step,"IUP["+e.axis+"]");for(var p=0;p<a;p++)o=n[p],!e.touched(o)&&(u=o.prevTouched(e),u!==o&&(h=o.nextTouched(e),u===h&&e.setRelative(o,o,e.distance(u,u,!1,!0),e,!0),e.interpolate(o,u,h,e)))}function Ss(e,r){for(var n=r.stack,a=e?r.rp1:r.rp2,o=(e?r.z0:r.z1)[a],u=r.fv,h=r.pv,p=r.loop,d=r.z2;p--;){var k=n.pop(),C=d[k],R=h.distance(o,o,!1,!0);u.setRelative(C,C,R,h),u.touch(C),exports.DEBUG&&console.log(r.step,(r.loop>1?"loop "+(r.loop-p)+": ":"")+"SHP["+(e?"rp1":"rp2")+"]",k)}r.loop=1}function ws(e,r){var n=r.stack,a=e?r.rp1:r.rp2,o=(e?r.z0:r.z1)[a],u=r.fv,h=r.pv,p=n.pop(),d=r.z2[r.contours[p]],k=d;exports.DEBUG&&console.log(r.step,"SHC["+e+"]",p);var C=h.distance(o,o,!1,!0);do k!==o&&u.setRelative(k,k,C,h),k=k.nextPointOnContour;while(k!==d)}function Cs(e,r){var n=r.stack,a=e?r.rp1:r.rp2,o=(e?r.z0:r.z1)[a],u=r.fv,h=r.pv,p=n.pop();exports.DEBUG&&console.log(r.step,"SHZ["+e+"]",p);var d;switch(p){case 0:d=r.tZone;break;case 1:d=r.gZone;break;default:throw new Error("Invalid zone")}for(var k,C=h.distance(o,o,!1,!0),R=d.length-2,D=0;D<R;D++)k=d[D],u.setRelative(k,k,C,h)}function Hh(e){for(var r=e.stack,n=e.loop,a=e.fv,o=r.pop()/64,u=e.z2;n--;){var h=r.pop(),p=u[h];exports.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-n)+": ":"")+"SHPIX[]",h,o),a.setRelative(p,p,o),a.touch(p)}e.loop=1}function Vh(e){for(var r=e.stack,n=e.rp1,a=e.rp2,o=e.loop,u=e.z0[n],h=e.z1[a],p=e.fv,d=e.dpv,k=e.z2;o--;){var C=r.pop(),R=k[C];exports.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-o)+": ":"")+"IP[]",C,n,"<->",a),p.interpolate(R,u,h,d),p.touch(R)}e.loop=1}function Ts(e,r){var n=r.stack,a=n.pop()/64,o=n.pop(),u=r.z1[o],h=r.z0[r.rp0],p=r.fv,d=r.pv;p.setRelative(u,h,a,d),p.touch(u),exports.DEBUG&&console.log(r.step,"MSIRP["+e+"]",a,o),r.rp1=r.rp0,r.rp2=o,e&&(r.rp0=o)}function qh(e){for(var r=e.stack,n=e.rp0,a=e.z0[n],o=e.loop,u=e.fv,h=e.pv,p=e.z1;o--;){var d=r.pop(),k=p[d];exports.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-o)+": ":"")+"ALIGNRP[]",d),u.setRelative(k,a,0,h),u.touch(k)}e.loop=1}function Wh(e){exports.DEBUG&&console.log(e.step,"RTDG[]"),e.round=uh}function ks(e,r){var n=r.stack,a=n.pop(),o=n.pop(),u=r.z0[o],h=r.fv,p=r.pv,d=r.cvt[a];exports.DEBUG&&console.log(r.step,"MIAP["+e+"]",a,"(",d,")",o);var k=p.distance(u,mn);e&&(Math.abs(k-d)<r.cvCutIn&&(k=d),k=r.round(k)),h.setRelative(u,mn,k,p),r.zp0===0&&(u.xo=u.x,u.yo=u.y),h.touch(u),r.rp0=r.rp1=o}function Zh(e){var r=e.prog,n=e.ip,a=e.stack,o=r[++n];exports.DEBUG&&console.log(e.step,"NPUSHB[]",o);for(var u=0;u<o;u++)a.push(r[++n]);e.ip=n}function Xh(e){var r=e.ip,n=e.prog,a=e.stack,o=n[++r];exports.DEBUG&&console.log(e.step,"NPUSHW[]",o);for(var u=0;u<o;u++){var h=n[++r]<<8|n[++r];h&32768&&(h=-((h^65535)+1)),a.push(h)}e.ip=r}function Yh(e){var r=e.stack,n=e.store;n||(n=e.store=[]);var a=r.pop(),o=r.pop();exports.DEBUG&&console.log(e.step,"WS",a,o),n[o]=a}function jh(e){var r=e.stack,n=e.store,a=r.pop();exports.DEBUG&&console.log(e.step,"RS",a);var o=n&&n[a]||0;r.push(o)}function Qh(e){var r=e.stack,n=r.pop(),a=r.pop();exports.DEBUG&&console.log(e.step,"WCVTP",n,a),e.cvt[a]=n/64}function Kh(e){var r=e.stack,n=r.pop();exports.DEBUG&&console.log(e.step,"RCVT",n),r.push(e.cvt[n]*64)}function Fs(e,r){var n=r.stack,a=n.pop(),o=r.z2[a];exports.DEBUG&&console.log(r.step,"GC["+e+"]",a),n.push(r.dpv.distance(o,mn,e,!1)*64)}function Es(e,r){var n=r.stack,a=n.pop(),o=n.pop(),u=r.z1[a],h=r.z0[o],p=r.dpv.distance(h,u,e,e);exports.DEBUG&&console.log(r.step,"MD["+e+"]",a,o,"->",p),r.stack.push(Math.round(p*64))}function Jh(e){exports.DEBUG&&console.log(e.step,"MPPEM[]"),e.stack.push(e.ppem)}function $h(e){exports.DEBUG&&console.log(e.step,"FLIPON[]"),e.autoFlip=!0}function ec(e){var r=e.stack,n=r.pop(),a=r.pop();exports.DEBUG&&console.log(e.step,"LT[]",n,a),r.push(a<n?1:0)}function tc(e){var r=e.stack,n=r.pop(),a=r.pop();exports.DEBUG&&console.log(e.step,"LTEQ[]",n,a),r.push(a<=n?1:0)}function rc(e){var r=e.stack,n=r.pop(),a=r.pop();exports.DEBUG&&console.log(e.step,"GT[]",n,a),r.push(a>n?1:0)}function nc(e){var r=e.stack,n=r.pop(),a=r.pop();exports.DEBUG&&console.log(e.step,"GTEQ[]",n,a),r.push(a>=n?1:0)}function ic(e){var r=e.stack,n=r.pop(),a=r.pop();exports.DEBUG&&console.log(e.step,"EQ[]",n,a),r.push(n===a?1:0)}function ac(e){var r=e.stack,n=r.pop(),a=r.pop();exports.DEBUG&&console.log(e.step,"NEQ[]",n,a),r.push(n!==a?1:0)}function sc(e){var r=e.stack,n=r.pop();exports.DEBUG&&console.log(e.step,"ODD[]",n),r.push(Math.trunc(n)%2?1:0)}function oc(e){var r=e.stack,n=r.pop();exports.DEBUG&&console.log(e.step,"EVEN[]",n),r.push(Math.trunc(n)%2?0:1)}function uc(e){var r=e.stack.pop();exports.DEBUG&&console.log(e.step,"IF[]",r),r||(Wo(e,!0),exports.DEBUG&&console.log(e.step,"EIF[]"))}function lc(e){exports.DEBUG&&console.log(e.step,"EIF[]")}function fc(e){var r=e.stack,n=r.pop(),a=r.pop();exports.DEBUG&&console.log(e.step,"AND[]",n,a),r.push(n&&a?1:0)}function hc(e){var r=e.stack,n=r.pop(),a=r.pop();exports.DEBUG&&console.log(e.step,"OR[]",n,a),r.push(n||a?1:0)}function cc(e){var r=e.stack,n=r.pop();exports.DEBUG&&console.log(e.step,"NOT[]",n),r.push(n?0:1)}function Ni(e,r){var n=r.stack,a=n.pop(),o=r.fv,u=r.pv,h=r.ppem,p=r.deltaBase+(e-1)*16,d=r.deltaShift,k=r.z0;exports.DEBUG&&console.log(r.step,"DELTAP["+e+"]",a,n);for(var C=0;C<a;C++){var R=n.pop(),D=n.pop(),F=p+((D&240)>>4);if(F===h){var q=(D&15)-8;q>=0&&q++,exports.DEBUG&&console.log(r.step,"DELTAPFIX",R,"by",q*d);var G=k[R];o.setRelative(G,G,q*d,u)}}}function dc(e){var r=e.stack,n=r.pop();exports.DEBUG&&console.log(e.step,"SDB[]",n),e.deltaBase=n}function pc(e){var r=e.stack,n=r.pop();exports.DEBUG&&console.log(e.step,"SDS[]",n),e.deltaShift=Math.pow(.5,n)}function gc(e){var r=e.stack,n=r.pop(),a=r.pop();exports.DEBUG&&console.log(e.step,"ADD[]",n,a),r.push(a+n)}function vc(e){var r=e.stack,n=r.pop(),a=r.pop();exports.DEBUG&&console.log(e.step,"SUB[]",n,a),r.push(a-n)}function mc(e){var r=e.stack,n=r.pop(),a=r.pop();exports.DEBUG&&console.log(e.step,"DIV[]",n,a),r.push(a*64/n)}function _c(e){var r=e.stack,n=r.pop(),a=r.pop();exports.DEBUG&&console.log(e.step,"MUL[]",n,a),r.push(a*n/64)}function yc(e){var r=e.stack,n=r.pop();exports.DEBUG&&console.log(e.step,"ABS[]",n),r.push(Math.abs(n))}function xc(e){var r=e.stack,n=r.pop();exports.DEBUG&&console.log(e.step,"NEG[]",n),r.push(-n)}function bc(e){var r=e.stack,n=r.pop();exports.DEBUG&&console.log(e.step,"FLOOR[]",n),r.push(Math.floor(n/64)*64)}function Sc(e){var r=e.stack,n=r.pop();exports.DEBUG&&console.log(e.step,"CEILING[]",n),r.push(Math.ceil(n/64)*64)}function Hn(e,r){var n=r.stack,a=n.pop();exports.DEBUG&&console.log(r.step,"ROUND[]"),n.push(r.round(a/64)*64)}function wc(e){var r=e.stack,n=r.pop(),a=r.pop();exports.DEBUG&&console.log(e.step,"WCVTF[]",n,a),e.cvt[a]=n*e.ppem/e.font.unitsPerEm}function zi(e,r){var n=r.stack,a=n.pop(),o=r.ppem,u=r.deltaBase+(e-1)*16,h=r.deltaShift;exports.DEBUG&&console.log(r.step,"DELTAC["+e+"]",a,n);for(var p=0;p<a;p++){var d=n.pop(),k=n.pop(),C=u+((k&240)>>4);if(C===o){var R=(k&15)-8;R>=0&&R++;var D=R*h;exports.DEBUG&&console.log(r.step,"DELTACFIX",d,"by",D),r.cvt[d]+=D}}}function Cc(e){var r=e.stack.pop();exports.DEBUG&&console.log(e.step,"SROUND[]",r),e.round=qo;var n;switch(r&192){case 0:n=.5;break;case 64:n=1;break;case 128:n=2;break;default:throw new Error("invalid SROUND value")}switch(e.srPeriod=n,r&48){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*n;break;case 32:e.srPhase=.5*n;break;case 48:e.srPhase=.75*n;break;default:throw new Error("invalid SROUND value")}r&=15,r===0?e.srThreshold=0:e.srThreshold=(r/8-.5)*n}function Tc(e){var r=e.stack.pop();exports.DEBUG&&console.log(e.step,"S45ROUND[]",r),e.round=qo;var n;switch(r&192){case 0:n=Math.sqrt(2)/2;break;case 64:n=Math.sqrt(2);break;case 128:n=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(e.srPeriod=n,r&48){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*n;break;case 32:e.srPhase=.5*n;break;case 48:e.srPhase=.75*n;break;default:throw new Error("invalid S45ROUND value")}r&=15,r===0?e.srThreshold=0:e.srThreshold=(r/8-.5)*n}function kc(e){exports.DEBUG&&console.log(e.step,"ROFF[]"),e.round=oh}function Fc(e){exports.DEBUG&&console.log(e.step,"RUTG[]"),e.round=fh}function Ec(e){exports.DEBUG&&console.log(e.step,"RDTG[]"),e.round=hh}function Ac(e){var r=e.stack.pop();exports.DEBUG&&console.log(e.step,"SCANCTRL[]",r)}function As(e,r){var n=r.stack,a=n.pop(),o=n.pop(),u=r.z2[a],h=r.z1[o];exports.DEBUG&&console.log(r.step,"SDPVTL["+e+"]",a,o);var p,d;e?(p=u.y-h.y,d=h.x-u.x):(p=h.x-u.x,d=h.y-u.y),r.dpv=Sn(p,d)}function Oc(e){var r=e.stack,n=r.pop(),a=0;exports.DEBUG&&console.log(e.step,"GETINFO[]",n),n&1&&(a=35),n&32&&(a|=4096),r.push(a)}function Pc(e){var r=e.stack,n=r.pop(),a=r.pop(),o=r.pop();exports.DEBUG&&console.log(e.step,"ROLL[]"),r.push(a),r.push(n),r.push(o)}function Lc(e){var r=e.stack,n=r.pop(),a=r.pop();exports.DEBUG&&console.log(e.step,"MAX[]",n,a),r.push(Math.max(a,n))}function Ic(e){var r=e.stack,n=r.pop(),a=r.pop();exports.DEBUG&&console.log(e.step,"MIN[]",n,a),r.push(Math.min(a,n))}function Mc(e){var r=e.stack.pop();exports.DEBUG&&console.log(e.step,"SCANTYPE[]",r)}function Uc(e){var r=e.stack.pop(),n=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"INSTCTRL[]",r,n),r){case 1:e.inhibitGridFit=!!n;return;case 2:e.ignoreCvt=!!n;return;default:throw new Error("invalid INSTCTRL[] selector")}}function cr(e,r){var n=r.stack,a=r.prog,o=r.ip;exports.DEBUG&&console.log(r.step,"PUSHB["+e+"]");for(var u=0;u<e;u++)n.push(a[++o]);r.ip=o}function dr(e,r){var n=r.ip,a=r.prog,o=r.stack;exports.DEBUG&&console.log(r.ip,"PUSHW["+e+"]");for(var u=0;u<e;u++){var h=a[++n]<<8|a[++n];h&32768&&(h=-((h^65535)+1)),o.push(h)}r.ip=n}function Se(e,r,n,a,o,u){var h=u.stack,p=e&&h.pop(),d=h.pop(),k=u.rp0,C=u.z0[k],R=u.z1[d],D=u.minDis,F=u.fv,q=u.dpv,G,J,j,se;J=G=q.distance(R,C,!0,!0),j=J>=0?1:-1,J=Math.abs(J),e&&(se=u.cvt[p],a&&Math.abs(J-se)<u.cvCutIn&&(J=se)),n&&J<D&&(J=D),a&&(J=u.round(J)),F.setRelative(R,C,j*J,q),F.touch(R),exports.DEBUG&&console.log(u.step,(e?"MIRP[":"MDRP[")+(r?"M":"m")+(n?">":"_")+(a?"R":"_")+(o===0?"Gr":o===1?"Bl":o===2?"Wh":"")+"]",e?p+"("+u.cvt[p]+","+se+")":"",d,"(d =",G,"->",j*J,")"),u.rp1=u.rp0,u.rp2=d,r&&(u.rp0=d)}zo=[gs.bind(void 0,rr),gs.bind(void 0,jt),vs.bind(void 0,rr),vs.bind(void 0,jt),ms.bind(void 0,rr),ms.bind(void 0,jt),_s.bind(void 0,0),_s.bind(void 0,1),ys.bind(void 0,0),ys.bind(void 0,1),dh,ph,gh,vh,mh,_h,yh,xh,bh,Sh,wh,Ch,Th,kh,Fh,Eh,Ah,Oh,Ph,Lh,void 0,void 0,Ih,Bi,Mh,Uh,Dh,Nh,zh,void 0,void 0,void 0,Rh,Bh,Gh,void 0,xs.bind(void 0,0),xs.bind(void 0,1),bs.bind(void 0,rr),bs.bind(void 0,jt),Ss.bind(void 0,0),Ss.bind(void 0,1),ws.bind(void 0,0),ws.bind(void 0,1),Cs.bind(void 0,0),Cs.bind(void 0,1),Hh,Vh,Ts.bind(void 0,0),Ts.bind(void 0,1),qh,Wh,ks.bind(void 0,0),ks.bind(void 0,1),Zh,Xh,Yh,jh,Qh,Kh,Fs.bind(void 0,0),Fs.bind(void 0,1),void 0,Es.bind(void 0,0),Es.bind(void 0,1),Jh,void 0,$h,void 0,void 0,ec,tc,rc,nc,ic,ac,sc,oc,uc,lc,fc,hc,cc,Ni.bind(void 0,1),dc,pc,gc,vc,mc,_c,yc,xc,bc,Sc,Hn.bind(void 0,0),Hn.bind(void 0,1),Hn.bind(void 0,2),Hn.bind(void 0,3),void 0,void 0,void 0,void 0,wc,Ni.bind(void 0,2),Ni.bind(void 0,3),zi.bind(void 0,1),zi.bind(void 0,2),zi.bind(void 0,3),Cc,Tc,void 0,void 0,kc,void 0,Fc,Ec,Bi,Bi,void 0,void 0,void 0,void 0,void 0,Ac,As.bind(void 0,0),As.bind(void 0,1),Oc,void 0,Pc,Lc,Ic,Mc,Uc,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,cr.bind(void 0,1),cr.bind(void 0,2),cr.bind(void 0,3),cr.bind(void 0,4),cr.bind(void 0,5),cr.bind(void 0,6),cr.bind(void 0,7),cr.bind(void 0,8),dr.bind(void 0,1),dr.bind(void 0,2),dr.bind(void 0,3),dr.bind(void 0,4),dr.bind(void 0,5),dr.bind(void 0,6),dr.bind(void 0,7),dr.bind(void 0,8),Se.bind(void 0,0,0,0,0,0),Se.bind(void 0,0,0,0,0,1),Se.bind(void 0,0,0,0,0,2),Se.bind(void 0,0,0,0,0,3),Se.bind(void 0,0,0,0,1,0),Se.bind(void 0,0,0,0,1,1),Se.bind(void 0,0,0,0,1,2),Se.bind(void 0,0,0,0,1,3),Se.bind(void 0,0,0,1,0,0),Se.bind(void 0,0,0,1,0,1),Se.bind(void 0,0,0,1,0,2),Se.bind(void 0,0,0,1,0,3),Se.bind(void 0,0,0,1,1,0),Se.bind(void 0,0,0,1,1,1),Se.bind(void 0,0,0,1,1,2),Se.bind(void 0,0,0,1,1,3),Se.bind(void 0,0,1,0,0,0),Se.bind(void 0,0,1,0,0,1),Se.bind(void 0,0,1,0,0,2),Se.bind(void 0,0,1,0,0,3),Se.bind(void 0,0,1,0,1,0),Se.bind(void 0,0,1,0,1,1),Se.bind(void 0,0,1,0,1,2),Se.bind(void 0,0,1,0,1,3),Se.bind(void 0,0,1,1,0,0),Se.bind(void 0,0,1,1,0,1),Se.bind(void 0,0,1,1,0,2),Se.bind(void 0,0,1,1,0,3),Se.bind(void 0,0,1,1,1,0),Se.bind(void 0,0,1,1,1,1),Se.bind(void 0,0,1,1,1,2),Se.bind(void 0,0,1,1,1,3),Se.bind(void 0,1,0,0,0,0),Se.bind(void 0,1,0,0,0,1),Se.bind(void 0,1,0,0,0,2),Se.bind(void 0,1,0,0,0,3),Se.bind(void 0,1,0,0,1,0),Se.bind(void 0,1,0,0,1,1),Se.bind(void 0,1,0,0,1,2),Se.bind(void 0,1,0,0,1,3),Se.bind(void 0,1,0,1,0,0),Se.bind(void 0,1,0,1,0,1),Se.bind(void 0,1,0,1,0,2),Se.bind(void 0,1,0,1,0,3),Se.bind(void 0,1,0,1,1,0),Se.bind(void 0,1,0,1,1,1),Se.bind(void 0,1,0,1,1,2),Se.bind(void 0,1,0,1,1,3),Se.bind(void 0,1,1,0,0,0),Se.bind(void 0,1,1,0,0,1),Se.bind(void 0,1,1,0,0,2),Se.bind(void 0,1,1,0,0,3),Se.bind(void 0,1,1,0,1,0),Se.bind(void 0,1,1,0,1,1),Se.bind(void 0,1,1,0,1,2),Se.bind(void 0,1,1,0,1,3),Se.bind(void 0,1,1,1,0,0),Se.bind(void 0,1,1,1,0,1),Se.bind(void 0,1,1,1,0,2),Se.bind(void 0,1,1,1,0,3),Se.bind(void 0,1,1,1,1,0),Se.bind(void 0,1,1,1,1,1),Se.bind(void 0,1,1,1,1,2),Se.bind(void 0,1,1,1,1,3)];function Jr(e){this.char=e,this.state={},this.activeState=null}function la(e,r,n){this.contextName=n,this.startIndex=e,this.endOffset=r}function Dc(e,r,n){this.contextName=e,this.openRange=null,this.ranges=[],this.checkStart=r,this.checkEnd=n}function zt(e,r){this.context=e,this.index=r,this.length=e.length,this.current=e[r],this.backtrack=e.slice(0,r),this.lookahead=e.slice(r+1)}function oi(e){this.eventId=e,this.subscribers=[]}function Rc(e){var r=this,n=["start","end","next","newToken","contextStart","contextEnd","insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD","updateContextsRanges"];n.forEach(function(o){Object.defineProperty(r.events,o,{value:new oi(o)})}),e&&n.forEach(function(o){var u=e[o];typeof u=="function"&&r.events[o].subscribe(u)});var a=["insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD"];a.forEach(function(o){r.events[o].subscribe(r.updateContextsRanges)})}function rt(e){this.tokens=[],this.registeredContexts={},this.contextCheckers=[],this.events={},this.registeredModifiers=[],Rc.call(this,e)}Jr.prototype.setState=function(e,r){return this.state[e]=r,this.activeState={key:e,value:this.state[e]},this.activeState};Jr.prototype.getState=function(e){return this.state[e]||null};rt.prototype.inboundIndex=function(e){return e>=0&&e<this.tokens.length};rt.prototype.composeRUD=function(e){var r=this,n=!0,a=e.map(function(u){return r[u[0]].apply(r,u.slice(1).concat(n))}),o=function(u){return typeof u=="object"&&u.hasOwnProperty("FAIL")};if(a.every(o))return{FAIL:"composeRUD: one or more operations hasn't completed successfully",report:a.filter(o)};this.dispatch("composeRUD",[a.filter(function(u){return!o(u)})])};rt.prototype.replaceRange=function(e,r,n,a){r=r!==null?r:this.tokens.length;var o=n.every(function(h){return h instanceof Jr});if(!isNaN(e)&&this.inboundIndex(e)&&o){var u=this.tokens.splice.apply(this.tokens,[e,r].concat(n));return a||this.dispatch("replaceToken",[e,r,n]),[u,n]}else return{FAIL:"replaceRange: invalid tokens or startIndex."}};rt.prototype.replaceToken=function(e,r,n){if(!isNaN(e)&&this.inboundIndex(e)&&r instanceof Jr){var a=this.tokens.splice(e,1,r);return n||this.dispatch("replaceToken",[e,r]),[a[0],r]}else return{FAIL:"replaceToken: invalid token or index."}};rt.prototype.removeRange=function(e,r,n){r=isNaN(r)?this.tokens.length:r;var a=this.tokens.splice(e,r);return n||this.dispatch("removeRange",[a,e,r]),a};rt.prototype.removeToken=function(e,r){if(!isNaN(e)&&this.inboundIndex(e)){var n=this.tokens.splice(e,1);return r||this.dispatch("removeToken",[n,e]),n}else return{FAIL:"removeToken: invalid token index."}};rt.prototype.insertToken=function(e,r,n){var a=e.every(function(o){return o instanceof Jr});return a?(this.tokens.splice.apply(this.tokens,[r,0].concat(e)),n||this.dispatch("insertToken",[e,r]),e):{FAIL:"insertToken: invalid token(s)."}};rt.prototype.registerModifier=function(e,r,n){this.events.newToken.subscribe(function(a,o){var u=[a,o],h=r===null||r.apply(this,u)===!0,p=[a,o];if(h){var d=n.apply(this,p);a.setState(e,d)}}),this.registeredModifiers.push(e)};oi.prototype.subscribe=function(e){return typeof e=="function"?this.subscribers.push(e)-1:{FAIL:"invalid '"+this.eventId+"' event handler"}};oi.prototype.unsubscribe=function(e){this.subscribers.splice(e,1)};zt.prototype.setCurrentIndex=function(e){this.index=e,this.current=this.context[e],this.backtrack=this.context.slice(0,e),this.lookahead=this.context.slice(e+1)};zt.prototype.get=function(e){switch(!0){case e===0:return this.current;case(e<0&&Math.abs(e)<=this.backtrack.length):return this.backtrack.slice(e)[0];case(e>0&&e<=this.lookahead.length):return this.lookahead[e-1];default:return null}};rt.prototype.rangeToText=function(e){if(e instanceof la)return this.getRangeTokens(e).map(function(r){return r.char}).join("")};rt.prototype.getText=function(){return this.tokens.map(function(e){return e.char}).join("")};rt.prototype.getContext=function(e){var r=this.registeredContexts[e];return r||null};rt.prototype.on=function(e,r){var n=this.events[e];return n?n.subscribe(r):null};rt.prototype.dispatch=function(e,r){var n=this,a=this.events[e];a instanceof oi&&a.subscribers.forEach(function(o){o.apply(n,r||[])})};rt.prototype.registerContextChecker=function(e,r,n){if(this.getContext(e))return{FAIL:"context name '"+e+"' is already registered."};if(typeof r!="function")return{FAIL:"missing context start check."};if(typeof n!="function")return{FAIL:"missing context end check."};var a=new Dc(e,r,n);return this.registeredContexts[e]=a,this.contextCheckers.push(a),a};rt.prototype.getRangeTokens=function(e){var r=e.startIndex+e.endOffset;return[].concat(this.tokens.slice(e.startIndex,r))};rt.prototype.getContextRanges=function(e){var r=this.getContext(e);return r?r.ranges:{FAIL:"context checker '"+e+"' is not registered."}};rt.prototype.resetContextsRanges=function(){var e=this.registeredContexts;for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];n.ranges=[]}};rt.prototype.updateContextsRanges=function(){this.resetContextsRanges();for(var e=this.tokens.map(function(a){return a.char}),r=0;r<e.length;r++){var n=new zt(e,r);this.runContextCheck(n)}this.dispatch("updateContextsRanges",[this.registeredContexts])};rt.prototype.setEndOffset=function(e,r){var n=this.getContext(r).openRange.startIndex,a=new la(n,e,r),o=this.getContext(r).ranges;return a.rangeId=r+"."+o.length,o.push(a),this.getContext(r).openRange=null,a};rt.prototype.runContextCheck=function(e){var r=this,n=e.index;this.contextCheckers.forEach(function(a){var o=a.contextName,u=r.getContext(o).openRange;if(!u&&a.checkStart(e)&&(u=new la(n,null,o),r.getContext(o).openRange=u,r.dispatch("contextStart",[o,n])),!!u&&a.checkEnd(e)){var h=n-u.startIndex+1,p=r.setEndOffset(h,o);r.dispatch("contextEnd",[o,p])}})};rt.prototype.tokenize=function(e){this.tokens=[],this.resetContextsRanges();var r=Array.from(e);this.dispatch("start");for(var n=0;n<r.length;n++){var a=r[n],o=new zt(r,n);this.dispatch("next",[o]),this.runContextCheck(o);var u=new Jr(a);this.tokens.push(u),this.dispatch("newToken",[u,o])}return this.dispatch("end",[this.tokens]),this.tokens};function vr(e){return/[\u0600-\u065F\u066A-\u06D2\u06FA-\u06FF]/.test(e)}function Zo(e){return/[\u0630\u0690\u0621\u0631\u0661\u0671\u0622\u0632\u0672\u0692\u06C2\u0623\u0673\u0693\u06C3\u0624\u0694\u06C4\u0625\u0675\u0695\u06C5\u06E5\u0676\u0696\u06C6\u0627\u0677\u0697\u06C7\u0648\u0688\u0698\u06C8\u0689\u0699\u06C9\u068A\u06CA\u066B\u068B\u06CB\u068C\u068D\u06CD\u06FD\u068E\u06EE\u06FE\u062F\u068F\u06CF\u06EF]/.test(e)}function mr(e){return/[\u0600-\u0605\u060C-\u060E\u0610-\u061B\u061E\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]/.test(e)}function Zn(e){return/[A-z]/.test(e)}function Bc(e){return/\s/.test(e)}function At(e){this.font=e,this.features={}}function Ar(e){this.id=e.id,this.tag=e.tag,this.substitution=e.substitution}function wn(e,r){if(!e)return-1;switch(r.format){case 1:return r.glyphs.indexOf(e);case 2:for(var n=r.ranges,a=0;a<n.length;a++){var o=n[a];if(e>=o.start&&e<=o.end){var u=e-o.start;return o.index+u}}break;default:return-1}return-1}function Nc(e,r){var n=wn(e,r.coverage);return n===-1?null:e+r.deltaGlyphId}function zc(e,r){var n=wn(e,r.coverage);return n===-1?null:r.substitute[n]}function Gi(e,r){for(var n=[],a=0;a<e.length;a++){var o=e[a],u=r.current;u=Array.isArray(u)?u[0]:u;var h=wn(u,o);h!==-1&&n.push(h)}return n.length!==e.length?-1:n}function Gc(e,r){var n=r.inputCoverage.length+r.lookaheadCoverage.length+r.backtrackCoverage.length;if(e.context.length<n)return[];var a=Gi(r.inputCoverage,e);if(a===-1)return[];var o=r.inputCoverage.length-1;if(e.lookahead.length<r.lookaheadCoverage.length)return[];for(var u=e.lookahead.slice(o);u.length&&mr(u[0].char);)u.shift();var h=new zt(u,0),p=Gi(r.lookaheadCoverage,h),d=[].concat(e.backtrack);for(d.reverse();d.length&&mr(d[0].char);)d.shift();if(d.length<r.backtrackCoverage.length)return[];var k=new zt(d,0),C=Gi(r.backtrackCoverage,k),R=a.length===r.inputCoverage.length&&p.length===r.lookaheadCoverage.length&&C.length===r.backtrackCoverage.length,D=[];if(R)for(var F=0;F<r.lookupRecords.length;F++)for(var q=r.lookupRecords[F],G=q.lookupListIndex,J=this.getLookupByIndex(G),j=0;j<J.subtables.length;j++){var se=J.subtables[j],re=this.getLookupMethod(J,se),oe=this.getSubstitutionType(J,se);if(oe==="12")for(var fe=0;fe<a.length;fe++){var pe=e.get(fe),Ce=re(pe);Ce&&D.push(Ce)}}return D}function Hc(e,r){var n=e.current,a=wn(n,r.coverage);if(a===-1)return null;for(var o,u=r.ligatureSets[a],h=0;h<u.length;h++){o=u[h];for(var p=0;p<o.components.length;p++){var d=e.lookahead[p],k=o.components[p];if(d!==k)break;if(p===o.components.length-1)return o}}return null}function Vc(e,r){var n=wn(e,r.coverage);return n===-1?null:r.sequences[n]}At.prototype.getDefaultScriptFeaturesIndexes=function(){for(var e=this.font.tables.gsub.scripts,r=0;r<e.length;r++){var n=e[r];if(n.tag==="DFLT")return n.script.defaultLangSys.featureIndexes}return[]};At.prototype.getScriptFeaturesIndexes=function(e){var r=this.font.tables;if(!r.gsub)return[];if(!e)return this.getDefaultScriptFeaturesIndexes();for(var n=this.font.tables.gsub.scripts,a=0;a<n.length;a++){var o=n[a];if(o.tag===e&&o.script.defaultLangSys)return o.script.defaultLangSys.featureIndexes;var u=o.langSysRecords;if(u)for(var h=0;h<u.length;h++){var p=u[h];if(p.tag===e){var d=p.langSys;return d.featureIndexes}}}return this.getDefaultScriptFeaturesIndexes()};At.prototype.mapTagsToFeatures=function(e,r){for(var n={},a=0;a<e.length;a++){var o=e[a].tag,u=e[a].feature;n[o]=u}this.features[r].tags=n};At.prototype.getScriptFeatures=function(e){var r=this.features[e];if(this.features.hasOwnProperty(e))return r;var n=this.getScriptFeaturesIndexes(e);if(!n)return null;var a=this.font.tables.gsub;return r=n.map(function(o){return a.features[o]}),this.features[e]=r,this.mapTagsToFeatures(r,e),r};At.prototype.getSubstitutionType=function(e,r){var n=e.lookupType.toString(),a=r.substFormat.toString();return n+a};At.prototype.getLookupMethod=function(e,r){var n=this,a=this.getSubstitutionType(e,r);switch(a){case"11":return function(o){return Nc.apply(n,[o,r])};case"12":return function(o){return zc.apply(n,[o,r])};case"63":return function(o){return Gc.apply(n,[o,r])};case"41":return function(o){return Hc.apply(n,[o,r])};case"21":return function(o){return Vc.apply(n,[o,r])};default:throw new Error("lookupType: "+e.lookupType+" - substFormat: "+r.substFormat+" is not yet supported")}};At.prototype.lookupFeature=function(e){var r=e.contextParams,n=r.index,a=this.getFeature({tag:e.tag,script:e.script});if(!a)return new Error("font '"+this.font.names.fullName.en+"' doesn't support feature '"+e.tag+"' for script '"+e.script+"'.");for(var o=this.getFeatureLookups(a),u=[].concat(r.context),h=0;h<o.length;h++)for(var p=o[h],d=this.getLookupSubtables(p),k=0;k<d.length;k++){var C=d[k],R=this.getSubstitutionType(p,C),D=this.getLookupMethod(p,C),F=void 0;switch(R){case"11":F=D(r.current),F&&u.splice(n,1,new Ar({id:11,tag:e.tag,substitution:F}));break;case"12":F=D(r.current),F&&u.splice(n,1,new Ar({id:12,tag:e.tag,substitution:F}));break;case"63":F=D(r),Array.isArray(F)&&F.length&&u.splice(n,1,new Ar({id:63,tag:e.tag,substitution:F}));break;case"41":F=D(r),F&&u.splice(n,1,new Ar({id:41,tag:e.tag,substitution:F}));break;case"21":F=D(r.current),F&&u.splice(n,1,new Ar({id:21,tag:e.tag,substitution:F}));break}r=new zt(u,n),!(Array.isArray(F)&&!F.length)&&(F=null)}return u.length?u:null};At.prototype.supports=function(e){if(!e.script)return!1;this.getScriptFeatures(e.script);var r=this.features.hasOwnProperty(e.script);if(!e.tag)return r;var n=this.features[e.script].some(function(a){return a.tag===e.tag});return r&&n};At.prototype.getLookupSubtables=function(e){return e.subtables||null};At.prototype.getLookupByIndex=function(e){var r=this.font.tables.gsub.lookups;return r[e]||null};At.prototype.getFeatureLookups=function(e){return e.lookupListIndexes.map(this.getLookupByIndex.bind(this))};At.prototype.getFeature=function(r){if(!this.font)return{FAIL:"No font was found"};this.features.hasOwnProperty(r.script)||this.getScriptFeatures(r.script);var n=this.features[r.script];return n?n.tags[r.tag]?this.features[r.script].tags[r.tag]:null:{FAIL:"No feature for script "+r.script}};function qc(e){var r=e.current,n=e.get(-1);return n===null&&vr(r)||!vr(n)&&vr(r)}function Wc(e){var r=e.get(1);return r===null||!vr(r)}var Zc={startCheck:qc,endCheck:Wc};function Xc(e){var r=e.current,n=e.get(-1);return(vr(r)||mr(r))&&!vr(n)}function Yc(e){var r=e.get(1);switch(!0){case r===null:return!0;case(!vr(r)&&!mr(r)):var n=Bc(r);if(!n)return!0;if(n){var a=!1;if(a=e.lookahead.some(function(o){return vr(o)||mr(o)}),!a)return!0}break;default:return!1}}var jc={startCheck:Xc,endCheck:Yc};function Qc(e,r,n){r[n].setState(e.tag,e.substitution)}function Kc(e,r,n){r[n].setState(e.tag,e.substitution)}function Jc(e,r,n){e.substitution.forEach(function(a,o){var u=r[n+o];u.setState(e.tag,a)})}function $c(e,r,n){var a=r[n];a.setState(e.tag,e.substitution.ligGlyph);for(var o=e.substitution.components.length,u=0;u<o;u++)a=r[n+u+1],a.setState("deleted",!0)}var Os={11:Qc,12:Kc,63:Jc,41:$c};function fa(e,r,n){e instanceof Ar&&Os[e.id]&&Os[e.id](e,r,n)}function e0(e){for(var r=[].concat(e.backtrack),n=r.length-1;n>=0;n--){var a=r[n],o=Zo(a),u=mr(a);if(!o&&!u)return!0;if(o)return!1}return!1}function t0(e){if(Zo(e.current))return!1;for(var r=0;r<e.lookahead.length;r++){var n=e.lookahead[r],a=mr(n);if(!a)return!0}return!1}function r0(e){var r=this,n="arab",a=this.featuresTags[n],o=this.tokenizer.getRangeTokens(e);if(o.length!==1){var u=new zt(o.map(function(p){return p.getState("glyphIndex")}),0),h=new zt(o.map(function(p){return p.char}),0);o.forEach(function(p,d){if(!mr(p.char)){u.setCurrentIndex(d),h.setCurrentIndex(d);var k=0;e0(h)&&(k|=1),t0(h)&&(k|=2);var C;switch(k){case 1:C="fina";break;case 2:C="init";break;case 3:C="medi";break}if(a.indexOf(C)!==-1){var R=r.query.lookupFeature({tag:C,script:n,contextParams:u});if(R instanceof Error)return console.info(R.message);R.forEach(function(D,F){D instanceof Ar&&(fa(D,o,F),u.context[F]=D.substitution)})}}})}}function Ps(e,r){var n=e.map(function(a){return a.activeState.value});return new zt(n,r||0)}function n0(e){var r=this,n="arab",a=this.tokenizer.getRangeTokens(e),o=Ps(a);o.context.forEach(function(u,h){o.setCurrentIndex(h);var p=r.query.lookupFeature({tag:"rlig",script:n,contextParams:o});p.length&&(p.forEach(function(d){return fa(d,a,h)}),o=Ps(a))})}function i0(e){var r=e.current,n=e.get(-1);return n===null&&Zn(r)||!Zn(n)&&Zn(r)}function a0(e){var r=e.get(1);return r===null||!Zn(r)}var s0={startCheck:i0,endCheck:a0};function Ls(e,r){var n=e.map(function(a){return a.activeState.value});return new zt(n,r||0)}function o0(e){var r=this,n="latn",a=this.tokenizer.getRangeTokens(e),o=Ls(a);o.context.forEach(function(u,h){o.setCurrentIndex(h);var p=r.query.lookupFeature({tag:"liga",script:n,contextParams:o});p.length&&(p.forEach(function(d){return fa(d,a,h)}),o=Ls(a))})}function qt(e){this.baseDir=e||"ltr",this.tokenizer=new rt,this.featuresTags={}}qt.prototype.setText=function(e){this.text=e};qt.prototype.contextChecks={latinWordCheck:s0,arabicWordCheck:Zc,arabicSentenceCheck:jc};function Hi(e){var r=this.contextChecks[e+"Check"];return this.tokenizer.registerContextChecker(e,r.startCheck,r.endCheck)}function u0(){return Hi.call(this,"latinWord"),Hi.call(this,"arabicWord"),Hi.call(this,"arabicSentence"),this.tokenizer.tokenize(this.text)}function l0(){var e=this,r=this.tokenizer.getContextRanges("arabicSentence");r.forEach(function(n){var a=e.tokenizer.getRangeTokens(n);e.tokenizer.replaceRange(n.startIndex,n.endOffset,a.reverse())})}qt.prototype.registerFeatures=function(e,r){var n=this,a=r.filter(function(o){return n.query.supports({script:e,tag:o})});this.featuresTags.hasOwnProperty(e)?this.featuresTags[e]=this.featuresTags[e].concat(a):this.featuresTags[e]=a};qt.prototype.applyFeatures=function(e,r){if(!e)throw new Error("No valid font was provided to apply features");this.query||(this.query=new At(e));for(var n=0;n<r.length;n++){var a=r[n];!this.query.supports({script:a.script})||this.registerFeatures(a.script,a.tags)}};qt.prototype.registerModifier=function(e,r,n){this.tokenizer.registerModifier(e,r,n)};function ha(){if(this.tokenizer.registeredModifiers.indexOf("glyphIndex")===-1)throw new Error("glyphIndex modifier is required to apply arabic presentation features.")}function f0(){var e=this,r="arab";if(!!this.featuresTags.hasOwnProperty(r)){ha.call(this);var n=this.tokenizer.getContextRanges("arabicWord");n.forEach(function(a){r0.call(e,a)})}}function h0(){var e=this,r="arab";if(!!this.featuresTags.hasOwnProperty(r)){var n=this.featuresTags[r];if(n.indexOf("rlig")!==-1){ha.call(this);var a=this.tokenizer.getContextRanges("arabicWord");a.forEach(function(o){n0.call(e,o)})}}}function c0(){var e=this,r="latn";if(!!this.featuresTags.hasOwnProperty(r)){var n=this.featuresTags[r];if(n.indexOf("liga")!==-1){ha.call(this);var a=this.tokenizer.getContextRanges("latinWord");a.forEach(function(o){o0.call(e,o)})}}}qt.prototype.checkContextReady=function(e){return!!this.tokenizer.getContext(e)};qt.prototype.applyFeaturesToContexts=function(){this.checkContextReady("arabicWord")&&(f0.call(this),h0.call(this)),this.checkContextReady("latinWord")&&c0.call(this),this.checkContextReady("arabicSentence")&&l0.call(this)};qt.prototype.processText=function(e){(!this.text||this.text!==e)&&(this.setText(e),u0.call(this),this.applyFeaturesToContexts())};qt.prototype.getBidiText=function(e){return this.processText(e),this.tokenizer.getText()};qt.prototype.getTextGlyphs=function(e){this.processText(e);for(var r=[],n=0;n<this.tokenizer.tokens.length;n++){var a=this.tokenizer.tokens[n];if(!a.state.deleted){var o=a.activeState.value;r.push(Array.isArray(o)?o[0]:o)}}return r};function je(e){e=e||{},e.tables=e.tables||{},e.empty||(sn(e.familyName,"When creating a new Font object, familyName is required."),sn(e.styleName,"When creating a new Font object, styleName is required."),sn(e.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),sn(e.ascender,"When creating a new Font object, ascender is required."),sn(e.descender<=0,"When creating a new Font object, negative descender value is required."),this.names={fontFamily:{en:e.familyName||" "},fontSubfamily:{en:e.styleName||" "},fullName:{en:e.fullName||e.familyName+" "+e.styleName},postScriptName:{en:e.postScriptName||(e.familyName+e.styleName).replace(/\s/g,"")},designer:{en:e.designer||" "},designerURL:{en:e.designerURL||" "},manufacturer:{en:e.manufacturer||" "},manufacturerURL:{en:e.manufacturerURL||" "},license:{en:e.license||" "},licenseURL:{en:e.licenseURL||" "},version:{en:e.version||"Version 0.1"},description:{en:e.description||" "},copyright:{en:e.copyright||" "},trademark:{en:e.trademark||" "}},this.unitsPerEm=e.unitsPerEm||1e3,this.ascender=e.ascender,this.descender=e.descender,this.createdTimestamp=e.createdTimestamp,this.tables=Object.assign(e.tables,{os2:Object.assign({usWeightClass:e.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:e.widthClass||this.usWidthClasses.MEDIUM,fsSelection:e.fsSelection||this.fsSelectionValues.REGULAR},e.tables.os2)})),this.supported=!0,this.glyphs=new Qt.GlyphSet(this,e.glyphs||[]),this.encoding=new lo(this),this.position=new xn(this),this.substitution=new Et(this),this.tables=this.tables||{},this._push=null,this._hmtxTableData={},Object.defineProperty(this,"hinting",{get:function(){if(this._hinting)return this._hinting;if(this.outlinesFormat==="truetype")return this._hinting=new Ho(this)}})}je.prototype.hasChar=function(e){return this.encoding.charToGlyphIndex(e)!==null};je.prototype.charToGlyphIndex=function(e){return this.encoding.charToGlyphIndex(e)};je.prototype.charToGlyph=function(e){var r=this.charToGlyphIndex(e),n=this.glyphs.get(r);return n||(n=this.glyphs.get(0)),n};je.prototype.updateFeatures=function(e){return this.defaultRenderOptions.features.map(function(r){return r.script==="latn"?{script:"latn",tags:r.tags.filter(function(n){return e[n]})}:r})};je.prototype.stringToGlyphs=function(e,r){var n=this,a=new qt,o=function(R){return n.charToGlyphIndex(R.char)};a.registerModifier("glyphIndex",null,o);var u=r?this.updateFeatures(r.features):this.defaultRenderOptions.features;a.applyFeatures(this,u);for(var h=a.getTextGlyphs(e),p=h.length,d=new Array(p),k=this.glyphs.get(0),C=0;C<p;C+=1)d[C]=this.glyphs.get(h[C])||k;return d};je.prototype.nameToGlyphIndex=function(e){return this.glyphNames.nameToGlyphIndex(e)};je.prototype.nameToGlyph=function(e){var r=this.nameToGlyphIndex(e),n=this.glyphs.get(r);return n||(n=this.glyphs.get(0)),n};je.prototype.glyphIndexToName=function(e){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(e):""};je.prototype.getKerningValue=function(e,r){e=e.index||e,r=r.index||r;var n=this.position.defaultKerningTables;return n?this.position.getKerningValue(n,e,r):this.kerningPairs[e+","+r]||0};je.prototype.defaultRenderOptions={kerning:!0,features:[{script:"arab",tags:["init","medi","fina","rlig"]},{script:"latn",tags:["liga","rlig"]}]};je.prototype.forEachGlyph=function(e,r,n,a,o,u){r=r!==void 0?r:0,n=n!==void 0?n:0,a=a!==void 0?a:72,o=Object.assign({},this.defaultRenderOptions,o);var h=1/this.unitsPerEm*a,p=this.stringToGlyphs(e,o),d;if(o.kerning){var k=o.script||this.position.getDefaultScriptName();d=this.position.getKerningTables(k,o.language)}for(var C=0;C<p.length;C+=1){var R=p[C];if(u.call(this,R,r,n,a,o),R.advanceWidth&&(r+=R.advanceWidth*h),o.kerning&&C<p.length-1){var D=d?this.position.getKerningValue(d,R.index,p[C+1].index):this.getKerningValue(R,p[C+1]);r+=D*h}o.letterSpacing?r+=o.letterSpacing*a:o.tracking&&(r+=o.tracking/1e3*a)}return r};je.prototype.getPath=function(e,r,n,a,o){var u=new lt;return this.forEachGlyph(e,r,n,a,o,function(h,p,d,k){var C=h.getPath(p,d,k,o,this);u.extend(C)}),u};je.prototype.getPaths=function(e,r,n,a,o){var u=[];return this.forEachGlyph(e,r,n,a,o,function(h,p,d,k){var C=h.getPath(p,d,k,o,this);u.push(C)}),u};je.prototype.getAdvanceWidth=function(e,r,n){return this.forEachGlyph(e,0,0,r,n,function(){})};je.prototype.draw=function(e,r,n,a,o,u){this.getPath(r,n,a,o,u).draw(e)};je.prototype.drawPoints=function(e,r,n,a,o,u){this.forEachGlyph(r,n,a,o,u,function(h,p,d,k){h.drawPoints(e,p,d,k)})};je.prototype.drawMetrics=function(e,r,n,a,o,u){this.forEachGlyph(r,n,a,o,u,function(h,p,d,k){h.drawMetrics(e,p,d,k)})};je.prototype.getEnglishName=function(e){var r=this.names[e];if(r)return r.en};je.prototype.validate=function(){var e=this;function r(a,o){}function n(a){var o=e.getEnglishName(a);o&&o.trim().length>0}n("fontFamily"),n("weightName"),n("manufacturer"),n("copyright"),n("version"),this.unitsPerEm>0};je.prototype.toTables=function(){return $f.fontToTable(this)};je.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()};je.prototype.toArrayBuffer=function(){for(var e=this.toTables(),r=e.encode(),n=new ArrayBuffer(r.length),a=new Uint8Array(n),o=0;o<r.length;o++)a[o]=r[o];return n};je.prototype.download=function(e){var r=this.getEnglishName("fontFamily"),n=this.getEnglishName("fontSubfamily");e=e||r.replace(/\s/g,"")+"-"+n+".otf";var a=this.toArrayBuffer();if(th())if(window.URL=window.URL||window.webkitURL,window.URL){var o=new DataView(a),u=new Blob([o],{type:"font/opentype"}),h=document.createElement("a");h.href=window.URL.createObjectURL(u),h.download=e;var p=document.createEvent("MouseEvents");p.initEvent("click",!0,!1),h.dispatchEvent(p)}else console.warn("Font file could not be downloaded. Try using a different browser.");else{var d=require("fs"),k=rh(a);d.writeFileSync(e,k)}};je.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512};je.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9};je.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};function Xo(e,r){var n=JSON.stringify(e),a=256;for(var o in r){var u=parseInt(o);if(!(!u||u<256)){if(JSON.stringify(r[o])===n)return u;a<=u&&(a=u+1)}}return r[a]=e,a}function d0(e,r,n){var a=Xo(r.name,n);return[{name:"tag_"+e,type:"TAG",value:r.tag},{name:"minValue_"+e,type:"FIXED",value:r.minValue<<16},{name:"defaultValue_"+e,type:"FIXED",value:r.defaultValue<<16},{name:"maxValue_"+e,type:"FIXED",value:r.maxValue<<16},{name:"flags_"+e,type:"USHORT",value:0},{name:"nameID_"+e,type:"USHORT",value:a}]}function p0(e,r,n){var a={},o=new we.Parser(e,r);return a.tag=o.parseTag(),a.minValue=o.parseFixed(),a.defaultValue=o.parseFixed(),a.maxValue=o.parseFixed(),o.skip("uShort",1),a.name=n[o.parseUShort()]||{},a}function g0(e,r,n,a){for(var o=Xo(r.name,a),u=[{name:"nameID_"+e,type:"USHORT",value:o},{name:"flags_"+e,type:"USHORT",value:0}],h=0;h<n.length;++h){var p=n[h].tag;u.push({name:"axis_"+e+" "+p,type:"FIXED",value:r.coordinates[p]<<16})}return u}function v0(e,r,n,a){var o={},u=new we.Parser(e,r);o.name=a[u.parseUShort()]||{},u.skip("uShort",1),o.coordinates={};for(var h=0;h<n.length;++h)o.coordinates[n[h].tag]=u.parseFixed();return o}function m0(e,r){var n=new be.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:e.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:e.instances.length},{name:"instanceSize",type:"USHORT",value:4+e.axes.length*4}]);n.offsetToData=n.sizeOf();for(var a=0;a<e.axes.length;a++)n.fields=n.fields.concat(d0(a,e.axes[a],r));for(var o=0;o<e.instances.length;o++)n.fields=n.fields.concat(g0(o,e.instances[o],e.axes,r));return n}function _0(e,r,n){var a=new we.Parser(e,r),o=a.parseULong();Ae.argument(o===65536,"Unsupported fvar table version.");var u=a.parseOffset16();a.skip("uShort",1);for(var h=a.parseUShort(),p=a.parseUShort(),d=a.parseUShort(),k=a.parseUShort(),C=[],R=0;R<h;R++)C.push(p0(e,r+u+R*p,n));for(var D=[],F=r+u+h*p,q=0;q<d;q++)D.push(v0(e,F+q*k,C,n));return{axes:C,instances:D}}var y0={make:m0,parse:_0},x0=function(){return{coverage:this.parsePointer(ee.coverage),attachPoints:this.parseList(ee.pointer(ee.uShortList))}},b0=function(){var e=this.parseUShort();if(Ae.argument(e===1||e===2||e===3,"Unsupported CaretValue table version."),e===1)return{coordinate:this.parseShort()};if(e===2)return{pointindex:this.parseShort()};if(e===3)return{coordinate:this.parseShort()}},S0=function(){return this.parseList(ee.pointer(b0))},w0=function(){return{coverage:this.parsePointer(ee.coverage),ligGlyphs:this.parseList(ee.pointer(S0))}},C0=function(){return this.parseUShort(),this.parseList(ee.pointer(ee.coverage))};function T0(e,r){r=r||0;var n=new ee(e,r),a=n.parseVersion(1);Ae.argument(a===1||a===1.2||a===1.3,"Unsupported GDEF table version.");var o={version:a,classDef:n.parsePointer(ee.classDef),attachList:n.parsePointer(x0),ligCaretList:n.parsePointer(w0),markAttachClassDef:n.parsePointer(ee.classDef)};return a>=1.2&&(o.markGlyphSets=n.parsePointer(C0)),o}var k0={parse:T0},Gt=new Array(10);Gt[1]=function(){var r=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{posFormat:1,coverage:this.parsePointer(ee.coverage),value:this.parseValueRecord()};if(n===2)return{posFormat:2,coverage:this.parsePointer(ee.coverage),values:this.parseValueRecordList()};Ae.assert(!1,"0x"+r.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")};Gt[2]=function(){var r=this.offset+this.relativeOffset,n=this.parseUShort();Ae.assert(n===1||n===2,"0x"+r.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var a=this.parsePointer(ee.coverage),o=this.parseUShort(),u=this.parseUShort();if(n===1)return{posFormat:n,coverage:a,valueFormat1:o,valueFormat2:u,pairSets:this.parseList(ee.pointer(ee.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(o),value2:this.parseValueRecord(u)}})))};if(n===2){var h=this.parsePointer(ee.classDef),p=this.parsePointer(ee.classDef),d=this.parseUShort(),k=this.parseUShort();return{posFormat:n,coverage:a,valueFormat1:o,valueFormat2:u,classDef1:h,classDef2:p,class1Count:d,class2Count:k,classRecords:this.parseList(d,ee.list(k,function(){return{value1:this.parseValueRecord(o),value2:this.parseValueRecord(u)}}))}}};Gt[3]=function(){return{error:"GPOS Lookup 3 not supported"}};Gt[4]=function(){return{error:"GPOS Lookup 4 not supported"}};Gt[5]=function(){return{error:"GPOS Lookup 5 not supported"}};Gt[6]=function(){return{error:"GPOS Lookup 6 not supported"}};Gt[7]=function(){return{error:"GPOS Lookup 7 not supported"}};Gt[8]=function(){return{error:"GPOS Lookup 8 not supported"}};Gt[9]=function(){return{error:"GPOS Lookup 9 not supported"}};function F0(e,r){r=r||0;var n=new ee(e,r),a=n.parseVersion(1);return Ae.argument(a===1||a===1.1,"Unsupported GPOS table version "+a),a===1?{version:a,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(Gt)}:{version:a,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(Gt),variations:n.parseFeatureVariationsList()}}var E0=new Array(10);function A0(e){return new be.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new be.ScriptList(e.scripts)},{name:"features",type:"TABLE",value:new be.FeatureList(e.features)},{name:"lookups",type:"TABLE",value:new be.LookupList(e.lookups,E0)}])}var O0={parse:F0,make:A0};function P0(e){var r={};e.skip("uShort");var n=e.parseUShort();Ae.argument(n===0,"Unsupported kern sub-table version."),e.skip("uShort",2);var a=e.parseUShort();e.skip("uShort",3);for(var o=0;o<a;o+=1){var u=e.parseUShort(),h=e.parseUShort(),p=e.parseShort();r[u+","+h]=p}return r}function L0(e){var r={};e.skip("uShort");var n=e.parseULong();n>1&&console.warn("Only the first kern subtable is supported."),e.skip("uLong");var a=e.parseUShort(),o=a&255;if(e.skip("uShort"),o===0){var u=e.parseUShort();e.skip("uShort",3);for(var h=0;h<u;h+=1){var p=e.parseUShort(),d=e.parseUShort(),k=e.parseShort();r[p+","+d]=k}}return r}function I0(e,r){var n=new we.Parser(e,r),a=n.parseUShort();if(a===0)return P0(n);if(a===1)return L0(n);throw new Error("Unsupported kern table version ("+a+").")}var M0={parse:I0};function U0(e,r,n,a){for(var o=new we.Parser(e,r),u=a?o.parseUShort:o.parseULong,h=[],p=0;p<n+1;p+=1){var d=u.call(o);a&&(d*=2),h.push(d)}return h}var D0={parse:U0};function R0(e,r){var n=require("fs");n.readFile(e,function(a,o){if(a)return r(a.message);r(null,Uo(o))})}function B0(e,r){var n=new XMLHttpRequest;n.open("get",e,!0),n.responseType="arraybuffer",n.onload=function(){return n.response?r(null,n.response):r("Font could not be loaded: "+n.statusText)},n.onerror=function(){r("Font could not be loaded")},n.send()}function Is(e,r){for(var n=[],a=12,o=0;o<r;o+=1){var u=we.getTag(e,a),h=we.getULong(e,a+4),p=we.getULong(e,a+8),d=we.getULong(e,a+12);n.push({tag:u,checksum:h,offset:p,length:d,compression:!1}),a+=16}return n}function N0(e,r){for(var n=[],a=44,o=0;o<r;o+=1){var u=we.getTag(e,a),h=we.getULong(e,a+4),p=we.getULong(e,a+8),d=we.getULong(e,a+12),k=void 0;p<d?k="WOFF":k=!1,n.push({tag:u,offset:h,compression:k,compressedLength:p,length:d}),a+=20}return n}function ot(e,r){if(r.compression==="WOFF"){var n=new Uint8Array(e.buffer,r.offset+2,r.compressedLength-2),a=new Uint8Array(r.length);if(Al(n,a),a.byteLength!==r.length)throw new Error("Decompression error: "+r.tag+" decompressed length doesn't match recorded length");var o=new DataView(a.buffer,0);return{data:o,offset:0}}else return{data:e,offset:r.offset}}function ca(e,r){r=r==null?{}:r;var n,a,o=new je({empty:!0}),u=new DataView(e,0),h,p=[],d=we.getTag(u,0);if(d===String.fromCharCode(0,1,0,0)||d==="true"||d==="typ1")o.outlinesFormat="truetype",h=we.getUShort(u,4),p=Is(u,h);else if(d==="OTTO")o.outlinesFormat="cff",h=we.getUShort(u,4),p=Is(u,h);else if(d==="wOFF"){var k=we.getTag(u,4);if(k===String.fromCharCode(0,1,0,0))o.outlinesFormat="truetype";else if(k==="OTTO")o.outlinesFormat="cff";else throw new Error("Unsupported OpenType flavor "+d);h=we.getUShort(u,12),p=N0(u,h)}else throw new Error("Unsupported OpenType signature "+d);for(var C,R,D,F,q,G,J,j,se,re,oe,fe,pe=0;pe<h;pe+=1){var Ce=p[pe],xe=void 0;switch(Ce.tag){case"cmap":xe=ot(u,Ce),o.tables.cmap=uo.parse(xe.data,xe.offset),o.encoding=new fo(o.tables.cmap);break;case"cvt ":xe=ot(u,Ce),fe=new we.Parser(xe.data,xe.offset),o.tables.cvt=fe.parseShortList(Ce.length/2);break;case"fvar":R=Ce;break;case"fpgm":xe=ot(u,Ce),fe=new we.Parser(xe.data,xe.offset),o.tables.fpgm=fe.parseByteList(Ce.length);break;case"head":xe=ot(u,Ce),o.tables.head=bo.parse(xe.data,xe.offset),o.unitsPerEm=o.tables.head.unitsPerEm,n=o.tables.head.indexToLocFormat;break;case"hhea":xe=ot(u,Ce),o.tables.hhea=So.parse(xe.data,xe.offset),o.ascender=o.tables.hhea.ascender,o.descender=o.tables.hhea.descender,o.numberOfHMetrics=o.tables.hhea.numberOfHMetrics;break;case"hmtx":J=Ce;break;case"ltag":xe=ot(u,Ce),a=Co.parse(xe.data,xe.offset);break;case"maxp":xe=ot(u,Ce),o.tables.maxp=To.parse(xe.data,xe.offset),o.numGlyphs=o.tables.maxp.numGlyphs;break;case"name":re=Ce;break;case"OS/2":xe=ot(u,Ce),o.tables.os2=Qi.parse(xe.data,xe.offset);break;case"post":xe=ot(u,Ce),o.tables.post=Po.parse(xe.data,xe.offset),o.glyphNames=new aa(o.tables.post);break;case"prep":xe=ot(u,Ce),fe=new we.Parser(xe.data,xe.offset),o.tables.prep=fe.parseByteList(Ce.length);break;case"glyf":D=Ce;break;case"loca":se=Ce;break;case"CFF ":C=Ce;break;case"kern":j=Ce;break;case"GDEF":F=Ce;break;case"GPOS":q=Ce;break;case"GSUB":G=Ce;break;case"meta":oe=Ce;break}}var Re=ot(u,re);if(o.tables.name=Oo.parse(Re.data,Re.offset,a),o.names=o.tables.name,D&&se){var Ke=n===0,Ze=ot(u,se),Je=D0.parse(Ze.data,Ze.offset,o.numGlyphs,Ke),Ye=ot(u,D);o.glyphs=No.parse(Ye.data,Ye.offset,Je,o,r)}else if(C){var ge=ot(u,C);xo.parse(ge.data,ge.offset,o,r)}else throw new Error("Font doesn't contain TrueType or CFF outlines.");var Qe=ot(u,J);if(wo.parse(o,Qe.data,Qe.offset,o.numberOfHMetrics,o.numGlyphs,o.glyphs,r),Ql(o,r),j){var ue=ot(u,j);o.kerningPairs=M0.parse(ue.data,ue.offset)}else o.kerningPairs={};if(F){var ze=ot(u,F);o.tables.gdef=k0.parse(ze.data,ze.offset)}if(q){var We=ot(u,q);o.tables.gpos=O0.parse(We.data,We.offset),o.position.init()}if(G){var Te=ot(u,G);o.tables.gsub=Lo.parse(Te.data,Te.offset)}if(R){var He=ot(u,R);o.tables.fvar=y0.parse(He.data,He.offset,o.names)}if(oe){var Ie=ot(u,oe);o.tables.meta=Io.parse(Ie.data,Ie.offset),o.metas=o.tables.meta}return o}function z0(e,r,n){n=n==null?{}:n;var a=typeof window=="undefined",o=a&&!n.isUrl?R0:B0;return new Promise(function(u,h){o(e,function(p,d){if(p){if(r)return r(p);h(p)}var k;try{k=ca(d,n)}catch(C){if(r)return r(C,null);h(C)}if(r)return r(null,k);u(k)})})}function G0(e,r){var n=require("fs"),a=n.readFileSync(e);return ca(Uo(a),r)}var fn=Object.freeze({__proto__:null,Font:je,Glyph:Ft,Path:lt,BoundingBox:ar,_parse:we,parse:ca,load:z0,loadSync:G0}),Yo={exports:{}},H0={},V0=Object.freeze(Object.defineProperty({__proto__:null,default:H0},Symbol.toStringTag,{value:"Module"})),Ms=vl(V0);/*!
 * Paper.js v0.12.15 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2020, Jürg Lehni & Jonathan Puckey
 * http://juerglehni.com/ & https://puckey.studio/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Wed Mar 17 10:49:48 2021 +0100
 *
 ***
 *
 * Straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2020 Jürg Lehni
 * http://juerglehni.com/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * Acorn.js
 * https://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */(function(e){(function(r,n){r=r||Ms;var a=r.window,o=r.document,u=new function(){var t=/^(statics|enumerable|beans|preserve)$/,i=[],s=i.slice,l=Object.create,f=Object.getOwnPropertyDescriptor,c=Object.defineProperty,v=i.forEach||function(b,x){for(var I=0,E=this.length;I<E;I++)b.call(x,this[I],I,this)},g=function(b,x){for(var I in this)this.hasOwnProperty(I)&&b.call(x,this[I],I,this)},m=Object.assign||function(b){for(var x=1,I=arguments.length;x<I;x++){var E=arguments[x];for(var M in E)E.hasOwnProperty(M)&&(b[M]=E[M])}return b},_=function(b,x,I){if(b){var E=f(b,"length");(E&&typeof E.value=="number"?v:g).call(b,x,I=I||b)}return I};function S(b,x,I,E,M){var w={};function O(P,B){B=B||(B=f(x,P))&&(B.get?B:B.value),typeof B=="string"&&B[0]==="#"&&(B=b[B.substring(1)]||B);var z=typeof B=="function",H=B,Z=M||z&&!B.base?B&&B.get?P in b:b[P]:null,N;(!M||!Z)&&(z&&Z&&(B.base=Z),z&&E!==!1&&(N=P.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(w[N[3].toLowerCase()+N[4]]=N[2]),(!H||z||!H.get||typeof H.get!="function"||!T.isPlainObject(H))&&(H={value:H,writable:!0}),(f(b,P)||{configurable:!0}).configurable&&(H.configurable=!0,H.enumerable=I!=null?I:!N),c(b,P,H))}if(x){for(var y in x)x.hasOwnProperty(y)&&!t.test(y)&&O(y);for(var y in w){var A=w[y],L=b["set"+A],U=b["get"+A]||L&&b["is"+A];U&&(E===!0||U.length===0)&&O(y,{get:U,set:L})}}return b}function T(){for(var b=0,x=arguments.length;b<x;b++){var I=arguments[b];I&&m(this,I)}return this}return S(T,{inject:function(b){if(b){var x=b.statics===!0?b:b.statics,I=b.beans,E=b.preserve;x!==b&&S(this.prototype,b,b.enumerable,I,E),S(this,x,null,I,E)}for(var M=1,w=arguments.length;M<w;M++)this.inject(arguments[M]);return this},extend:function(){for(var b=this,x,I,E=0,M,w=arguments.length;E<w&&!(x&&I);E++)M=arguments[E],x=x||M.initialize,I=I||M.prototype;return x=x||function(){b.apply(this,arguments)},I=x.prototype=I||l(this.prototype),c(I,"constructor",{value:x,writable:!0,configurable:!0}),S(x,this),arguments.length&&this.inject.apply(x,arguments),x.base=b,x}}).inject({enumerable:!1,initialize:T,set:T,inject:function(){for(var b=0,x=arguments.length;b<x;b++){var I=arguments[b];I&&S(this,I,I.enumerable,I.beans,I.preserve)}return this},extend:function(){var b=l(this);return b.inject.apply(b,arguments)},each:function(b,x){return _(this,b,x)},clone:function(){return new this.constructor(this)},statics:{set:m,each:_,create:l,define:c,describe:f,clone:function(b){return m(new b.constructor,b)},isPlainObject:function(b){var x=b!=null&&b.constructor;return x&&(x===Object||x===T||x.name==="Object")},pick:function(b,x){return b!==n?b:x},slice:function(b,x,I){return s.call(b,x,I)}}})};e.exports=u,u.inject({enumerable:!1,toString:function(){return this._id!=null?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+u.each(this,function(t,i){if(!/^_/.test(i)){var s=typeof t;this.push(i+": "+(s==="number"?C.instance.number(t):s==="string"?"'"+t+"'":t))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(t){return u.importJSON(t,this)},exportJSON:function(t){return u.exportJSON(this,t)},toJSON:function(){return u.serialize(this)},set:function(t,i){return t&&u.filter(this,t,i,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function t(){var i=t.base.apply(this,arguments),s=i.prototype._class;return s&&!u.exports[s]&&(u.exports[s]=i),i},equals:function(t,i){if(t===i)return!0;if(t&&t.equals)return t.equals(i);if(i&&i.equals)return i.equals(t);if(t&&i&&typeof t=="object"&&typeof i=="object"){if(Array.isArray(t)&&Array.isArray(i)){var s=t.length;if(s!==i.length)return!1;for(;s--;)if(!u.equals(t[s],i[s]))return!1}else{var l=Object.keys(t),s=l.length;if(s!==Object.keys(i).length)return!1;for(;s--;){var f=l[s];if(!(i.hasOwnProperty(f)&&u.equals(t[f],i[f])))return!1}}return!0}return!1},read:function(t,i,s,l){if(this===u){var f=this.peek(t,i);return t.__index++,f}var c=this.prototype,v=c._readIndex,g=i||v&&t.__index||0,m=t.length,_=t[g];if(l=l||m-g,_ instanceof this||s&&s.readNull&&_==null&&l<=1)return v&&(t.__index=g+1),_&&s&&s.clone?_.clone():_;if(_=u.create(c),v&&(_.__read=!0),_=_.initialize.apply(_,g>0||g+l<m?u.slice(t,g,g+l):t)||_,v){t.__index=g+_.__read;var S=_.__filtered;S&&(t.__filtered=S,_.__filtered=n),_.__read=n}return _},peek:function(t,i){return t[t.__index=i||t.__index||0]},remain:function(t){return t.length-(t.__index||0)},readList:function(t,i,s,l){for(var f=[],c,v=i||0,g=l?v+l:t.length,m=v;m<g;m++)f.push(Array.isArray(c=t[m])?this.read(c,0,s):this.read(t,m,s,1));return f},readNamed:function(t,i,s,l,f){var c=this.getNamed(t,i),v=c!==n;if(v){var g=t.__filtered;if(!g){var m=this.getSource(t);g=t.__filtered=u.create(m),g.__unfiltered=m}g[i]=n}return this.read(v?[c]:t,s,l,f)},readSupported:function(t,i){var s=this.getSource(t),l=this,f=!1;return s&&Object.keys(s).forEach(function(c){if(c in i){var v=l.readNamed(t,c);v!==n&&(i[c]=v),f=!0}}),f},getSource:function(t){var i=t.__source;if(i===n){var s=t.length===1&&t[0];i=t.__source=s&&u.isPlainObject(s)?s:null}return i},getNamed:function(t,i){var s=this.getSource(t);if(s)return i?s[i]:t.__filtered||s},hasNamed:function(t,i){return!!this.getNamed(t,i)},filter:function(t,i,s,l){var f;function c(S){if(!(s&&S in s)&&!(f&&S in f)){var T=i[S];T!==n&&(t[S]=T)}}if(l){for(var v={},g=0,m,_=l.length;g<_;g++)(m=l[g])in i&&(c(m),v[m]=!0);f=v}return Object.keys(i.__unfiltered||i).forEach(c),t},isPlainValue:function(t,i){return u.isPlainObject(t)||Array.isArray(t)||i&&typeof t=="string"},serialize:function(t,i,s,l){i=i||{};var f=!l,c;if(f&&(i.formatter=new C(i.precision),l={length:0,definitions:{},references:{},add:function(T,b){var x="#"+T._id,I=this.references[x];if(!I){this.length++;var E=b.call(T),M=T._class;M&&E[0]!==M&&E.unshift(M),this.definitions[x]=E,I=this.references[x]=[x]}return I}}),t&&t._serialize){c=t._serialize(i,l);var v=t._class;v&&!t._compactSerialize&&(f||!s)&&c[0]!==v&&c.unshift(v)}else if(Array.isArray(t)){c=[];for(var g=0,m=t.length;g<m;g++)c[g]=u.serialize(t[g],i,s,l)}else if(u.isPlainObject(t)){c={};for(var _=Object.keys(t),g=0,m=_.length;g<m;g++){var S=_[g];c[S]=u.serialize(t[S],i,s,l)}}else typeof t=="number"?c=i.formatter.number(t,i.precision):c=t;return f&&l.length>0?[["dictionary",l.definitions],c]:c},deserialize:function(t,i,s,l,f){var c=t,v=!s,g=v&&t&&t.length&&t[0][0]==="dictionary";if(s=s||{},Array.isArray(t)){var m=t[0],_=m==="dictionary";if(t.length==1&&/^#/.test(m))return s.dictionary[m];m=u.exports[m],c=[];for(var S=m?1:0,T=t.length;S<T;S++)c.push(u.deserialize(t[S],i,s,_,g));if(m){var b=c;i?c=i(m,b,v||f):c=new m(b)}}else if(u.isPlainObject(t)){c={},l&&(s.dictionary=c);for(var x in t)c[x]=u.deserialize(t[x],i,s)}return g?c[1]:c},exportJSON:function(t,i){var s=u.serialize(t,i);return i&&i.asString==!1?s:JSON.stringify(s)},importJSON:function(t,i){return u.deserialize(typeof t=="string"?JSON.parse(t):t,function(s,l,f){var c=f&&i&&i.constructor===s,v=c?i:u.create(s.prototype);if(l.length===1&&v instanceof pe&&(c||!(v instanceof xe))){var g=l[0];u.isPlainObject(g)&&(g.insert=!1,c&&(l=l.concat([{insert:!0}])))}return(c?v.set:s).apply(v,l),c&&(i=null),v})},push:function(t,i){var s=i.length;if(s<4096)t.push.apply(t,i);else{var l=t.length;t.length+=s;for(var f=0;f<s;f++)t[l+f]=i[f]}return t},splice:function(t,i,s,l){var f=i&&i.length,c=s===n;s=c?t.length:s,s>t.length&&(s=t.length);for(var v=0;v<f;v++)i[v]._index=s+v;if(c)return u.push(t,i),[];var g=[s,l];i&&u.push(g,i);for(var m=t.splice.apply(t,g),v=0,_=m.length;v<_;v++)m[v]._index=n;for(var v=s+f,_=t.length;v<_;v++)t[v]._index=v;return m},capitalize:function(t){return t.replace(/\b[a-z]/g,function(i){return i.toUpperCase()})},camelize:function(t){return t.replace(/-(.)/g,function(i,s){return s.toUpperCase()})},hyphenate:function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var h={on:function(t,i){if(typeof t!="string")u.each(t,function(c,v){this.on(v,c)},this);else{var s=this._eventTypes,l=s&&s[t],f=this._callbacks=this._callbacks||{};f=f[t]=f[t]||[],f.indexOf(i)===-1&&(f.push(i),l&&l.install&&f.length===1&&l.install.call(this,t))}return this},off:function(t,i){if(typeof t!="string"){u.each(t,function(v,g){this.off(g,v)},this);return}var s=this._eventTypes,l=s&&s[t],f=this._callbacks&&this._callbacks[t],c;return f&&(!i||(c=f.indexOf(i))!==-1&&f.length===1?(l&&l.uninstall&&l.uninstall.call(this,t),delete this._callbacks[t]):c!==-1&&f.splice(c,1)),this},once:function(t,i){return this.on(t,function s(){i.apply(this,arguments),this.off(t,s)})},emit:function(t,i){var s=this._callbacks&&this._callbacks[t];if(!s)return!1;var l=u.slice(arguments,1),f=i&&i.target&&!i.currentTarget;s=s.slice(),f&&(i.currentTarget=this);for(var c=0,v=s.length;c<v;c++)if(s[c].apply(this,l)==!1){i&&i.stop&&i.stop();break}return f&&delete i.currentTarget,!0},responds:function(t){return!!(this._callbacks&&this._callbacks[t])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(t){var i=this._eventTypes,s=this._callbacks,l=t?"install":"uninstall";if(i){for(var f in s)if(s[f].length>0){var c=i[f],v=c&&c[l];v&&v.call(this,f)}}},statics:{inject:function t(i){var s=i._events;if(s){var l={};u.each(s,function(f,c){var v=typeof f=="string",g=v?f:c,m=u.capitalize(g),_=g.substring(2).toLowerCase();l[_]=v?{}:f,g="_"+g,i["get"+m]=function(){return this[g]},i["set"+m]=function(S){var T=this[g];T&&this.off(_,T),S&&this.on(_,S),this[g]=S}}),i._eventTypes=l}return t.base.apply(this,arguments)}}},p=u.extend({_class:"PaperScope",initialize:function t(){Ne=this,this.settings=new u({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=t._id++,t._scopes[this._id]=this;var i=t.prototype;if(!this.support){var s=ht.getContext(1,1)||{};i.support={nativeDash:"setLineDash"in s||"mozDash"in s,nativeBlendModes:gi.nativeModes},ht.release(s)}if(!this.agent){var l=r.navigator.userAgent.toLowerCase(),f=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(l)||[])[0],c=f==="darwin"?"mac":f,v=i.agent=i.browser={platform:c};c&&(v[c]=!0),l.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(g,m,_,S,T){if(!v.chrome){var b=m==="opera"?S:/^(node|trident)$/.test(m)?T:_;v.version=b,v.versionNumber=parseFloat(b),m={trident:"msie",jsdom:"node"}[m]||m,v.name=m,v[m]=!0}}),v.chrome&&delete v.webkit,v.atom&&delete v.chrome}},version:"0.12.15",getView:function(){var t=this.project;return t&&t._view},getPaper:function(){return this},execute:function(t,i){var s=Ne.PaperScript.execute(t,this,i);return tt.updateFocus(),s},install:function(t){var i=this;u.each(["project","view","tool"],function(l){u.define(t,l,{configurable:!0,get:function(){return i[l]}})});for(var s in this)!/^_/.test(s)&&this[s]&&(t[s]=this[s])},setup:function(t){return Ne=this,this.project=new fe(t),this},createCanvas:function(t,i){return ht.getCanvas(t,i)},activate:function(){Ne=this},clear:function(){for(var t=this.projects,i=this.tools,s=t.length-1;s>=0;s--)t[s].remove();for(var s=i.length-1;s>=0;s--)i[s].remove()},remove:function(){this.clear(),delete p._scopes[this._id]},statics:new function(){function t(i){return i+="Attribute",function(s,l){return s[i](l)||s[i]("data-paper-"+l)}}return{_scopes:{},_id:0,get:function(i){return this._scopes[i]||null},getAttribute:t("get"),hasAttribute:t("has")}}}),d=u.extend(h,{initialize:function(t){this._scope=Ne,this._index=this._scope[this._list].push(this)-1,(t||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var t=this._scope[this._reference];return t&&t!==this&&t.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",t),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return this._index==null?!1:(u.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),k={findItemBoundsCollisions:function(t,i,s){function l(v){for(var g=new Array(v.length),m=0;m<v.length;m++){var _=v[m].getBounds();g[m]=[_.left,_.top,_.right,_.bottom]}return g}var f=l(t),c=!i||i===t?f:l(i);return this.findBoundsCollisions(f,c,s||0)},findCurveBoundsCollisions:function(t,i,s,l){function f(b){for(var x=Math.min,I=Math.max,E=new Array(b.length),M=0;M<b.length;M++){var w=b[M];E[M]=[x(w[0],w[2],w[4],w[6]),x(w[1],w[3],w[5],w[7]),I(w[0],w[2],w[4],w[6]),I(w[1],w[3],w[5],w[7])]}return E}var c=f(t),v=!i||i===t?c:f(i);if(l){for(var g=this.findBoundsCollisions(c,v,s||0,!1,!0),m=this.findBoundsCollisions(c,v,s||0,!0,!0),_=[],S=0,T=g.length;S<T;S++)_[S]={hor:g[S],ver:m[S]};return _}return this.findBoundsCollisions(c,v,s||0)},findBoundsCollisions:function(t,i,s,l,f){var c=!i||t===i,v=c?t:t.concat(i),g=t.length,m=v.length;function _(he,ce,me){for(var ne=0,ie=he.length;ne<ie;){var de=ie+ne>>>1;v[he[de]][ce]<me?ne=de+1:ie=de}return ne-1}for(var S=l?1:0,T=S+2,b=l?0:1,x=b+2,I=new Array(m),E=0;E<m;E++)I[E]=E;I.sort(function(he,ce){return v[he][S]-v[ce][S]});for(var M=[],w=new Array(g),E=0;E<m;E++){var O=I[E],y=v[O],A=c?O:O-g,L=O<g,U=c||!L,P=L?[]:null;if(M.length){var B=_(M,T,y[S]-s)+1;if(M.splice(0,B),c&&f){P=P.concat(M);for(var z=0;z<M.length;z++){var H=M[z];w[H].push(A)}}else for(var Z=y[x],N=y[b],z=0;z<M.length;z++){var H=M[z],W=v[H],X=H<g,Q=c||H>=g;(f||(L&&Q||U&&X)&&Z>=W[b]-s&&N<=W[x]+s)&&(L&&Q&&P.push(c?H:H-g),U&&X&&w[H].push(A))}}if(L&&(t===i&&P.push(O),w[O]=P),M.length){var K=y[T],$=_(M,T,K);M.splice($+1,0,O)}else M.push(O)}for(var E=0;E<w.length;E++){var le=w[E];le&&le.sort(function(ce,me){return ce-me})}return w}},C=u.extend({initialize:function(t){this.precision=u.pick(t,5),this.multiplier=Math.pow(10,this.precision)},number:function(t){return this.precision<16?Math.round(t*this.multiplier)/this.multiplier:t},pair:function(t,i,s){return this.number(t)+(s||",")+this.number(i)},point:function(t,i){return this.number(t.x)+(i||",")+this.number(t.y)},size:function(t,i){return this.number(t.width)+(i||",")+this.number(t.height)},rectangle:function(t,i){return this.point(t,i)+(i||",")+this.size(t,i)}});C.instance=new C;var R=new function(){var t=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],i=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],s=Math.abs,l=Math.sqrt,f=Math.pow,c=Math.log2||function(T){return Math.log(T)*Math.LOG2E},v=1e-12,g=112e-18;function m(T,b,x){return T<b?b:T>x?x:T}function _(T,b,x){function I(B){var z=B*134217729,H=B-z,Z=H+z,N=B-Z;return[Z,N]}var E=b*b-T*x,M=b*b+T*x;if(s(E)*3<M){var w=I(T),O=I(b),y=I(x),A=b*b,L=O[0]*O[0]-A+2*O[0]*O[1]+O[1]*O[1],U=T*x,P=w[0]*y[0]-U+w[0]*y[1]+w[1]*y[0]+w[1]*y[1];E=A-U+(L-P)}return E}function S(){var T=Math.max.apply(Math,arguments);return T&&(T<1e-8||T>1e8)?f(2,-Math.round(c(T))):0}return{EPSILON:v,MACHINE_EPSILON:g,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,KAPPA:4*(l(2)-1)/3,isZero:function(T){return T>=-v&&T<=v},isMachineZero:function(T){return T>=-g&&T<=g},clamp:m,integrate:function(T,b,x,I){for(var E=t[I-2],M=i[I-2],w=(x-b)*.5,O=w+b,y=0,A=I+1>>1,L=I&1?M[y++]*T(O):0;y<A;){var U=w*E[y];L+=M[y++]*(T(O+U)+T(O-U))}return w*L},findRoot:function(T,b,x,I,E,M,w){for(var O=0;O<M;O++){var y=T(x),A=y/b(x),L=x-A;if(s(A)<w){x=L;break}y>0?(E=x,x=L<=I?(I+E)*.5:L):(I=x,x=L>=E?(I+E)*.5:L)}return m(x,I,E)},solveQuadratic:function(T,b,x,I,E,M){var w,O=1/0;if(s(T)<v){if(s(b)<v)return s(x)<v?-1:0;w=-x/b}else{b*=-.5;var y=_(T,b,x);if(y&&s(y)<g){var A=S(s(T),s(b),s(x));A&&(T*=A,b*=A,x*=A,y=_(T,b,x))}if(y>=-g){var L=y<0?0:l(y),U=b+(b<0?-L:L);U===0?(w=x/T,O=-w):(w=U/T,O=x/U)}}var P=0,B=E==null,z=E-v,H=M+v;return isFinite(w)&&(B||w>z&&w<H)&&(I[P++]=B?w:m(w,E,M)),O!==w&&isFinite(O)&&(B||O>z&&O<H)&&(I[P++]=B?O:m(O,E,M)),P},solveCubic:function(T,b,x,I,E,M,w){var O=S(s(T),s(b),s(x),s(I)),y,A,L,U,P;O&&(T*=O,b*=O,x*=O,I*=O);function B($){y=$;var le=T*y;A=le+b,L=A*y+x,U=(le+A)*y+L,P=L*y+I}if(s(T)<v)T=b,A=x,L=I,y=1/0;else if(s(I)<v)A=b,L=x,y=0;else{B(-(b/T)/3);var z=P/T,H=f(s(z),1/3),Z=z<0?-1:1,N=-U/T,W=N>0?1.324717957244746*Math.max(H,l(N)):H,X=y-Z*W;if(X!==y){do B(X),X=U===0?y:y-P/U/(1+g);while(Z*X>Z*y);s(T)*y*y>s(I/y)&&(L=-I/y,A=(L-x)/y)}}var Q=R.solveQuadratic(T,A,L,E,M,w),K=M==null;return isFinite(y)&&(Q===0||Q>0&&y!==E[0]&&y!==E[1])&&(K||y>M-v&&y<w+v)&&(E[Q++]=K?y:m(y,M,w)),Q}}},D={_id:1,_pools:{},get:function(t){if(t){var i=this._pools[t];return i||(i=this._pools[t]={_id:1}),i._id++}else return this._id++}},F=u.extend({_class:"Point",_readIndex:!0,initialize:function(i,s){var l=typeof i,f=this.__read,c=0;if(l==="number"){var v=typeof s=="number";this._set(i,v?s:i),f&&(c=v?2:1)}else if(l==="undefined"||i===null)this._set(0,0),f&&(c=i===null?1:0);else{var g=l==="string"?i.split(/[\s,]+/)||[]:i;c=1,Array.isArray(g)?this._set(+g[0],+(g.length>1?g[1]:g[0])):"x"in g?this._set(g.x||0,g.y||0):"width"in g?this._set(g.width||0,g.height||0):"angle"in g?(this._set(g.length||0,0),this.setAngle(g.angle||0)):(this._set(0,0),c=0)}return f&&(this.__read=c),this},set:"#initialize",_set:function(t,i){return this.x=t,this.y=i,this},equals:function(t){return this===t||t&&(this.x===t.x&&this.y===t.y||Array.isArray(t)&&this.x===t[0]&&this.y===t[1])||!1},clone:function(){return new F(this.x,this.y)},toString:function(){var t=C.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+" }"},_serialize:function(t){var i=t.formatter;return[i.number(this.x),i.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(t){if(this.isZero()){var i=this._angle||0;this._set(Math.cos(i)*t,Math.sin(i)*t)}else{var s=t/this.getLength();R.isZero(s)&&this.getAngle(),this._set(this.x*s,this.y*s)}},getAngle:function(){return this.getAngleInRadians.apply(this,arguments)*180/Math.PI},setAngle:function(t){this.setAngleInRadians.call(this,t*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var t=F.read(arguments),i=this.getLength()*t.getLength();if(R.isZero(i))return NaN;var s=this.dot(t)/i;return Math.acos(s<-1?-1:s>1?1:s)}else return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(t){if(this._angle=t,!this.isZero()){var i=this.getLength();this._set(Math.cos(t)*i,Math.sin(t)*i)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var t=F.read(arguments);return Math.atan2(this.cross(t),this.dot(t))*180/Math.PI},getDistance:function(){var t=arguments,i=F.read(t),s=i.x-this.x,l=i.y-this.y,f=s*s+l*l,c=u.read(t);return c?f:Math.sqrt(f)},normalize:function(t){t===n&&(t=1);var i=this.getLength(),s=i!==0?t/i:0,l=new F(this.x*s,this.y*s);return s>=0&&(l._angle=this._angle),l},rotate:function(t,i){if(t===0)return this.clone();t=t*Math.PI/180;var s=i?this.subtract(i):this,l=Math.sin(t),f=Math.cos(t);return s=new F(s.x*f-s.y*l,s.x*l+s.y*f),i?s.add(i):s},transform:function(t){return t?t._transformPoint(this):this},add:function(){var t=F.read(arguments);return new F(this.x+t.x,this.y+t.y)},subtract:function(){var t=F.read(arguments);return new F(this.x-t.x,this.y-t.y)},multiply:function(){var t=F.read(arguments);return new F(this.x*t.x,this.y*t.y)},divide:function(){var t=F.read(arguments);return new F(this.x/t.x,this.y/t.y)},modulo:function(){var t=F.read(arguments);return new F(this.x%t.x,this.y%t.y)},negate:function(){return new F(-this.x,-this.y)},isInside:function(){return j.read(arguments).contains(this)},isClose:function(){var t=arguments,i=F.read(t),s=u.read(t);return this.getDistance(i)<=s},isCollinear:function(){var t=F.read(arguments);return F.isCollinear(this.x,this.y,t.x,t.y)},isColinear:"#isCollinear",isOrthogonal:function(){var t=F.read(arguments);return F.isOrthogonal(this.x,this.y,t.x,t.y)},isZero:function(){var t=R.isZero;return t(this.x)&&t(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(t){return this.x*(t>1&&t<4?-1:1)>=0&&this.y*(t>2?-1:1)>=0},dot:function(){var t=F.read(arguments);return this.x*t.x+this.y*t.y},cross:function(){var t=F.read(arguments);return this.x*t.y-this.y*t.x},project:function(){var t=F.read(arguments),i=t.isZero()?0:this.dot(t)/t.dot(t);return new F(t.x*i,t.y*i)},statics:{min:function(){var t=arguments,i=F.read(t),s=F.read(t);return new F(Math.min(i.x,s.x),Math.min(i.y,s.y))},max:function(){var t=arguments,i=F.read(t),s=F.read(t);return new F(Math.max(i.x,s.x),Math.max(i.y,s.y))},random:function(){return new F(Math.random(),Math.random())},isCollinear:function(t,i,s,l){return Math.abs(t*l-i*s)<=Math.sqrt((t*t+i*i)*(s*s+l*l))*1e-8},isOrthogonal:function(t,i,s,l){return Math.abs(t*s+i*l)<=Math.sqrt((t*t+i*i)*(s*s+l*l))*1e-8}}},u.each(["round","ceil","floor","abs"],function(t){var i=Math[t];this[t]=function(){return new F(i(this.x),i(this.y))}},{})),q=F.extend({initialize:function(i,s,l,f){this._x=i,this._y=s,this._owner=l,this._setter=f},_set:function(t,i,s){return this._x=t,this._y=i,s||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner._changeSelection(this._getSelection(),t)},_getSelection:function(){return this._setter==="setPosition"?4:0}}),G=u.extend({_class:"Size",_readIndex:!0,initialize:function(i,s){var l=typeof i,f=this.__read,c=0;if(l==="number"){var v=typeof s=="number";this._set(i,v?s:i),f&&(c=v?2:1)}else if(l==="undefined"||i===null)this._set(0,0),f&&(c=i===null?1:0);else{var g=l==="string"?i.split(/[\s,]+/)||[]:i;c=1,Array.isArray(g)?this._set(+g[0],+(g.length>1?g[1]:g[0])):"width"in g?this._set(g.width||0,g.height||0):"x"in g?this._set(g.x||0,g.y||0):(this._set(0,0),c=0)}return f&&(this.__read=c),this},set:"#initialize",_set:function(t,i){return this.width=t,this.height=i,this},equals:function(t){return t===this||t&&(this.width===t.width&&this.height===t.height||Array.isArray(t)&&this.width===t[0]&&this.height===t[1])||!1},clone:function(){return new G(this.width,this.height)},toString:function(){var t=C.instance;return"{ width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var i=t.formatter;return[i.number(this.width),i.number(this.height)]},add:function(){var t=G.read(arguments);return new G(this.width+t.width,this.height+t.height)},subtract:function(){var t=G.read(arguments);return new G(this.width-t.width,this.height-t.height)},multiply:function(){var t=G.read(arguments);return new G(this.width*t.width,this.height*t.height)},divide:function(){var t=G.read(arguments);return new G(this.width/t.width,this.height/t.height)},modulo:function(){var t=G.read(arguments);return new G(this.width%t.width,this.height%t.height)},negate:function(){return new G(-this.width,-this.height)},isZero:function(){var t=R.isZero;return t(this.width)&&t(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(t,i){return new G(Math.min(t.width,i.width),Math.min(t.height,i.height))},max:function(t,i){return new G(Math.max(t.width,i.width),Math.max(t.height,i.height))},random:function(){return new G(Math.random(),Math.random())}}},u.each(["round","ceil","floor","abs"],function(t){var i=Math[t];this[t]=function(){return new G(i(this.width),i(this.height))}},{})),J=G.extend({initialize:function(i,s,l,f){this._width=i,this._height=s,this._owner=l,this._setter=f},_set:function(t,i,s){return this._width=t,this._height=i,s||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(t){this._width=t,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(t){this._height=t,this._owner[this._setter](this)}}),j=u.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(i,s,l,f){var c=arguments,v=typeof i,g;if(v==="number"?(this._set(i,s,l,f),g=4):v==="undefined"||i===null?(this._set(0,0,0,0),g=i===null?1:0):c.length===1&&(Array.isArray(i)?(this._set.apply(this,i),g=1):i.x!==n||i.width!==n?(this._set(i.x||0,i.y||0,i.width||0,i.height||0),g=1):i.from===n&&i.to===n&&(this._set(0,0,0,0),u.readSupported(c,this)&&(g=1))),g===n){var m=F.readNamed(c,"from"),_=u.peek(c),S=m.x,T=m.y,b,x;if(_&&_.x!==n||u.hasNamed(c,"to")){var I=F.readNamed(c,"to");b=I.x-S,x=I.y-T,b<0&&(S=I.x,b=-b),x<0&&(T=I.y,x=-x)}else{var E=G.read(c);b=E.width,x=E.height}this._set(S,T,b,x),g=c.__index}var M=c.__filtered;return M&&(this.__filtered=M),this.__read&&(this.__read=g),this},set:"#initialize",_set:function(t,i,s,l){return this.x=t,this.y=i,this.width=s,this.height=l,this},clone:function(){return new j(this.x,this.y,this.width,this.height)},equals:function(t){var i=u.isPlainValue(t)?j.read(arguments):t;return i===this||i&&this.x===i.x&&this.y===i.y&&this.width===i.width&&this.height===i.height||!1},toString:function(){var t=C.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+", width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var i=t.formatter;return[i.number(this.x),i.number(this.y),i.number(this.width),i.number(this.height)]},getPoint:function(t){var i=t?F:q;return new i(this.x,this.y,this,"setPoint")},setPoint:function(){var t=F.read(arguments);this.x=t.x,this.y=t.y},getSize:function(t){var i=t?G:J;return new i(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var t=G.read(arguments),i=this._sx,s=this._sy,l=t.width,f=t.height;i&&(this.x+=(this.width-l)*i),s&&(this.y+=(this.height-f)*s),this.width=l,this.height=f,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(t){if(!this._fw){var i=t-this.x;this.width-=this._sx===.5?i*2:i}this.x=t,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(t){if(!this._fh){var i=t-this.y;this.height-=this._sy===.5?i*2:i}this.y=t,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(t){if(!this._fw){var i=t-this.x;this.width=this._sx===.5?i*2:i}this.x=t-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(t){if(!this._fh){var i=t-this.y;this.height=this._sy===.5?i*2:i}this.y=t-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(t){this._fw||this._sx===.5?this.x=t-this.width/2:(this._sx&&(this.x+=(t-this.x)*2*this._sx),this.width=(t-this.x)*2),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(t){this._fh||this._sy===.5?this.y=t-this.height/2:(this._sy&&(this.y+=(t-this.y)*2*this._sy),this.height=(t-this.y)*2),this._sy=.5,this._fh=0},getCenter:function(t){var i=t?F:q;return new i(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var t=F.read(arguments);return this.setCenterX(t.x),this.setCenterY(t.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return this.width===0||this.height===0},contains:function(t){return t&&t.width!==n||(Array.isArray(t)?t:arguments).length===4?this._containsRectangle(j.read(arguments)):this._containsPoint(F.read(arguments))},_containsPoint:function(t){var i=t.x,s=t.y;return i>=this.x&&s>=this.y&&i<=this.x+this.width&&s<=this.y+this.height},_containsRectangle:function(t){var i=t.x,s=t.y;return i>=this.x&&s>=this.y&&i+t.width<=this.x+this.width&&s+t.height<=this.y+this.height},intersects:function(){var t=j.read(arguments),i=u.read(arguments)||0;return t.x+t.width>this.x-i&&t.y+t.height>this.y-i&&t.x<this.x+this.width+i&&t.y<this.y+this.height+i},intersect:function(){var t=j.read(arguments),i=Math.max(this.x,t.x),s=Math.max(this.y,t.y),l=Math.min(this.x+this.width,t.x+t.width),f=Math.min(this.y+this.height,t.y+t.height);return new j(i,s,l-i,f-s)},unite:function(){var t=j.read(arguments),i=Math.min(this.x,t.x),s=Math.min(this.y,t.y),l=Math.max(this.x+this.width,t.x+t.width),f=Math.max(this.y+this.height,t.y+t.height);return new j(i,s,l-i,f-s)},include:function(){var t=F.read(arguments),i=Math.min(this.x,t.x),s=Math.min(this.y,t.y),l=Math.max(this.x+this.width,t.x),f=Math.max(this.y+this.height,t.y);return new j(i,s,l-i,f-s)},expand:function(){var t=G.read(arguments),i=t.width,s=t.height;return new j(this.x-i/2,this.y-s/2,this.width+i,this.height+s)},scale:function(t,i){return this.expand(this.width*t-this.width,this.height*(i===n?t:i)-this.height)}},u.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(t,i){var s=t.join(""),l=/^[RL]/.test(s);i>=4&&(t[1]+=l?"Y":"X");var f=t[l?0:1],c=t[l?1:0],v="get"+f,g="get"+c,m="set"+f,_="set"+c,S="get"+s,T="set"+s;this[S]=function(b){var x=b?F:q;return new x(this[v](),this[g](),this,T)},this[T]=function(){var b=F.read(arguments);this[m](b.x),this[_](b.y)}},{beans:!0})),se=j.extend({initialize:function(i,s,l,f,c,v){this._set(i,s,l,f,!0),this._owner=c,this._setter=v},_set:function(t,i,s,l,f){return this._x=t,this._y=i,this._width=s,this._height=l,f||this._owner[this._setter](this),this}},new function(){var t=j.prototype;return u.each(["x","y","width","height"],function(i){var s=u.capitalize(i),l="_"+i;this["get"+s]=function(){return this[l]},this["set"+s]=function(f){this[l]=f,this._dontNotify||this._owner[this._setter](this)}},u.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(i){var s="set"+i;this[s]=function(){this._dontNotify=!0,t[s].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(this._owner._selection&2)},setSelected:function(i){var s=this._owner;s._changeSelection&&s._changeSelection(2,i)}}))}),re=u.extend({_class:"Matrix",initialize:function t(i,s){var l=arguments,f=l.length,c=!0;if(f>=6?this._set.apply(this,l):f===1||f===2?i instanceof t?this._set(i._a,i._b,i._c,i._d,i._tx,i._ty,s):Array.isArray(i)?this._set.apply(this,s?i.concat([s]):i):c=!1:f?c=!1:this.reset(),!c)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(t,i,s,l,f,c,v){return this._a=t,this._b=i,this._c=s,this._d=l,this._tx=f,this._ty=c,v||this._changed(),this},_serialize:function(t,i){return u.serialize(this.getValues(),t,!0,i)},_changed:function(){var t=this._owner;t&&(t._applyMatrix?t.transform(null,!0):t._changed(25))},clone:function(){return new re(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(t){return t===this||t&&this._a===t._a&&this._b===t._b&&this._c===t._c&&this._d===t._d&&this._tx===t._tx&&this._ty===t._ty},toString:function(){var t=C.instance;return"[["+[t.number(this._a),t.number(this._c),t.number(this._tx)].join(", ")+"], ["+[t.number(this._b),t.number(this._d),t.number(this._ty)].join(", ")+"]]"},reset:function(t){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,t||this._changed(),this},apply:function(t,i){var s=this._owner;return s?(s.transform(null,u.pick(t,!0),i),this.isIdentity()):!1},translate:function(){var t=F.read(arguments),i=t.x,s=t.y;return this._tx+=i*this._a+s*this._c,this._ty+=i*this._b+s*this._d,this._changed(),this},scale:function(){var t=arguments,i=F.read(t),s=F.read(t,0,{readNull:!0});return s&&this.translate(s),this._a*=i.x,this._b*=i.x,this._c*=i.y,this._d*=i.y,s&&this.translate(s.negate()),this._changed(),this},rotate:function(t){t*=Math.PI/180;var i=F.read(arguments,1),s=i.x,l=i.y,f=Math.cos(t),c=Math.sin(t),v=s-s*f+l*c,g=l-s*c-l*f,m=this._a,_=this._b,S=this._c,T=this._d;return this._a=f*m+c*S,this._b=f*_+c*T,this._c=-c*m+f*S,this._d=-c*_+f*T,this._tx+=v*m+g*S,this._ty+=v*_+g*T,this._changed(),this},shear:function(){var t=arguments,i=F.read(t),s=F.read(t,0,{readNull:!0});s&&this.translate(s);var l=this._a,f=this._b;return this._a+=i.y*this._c,this._b+=i.y*this._d,this._c+=i.x*l,this._d+=i.x*f,s&&this.translate(s.negate()),this._changed(),this},skew:function(){var t=arguments,i=F.read(t),s=F.read(t,0,{readNull:!0}),l=Math.PI/180,f=new F(Math.tan(i.x*l),Math.tan(i.y*l));return this.shear(f,s)},append:function(t,i){if(t){var s=this._a,l=this._b,f=this._c,c=this._d,v=t._a,g=t._c,m=t._b,_=t._d,S=t._tx,T=t._ty;this._a=v*s+m*f,this._c=g*s+_*f,this._b=v*l+m*c,this._d=g*l+_*c,this._tx+=S*s+T*f,this._ty+=S*l+T*c,i||this._changed()}return this},prepend:function(t,i){if(t){var s=this._a,l=this._b,f=this._c,c=this._d,v=this._tx,g=this._ty,m=t._a,_=t._c,S=t._b,T=t._d,b=t._tx,x=t._ty;this._a=m*s+_*l,this._c=m*f+_*c,this._b=S*s+T*l,this._d=S*f+T*c,this._tx=m*v+_*g+b,this._ty=S*v+T*g+x,i||this._changed()}return this},appended:function(t){return this.clone().append(t)},prepended:function(t){return this.clone().prepend(t)},invert:function(){var t=this._a,i=this._b,s=this._c,l=this._d,f=this._tx,c=this._ty,v=t*l-i*s,g=null;return v&&!isNaN(v)&&isFinite(f)&&isFinite(c)&&(this._a=l/v,this._b=-i/v,this._c=-s/v,this._d=t/v,this._tx=(s*c-l*f)/v,this._ty=(i*f-t*c)/v,g=this),g},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new re(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return this._a===1&&this._b===0&&this._c===0&&this._d===1&&this._tx===0&&this._ty===0},isInvertible:function(){var t=this._a*this._d-this._c*this._b;return t&&!isNaN(t)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(t,i,s){return arguments.length<3?this._transformPoint(F.read(arguments)):this._transformCoordinates(t,i,s)},_transformPoint:function(t,i,s){var l=t.x,f=t.y;return i||(i=new F),i._set(l*this._a+f*this._c+this._tx,l*this._b+f*this._d+this._ty,s)},_transformCoordinates:function(t,i,s){for(var l=0,f=2*s;l<f;l+=2){var c=t[l],v=t[l+1];i[l]=c*this._a+v*this._c+this._tx,i[l+1]=c*this._b+v*this._d+this._ty}return i},_transformCorners:function(t){var i=t.x,s=t.y,l=i+t.width,f=s+t.height,c=[i,s,l,s,l,f,i,f];return this._transformCoordinates(c,c,4)},_transformBounds:function(t,i,s){for(var l=this._transformCorners(t),f=l.slice(0,2),c=f.slice(),v=2;v<8;v++){var g=l[v],m=v&1;g<f[m]?f[m]=g:g>c[m]&&(c[m]=g)}return i||(i=new j),i._set(f[0],f[1],c[0]-f[0],c[1]-f[1],s)},inverseTransform:function(){return this._inverseTransform(F.read(arguments))},_inverseTransform:function(t,i,s){var l=this._a,f=this._b,c=this._c,v=this._d,g=this._tx,m=this._ty,_=l*v-f*c,S=null;if(_&&!isNaN(_)&&isFinite(g)&&isFinite(m)){var T=t.x-this._tx,b=t.y-this._ty;i||(i=new F),S=i._set((T*v-b*c)/_,(b*l-T*f)/_,s)}return S},decompose:function(){var t=this._a,i=this._b,s=this._c,l=this._d,f=t*l-i*s,c=Math.sqrt,v=Math.atan2,g=180/Math.PI,m,_,S;if(t!==0||i!==0){var T=c(t*t+i*i);m=Math.acos(t/T)*(i>0?1:-1),_=[T,f/T],S=[v(t*s+i*l,T*T),0]}else if(s!==0||l!==0){var b=c(s*s+l*l);m=Math.asin(s/b)*(l>0?1:-1),_=[f/b,b],S=[0,v(t*s+i*l,b*b)]}else m=0,S=_=[0,0];return{translation:this.getTranslation(),rotation:m*g,scaling:new F(_),skewing:new F(S[0]*g,S[1]*g)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new F(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(t){this.isIdentity()||t.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},u.each(["a","b","c","d","tx","ty"],function(t){var i=u.capitalize(t),s="_"+t;this["get"+i]=function(){return this[s]},this["set"+i]=function(l){this[s]=l,this._changed()}},{})),oe=u.extend({_class:"Line",initialize:function(i,s,l,f,c){var v=!1;arguments.length>=4?(this._px=i,this._py=s,this._vx=l,this._vy=f,v=c):(this._px=i.x,this._py=i.y,this._vx=s.x,this._vy=s.y,v=l),v||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new F(this._px,this._py)},getVector:function(){return new F(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(t,i){return oe.intersect(this._px,this._py,this._vx,this._vy,t._px,t._py,t._vx,t._vy,!0,i)},getSide:function(t,i){return oe.getSide(this._px,this._py,this._vx,this._vy,t.x,t.y,!0,i)},getDistance:function(t){return Math.abs(this.getSignedDistance(t))},getSignedDistance:function(t){return oe.getSignedDistance(this._px,this._py,this._vx,this._vy,t.x,t.y,!0)},isCollinear:function(t){return F.isCollinear(this._vx,this._vy,t._vx,t._vy)},isOrthogonal:function(t){return F.isOrthogonal(this._vx,this._vy,t._vx,t._vy)},statics:{intersect:function(t,i,s,l,f,c,v,g,m,_){m||(s-=t,l-=i,v-=f,g-=c);var S=s*g-l*v;if(!R.isMachineZero(S)){var T=t-f,b=i-c,x=(v*b-g*T)/S,I=(s*b-l*T)/S,E=1e-12,M=-E,w=1+E;if(_||M<x&&x<w&&M<I&&I<w)return _||(x=x<=0?0:x>=1?1:x),new F(t+x*s,i+x*l)}},getSide:function(t,i,s,l,f,c,v,g){v||(s-=t,l-=i);var m=f-t,_=c-i,S=m*l-_*s;return!g&&R.isMachineZero(S)&&(S=(m*s+m*s)/(s*s+l*l),S>=0&&S<=1&&(S=0)),S<0?-1:S>0?1:0},getSignedDistance:function(t,i,s,l,f,c,v){return v||(s-=t,l-=i),s===0?l>0?f-t:t-f:l===0?s<0?c-i:i-c:((f-t)*l-(c-i)*s)/(l>s?l*Math.sqrt(1+s*s/(l*l)):s*Math.sqrt(1+l*l/(s*s)))},getDistance:function(t,i,s,l,f,c,v){return Math.abs(oe.getSignedDistance(t,i,s,l,f,c,v))}}}),fe=d.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(i){d.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new or(null,null,this),this._view=tt.create(this,i||ht.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(t,i){return u.serialize(this._children,t,!0,i)},_changed:function(t,i){if(t&1){var s=this._view;s&&(s._needsUpdate=!0,!s._requested&&s._autoUpdate&&s.requestUpdate())}var l=this._changes;if(l&&i){var f=this._changesById,c=i._id,v=f[c];v?v.flags|=t:l.push(f[c]={item:i,flags:t})}},clear:function(){for(var t=this._children,i=t.length-1;i>=0;i--)t[i].remove()},isEmpty:function(){return!this._children.length},remove:function t(){return t.base.call(this)?(this._view&&this._view.remove(),!0):!1},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(t){this._currentStyle.set(t)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new xe({project:this,insert:!0})},getSymbolDefinitions:function(){var t=[],i={};return this.getItems({class:Ze,match:function(s){var l=s._definition,f=l._id;return i[f]||(i[f]=!0,t.push(l)),!1}}),t},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var t=this._selectionItems,i=[];for(var s in t){var l=t[s],f=l._selection;f&1&&l.isInserted()?i.push(l):f||this._updateSelection(l)}return i},_updateSelection:function(t){var i=t._id,s=this._selectionItems;t._selection?s[i]!==t&&(this._selectionCount++,s[i]=t):s[i]===t&&(this._selectionCount--,delete s[i])},selectAll:function(){for(var t=this._children,i=0,s=t.length;i<s;i++)t[i].setFullySelected(!0)},deselectAll:function(){var t=this._selectionItems;for(var i in t)t[i].setFullySelected(!1)},addLayer:function(t){return this.insertLayer(n,t)},insertLayer:function(t,i){if(i instanceof xe){i._remove(!1,!0),u.splice(this._children,[i],t,0),i._setProject(this,!0);var s=i._name;s&&i.setName(s),this._changes&&i._changed(5),this._activeLayer||(this._activeLayer=i)}else i=null;return i},_insertItem:function(t,i,s){return i=this.insertLayer(t,i)||(this._activeLayer||this._insertItem(n,new xe(pe.NO_INSERT),!0)).insertChild(t,i),s&&i.activate&&i.activate(),i},getItems:function(t){return pe._getItems(this,t)},getItem:function(t){return pe._getItems(this,t,null,null,!0)[0]||null},importJSON:function(t){this.activate();var i=this._activeLayer;return u.importJSON(t,i&&i.isEmpty()&&i)},removeOn:function(t){var i=this._removeSets;if(i){t==="mouseup"&&(i.mousedrag=null);var s=i[t];if(s){for(var l in s){var f=s[l];for(var c in i){var v=i[c];v&&v!=s&&delete v[f._id]}f.remove()}i[t]=null}}},draw:function(t,i,s){this._updateVersion++,t.save(),i.applyToContext(t);for(var l=this._children,f=new u({offset:new F(0,0),pixelRatio:s,viewMatrix:i.isIdentity()?null:i,matrices:[new re],updateMatrix:!0}),c=0,v=l.length;c<v;c++)l[c].draw(t,f);if(t.restore(),this._selectionCount>0){t.save(),t.strokeWidth=1;var g=this._selectionItems,m=this._scope.settings.handleSize,_=this._updateVersion;for(var S in g)g[S]._drawSelection(t,i,m,g,_);t.restore()}}}),pe=u.extend(h,{statics:{extend:function t(i){return i._serializeFields&&(i._serializeFields=u.set({},this.prototype._serializeFields,i._serializeFields)),t.base.apply(this,arguments)},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new re,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var t=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return u.each(t,function(i){this._events[i]={install:function(s){this.getView()._countItemEvent(s,1)},uninstall:function(s){this.getView()._countItemEvent(s,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:t}})},{initialize:function(){},_initialize:function(t,i){var s=t&&u.isPlainObject(t),l=s&&t.internal===!0,f=this._matrix=new re,c=s&&t.project||Ne.project,v=Ne.settings;return this._id=l?null:D.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&v.applyMatrix,i&&f.translate(i),f._owner=this,this._style=new or(c._currentStyle,this,c),l||s&&t.insert==!1||!v.insertItems&&!(s&&t.insert===!0)?this._setProject(c):(s&&t.parent||c)._insertItem(n,this,!0),s&&t!==pe.NO_INSERT&&this.set(t,{internal:!0,insert:!0,project:!0,parent:!0}),s},_serialize:function(t,i){var s={},l=this;function f(c){for(var v in c){var g=l[v];u.equals(g,v==="leading"?c.fontSize*1.2:c[v])||(s[v]=u.serialize(g,t,v!=="data",i))}}return f(this._serializeFields),this instanceof Ce||f(this._style._defaults),[this._class,s]},_changed:function(t){var i=this._symbol,s=this._parent||i,l=this._project;t&8&&(this._bounds=this._position=this._decomposed=n),t&16&&(this._globalMatrix=n),s&&t&72&&pe._clearBoundsCache(s),t&2&&pe._clearBoundsCache(this),l&&l._changed(t,this),i&&i._changed(t)},getId:function(){return this._id},getName:function(){return this._name},setName:function(t){if(this._name&&this._removeNamed(),t===+t+"")throw new Error("Names consisting only of numbers are not supported.");var i=this._getOwner();if(t&&i){var s=i._children,l=i._namedChildren;(l[t]=l[t]||[]).push(this),t in s||(s[t]=this)}this._name=t||n,this._changed(256)},getStyle:function(){return this._style},setStyle:function(t){this.getStyle().set(t)}},u.each(["locked","visible","blendMode","opacity","guide"],function(t){var i=u.capitalize(t),s="_"+t,l={locked:256,visible:265};this["get"+i]=function(){return this[s]},this["set"+i]=function(f){f!=this[s]&&(this[s]=f,this._changed(l[t]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(t){if(t!==this._selection){this._selection=t;var i=this._project;i&&(i._updateSelection(this),this._changed(257))}},_changeSelection:function(t,i){var s=this._selection;this.setSelection(i?s|t:s&~t)},isSelected:function(){if(this._selectChildren){for(var t=this._children,i=0,s=t.length;i<s;i++)if(t[i].isSelected())return!0}return!!(this._selection&1)},setSelected:function(t){if(this._selectChildren)for(var i=this._children,s=0,l=i.length;s<l;s++)i[s].setSelected(t);this._changeSelection(1,t)},isFullySelected:function(){var t=this._children,i=!!(this._selection&1);if(t&&i){for(var s=0,l=t.length;s<l;s++)if(!t[s].isFullySelected())return!1;return!0}return i},setFullySelected:function(t){var i=this._children;if(i)for(var s=0,l=i.length;s<l;s++)i[s].setFullySelected(t);this._changeSelection(1,t)},isClipMask:function(){return this._clipMask},setClipMask:function(t){this._clipMask!=(t=!!t)&&(this._clipMask=t,t&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(t){this._data=t},getPosition:function(t){var i=t?F:q,s=this._position||(this._position=this._getPositionFromBounds());return new i(s.x,s.y,this,"setPosition")},setPosition:function(){this.translate(F.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(t){return this._pivot?this._matrix._transformPoint(this._pivot):(t||this.getBounds()).getCenter(!0)},getPivot:function(){var t=this._pivot;return t?new q(t.x,t.y,this,"setPivot"):null},setPivot:function(){this._pivot=F.read(arguments,0,{clone:!0,readNull:!0}),this._position=n}},u.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(t,i){this[i]=function(s){return this.getBounds(s,t)}},{beans:!0,getBounds:function(t,i){var s=i||t instanceof re,l=u.set({},s?i:t,this._boundsOptions);(!l.stroke||this.getStrokeScaling())&&(l.cacheItem=this);var f=this._getCachedBounds(s&&t,l).rect;return arguments.length?f:new se(f.x,f.y,f.width,f.height,this,"setBounds")},setBounds:function(){var t=j.read(arguments),i=this.getBounds(),s=this._matrix,l=new re,f=t.getCenter();l.translate(f),(t.width!=i.width||t.height!=i.height)&&(s.isInvertible()||(s.set(s._backup||new re().translate(s.getTranslation())),i=this.getBounds()),l.scale(i.width!==0?t.width/i.width:0,i.height!==0?t.height/i.height:0)),f=i.getCenter(),l.translate(-f.x,-f.y),this.transform(l)},_getBounds:function(t,i){var s=this._children;return!s||!s.length?new j:(pe._updateBoundsCache(this,i.cacheItem),pe._getBounds(s,t,i))},_getBoundsCacheKey:function(t,i){return[t.stroke?1:0,t.handle?1:0,i?1:0].join("")},_getCachedBounds:function(t,i,s){t=t&&t._orNullIfIdentity();var l=i.internal&&!s,f=i.cacheItem,c=l?null:this._matrix._orNullIfIdentity(),v=f&&(!t||t.equals(c))&&this._getBoundsCacheKey(i,l),g=this._bounds;if(pe._updateBoundsCache(this._parent||this._symbol,f),v&&g&&v in g){var m=g[v];return{rect:m.rect.clone(),nonscaling:m.nonscaling}}var _=this._getBounds(t||c,i),S=_.rect||_,T=this._style,b=_.nonscaling||T.hasStroke()&&!T.getStrokeScaling();if(v){g||(this._bounds=g={});var m=g[v]={rect:S.clone(),nonscaling:b,internal:l}}return{rect:S,nonscaling:b}},_getStrokeMatrix:function(t,i){var s=this.getStrokeScaling()?null:i&&i.internal?this:this._parent||this._symbol&&this._symbol._item,l=s?s.getViewMatrix().invert():t;return l&&l._shiftless()},statics:{_updateBoundsCache:function(t,i){if(t&&i){var s=i._id,l=t._boundsCache=t._boundsCache||{ids:{},list:[]};l.ids[s]||(l.list.push(i),l.ids[s]=i)}},_clearBoundsCache:function(t){var i=t._boundsCache;if(i){t._bounds=t._position=t._boundsCache=n;for(var s=0,l=i.list,f=l.length;s<f;s++){var c=l[s];c!==t&&(c._bounds=c._position=n,c._boundsCache&&pe._clearBoundsCache(c))}}},_getBounds:function(t,i,s){var l=1/0,f=-l,c=l,v=f,g=!1;s=s||{};for(var m=0,_=t.length;m<_;m++){var S=t[m];if(S._visible&&!S.isEmpty(!0)){var T=S._getCachedBounds(i&&i.appended(S._matrix),s,!0),b=T.rect;l=Math.min(b.x,l),c=Math.min(b.y,c),f=Math.max(b.x+b.width,f),v=Math.max(b.y+b.height,v),T.nonscaling&&(g=!0)}}return{rect:isFinite(l)?new j(l,c,f-l,v-c):new j,nonscaling:g}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var t=this._decompose();return t?t.rotation:0},setRotation:function(t){var i=this.getRotation();if(i!=null&&t!=null){var s=this._decomposed;this.rotate(t-i),s&&(s.rotation=t,this._decomposed=s)}},getScaling:function(){var t=this._decompose(),i=t&&t.scaling;return new q(i?i.x:1,i?i.y:1,this,"setScaling")},setScaling:function(){var t=this.getScaling(),i=F.read(arguments,0,{clone:!0,readNull:!0});if(t&&i&&!t.equals(i)){var s=this.getRotation(),l=this._decomposed,f=new re,c=R.isZero;if(c(t.x)||c(t.y))f.translate(l.translation),s&&f.rotate(s),f.scale(i.x,i.y),this._matrix.set(f);else{var v=this.getPosition(!0);f.translate(v),s&&f.rotate(s),f.scale(i.x/t.x,i.y/t.y),s&&f.rotate(-s),f.translate(v.negate()),this.transform(f)}l&&(l.scaling=i,this._decomposed=l)}},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.set.apply(t,arguments)},getGlobalMatrix:function(t){var i=this._globalMatrix;if(i)for(var s=this._parent,l=[];s;){if(!s._globalMatrix){i=null;for(var f=0,c=l.length;f<c;f++)l[f]._globalMatrix=null;break}l.push(s),s=s._parent}if(!i){i=this._globalMatrix=this._matrix.clone();var s=this._parent;s&&i.prepend(s.getGlobalMatrix(!0))}return t?i:i.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(t){(this._applyMatrix=this._canApplyMatrix&&!!t)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(t,i){if(this._project!==t){this._project&&this._installEvents(!1),this._project=t;for(var s=this._children,l=0,f=s&&s.length;l<f;l++)s[l]._setProject(t);i=!0}i&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function t(i){t.base.call(this,i);for(var s=this._children,l=0,f=s&&s.length;l<f;l++)s[l]._installEvents(i)},getLayer:function(){for(var t=this;t=t._parent;)if(t instanceof xe)return t;return null},getParent:function(){return this._parent},setParent:function(t){return t.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(t){this.removeChildren(),this.addChildren(t)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var t=this._getOwner();return t&&t._children[this._index+1]||null},getPreviousSibling:function(){var t=this._getOwner();return t&&t._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(t){return t===this||t&&this._class===t._class&&this._style.equals(t._style)&&this._matrix.equals(t._matrix)&&this._locked===t._locked&&this._visible===t._visible&&this._blendMode===t._blendMode&&this._opacity===t._opacity&&this._clipMask===t._clipMask&&this._guide===t._guide&&this._equals(t)||!1},_equals:function(t){return u.equals(this._children,t._children)},clone:function(t){var i=new this.constructor(pe.NO_INSERT),s=this._children,l=u.pick(t?t.insert:n,t===n||t===!0),f=u.pick(t?t.deep:n,!0);s&&i.copyAttributes(this),(!s||f)&&i.copyContent(this),s||i.copyAttributes(this),l&&i.insertAbove(this);var c=this._name,v=this._parent;if(c&&v){for(var s=v._children,g=c,m=1;s[c];)c=g+" "+m++;c!==g&&i.setName(c)}return i},copyContent:function(t){for(var i=t._children,s=0,l=i&&i.length;s<l;s++)this.addChild(i[s].clone(!1),!0)},copyAttributes:function(t,i){this.setStyle(t._style);for(var s=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],l=0,f=s.length;l<f;l++){var c=s[l];t.hasOwnProperty(c)&&(this[c]=t[c])}i||this._matrix.set(t._matrix,!0),this.setApplyMatrix(t._applyMatrix),this.setPivot(t._pivot),this.setSelection(t._selection);var v=t._data,g=t._name;this._data=v?u.clone(v):null,g&&this.setName(g)},rasterize:function(t,i){var s,l,f;u.isPlainObject(t)?(s=t.resolution,l=t.insert,f=t.raster):(s=t,l=i),f?f.matrix.reset(!0):f=new Ke(pe.NO_INSERT);var c=this.getStrokeBounds(),v=(s||this.getView().getResolution())/72,g=c.getTopLeft().floor(),m=c.getBottomRight().ceil(),_=new G(m.subtract(g)),S=_.multiply(v);if(f.setSize(S,!0),!S.isZero()){var T=f.getContext(!0),b=new re().scale(v).translate(g.negate());T.save(),b.applyToContext(T),this.draw(T,new u({matrices:[b]})),T.restore()}return f.transform(new re().translate(g.add(_.divide(2))).scale(1/v)),(l===n||l)&&f.insertAbove(this),f},contains:function(){var t=this._matrix;return t.isInvertible()&&!!this._contains(t._inverseTransform(F.read(arguments)))},_contains:function(t){var i=this._children;if(i){for(var s=i.length-1;s>=0;s--)if(i[s].contains(t))return!0;return!1}return t.isInside(this.getInternalBounds())},isInside:function(){return j.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new Te.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(t,i){return t instanceof pe?this._asPathItem().getIntersections(t._asPathItem(),null,i,!0).length>0:!1}},new function(){function t(){var l=arguments;return this._hitTest(F.read(l),Ye.getOptions(l))}function i(){var l=arguments,f=F.read(l),c=Ye.getOptions(l),v=[];return this._hitTest(f,new u({all:v},c)),v}function s(l,f,c,v){var g=this._children;if(g)for(var m=g.length-1;m>=0;m--){var _=g[m],S=_!==v&&_._hitTest(l,f,c);if(S&&!f.all)return S}return null}return fe.inject({hitTest:t,hitTestAll:i,_hitTest:s}),{hitTest:t,hitTestAll:i,_hitTestChildren:s}},{_hitTest:function(t,i,s){if(this._locked||!this._visible||this._guide&&!i.guides||this.isEmpty())return null;var l=this._matrix,f=s?s.appended(l):this.getGlobalMatrix().prepend(this.getView()._matrix),c=Math.max(i.tolerance,1e-12),v=i._tolerancePadding=new G(Te._getStrokePadding(c,l._shiftless().invert()));if(t=l._inverseTransform(t),!t||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(v.multiply(2))._containsPoint(t))return null;var g=!(i.guides&&!this._guide||i.selected&&!this.isSelected()||i.type&&i.type!==u.hyphenate(this._class)||i.class&&!(this instanceof i.class)),m=i.match,_=this,S,T;function b(y){return y&&m&&!m(y)&&(y=null),y&&i.all&&i.all.push(y),y}function x(y,A){var L=A?S["get"+A]():_.getPosition();if(t.subtract(L).divide(v).length<=1)return new Ye(y,_,{name:A?u.hyphenate(A):y,point:L})}var I=i.position,E=i.center,M=i.bounds;if(g&&this._parent&&(I||E||M)){if((E||M)&&(S=this.getInternalBounds()),T=I&&x("position")||E&&x("center","Center"),!T&&M)for(var w=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],O=0;O<8&&!T;O++)T=x("bounds",w[O]);T=b(T)}return T||(T=this._hitTestChildren(t,i,f)||g&&b(this._hitTestSelf(t,i,f,this.getStrokeScaling()?null:f._shiftless().invert()))||null),T&&T.point&&(T.point=l.transform(T.point)),T},_hitTestSelf:function(t,i){if(i.fill&&this.hasFill()&&this._contains(t))return new Ye("fill",this)},matches:function(t,i){function s(v,g){for(var m in v)if(v.hasOwnProperty(m)){var _=v[m],S=g[m];if(u.isPlainObject(_)&&u.isPlainObject(S)){if(!s(_,S))return!1}else if(!u.equals(_,S))return!1}return!0}var l=typeof t;if(l==="object"){for(var f in t)if(t.hasOwnProperty(f)&&!this.matches(f,t[f]))return!1;return!0}else{if(l==="function")return t(this);if(t==="match")return i(this);var c=/^(empty|editable)$/.test(t)?this["is"+u.capitalize(t)]():t==="type"?u.hyphenate(this._class):this[t];if(t==="class"){if(typeof i=="function")return this instanceof i;c=this._class}if(typeof i=="function")return!!i(c);if(i){if(i.test)return i.test(c);if(u.isPlainObject(i))return s(i,c)}return u.equals(c,i)}},getItems:function(t){return pe._getItems(this,t,this._matrix)},getItem:function(t){return pe._getItems(this,t,this._matrix,null,!0)[0]||null},statics:{_getItems:function t(i,s,l,f,c){if(!f){var v=typeof s=="object"&&s,g=v&&v.overlapping,m=v&&v.inside,_=g||m,b=_&&j.read([_]);f={items:[],recursive:v&&v.recursive!==!1,inside:!!m,overlapping:!!g,rect:b,path:g&&new Te.Rectangle({rectangle:b,insert:!1})},v&&(s=u.filter({},s,{recursive:!0,inside:!0,overlapping:!0}))}var S=i._children,T=f.items,b=f.rect;l=b&&(l||new re);for(var x=0,I=S&&S.length;x<I;x++){var E=S[x],M=l&&l.appended(E._matrix),w=!0;if(b){var _=E.getBounds(M);if(!b.intersects(_))continue;b.contains(_)||f.overlapping&&(_.contains(b)||f.path.intersects(E,M))||(w=!1)}if(w&&E.matches(s)&&(T.push(E),c)||(f.recursive!==!1&&t(E,s,M,f,c),c&&T.length>0))break}return T}}},{importJSON:function(t){var i=u.importJSON(t,this);return i!==this?this.addChild(i):i},addChild:function(t){return this.insertChild(n,t)},insertChild:function(t,i){var s=i?this.insertChildren(t,[i]):null;return s&&s[0]},addChildren:function(t){return this.insertChildren(this._children.length,t)},insertChildren:function(t,i){var s=this._children;if(s&&i&&i.length>0){i=u.slice(i);for(var l={},f=i.length-1;f>=0;f--){var c=i[f],v=c&&c._id;!c||l[v]?i.splice(f,1):(c._remove(!1,!0),l[v]=!0)}u.splice(s,i,t,0);for(var g=this._project,m=g._changes,f=0,_=i.length;f<_;f++){var c=i[f],S=c._name;c._parent=this,c._setProject(g,!0),S&&c.setName(S),m&&c._changed(5)}this._changed(11)}else i=null;return i},_insertItem:"#insertChild",_insertAt:function(t,i){var s=t&&t._getOwner(),l=t!==this&&s?this:null;return l&&(l._remove(!1,!0),s._insertItem(t._index+i,l)),l},insertAbove:function(t){return this._insertAt(t,1)},insertBelow:function(t){return this._insertAt(t,0)},sendToBack:function(){var t=this._getOwner();return t?t._insertItem(0,this):null},bringToFront:function(){var t=this._getOwner();return t?t._insertItem(n,this):null},appendTop:"#addChild",appendBottom:function(t){return this.insertChild(0,t)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(t){return t._insertItem(n,this)},copyTo:function(t){return this.clone(!1).addTo(t)},reduce:function(t){var i=this._children;if(i&&i.length===1){var s=i[0].reduce(t);return this._parent?(s.insertAbove(this),this.remove()):s.remove(),s}return this},_removeNamed:function(){var t=this._getOwner();if(t){var i=t._children,s=t._namedChildren,l=this._name,f=s[l],c=f?f.indexOf(this):-1;c!==-1&&(i[l]==this&&delete i[l],f.splice(c,1),f.length?i[l]=f[0]:delete s[l])}},_remove:function(t,i){var s=this._getOwner(),l=this._project,f=this._index;return this._style&&this._style._dispose(),s?(this._name&&this._removeNamed(),f!=null&&(l._activeLayer===this&&(l._activeLayer=this.getNextSibling()||this.getPreviousSibling()),u.splice(s._children,null,f,1)),this._installEvents(!1),t&&l._changes&&this._changed(5),i&&s._changed(11,this),this._parent=null,!0):!1},remove:function(){return this._remove(!0,!0)},replaceWith:function(t){var i=t&&t.insertBelow(this);return i&&this.remove(),i},removeChildren:function(t,i){if(!this._children)return null;t=t||0,i=u.pick(i,this._children.length);for(var s=u.splice(this._children,null,t,i-t),l=s.length-1;l>=0;l--)s[l]._remove(!0,!1);return s.length>0&&this._changed(11),s},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var t=0,i=this._children.length;t<i;t++)this._children[t]._index=t;this._changed(11)}},isEmpty:function(t){var i=this._children,s=i?i.length:0;if(t){for(var l=0;l<s;l++)if(!i[l].isEmpty(t))return!1;return!0}return!s},isEditable:function(){for(var t=this;t;){if(!t._visible||t._locked)return!1;t=t._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(t){function i(v){var g=[];do g.unshift(v);while(v=v._parent);return g}for(var s=i(this),l=i(t),f=0,c=Math.min(s.length,l.length);f<c;f++)if(s[f]!=l[f])return s[f]._index<l[f]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(t){return this._getOrder(t)===-1},isBelow:function(t){return this._getOrder(t)===1},isParent:function(t){return this._parent===t},isChild:function(t){return t&&t._parent===this},isDescendant:function(t){for(var i=this;i=i._parent;)if(i===t)return!0;return!1},isAncestor:function(t){return t?t.isDescendant(this):!1},isSibling:function(t){return this._parent===t._parent},isGroupedWith:function(t){for(var i=this._parent;i;){if(i._parent&&/^(Group|Layer|CompoundPath)$/.test(i._class)&&t.isDescendant(i))return!0;i=i._parent}return!1}},u.each(["rotate","scale","shear","skew"],function(t){var i=t==="rotate";this[t]=function(){var s=arguments,l=(i?u:F).read(s),f=F.read(s,0,{readNull:!0});return this.transform(new re()[t](l,f||this.getPosition(!0)))}},{translate:function(){var t=new re;return this.transform(t.translate.apply(t,arguments))},transform:function(t,i,s){var l=this._matrix,f=t&&!t.isIdentity(),c=s&&this._canApplyMatrix||this._applyMatrix&&(f||!l.isIdentity()||i&&this._children);if(!f&&!c)return this;if(f){!t.isInvertible()&&l.isInvertible()&&(l._backup=l.getValues()),l.prepend(t,!0);var v=this._style,g=v.getFillColor(!0),m=v.getStrokeColor(!0);g&&g.transform(t),m&&m.transform(t)}if(c&&(c=this._transformContent(l,i,s))){var _=this._pivot;_&&l._transformPoint(_,_,!0),l.reset(!0),s&&this._canApplyMatrix&&(this._applyMatrix=!0)}var S=this._bounds,T=this._position;(f||c)&&this._changed(25);var b=f&&S&&t.decompose();if(b&&b.skewing.isZero()&&b.rotation%90===0){for(var x in S){var I=S[x];if(I.nonscaling)delete S[x];else if(c||!I.internal){var E=I.rect;t._transformBounds(E,E)}}this._bounds=S;var M=S[this._getBoundsCacheKey(this._boundsOptions||{})];M&&(this._position=this._getPositionFromBounds(M.rect))}else f&&T&&this._pivot&&(this._position=t._transformPoint(T,T));return this},_transformContent:function(t,i,s){var l=this._children;if(l){for(var f=0,c=l.length;f<c;f++)l[f].transform(t,i,s);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(F.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(F.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(F.read(arguments))},localToParent:function(){return this._matrix._transformPoint(F.read(arguments))},fitBounds:function(t,i){t=j.read(arguments);var s=this.getBounds(),l=s.height/s.width,f=t.height/t.width,c=(i?l>f:l<f)?t.width/s.width:t.height/s.height,v=new j(new F,new G(s.width*c,s.height*c));v.setCenter(t.getCenter()),this.setBounds(v)}}),{_setStyles:function(t,i,s){var l=this._style,f=this._matrix;if(l.hasFill()&&(t.fillStyle=l.getFillColor().toCanvasStyle(t,f)),l.hasStroke()){t.strokeStyle=l.getStrokeColor().toCanvasStyle(t,f),t.lineWidth=l.getStrokeWidth();var c=l.getStrokeJoin(),v=l.getStrokeCap(),g=l.getMiterLimit();if(c&&(t.lineJoin=c),v&&(t.lineCap=v),g&&(t.miterLimit=g),Ne.support.nativeDash){var m=l.getDashArray(),_=l.getDashOffset();m&&m.length&&("setLineDash"in t?(t.setLineDash(m),t.lineDashOffset=_):(t.mozDash=m,t.mozDashOffset=_))}}if(l.hasShadow()){var S=i.pixelRatio||1,T=s._shiftless().prepend(new re().scale(S,S)),b=T.transform(new F(l.getShadowBlur(),0)),x=T.transform(this.getShadowOffset());t.shadowColor=l.getShadowColor().toCanvasStyle(t),t.shadowBlur=b.getLength(),t.shadowOffsetX=x.x,t.shadowOffsetY=x.y}},draw:function(t,i,s){if(this._updateVersion=this._project._updateVersion,!(!this._visible||this._opacity===0)){var l=i.matrices,f=i.viewMatrix,c=this._matrix,v=l[l.length-1].appended(c);if(!!v.isInvertible()){f=f?f.appended(v):v,l.push(v),i.updateMatrix&&(this._globalMatrix=v);var g=this._blendMode,m=R.clamp(this._opacity,0,1),_=g==="normal",S=gi.nativeModes[g],T=_&&m===1||i.dontStart||i.clip||(S||_&&m<1)&&this._canComposite(),b=i.pixelRatio||1,x,I,E;if(!T){var M=this.getStrokeBounds(f);if(!M.width||!M.height){l.pop();return}E=i.offset,I=i.offset=M.getTopLeft().floor(),x=t,t=ht.getContext(M.getSize().ceil().add(1).multiply(b)),b!==1&&t.scale(b,b)}t.save();var w=s?s.appended(c):this._canScaleStroke&&!this.getStrokeScaling(!0)&&f,O=!T&&i.clipItem,y=!w||O;if(T?(t.globalAlpha=m,S&&(t.globalCompositeOperation=g)):y&&t.translate(-I.x,-I.y),y&&(T?c:f).applyToContext(t),O&&i.clipItem.draw(t,i.extend({clip:!0})),w){t.setTransform(b,0,0,b,0,0);var A=i.offset;A&&t.translate(-A.x,-A.y)}this._draw(t,i,f,w),t.restore(),l.pop(),i.clip&&!i.dontFinish&&t.clip(this.getFillRule()),T||(gi.process(g,t,x,m,I.subtract(E).multiply(b)),ht.release(t),i.offset=E)}}},_isUpdated:function(t){var i=this._parent;if(i instanceof He)return i._isUpdated(t);var s=this._updateVersion===t;return!s&&i&&i._visible&&i._isUpdated(t)&&(this._updateVersion=t,s=!0),s},_drawSelection:function(t,i,s,l,f){var c=this._selection,v=c&1,g=c&2||v&&this._selectBounds,m=c&4;if(this._drawSelected||(v=!1),(v||g||m)&&this._isUpdated(f)){var _,S=this.getSelectedColor(!0)||(_=this.getLayer())&&_.getSelectedColor(!0),T=i.appended(this.getGlobalMatrix(!0)),b=s/2;if(t.strokeStyle=t.fillStyle=S?S.toCanvasStyle(t):"#009dec",v&&this._drawSelected(t,T,l),m){var x=this.getPosition(!0),I=this._parent,E=I?I.localToGlobal(x):x,M=E.x,w=E.y;t.beginPath(),t.arc(M,w,b,0,Math.PI*2,!0),t.stroke();for(var O=[[0,-1],[1,0],[0,1],[-1,0]],y=b,A=s+1,L=0;L<4;L++){var U=O[L],P=U[0],B=U[1];t.moveTo(M+P*y,w+B*y),t.lineTo(M+P*A,w+B*A),t.stroke()}}if(g){var z=T._transformCorners(this.getInternalBounds());t.beginPath();for(var L=0;L<8;L++)t[L?"lineTo":"moveTo"](z[L],z[++L]);t.closePath(),t.stroke();for(var L=0;L<8;L++)t.fillRect(z[L]-b,z[++L]-b,s,s)}}},_canComposite:function(){return!1}},u.each(["down","drag","up","move"],function(t){this["removeOn"+u.capitalize(t)]=function(){var i={};return i[t]=!0,this.removeOn(i)}},{removeOn:function(t){for(var i in t)if(t[i]){var s="mouse"+i,l=this._project,f=l._removeSets=l._removeSets||{};f[s]=f[s]||{},f[s][this._id]=this}return this}}),{tween:function(t,i,s){s||(s=i,i=t,t=null,s||(s=i,i=null));var l=s&&s.easing,f=s&&s.start,c=s!=null&&(typeof s=="number"?s:s.duration),v=new Su(this,t,i,c,l,f);function g(m){v._handleFrame(m.time*1e3),v.running||this.off("frame",g)}return c&&this.on("frame",g),v},tweenTo:function(t,i){return this.tween(null,t,i)},tweenFrom:function(t,i){return this.tween(t,null,i)}}),Ce=pe.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(i){this._children=[],this._namedChildren={},this._initialize(i)||this.addChildren(Array.isArray(i)?i:arguments)},_changed:function t(i){t.base.call(this,i),i&2050&&(this._clipItem=n)},_getClipItem:function(){var t=this._clipItem;if(t===n){t=null;for(var i=this._children,s=0,l=i.length;s<l;s++)if(i[s]._clipMask){t=i[s];break}this._clipItem=t}return t},isClipped:function(){return!!this._getClipItem()},setClipped:function(t){var i=this.getFirstChild();i&&i.setClipMask(t)},_getBounds:function t(i,s){var l=this._getClipItem();return l?l._getCachedBounds(l._matrix.prepended(i),u.set({},s,{stroke:!1})):t.base.call(this,i,s)},_hitTestChildren:function t(i,s,l){var f=this._getClipItem();return(!f||f.contains(i))&&t.base.call(this,i,s,l,f)},_draw:function(t,i){var s=i.clip,l=!s&&this._getClipItem();i=i.extend({clipItem:l,clip:!1}),s?(t.beginPath(),i.dontStart=i.dontFinish=!0):l&&l.draw(t,i.extend({clip:!0}));for(var f=this._children,c=0,v=f.length;c<v;c++){var g=f[c];g!==l&&g.draw(t,i)}}}),xe=Ce.extend({_class:"Layer",initialize:function(){Ce.apply(this,arguments)},_getOwner:function(){return this._parent||this._index!=null&&this._project},isInserted:function t(){return this._parent?t.base.call(this):this._index!=null},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),Re=pe.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(i,s){this._initialize(i,s)},_equals:function(t){return this._type===t._type&&this._size.equals(t._size)&&u.equals(this._radius,t._radius)},copyContent:function(t){this.setType(t._type),this.setSize(t._size),this.setRadius(t._radius)},getType:function(){return this._type},setType:function(t){this._type=t},getShape:"#getType",setShape:"#setType",getSize:function(){var t=this._size;return new J(t.width,t.height,this,"setSize")},setSize:function(){var t=G.read(arguments);if(!this._size)this._size=t.clone();else if(!this._size.equals(t)){var i=this._type,s=t.width,l=t.height;i==="rectangle"?this._radius.set(G.min(this._radius,t.divide(2).abs())):i==="circle"?(s=l=(s+l)/2,this._radius=s/2):i==="ellipse"&&this._radius._set(s/2,l/2),this._size._set(s,l),this._changed(9)}},getRadius:function(){var t=this._radius;return this._type==="circle"?t:new J(t.width,t.height,this,"setRadius")},setRadius:function(t){var i=this._type;if(i==="circle"){if(t===this._radius)return;var s=t*2;this._radius=t,this._size._set(s,s)}else if(t=G.read(arguments),!this._radius)this._radius=t.clone();else{if(this._radius.equals(t))return;if(this._radius.set(t),i==="rectangle"){var s=G.max(this._size,t.multiply(2));this._size.set(s)}else i==="ellipse"&&this._size._set(t.width*2,t.height*2)}this._changed(9)},isEmpty:function(){return!1},toPath:function(t){var i=new Te[u.capitalize(this._type)]({center:new F,size:this._size,radius:this._radius,insert:!1});return i.copyAttributes(this),Ne.settings.applyMatrix&&i.setApplyMatrix(!0),(t===n||t)&&i.insertAbove(this),i},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(t,i,s,l){var f=this._style,c=f.hasFill(),v=f.hasStroke(),g=i.dontFinish||i.clip,m=!l;if(c||v||g){var _=this._type,S=this._radius,T=_==="circle";if(i.dontStart||t.beginPath(),m&&T)t.arc(0,0,S,0,Math.PI*2,!0);else{var b=T?S:S.width,x=T?S:S.height,I=this._size,E=I.width,M=I.height;if(m&&_==="rectangle"&&b===0&&x===0)t.rect(-E/2,-M/2,E,M);else{var w=E/2,O=M/2,y=1-.5522847498307936,A=b*y,L=x*y,U=[-w,-O+x,-w,-O+L,-w+A,-O,-w+b,-O,w-b,-O,w-A,-O,w,-O+L,w,-O+x,w,O-x,w,O-L,w-A,O,w-b,O,-w+b,O,-w+A,O,-w,O-L,-w,O-x];l&&l.transform(U,U,32),t.moveTo(U[0],U[1]),t.bezierCurveTo(U[2],U[3],U[4],U[5],U[6],U[7]),w!==b&&t.lineTo(U[8],U[9]),t.bezierCurveTo(U[10],U[11],U[12],U[13],U[14],U[15]),O!==x&&t.lineTo(U[16],U[17]),t.bezierCurveTo(U[18],U[19],U[20],U[21],U[22],U[23]),w!==b&&t.lineTo(U[24],U[25]),t.bezierCurveTo(U[26],U[27],U[28],U[29],U[30],U[31])}}t.closePath()}!g&&(c||v)&&(this._setStyles(t,i,s),c&&(t.fill(f.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),v&&t.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(t,i){var s=new j(this._size).setCenter(0,0),l=this._style,f=i.stroke&&l.hasStroke()&&l.getStrokeWidth();return t&&(s=t._transformBounds(s)),f?s.expand(Te._getStrokePadding(f,this._getStrokeMatrix(t,i))):s}},new function(){function t(s,l,f){var c=s._radius;if(!c.isZero())for(var v=s._size.divide(2),g=1;g<=4;g++){var m=new F(g>1&&g<4?-1:1,g>2?-1:1),_=m.multiply(v),S=_.subtract(m.multiply(c)),T=new j(f?_.add(m.multiply(f)):_,S);if(T.contains(l))return{point:S,quadrant:g}}}function i(s,l,f,c){var v=s.divide(l);return(!c||v.isInQuadrant(c))&&v.subtract(v.normalize()).multiply(l).divide(f).length<=1}return{_contains:function s(l){if(this._type==="rectangle"){var f=t(this,l);return f?l.subtract(f.point).divide(this._radius).getLength()<=1:s.base.call(this,l)}else return l.divide(this.size).getLength()<=.5},_hitTestSelf:function s(l,f,c,v){var g=!1,m=this._style,_=f.stroke&&m.hasStroke(),S=f.fill&&m.hasFill();if(_||S){var T=this._type,b=this._radius,x=_?m.getStrokeWidth()/2:0,I=f._tolerancePadding.add(Te._getStrokePadding(x,!m.getStrokeScaling()&&v));if(T==="rectangle"){var E=I.multiply(2),M=t(this,l,E);if(M)g=i(l.subtract(M.point),b,I,M.quadrant);else{var w=new j(this._size).setCenter(0,0),O=w.expand(E),y=w.expand(E.negate());g=O._containsPoint(l)&&!y._containsPoint(l)}}else g=i(l,b,I)}return g?new Ye(_?"stroke":"fill",this):s.base.apply(this,arguments)}}},{statics:new function(){function t(i,s,l,f,c){var v=u.create(Re.prototype);return v._type=i,v._size=l,v._radius=f,v._initialize(u.getNamed(c),s),v}return{Circle:function(){var i=arguments,s=F.readNamed(i,"center"),l=u.readNamed(i,"radius");return t("circle",s,new G(l*2),l,i)},Rectangle:function(){var i=arguments,s=j.readNamed(i,"rectangle"),l=G.min(G.readNamed(i,"radius"),s.getSize(!0).divide(2));return t("rectangle",s.getCenter(!0),s.getSize(!0),l,i)},Ellipse:function(){var i=arguments,s=Re._readEllipse(i),l=s.radius;return t("ellipse",s.center,l.multiply(2),l,i)},_readEllipse:function(i){var s,l;if(u.hasNamed(i,"radius"))s=F.readNamed(i,"center"),l=G.readNamed(i,"radius");else{var f=j.readNamed(i,"rectangle");s=f.getCenter(!0),l=f.getSize(!0).divide(2)}return{center:s,radius:l}}}}}),Ke=pe.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(i,s){if(!this._initialize(i,s!==n&&F.read(arguments))){var l,f=typeof i,c=f==="string"?o.getElementById(i):f==="object"?i:null;if(c&&c!==pe.NO_INSERT){if(c.getContext||c.naturalHeight!=null)l=c;else if(c){var v=G.read(arguments);v.isZero()||(l=ht.getCanvas(v))}}l?this.setImage(l):this.setSource(i)}this._size||(this._size=new G,this._loaded=!1)},_equals:function(t){return this.getSource()===t.getSource()},copyContent:function(t){var i=t._image,s=t._canvas;if(i)this._setImage(i);else if(s){var l=ht.getCanvas(t._size);l.getContext("2d").drawImage(s,0,0),this._setImage(l)}this._crossOrigin=t._crossOrigin},getSize:function(){var t=this._size;return new J(t?t.width:0,t?t.height:0,this,"setSize")},setSize:function(t,i){var s=G.read(arguments);if(s.equals(this._size))i&&this.clear();else if(s.width>0&&s.height>0){var l=!i&&this.getElement();this._setImage(ht.getCanvas(s)),l&&this.getContext(!0).drawImage(l,0,0,s.width,s.height)}else this._canvas&&ht.release(this._canvas),this._size=s.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(t){this.setSize(t,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(t){this.setSize(this.getWidth(),t)},getLoaded:function(){return this._loaded},isEmpty:function(){var t=this._size;return!t||t.width===0&&t.height===0},getResolution:function(){var t=this._matrix,i=new F(0,0).transform(t),s=new F(1,0).transform(t).subtract(i),l=new F(0,1).transform(t).subtract(i);return new G(72/s.getLength(),72/l.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(t){var i=this;function s(l){var f=i.getView(),c=l&&l.type||"load";f&&i.responds(c)&&(Ne=f._scope,i.emit(c,new kn(l)))}this._setImage(t),this._loaded?setTimeout(s,0):t&&ft.add(t,{load:function(l){i._setImage(t),s(l)},error:s})},_setImage:function(t){this._canvas&&ht.release(this._canvas),t&&t.getContext?(this._image=null,this._canvas=t,this._loaded=!0):(this._image=t,this._canvas=null,this._loaded=!!(t&&t.src&&t.complete)),this._size=new G(t?t.naturalWidth||t.width:0,t?t.naturalHeight||t.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var t=ht.getContext(this._size);try{this._image&&t.drawImage(this._image,0,0),this._canvas=t.canvas}catch{ht.release(t)}}return this._canvas},setCanvas:"#setImage",getContext:function(t){return this._context||(this._context=this.getCanvas().getContext("2d")),t&&(this._image=null,this._changed(1025)),this._context},setContext:function(t){this._context=t},getSource:function(){var t=this._image;return t&&t.src||this.toDataURL()},setSource:function(t){var i=new r.Image,s=this._crossOrigin;s&&(i.crossOrigin=s),t&&(i.src=t),this.setImage(i)},getCrossOrigin:function(){var t=this._image;return t&&t.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(t){this._crossOrigin=t;var i=this._image;i&&(i.crossOrigin=t)},getSmoothing:function(){return this._smoothing},setSmoothing:function(t){this._smoothing=typeof t=="string"?t:t?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var t=j.read(arguments),i=ht.getContext(t.getSize());return i.drawImage(this.getCanvas(),t.x,t.y,t.width,t.height,0,0,t.width,t.height),i.canvas},getSubRaster:function(){var t=j.read(arguments),i=new Ke(pe.NO_INSERT);return i._setImage(this.getSubCanvas(t)),i.translate(t.getCenter().subtract(this.getSize().divide(2))),i._matrix.prepend(this._matrix),i.insertAbove(this),i},toDataURL:function(){var t=this._image,i=t&&t.src;if(/^data:/.test(i))return i;var s=this.getCanvas();return s?s.toDataURL.apply(s,arguments):null},drawImage:function(t){var i=F.read(arguments,1);this.getContext(!0).drawImage(t,i.x,i.y)},getAverageColor:function(t){var i,s;if(t?t instanceof We?(s=t,i=t.getBounds()):typeof t=="object"&&("width"in t?i=new j(t):"x"in t&&(i=new j(t.x-.5,t.y-.5,1,1))):i=this.getBounds(),!i)return null;var l=32,f=Math.min(i.width,l),c=Math.min(i.height,l),v=Ke._sampleContext;v?v.clearRect(0,0,l+1,l+1):v=Ke._sampleContext=ht.getContext(new G(l)),v.save();var g=new re().scale(f/i.width,c/i.height).translate(-i.x,-i.y);g.applyToContext(v),s&&s.draw(v,new u({clip:!0,matrices:[g]})),this._matrix.applyToContext(v);var m=this.getElement(),_=this._size;m&&v.drawImage(m,-_.width/2,-_.height/2),v.restore();for(var S=v.getImageData(.5,.5,Math.ceil(f),Math.ceil(c)).data,T=[0,0,0],b=0,x=0,I=S.length;x<I;x+=4){var E=S[x+3];b+=E,E/=255,T[0]+=S[x]*E,T[1]+=S[x+1]*E,T[2]+=S[x+2]*E}for(var x=0;x<3;x++)T[x]/=b;return b?$e.read(T):null},getPixel:function(){var t=F.read(arguments),i=this.getContext().getImageData(t.x,t.y,1,1).data;return new $e("rgb",[i[0]/255,i[1]/255,i[2]/255],i[3]/255)},setPixel:function(){var t=arguments,i=F.read(t),s=$e.read(t),l=s._convert("rgb"),f=s._alpha,c=this.getContext(!0),v=c.createImageData(1,1),g=v.data;g[0]=l[0]*255,g[1]=l[1]*255,g[2]=l[2]*255,g[3]=f!=null?f*255:255,c.putImageData(v,i.x,i.y)},clear:function(){var t=this._size;this.getContext(!0).clearRect(0,0,t.width+1,t.height+1)},createImageData:function(){var t=G.read(arguments);return this.getContext().createImageData(t.width,t.height)},getImageData:function(){var t=j.read(arguments);return t.isEmpty()&&(t=new j(this._size)),this.getContext().getImageData(t.x,t.y,t.width,t.height)},setImageData:function(t){var i=F.read(arguments,1);this.getContext(!0).putImageData(t,i.x,i.y)},_getBounds:function(t,i){var s=new j(this._size).setCenter(0,0);return t?t._transformBounds(s):s},_hitTestSelf:function(t){if(this._contains(t)){var i=this;return new Ye("pixel",i,{offset:t.add(i._size.divide(2)).round(),color:{get:function(){return i.getPixel(this.offset)}}})}},_draw:function(t,i,s){var l=this.getElement();if(l&&l.width>0&&l.height>0){t.globalAlpha=R.clamp(this._opacity,0,1),this._setStyles(t,i,s);var f=this._smoothing,c=f==="off";nt.setPrefixed(t,c?"imageSmoothingEnabled":"imageSmoothingQuality",c?!1:f),t.drawImage(l,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),Ze=pe.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(i,s){this._initialize(i,s!==n&&F.read(arguments,1))||this.setDefinition(i instanceof Je?i:new Je(i))},_equals:function(t){return this._definition===t._definition},copyContent:function(t){this.setDefinition(t._definition)},getDefinition:function(){return this._definition},setDefinition:function(t){this._definition=t,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(t,i){var s=this._definition._item;return s._getCachedBounds(s._matrix.prepended(t),i)},_hitTestSelf:function(t,i,s){var l=i.extend({all:!1}),f=this._definition._item._hitTest(t,l,s);return f&&(f.item=this),f},_draw:function(t,i){this._definition._item.draw(t,i)}}),Je=u.extend({_class:"SymbolDefinition",initialize:function(i,s){this._id=D.get(),this.project=Ne.project,i&&this.setItem(i,s)},_serialize:function(t,i){return i.add(this,function(){return u.serialize([this._class,this._item],t,!1,i)})},_changed:function(t){t&8&&pe._clearBoundsCache(this),t&1&&this.project._changed(t)},getItem:function(){return this._item},setItem:function(t,i){t._symbol&&(t=t.clone()),this._item&&(this._item._symbol=null),this._item=t,t.remove(),t.setSelected(!1),i||t.setPosition(new F),t._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(t){return new Ze(this,t)},clone:function(){return new Je(this._item.clone(!1))},equals:function(t){return t===this||t&&this._item.equals(t._item)||!1}}),Ye=u.extend({_class:"HitResult",initialize:function(i,s,l){this.type=i,this.item=s,l&&this.inject(l)},statics:{getOptions:function(t){var i=t&&u.read(t);return new u({type:null,tolerance:Ne.settings.hitTolerance,fill:!i,stroke:!i,segments:!i,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},i)}}}),ge=u.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(i,s,l,f,c,v){var g=arguments.length,m,_,S,T;g>0&&(i==null||typeof i=="object"?g===1&&i&&"point"in i?(m=i.point,_=i.handleIn,S=i.handleOut,T=i.selection):(m=i,_=s,S=l,T=f):(m=[i,s],_=l!==n?[l,f]:null,S=c!==n?[c,v]:null)),new Qe(m,this,"_point"),new Qe(_,this,"_handleIn"),new Qe(S,this,"_handleOut"),T&&this.setSelection(T)},_serialize:function(t,i){var s=this._point,l=this._selection,f=l||this.hasHandles()?[s,this._handleIn,this._handleOut]:s;return l&&f.push(l),u.serialize(f,t,!0,i)},_changed:function(t){var i=this._path;if(!!i){var s=i._curves,l=this._index,f;s&&((!t||t===this._point||t===this._handleIn)&&(f=l>0?s[l-1]:i._closed?s[s.length-1]:null)&&f._changed(),(!t||t===this._point||t===this._handleOut)&&(f=s[l])&&f._changed()),i._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(F.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(F.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(F.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var t=this._handleIn,i=this._handleOut;return!t.isZero()&&!i.isZero()&&t.isCollinear(i)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(t){var i=this._selection,s=this._path;this._selection=t=t||0,s&&t!==i&&(s._updateSelection(this,i,t),s._changed(257))},_changeSelection:function(t,i){var s=this._selection;this.setSelection(i?s|t:s&~t)},isSelected:function(){return!!(this._selection&7)},setSelected:function(t){this._changeSelection(7,t)},getIndex:function(){return this._index!==n?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var t=this._path,i=this._index;return t?(i>0&&!t._closed&&i===t._segments.length-1&&i--,t.getCurves()[i]||null):null},getLocation:function(){var t=this.getCurve();return t?new ze(t,this===t._segment1?0:1):null},getNext:function(){var t=this._path&&this._path._segments;return t&&(t[this._index+1]||this._path._closed&&t[0])||null},smooth:function(t,i,s){var l=t||{},f=l.type,c=l.factor,v=this.getPrevious(),g=this.getNext(),m=(v||this)._point,_=this._point,S=(g||this)._point,T=m.getDistance(_),b=_.getDistance(S);if(!f||f==="catmull-rom"){var x=c===n?.5:c,I=Math.pow(T,x),E=I*I,M=Math.pow(b,x),w=M*M;if(!i&&v){var O=2*w+3*M*I+E,y=3*M*(M+I);this.setHandleIn(y!==0?new F((w*m._x+O*_._x-E*S._x)/y-_._x,(w*m._y+O*_._y-E*S._y)/y-_._y):new F)}if(!s&&g){var O=2*E+3*I*M+w,y=3*I*(I+M);this.setHandleOut(y!==0?new F((E*S._x+O*_._x-w*m._x)/y-_._x,(E*S._y+O*_._y-w*m._y)/y-_._y):new F)}}else if(f==="geometric"){if(v&&g){var A=m.subtract(S),L=c===n?.4:c,U=L*T/(T+b);i||this.setHandleIn(A.multiply(U)),s||this.setHandleOut(A.multiply(U-L))}}else throw new Error("Smoothing method '"+f+"' not supported.")},getPrevious:function(){var t=this._path&&this._path._segments;return t&&(t[this._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var t=this._path;return t&&this._index===t._segments.length-1||!1},reverse:function(){var t=this._handleIn,i=this._handleOut,s=t.clone();t.set(i),i.set(s)},reversed:function(){return new ge(this._point,this._handleOut,this._handleIn)},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},clone:function(){return new ge(this._point,this._handleIn,this._handleOut)},equals:function(t){return t===this||t&&this._class===t._class&&this._point.equals(t._point)&&this._handleIn.equals(t._handleIn)&&this._handleOut.equals(t._handleOut)||!1},toString:function(){var t=["point: "+this._point];return this._handleIn.isZero()||t.push("handleIn: "+this._handleIn),this._handleOut.isZero()||t.push("handleOut: "+this._handleOut),"{ "+t.join(", ")+" }"},transform:function(t){this._transformCoordinates(t,new Array(6),!0),this._changed()},interpolate:function(t,i,s){var l=1-s,f=s,c=t._point,v=i._point,g=t._handleIn,m=i._handleIn,_=i._handleOut,S=t._handleOut;this._point._set(l*c._x+f*v._x,l*c._y+f*v._y,!0),this._handleIn._set(l*g._x+f*m._x,l*g._y+f*m._y,!0),this._handleOut._set(l*S._x+f*_._x,l*S._y+f*_._y,!0),this._changed()},_transformCoordinates:function(t,i,s){var l=this._point,f=!s||!this._handleIn.isZero()?this._handleIn:null,c=!s||!this._handleOut.isZero()?this._handleOut:null,v=l._x,g=l._y,m=2;return i[0]=v,i[1]=g,f&&(i[m++]=f._x+v,i[m++]=f._y+g),c&&(i[m++]=c._x+v,i[m++]=c._y+g),t&&(t._transformCoordinates(i,i,m/2),v=i[0],g=i[1],s?(l._x=v,l._y=g,m=2,f&&(f._x=i[m++]-v,f._y=i[m++]-g),c&&(c._x=i[m++]-v,c._y=i[m++]-g)):(f||(i[m++]=v,i[m++]=g),c||(i[m++]=v,i[m++]=g))),i}}),Qe=F.extend({initialize:function(i,s,l){var f,c,v;if(!i)f=c=0;else if((f=i[0])!==n)c=i[1];else{var g=i;(f=g.x)===n&&(g=F.read(arguments),f=g.x),c=g.y,v=g.selected}this._x=f,this._y=c,this._owner=s,s[l]=this,v&&this.setSelected(!0)},_set:function(t,i){return this._x=t,this._y=i,this._owner._changed(this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner._changed(this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner._changed(this)},isZero:function(){var t=R.isZero;return t(this._x)&&t(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner._changeSelection(this._getSelection(),t)},_getSelection:function(){var t=this._owner;return this===t._point?1:this===t._handleIn?2:this===t._handleOut?4:0}}),ue=u.extend({_class:"Curve",beans:!0,initialize:function(i,s,l,f,c,v,g,m){var _=arguments.length,S,T,b,x,I,E;_===3?(this._path=i,S=s,T=l):_?_===1?"segment1"in i?(S=new ge(i.segment1),T=new ge(i.segment2)):"point1"in i?(b=i.point1,I=i.handle1,E=i.handle2,x=i.point2):Array.isArray(i)&&(b=[i[0],i[1]],x=[i[6],i[7]],I=[i[2]-i[0],i[3]-i[1]],E=[i[4]-i[6],i[5]-i[7]]):_===2?(S=new ge(i),T=new ge(s)):_===4?(b=i,I=s,E=l,x=f):_===8&&(b=[i,s],x=[g,m],I=[l-i,f-s],E=[c-g,v-m]):(S=new ge,T=new ge),this._segment1=S||new ge(b,null,I),this._segment2=T||new ge(x,E,null)},_serialize:function(t,i){return u.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],t,!0,i)},_changed:function(){this._length=this._bounds=n},clone:function(){return new ue(this._segment1,this._segment2)},toString:function(){var t=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||t.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||t.push("handle2: "+this._segment2._handleIn),t.push("point2: "+this._segment2._point),"{ "+t.join(", ")+" }"},classify:function(){return ue.classify(this.getValues())},remove:function(){var t=!1;if(this._path){var i=this._segment2,s=i._handleOut;t=i.remove(),t&&this._segment1._handleOut.set(s)}return t},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(F.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(F.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(F.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(F.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index+1]||this._path._closed&&t[0])||null},getPrevious:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var t=this._path;return t&&this._segment1._index===t._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(t){this.getPoint1().setSelected(t),this.getHandle1().setSelected(t),this.getHandle2().setSelected(t),this.getPoint2().setSelected(t)},getValues:function(t){return ue.getValues(this._segment1,this._segment2,t)},getPoints:function(){for(var t=this.getValues(),i=[],s=0;s<8;s+=2)i.push(new F(t[s],t[s+1]));return i}},{getLength:function(){return this._length==null&&(this._length=ue.getLength(this.getValues(),0,1)),this._length},getArea:function(){return ue.getArea(this.getValues())},getLine:function(){return new oe(this._segment1._point,this._segment2._point)},getPart:function(t,i){return new ue(ue.getPart(this.getValues(),t,i))},getPartLength:function(t,i){return ue.getLength(this.getValues(),t,i)},divideAt:function(t){return this.divideAtTime(t&&t.curve===this?t.time:this.getTimeAt(t))},divideAtTime:function(t,i){var s=1e-8,l=1-s,f=null;if(t>=s&&t<=l){var c=ue.subdivide(this.getValues(),t),v=c[0],g=c[1],m=i||this.hasHandles(),_=this._segment1,S=this._segment2,T=this._path;m&&(_._handleOut._set(v[2]-v[0],v[3]-v[1]),S._handleIn._set(g[4]-g[6],g[5]-g[7]));var b=v[6],x=v[7],I=new ge(new F(b,x),m&&new F(v[4]-b,v[5]-x),m&&new F(g[2]-b,g[3]-x));T?(T.insert(_._index+1,I),f=this.getNext()):(this._segment2=I,this._changed(),f=new ue(I,S))}return f},splitAt:function(t){var i=this._path;return i?i.splitAt(t):null},splitAtTime:function(t){return this.splitAt(this.getLocationAtTime(t))},divide:function(t,i){return this.divideAtTime(t===n?.5:i?t:this.getTimeAt(t))},split:function(t,i){return this.splitAtTime(t===n?.5:i?t:this.getTimeAt(t))},reversed:function(){return new ue(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(t,i,s,l){var f=t._point,c=t._handleOut,v=i._handleIn,g=i._point,m=f.x,_=f.y,S=g.x,T=g.y,b=l?[m,_,m,_,S,T,S,T]:[m,_,m+c._x,_+c._y,S+v._x,T+v._y,S,T];return s&&s._transformCoordinates(b,b,4),b},subdivide:function(t,i){var s=t[0],l=t[1],f=t[2],c=t[3],v=t[4],g=t[5],m=t[6],_=t[7];i===n&&(i=.5);var S=1-i,T=S*s+i*f,b=S*l+i*c,x=S*f+i*v,I=S*c+i*g,E=S*v+i*m,M=S*g+i*_,w=S*T+i*x,O=S*b+i*I,y=S*x+i*E,A=S*I+i*M,L=S*w+i*y,U=S*O+i*A;return[[s,l,T,b,w,O,L,U],[L,U,y,A,E,M,m,_]]},getMonoCurves:function(t,i){var s=[],l=i?0:1,f=t[l+0],c=t[l+2],v=t[l+4],g=t[l+6];if(f>=c==c>=v&&c>=v==v>=g||ue.isStraight(t))s.push(t);else{var m=3*(c-v)-f+g,_=2*(f+v)-4*c,S=c-f,T=1e-8,b=1-T,x=[],I=R.solveQuadratic(m,_,S,x,T,b);if(!I)s.push(t);else{x.sort();var E=x[0],M=ue.subdivide(t,E);s.push(M[0]),I>1&&(E=(x[1]-E)/(1-E),M=ue.subdivide(M[1],E),s.push(M[0])),s.push(M[1])}}return s},solveCubic:function(t,i,s,l,f,c){var v=t[i],g=t[i+2],m=t[i+4],_=t[i+6],S=0;if(!(v<s&&_<s&&g<s&&m<s||v>s&&_>s&&g>s&&m>s)){var T=3*(g-v),b=3*(m-g)-T,x=_-v-T-b;S=R.solveCubic(x,b,T,v-s,l,f,c)}return S},getTimeOf:function(t,i){var s=new F(t[0],t[1]),l=new F(t[6],t[7]),f=1e-12,c=1e-7,v=i.isClose(s,f)?0:i.isClose(l,f)?1:null;if(v===null)for(var g=[i.x,i.y],m=[],_=0;_<2;_++)for(var S=ue.solveCubic(t,_,g[_],m,0,1),T=0;T<S;T++){var b=m[T];if(i.isClose(ue.getPoint(t,b),c))return b}return i.isClose(s,c)?0:i.isClose(l,c)?1:null},getNearestTime:function(t,i){if(ue.isStraight(t)){var s=t[0],l=t[1],f=t[6],c=t[7],v=f-s,g=c-l,m=v*v+g*g;if(m===0)return 0;var _=((i.x-s)*v+(i.y-l)*g)/m;return _<1e-12?0:_>.999999999999?1:ue.getTimeOf(t,new F(s+_*v,l+_*g))}var S=100,T=1/0,b=0;function x(M){if(M>=0&&M<=1){var w=i.getDistance(ue.getPoint(t,M),!0);if(w<T)return T=w,b=M,!0}}for(var I=0;I<=S;I++)x(I/S);for(var E=1/(S*2);E>1e-8;)!x(b-E)&&!x(b+E)&&(E/=2);return b},getPart:function(t,i,s){var l=i>s;if(l){var f=i;i=s,s=f}return i>0&&(t=ue.subdivide(t,i)[1]),s<1&&(t=ue.subdivide(t,(s-i)/(1-i))[0]),l?[t[6],t[7],t[4],t[5],t[2],t[3],t[0],t[1]]:t},isFlatEnough:function(t,i){var s=t[0],l=t[1],f=t[2],c=t[3],v=t[4],g=t[5],m=t[6],_=t[7],S=3*f-2*s-m,T=3*c-2*l-_,b=3*v-2*m-s,x=3*g-2*_-l;return Math.max(S*S,b*b)+Math.max(T*T,x*x)<=16*i*i},getArea:function(t){var i=t[0],s=t[1],l=t[2],f=t[3],c=t[4],v=t[5],g=t[6],m=t[7];return 3*((m-s)*(l+c)-(g-i)*(f+v)+f*(i-c)-l*(s-v)+m*(c+i/3)-g*(v+s/3))/20},getBounds:function(t){for(var i=t.slice(0,2),s=i.slice(),l=[0,0],f=0;f<2;f++)ue._addBounds(t[f],t[f+2],t[f+4],t[f+6],f,0,i,s,l);return new j(i[0],i[1],s[0]-i[0],s[1]-i[1])},_addBounds:function(t,i,s,l,f,c,v,g,m){function _(L,U){var P=L-U,B=L+U;P<v[f]&&(v[f]=P),B>g[f]&&(g[f]=B)}c/=2;var S=v[f]+c,T=g[f]-c;if(t<S||i<S||s<S||l<S||t>T||i>T||s>T||l>T)if(i<t!=i<l&&s<t!=s<l)_(t,0),_(l,0);else{var b=3*(i-s)-t+l,x=2*(t+s)-4*i,I=i-t,E=R.solveQuadratic(b,x,I,m),M=1e-8,w=1-M;_(l,0);for(var O=0;O<E;O++){var y=m[O],A=1-y;M<=y&&y<=w&&_(A*A*A*t+3*A*A*y*i+3*A*y*y*s+y*y*y*l,c)}}}}},u.each(["getBounds","getStrokeBounds","getHandleBounds"],function(t){this[t]=function(){this._bounds||(this._bounds={});var i=this._bounds[t];return i||(i=this._bounds[t]=Te[t]([this._segment1,this._segment2],!1,this._path)),i.clone()}},{}),u.each({isStraight:function(t,i,s,l){if(i.isZero()&&s.isZero())return!0;var f=l.subtract(t);if(f.isZero())return!1;if(f.isCollinear(i)&&f.isCollinear(s)){var c=new oe(t,l),v=1e-7;if(c.getDistance(t.add(i))<v&&c.getDistance(l.add(s))<v){var g=f.dot(f),m=f.dot(i)/g,_=f.dot(s)/g;return m>=0&&m<=1&&_<=0&&_>=-1}}return!1},isLinear:function(t,i,s,l){var f=l.subtract(t).divide(3);return i.equals(f)&&s.negate().equals(f)}},function(t,i){this[i]=function(s){var l=this._segment1,f=this._segment2;return t(l._point,l._handleOut,f._handleIn,f._point,s)},this.statics[i]=function(s,l){var f=s[0],c=s[1],v=s[6],g=s[7];return t(new F(f,c),new F(s[2]-f,s[3]-c),new F(s[4]-v,s[5]-g),new F(v,g),l)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(t){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(t||0)},isCollinear:function(t){return t&&this.isStraight()&&t.isStraight()&&this.getLine().isCollinear(t.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(t,i){return this.getLocationAtTime(i?t:this.getTimeAt(t))},getLocationAtTime:function(t){return t!=null&&t>=0&&t<=1?new ze(this,t):null},getTimeAt:function(t,i){return ue.getTimeAt(this.getValues(),t,i)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var t=F.read(arguments);return t.isZero()?[]:ue.getTimesWithTangent(this.getValues(),t)},getOffsetAtTime:function(t){return this.getPartLength(0,t)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(F.read(arguments)))},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getTimeOf:function(){return ue.getTimeOf(this.getValues(),F.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var t=F.read(arguments),i=this.getValues(),s=ue.getNearestTime(i,t),l=ue.getPoint(i,s);return new ze(this,s,l,null,t.getDistance(l))},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t&&t.getPoint()}},new function(){var t=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return u.each(t,function(i){this[i+"At"]=function(s,l){var f=this.getValues();return ue[i](f,l?s:ue.getTimeAt(f,s))},this[i+"AtTime"]=function(s){return ue[i](this.getValues(),s)}},{statics:{_evaluateMethods:t}})},new function(){function t(l){var f=l[0],c=l[1],v=l[2],g=l[3],m=l[4],_=l[5],S=l[6],T=l[7],b=9*(v-m)+3*(S-f),x=6*(f+m)-12*v,I=3*(v-f),E=9*(g-_)+3*(T-c),M=6*(c+_)-12*g,w=3*(g-c);return function(O){var y=(b*O+x)*O+I,A=(E*O+M)*O+w;return Math.sqrt(y*y+A*A)}}function i(l,f){return Math.max(2,Math.min(16,Math.ceil(Math.abs(f-l)*32)))}function s(l,f,c,v){if(f==null||f<0||f>1)return null;var g=l[0],m=l[1],_=l[2],S=l[3],T=l[4],b=l[5],x=l[6],I=l[7],E=R.isZero;E(_-g)&&E(S-m)&&(_=g,S=m),E(T-x)&&E(b-I)&&(T=x,b=I);var M=3*(_-g),w=3*(T-_)-M,O=x-g-M-w,y=3*(S-m),A=3*(b-S)-y,L=I-m-y-A,U,P;if(c===0)U=f===0?g:f===1?x:((O*f+w)*f+M)*f+g,P=f===0?m:f===1?I:((L*f+A)*f+y)*f+m;else{var B=1e-8,z=1-B;if(f<B?(U=M,P=y):f>z?(U=3*(x-T),P=3*(I-b)):(U=(3*O*f+2*w)*f+M,P=(3*L*f+2*A)*f+y),v){U===0&&P===0&&(f<B||f>z)&&(U=T-_,P=b-S);var H=Math.sqrt(U*U+P*P);H&&(U/=H,P/=H)}if(c===3){var T=6*O*f+2*w,b=6*L*f+2*A,Z=Math.pow(U*U+P*P,3/2);U=Z!==0?(U*b-P*T)/Z:0,P=0}}return c===2?new F(P,-U):new F(U,P)}return{statics:{classify:function(l){var f=l[0],c=l[1],v=l[2],g=l[3],m=l[4],_=l[5],S=l[6],T=l[7],b=f*(T-_)+c*(m-S)+S*_-T*m,x=v*(c-T)+g*(S-f)+f*T-c*S,I=m*(g-c)+_*(f-v)+v*c-g*f,E=3*I,M=E-x,w=M-x+b,O=Math.sqrt(w*w+M*M+E*E),y=O!==0?1/O:0,A=R.isZero,L="serpentine";w*=y,M*=y,E*=y;function U(H,Z,N){var W=Z!==n,X=W&&Z>0&&Z<1,Q=W&&N>0&&N<1;return W&&(!(X||Q)||H==="loop"&&!(X&&Q))&&(H="arch",X=Q=!1),{type:H,roots:X||Q?X&&Q?Z<N?[Z,N]:[N,Z]:[X?Z:N]:null}}if(A(w))return A(M)?U(A(E)?"line":"quadratic"):U(L,E/(3*M));var P=3*M*M-4*w*E;if(A(P))return U("cusp",M/(2*w));var B=P>0?Math.sqrt(P/3):Math.sqrt(-P),z=2*w;return U(P>0?L:"loop",(M+B)/z,(M-B)/z)},getLength:function(l,f,c,v){if(f===n&&(f=0),c===n&&(c=1),ue.isStraight(l)){var g=l;c<1&&(g=ue.subdivide(g,c)[0],f/=c),f>0&&(g=ue.subdivide(g,f)[1]);var m=g[6]-g[0],_=g[7]-g[1];return Math.sqrt(m*m+_*_)}return R.integrate(v||t(l),f,c,i(f,c))},getTimeAt:function(l,f,c){if(c===n&&(c=f<0?1:0),f===0)return c;var v=Math.abs,g=1e-12,m=f>0,_=m?c:0,S=m?1:c,T=t(l),b=ue.getLength(l,_,S,T),x=v(f)-b;if(v(x)<g)return m?S:_;if(x>g)return null;var I=f/b,E=0;function M(w){return E+=R.integrate(T,c,w,i(c,w)),c=w,E-f}return R.findRoot(M,T,c+I,_,S,32,1e-12)},getPoint:function(l,f){return s(l,f,0,!1)},getTangent:function(l,f){return s(l,f,1,!0)},getWeightedTangent:function(l,f){return s(l,f,1,!1)},getNormal:function(l,f){return s(l,f,2,!0)},getWeightedNormal:function(l,f){return s(l,f,2,!1)},getCurvature:function(l,f){return s(l,f,3,!1).x},getPeaks:function(l){var f=l[0],c=l[1],v=l[2],g=l[3],m=l[4],_=l[5],S=l[6],T=l[7],b=-f+3*v-3*m+S,x=3*f-6*v+3*m,I=-3*f+3*v,E=-c+3*g-3*_+T,M=3*c-6*g+3*_,w=-3*c+3*g,O=1e-8,y=1-O,A=[];return R.solveCubic(9*(b*b+E*E),9*(b*x+M*E),2*(x*x+M*M)+3*(I*b+w*E),I*x+M*w,A,O,y),A.sort()}}}},new function(){function t(x,I,E,M,w,O,y){var A=!y&&E.getPrevious()===w,L=!y&&E!==w&&E.getNext()===w,U=1e-8,P=1-U;if(M!==null&&M>=(A?U:0)&&M<=(L?P:1)&&O!==null&&O>=(L?U:0)&&O<=(A?P:1)){var B=new ze(E,M,null,y),z=new ze(w,O,null,y);B._intersection=z,z._intersection=B,(!I||I(B))&&ze.insert(x,B,!0)}}function i(x,I,E,M,w,O,y,A,L,U,P,B,z){if(++L>=4096||++A>=40)return L;var H=1e-9,Z=I[0],N=I[1],W=I[6],X=I[7],Q=oe.getSignedDistance,K=Q(Z,N,W,X,I[2],I[3]),$=Q(Z,N,W,X,I[4],I[5]),le=K*$>0?3/4:4/9,he=le*Math.min(0,K,$),ce=le*Math.max(0,K,$),me=Q(Z,N,W,X,x[0],x[1]),ne=Q(Z,N,W,X,x[2],x[3]),ie=Q(Z,N,W,X,x[4],x[5]),de=Q(Z,N,W,X,x[6],x[7]),ye=s(me,ne,ie,de),_e=ye[0],Fe=ye[1],ke,Me;if(K===0&&$===0&&me===0&&ne===0&&ie===0&&de===0||(ke=l(_e,Fe,he,ce))==null||(Me=l(_e.reverse(),Fe.reverse(),he,ce))==null)return L;var De=U+(P-U)*ke,Pe=U+(P-U)*Me;if(Math.max(z-B,Pe-De)<H){var ct=(De+Pe)/2,dt=(B+z)/2;t(w,O,y?M:E,y?dt:ct,y?E:M,y?ct:dt)}else{x=ue.getPart(x,ke,Me);var _t=z-B;if(Me-ke>.8)if(Pe-De>_t){var at=ue.subdivide(x,.5),ct=(De+Pe)/2;L=i(I,at[0],M,E,w,O,!y,A,L,B,z,De,ct),L=i(I,at[1],M,E,w,O,!y,A,L,B,z,ct,Pe)}else{var at=ue.subdivide(I,.5),dt=(B+z)/2;L=i(at[0],x,M,E,w,O,!y,A,L,B,dt,De,Pe),L=i(at[1],x,M,E,w,O,!y,A,L,dt,z,De,Pe)}else _t===0||_t>=H?L=i(I,x,M,E,w,O,!y,A,L,B,z,De,Pe):L=i(x,I,E,M,w,O,y,A,L,De,Pe,B,z)}return L}function s(x,I,E,M){var w=[0,x],O=[1/3,I],y=[2/3,E],A=[1,M],L=I-(2*x+M)/3,U=E-(x+2*M)/3,P;if(L*U<0)P=[[w,O,A],[w,y,A]];else{var B=L/U;P=[B>=2?[w,O,A]:B<=.5?[w,y,A]:[w,O,y,A],[w,A]]}return(L||U)<0?P.reverse():P}function l(x,I,E,M){return x[0][1]<E?f(x,!0,E):I[0][1]>M?f(I,!1,M):x[0][0]}function f(x,I,E){for(var M=x[0][0],w=x[0][1],O=1,y=x.length;O<y;O++){var A=x[O][0],L=x[O][1];if(I?L>=E:L<=E)return L===E?A:M+(E-w)*(A-M)/(L-w);M=A,w=L}return null}function c(x,I,E,M,w){var O=R.isZero;if(O(M)&&O(w)){var y=ue.getTimeOf(x,new F(I,E));return y===null?[]:[y]}for(var A=Math.atan2(-w,M),L=Math.sin(A),U=Math.cos(A),P=[],B=[],z=0;z<8;z+=2){var H=x[z]-I,Z=x[z+1]-E;P.push(H*U-Z*L,H*L+Z*U)}return ue.solveCubic(P,1,0,B,0,1),B}function v(x,I,E,M,w,O,y){for(var A=I[0],L=I[1],U=I[6],P=I[7],B=c(x,A,L,U-A,P-L),z=0,H=B.length;z<H;z++){var Z=B[z],N=ue.getPoint(x,Z),W=ue.getTimeOf(I,N);W!==null&&t(w,O,y?M:E,y?W:Z,y?E:M,y?Z:W)}}function g(x,I,E,M,w,O){var y=oe.intersect(x[0],x[1],x[6],x[7],I[0],I[1],I[6],I[7]);y&&t(w,O,E,ue.getTimeOf(x,y),M,ue.getTimeOf(I,y))}function m(x,I,E,M,w,O){var y=1e-12,A=Math.min,L=Math.max;if(L(x[0],x[2],x[4],x[6])+y>A(I[0],I[2],I[4],I[6])&&A(x[0],x[2],x[4],x[6])-y<L(I[0],I[2],I[4],I[6])&&L(x[1],x[3],x[5],x[7])+y>A(I[1],I[3],I[5],I[7])&&A(x[1],x[3],x[5],x[7])-y<L(I[1],I[3],I[5],I[7])){var U=T(x,I);if(U)for(var P=0;P<2;P++){var B=U[P];t(w,O,E,B[0],M,B[1],!0)}else{var z=ue.isStraight(x),H=ue.isStraight(I),Z=z&&H,N=z&&!H,W=w.length;if((Z?g:z||H?v:i)(N?I:x,N?x:I,N?M:E,N?E:M,w,O,N,0,0,0,1,0,1),!Z||w.length===W)for(var P=0;P<4;P++){var X=P>>1,Q=P&1,K=X*6,$=Q*6,le=new F(x[K],x[K+1]),he=new F(I[$],I[$+1]);le.isClose(he,y)&&t(w,O,E,X,M,Q)}}}return w}function _(x,I,E,M){var w=ue.classify(x);if(w.type==="loop"){var O=w.roots;t(E,M,I,O[0],I,O[1])}return E}function S(x,I,E,M,w,O){var y=1e-7,A=!I;A&&(I=x);for(var L=x.length,U=I.length,P=new Array(L),B=A?P:new Array(U),z=[],H=0;H<L;H++)P[H]=x[H].getValues(M);if(!A)for(var H=0;H<U;H++)B[H]=I[H].getValues(w);for(var Z=k.findCurveBoundsCollisions(P,B,y),N=0;N<L;N++){var W=x[N],X=P[N];A&&_(X,W,z,E);var Q=Z[N];if(Q)for(var K=0;K<Q.length;K++){if(O&&z.length)return z;var $=Q[K];if(!A||$>N){var le=I[$],he=B[$];m(X,he,W,le,z,E)}}}return z}function T(x,I){function E(de){var ye=de[6]-de[0],_e=de[7]-de[1];return ye*ye+_e*_e}var M=Math.abs,w=oe.getDistance,O=1e-8,y=1e-7,A=ue.isStraight(x),L=ue.isStraight(I),U=A&&L,P=E(x)<E(I),B=P?I:x,z=P?x:I,H=B[0],Z=B[1],N=B[6]-H,W=B[7]-Z;if(w(H,Z,N,W,z[0],z[1],!0)<y&&w(H,Z,N,W,z[6],z[7],!0)<y)!U&&w(H,Z,N,W,B[2],B[3],!0)<y&&w(H,Z,N,W,B[4],B[5],!0)<y&&w(H,Z,N,W,z[2],z[3],!0)<y&&w(H,Z,N,W,z[4],z[5],!0)<y&&(A=L=U=!0);else if(U)return null;if(A^L)return null;for(var X=[x,I],Q=[],K=0;K<4&&Q.length<2;K++){var $=K&1,le=$^1,he=K>>1,ce=ue.getTimeOf(X[$],new F(X[le][he?6:0],X[le][he?7:1]));if(ce!=null){var me=$?[he,ce]:[ce,he];(!Q.length||M(me[0]-Q[0][0])>O&&M(me[1]-Q[0][1])>O)&&Q.push(me)}if(K>2&&!Q.length)break}if(Q.length!==2)Q=null;else if(!U){var ne=ue.getPart(x,Q[0][0],Q[1][0]),ie=ue.getPart(I,Q[0][1],Q[1][1]);(M(ie[2]-ne[2])>y||M(ie[3]-ne[3])>y||M(ie[4]-ne[4])>y||M(ie[5]-ne[5])>y)&&(Q=null)}return Q}function b(x,I){var E=x[0],M=x[1],w=x[2],O=x[3],y=x[4],A=x[5],L=x[6],U=x[7],P=I.normalize(),B=P.x,z=P.y,H=3*L-9*y+9*w-3*E,Z=3*U-9*A+9*O-3*M,N=6*y-12*w+6*E,W=6*A-12*O+6*M,X=3*w-3*E,Q=3*O-3*M,K=2*H*z-2*Z*B,$=[];if(Math.abs(K)<R.CURVETIME_EPSILON){var le=H*Q-Z*X,K=H*W-Z*N;if(K!=0){var he=-le/K;he>=0&&he<=1&&$.push(he)}}else{var ce=(N*N-4*H*X)*z*z+(-2*N*W+4*Z*X+4*H*Q)*B*z+(W*W-4*Z*Q)*B*B,me=N*z-W*B;if(ce>=0&&K!=0){var ne=Math.sqrt(ce),ie=-(me+ne)/K,de=(-me+ne)/K;ie>=0&&ie<=1&&$.push(ie),de>=0&&de<=1&&$.push(de)}}return $}return{getIntersections:function(x){var I=this.getValues(),E=x&&x!==this&&x.getValues();return E?m(I,E,this,x,[]):_(I,this,[])},statics:{getOverlaps:T,getIntersections:S,getCurveLineIntersections:c,getTimesWithTangent:b}}}),ze=u.extend({_class:"CurveLocation",initialize:function(i,s,l,f,c){if(s>=.99999999){var v=i.getNext();v&&(s=0,i=v)}this._setCurve(i),this._time=s,this._point=l||i.getPointAtTime(s),this._overlap=f,this._distance=c,this._intersection=this._next=this._previous=null},_setPath:function(t){this._path=t,this._version=t?t._version:0},_setCurve:function(t){this._setPath(t._path),this._curve=t,this._segment=null,this._segment1=t._segment1,this._segment2=t._segment2},_setSegment:function(t){var i=t.getCurve();i?this._setCurve(i):(this._setPath(t._path),this._segment1=t,this._segment2=null),this._segment=t,this._time=t===this._segment1?0:1,this._point=t._point.clone()},getSegment:function(){var t=this._segment;if(!t){var i=this.getCurve(),s=this.getTime();s===0?t=i._segment1:s===1?t=i._segment2:s!=null&&(t=i.getPartLength(0,s)<i.getPartLength(s,1)?i._segment1:i._segment2),this._segment=t}return t},getCurve:function(){var t=this._path,i=this;t&&t._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null);function s(l){var f=l&&l.getCurve();if(f&&(i._time=f.getTimeOf(i._point))!=null)return i._setCurve(f),f}return this._curve||s(this._segment)||s(this._segment1)||s(this._segment2.getPrevious())},getPath:function(){var t=this.getCurve();return t&&t._path},getIndex:function(){var t=this.getCurve();return t&&t.getIndex()},getTime:function(){var t=this.getCurve(),i=this._time;return t&&i==null?this._time=t.getTimeOf(this._point):i},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var t=this._offset;if(t==null){t=0;var i=this.getPath(),s=this.getIndex();if(i&&s!=null)for(var l=i.getCurves(),f=0;f<s;f++)t+=l[f].getLength();this._offset=t+=this.getCurveOffset()}return t},getCurveOffset:function(){var t=this._curveOffset;if(t==null){var i=this.getCurve(),s=this.getTime();this._curveOffset=t=s!=null&&i&&i.getPartLength(0,s)}return t},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var t=this.getCurve(),i=t&&t.divideAtTime(this.getTime());return i&&this._setSegment(i._segment1),i},split:function(){var t=this.getCurve(),i=t._path,s=t&&t.splitAtTime(this.getTime());return s&&this._setSegment(i.getLastSegment()),s},equals:function(t,i){var s=this===t;if(!s&&t instanceof ze){var l=this.getCurve(),f=t.getCurve(),c=l._path,v=f._path;if(c===v){var g=Math.abs,m=1e-7,_=g(this.getOffset()-t.getOffset()),S=!i&&this._intersection,T=!i&&t._intersection;s=(_<m||c&&g(c.getLength()-_)<m)&&(!S&&!T||S&&T&&S.equals(T,!0))}}return s},toString:function(){var t=[],i=this.getPoint(),s=C.instance;i&&t.push("point: "+i);var l=this.getIndex();l!=null&&t.push("index: "+l);var f=this.getTime();return f!=null&&t.push("time: "+s.number(f)),this._distance!=null&&t.push("distance: "+s.number(this._distance)),"{ "+t.join(", ")+" }"},isTouching:function(){var t=this._intersection;if(t&&this.getTangent().isCollinear(t.getTangent())){var i=this.getCurve(),s=t.getCurve();return!(i.isStraight()&&s.isStraight()&&i.getLine().intersect(s.getLine()))}return!1},isCrossing:function(){var t=this._intersection;if(!t)return!1;var i=this.getTime(),s=t.getTime(),l=1e-8,f=1-l,c=i>=l&&i<=f,v=s>=l&&s<=f;if(c&&v)return!this.isTouching();var g=this.getCurve(),m=g&&i<l?g.getPrevious():g,_=t.getCurve(),S=_&&s<l?_.getPrevious():_;if(i>f&&(g=g.getNext()),s>f&&(_=_.getNext()),!m||!g||!S||!_)return!1;var T=[];function b(B,z){var H=B.getValues(),Z=ue.classify(H).roots||ue.getPeaks(H),N=Z.length,W=ue.getLength(H,z&&N?Z[N-1]:0,!z&&N?Z[0]:1);T.push(N?W:W/32)}function x(B,z,H){return z<H?B>z&&B<H:B>z||B<H}c||(b(m,!0),b(g,!1)),v||(b(S,!0),b(_,!1));var I=this.getPoint(),E=Math.min.apply(Math,T),M=c?g.getTangentAtTime(i):g.getPointAt(E).subtract(I),w=c?M.negate():m.getPointAt(-E).subtract(I),O=v?_.getTangentAtTime(s):_.getPointAt(E).subtract(I),y=v?O.negate():S.getPointAt(-E).subtract(I),A=w.getAngle(),L=M.getAngle(),U=y.getAngle(),P=O.getAngle();return!!(c?x(A,U,P)^x(L,U,P)&&x(A,P,U)^x(L,P,U):x(U,A,L)^x(P,A,L)&&x(U,L,A)^x(P,L,A))},hasOverlap:function(){return!!this._overlap}},u.each(ue._evaluateMethods,function(t){var i=t+"At";this[t]=function(){var s=this.getCurve(),l=this.getTime();return l!=null&&s&&s[i](l,!0)}},{preserve:!0}),new function(){function t(i,s,l){var f=i.length,c=0,v=f-1;function g(I,E){for(var M=I+E;M>=-1&&M<=f;M+=E){var w=i[(M%f+f)%f];if(!s.getPoint().isClose(w.getPoint(),1e-7))break;if(s.equals(w))return w}return null}for(;c<=v;){var m=c+v>>>1,_=i[m],S;if(l&&(S=s.equals(_)?_:g(m,-1)||g(m,1)))return s._overlap&&(S._overlap=S._intersection._overlap=!0),S;var T=s.getPath(),b=_.getPath(),x=T!==b?T._id-b._id:s.getIndex()+s.getTime()-(_.getIndex()+_.getTime());x<0?v=m-1:c=m+1}return i.splice(c,0,s),s}return{statics:{insert:t,expand:function(i){for(var s=i.slice(),l=i.length-1;l>=0;l--)t(s,i[l]._intersection,!1);return s}}}}),We=pe.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(t){var i,s,l;if(u.isPlainObject(t)?(s=t.segments,i=t.pathData):Array.isArray(t)?s=t:typeof t=="string"&&(i=t),s){var f=s[0];l=f&&Array.isArray(f[0])}else i&&(l=(i.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(i));var c=l?He:Te;return new c(t)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(t){this.isClockwise()!=(t=!!t)&&this.reverse()},setPathData:function(t){var i=t&&t.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),s,l=!1,f,c,v=new F,g=new F;function m(y,A){var L=+s[y];return l&&(L+=v[A]),L}function _(y){return new F(m(y,"x"),m(y+1,"y"))}this.clear();for(var S=0,T=i&&i.length;S<T;S++){var b=i[S],x=b[0],I=x.toLowerCase();s=b.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var E=s&&s.length;switch(l=x===I,f==="z"&&!/[mz]/.test(I)&&this.moveTo(v),I){case"m":case"l":for(var M=I==="m",w=0;w<E;w+=2)this[M?"moveTo":"lineTo"](v=_(w)),M&&(g=v,M=!1);c=v;break;case"h":case"v":var O=I==="h"?"x":"y";v=v.clone();for(var w=0;w<E;w++)v[O]=m(w,O),this.lineTo(v);c=v;break;case"c":for(var w=0;w<E;w+=6)this.cubicCurveTo(_(w),c=_(w+2),v=_(w+4));break;case"s":for(var w=0;w<E;w+=4)this.cubicCurveTo(/[cs]/.test(f)?v.multiply(2).subtract(c):v,c=_(w),v=_(w+2)),f=I;break;case"q":for(var w=0;w<E;w+=4)this.quadraticCurveTo(c=_(w),v=_(w+2));break;case"t":for(var w=0;w<E;w+=2)this.quadraticCurveTo(c=/[qt]/.test(f)?v.multiply(2).subtract(c):v,v=_(w)),f=I;break;case"a":for(var w=0;w<E;w+=7)this.arcTo(v=_(w+5),new G(+s[w],+s[w+1]),+s[w+2],+s[w+4],+s[w+3]);break;case"z":this.closePath(1e-12),v=g;break}f=I}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(t){var i=t.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(t):{};return i.onPath||!!(this.getFillRule()==="evenodd"?i.windingL&1||i.windingR&1:i.winding)},getIntersections:function(t,i,s,l){var f=this===t||!t,c=this._matrix._orNullIfIdentity(),v=f?c:(s||t._matrix)._orNullIfIdentity();return f||this.getBounds(c).intersects(t.getBounds(v),1e-12)?ue.getIntersections(this.getCurves(),!f&&t.getCurves(),i,c,v,l):[]},getCrossings:function(t){return this.getIntersections(t,function(i){return i.isCrossing()})},getNearestLocation:function(){for(var t=F.read(arguments),i=this.getCurves(),s=1/0,l=null,f=0,c=i.length;f<c;f++){var v=i[f].getNearestLocation(t);v._distance<s&&(s=v._distance,l=v)}return l},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t&&t.getPoint()},interpolate:function(t,i,s){var l=!this._children,f=l?"_segments":"_children",c=t[f],v=i[f],g=this[f];if(!c||!v||c.length!==v.length)throw new Error("Invalid operands in interpolate() call: "+t+", "+i);var m=g.length,_=v.length;if(m<_)for(var S=l?ge:Te,T=m;T<_;T++)this.add(new S);else m>_&&this[l?"removeSegments":"removeChildren"](_,m);for(var T=0;T<_;T++)g[T].interpolate(c[T],v[T],s);l&&(this.setClosed(t._closed),this._changed(9))},compare:function(t){var i=!1;if(t){var s=this._children||[this],l=t._children?t._children.slice():[t],f=s.length,c=l.length,v=[],g=0;i=!0;for(var m=k.findItemBoundsCollisions(s,l,R.GEOMETRIC_EPSILON),_=f-1;_>=0&&i;_--){var S=s[_];i=!1;var T=m[_];if(T)for(var b=T.length-1;b>=0&&!i;b--)S.compare(l[T[b]])&&(v[T[b]]||(v[T[b]]=!0,g++),i=!0)}i=i&&g===c}return i}}),Te=We.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(i){this._closed=!1,this._segments=[],this._version=0;var s=arguments,l=Array.isArray(i)?typeof i[0]=="object"?i:s:i&&i.size===n&&(i.x!==n||i.point!==n)?s:null;l&&l.length>0?this.setSegments(l):(this._curves=n,this._segmentSelection=0,!l&&typeof i=="string"&&(this.setPathData(i),i=null)),this._initialize(!l&&i)},_equals:function(t){return this._closed===t._closed&&u.equals(this._segments,t._segments)},copyContent:function(t){this.setSegments(t._segments),this._closed=t._closed},_changed:function t(i){if(t.base.call(this,i),i&8){if(this._length=this._area=n,i&32)this._version++;else if(this._curves)for(var s=0,l=this._curves.length;s<l;s++)this._curves[s]._changed()}else i&64&&(this._bounds=n)},getStyle:function(){var t=this._parent;return(t instanceof He?t:this)._style},getSegments:function(){return this._segments},setSegments:function(t){var i=this.isFullySelected(),s=t&&t.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=n,s){var l=t[s-1];typeof l=="boolean"&&(this.setClosed(l),s--),this._add(ge.readList(t,0,{},s))}i&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var t=this._curves,i=this._segments;if(!t){var s=this._countCurves();t=this._curves=new Array(s);for(var l=0;l<s;l++)t[l]=new ue(this,i[l],i[l+1]||i[0])}return t},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var t=this.getCurves();return t[t.length-1]},isClosed:function(){return this._closed},setClosed:function(t){if(this._closed!=(t=!!t)){if(this._closed=t,this._curves){var i=this._curves.length=this._countCurves();t&&(this._curves[i-1]=new ue(this,this._segments[i-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(t,i){var s=this._segments,l=s.length,f=new C(i),c=new Array(6),v=!0,g,m,_,S,T,b,x,I,E=[];function M(O,y){if(O._transformCoordinates(t,c),g=c[0],m=c[1],v)E.push("M"+f.pair(g,m)),v=!1;else if(T=c[2],b=c[3],T===g&&b===m&&x===_&&I===S){if(!y){var A=g-_,L=m-S;E.push(A===0?"v"+f.number(L):L===0?"h"+f.number(A):"l"+f.pair(A,L))}}else E.push("c"+f.pair(x-_,I-S)+" "+f.pair(T-_,b-S)+" "+f.pair(g-_,m-S));_=g,S=m,x=c[4],I=c[5]}if(!l)return"";for(var w=0;w<l;w++)M(s[w]);return this._closed&&l>0&&(M(s[0],!0),E.push("z")),E.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(t){for(var i=this._segments,s=new Array(6),l=0,f=i.length;l<f;l++)i[l]._transformCoordinates(t,s,!0);return!0},_add:function(t,v){for(var s=this._segments,l=this._curves,f=t.length,c=v==null,v=c?s.length:v,g=0;g<f;g++){var m=t[g];m._path&&(m=t[g]=m.clone()),m._path=this,m._index=v+g,m._selection&&this._updateSelection(m,0,m._selection)}if(c)u.push(s,t);else{s.splice.apply(s,[v,0].concat(t));for(var g=v+f,_=s.length;g<_;g++)s[g]._index=g}if(l){var S=this._countCurves(),T=v>0&&v+f-1===S?v-1:v,b=T,x=Math.min(T+f,S);t._curves&&(l.splice.apply(l,[T,0].concat(t._curves)),b+=t._curves.length);for(var g=b;g<x;g++)l.splice(g,0,new ue(this,null,null));this._adjustCurves(T,x)}return this._changed(41),t},_adjustCurves:function(t,i){for(var s=this._segments,l=this._curves,f,c=t;c<i;c++)f=l[c],f._path=this,f._segment1=s[c],f._segment2=s[c+1]||s[0],f._changed();(f=l[this._closed&&!t?s.length-1:t-1])&&(f._segment2=s[t]||s[0],f._changed()),(f=l[i])&&(f._segment1=s[i],f._changed())},_countCurves:function(){var t=this._segments.length;return!this._closed&&t>0?t-1:t},add:function(t){var i=arguments;return i.length>1&&typeof t!="number"?this._add(ge.readList(i)):this._add([ge.read(i)])[0]},insert:function(t,i){var s=arguments;return s.length>2&&typeof i!="number"?this._add(ge.readList(s,1),t):this._add([ge.read(s,1)],t)[0]},addSegment:function(){return this._add([ge.read(arguments)])[0]},insertSegment:function(t){return this._add([ge.read(arguments,1)],t)[0]},addSegments:function(t){return this._add(ge.readList(t))},insertSegments:function(t,i){return this._add(ge.readList(i),t)},removeSegment:function(t){return this.removeSegments(t,t+1)[0]||null},removeSegments:function(t,i,s){t=t||0,i=u.pick(i,this._segments.length);var l=this._segments,f=this._curves,c=l.length,v=l.splice(t,i-t),g=v.length;if(!g)return v;for(var m=0;m<g;m++){var _=v[m];_._selection&&this._updateSelection(_,_._selection,0),_._index=_._path=null}for(var m=t,S=l.length;m<S;m++)l[m]._index=m;if(f){for(var T=t>0&&i===c+(this._closed?1:0)?t-1:t,f=f.splice(T,g),m=f.length-1;m>=0;m--)f[m]._path=null;s&&(v._curves=f.slice(1)),this._adjustCurves(T,T)}return this._changed(41),v},clear:"#removeSegments",hasHandles:function(){for(var t=this._segments,i=0,s=t.length;i<s;i++)if(t[i].hasHandles())return!0;return!1},clearHandles:function(){for(var t=this._segments,i=0,s=t.length;i<s;i++)t[i].clearHandles()},getLength:function(){if(this._length==null){for(var t=this.getCurves(),i=0,s=0,l=t.length;s<l;s++)i+=t[s].getLength();this._length=i}return this._length},getArea:function(){var t=this._area;if(t==null){var i=this._segments,s=this._closed;t=0;for(var l=0,f=i.length;l<f;l++){var c=l+1===f;t+=ue.getArea(ue.getValues(i[l],i[c?0:l+1],null,c&&!s))}this._area=t}return t},isFullySelected:function(){var t=this._segments.length;return this.isSelected()&&t>0&&this._segmentSelection===t*7},setFullySelected:function(t){t&&this._selectSegments(!0),this.setSelected(t)},setSelection:function t(i){i&1||this._selectSegments(!1),t.base.call(this,i)},_selectSegments:function(t){var i=this._segments,s=i.length,l=t?7:0;this._segmentSelection=l*s;for(var f=0;f<s;f++)i[f]._selection=l},_updateSelection:function(t,i,s){t._selection=s;var l=this._segmentSelection+=s-i;l>0&&this.setSelected(!0)},divideAt:function(t){var i=this.getLocationAt(t),s;return i&&(s=i.getCurve().divideAt(i.getCurveOffset()))?s._segment1:null},splitAt:function(t){var i=this.getLocationAt(t),s=i&&i.index,l=i&&i.time,f=1e-8,c=1-f;l>c&&(s++,l=0);var v=this.getCurves();if(s>=0&&s<v.length){l>=f&&v[s++].divideAtTime(l);var g=this.removeSegments(s,this._segments.length,!0),m;return this._closed?(this.setClosed(!1),m=this):(m=new Te(pe.NO_INSERT),m.insertAbove(this),m.copyAttributes(this)),m._add(g,0),this.addSegment(g[0]),m}return null},split:function(t,i){var s,l=i===n?t:(s=this.getCurves()[t])&&s.getLocationAtTime(i);return l!=null?this.splitAt(l):null},join:function(t,i){var s=i||0;if(t&&t!==this){var l=t._segments,f=this.getLastSegment(),c=t.getLastSegment();if(!c)return this;f&&f._point.isClose(c._point,s)&&t.reverse();var v=t.getFirstSegment();if(f&&f._point.isClose(v._point,s))f.setHandleOut(v._handleOut),this._add(l.slice(1));else{var g=this.getFirstSegment();g&&g._point.isClose(v._point,s)&&t.reverse(),c=t.getLastSegment(),g&&g._point.isClose(c._point,s)?(g.setHandleIn(c._handleIn),this._add(l.slice(0,l.length-1),0)):this._add(l.slice())}t._closed&&this._add([l[0]]),t.remove()}var m=this.getFirstSegment(),_=this.getLastSegment();return m!==_&&m._point.isClose(_._point,s)&&(m.setHandleIn(_._handleIn),_.remove(),this.setClosed(!0)),this},reduce:function(t){for(var i=this.getCurves(),s=t&&t.simplify,l=s?1e-7:0,f=i.length-1;f>=0;f--){var c=i[f];!c.hasHandles()&&(!c.hasLength(l)||s&&c.isCollinear(c.getNext()))&&c.remove()}return this},reverse:function(){this._segments.reverse();for(var t=0,i=this._segments.length;t<i;t++){var s=this._segments[t],l=s._handleIn;s._handleIn=s._handleOut,s._handleOut=l,s._index=t}this._curves=null,this._changed(9)},flatten:function(t){for(var i=new Ie(this,t||.25,256,!0),s=i.parts,l=s.length,f=[],c=0;c<l;c++)f.push(new ge(s[c].curve.slice(0,2)));!this._closed&&l>0&&f.push(new ge(s[l-1].curve.slice(6))),this.setSegments(f)},simplify:function(t){var i=new Ve(this).fit(t||2.5);return i&&this.setSegments(i),!!i},smooth:function(t){var i=this,s=t||{},l=s.type||"asymmetric",f=this._segments,c=f.length,v=this._closed;function g(_e,Fe){var ke=_e&&_e.index;if(ke!=null){var Me=_e.path;if(Me&&Me!==i)throw new Error(_e._class+" "+ke+" of "+Me+" is not part of "+i);Fe&&_e instanceof ue&&ke++}else ke=typeof _e=="number"?_e:Fe;return Math.min(ke<0&&v?ke%c:ke<0?ke+c:ke,c-1)}var m=v&&s.from===n&&s.to===n,_=g(s.from,0),S=g(s.to,c-1);if(_>S)if(v)_-=c;else{var T=_;_=S,S=T}if(/^(?:asymmetric|continuous)$/.test(l)){var b=l==="asymmetric",x=Math.min,I=S-_+1,E=I-1,M=m?x(I,4):1,w=M,O=M,y=[];if(v||(w=x(1,_),O=x(1,c-S-1)),E+=w+O,E<=1)return;for(var A=0,L=_-w;A<=E;A++,L++)y[A]=f[(L<0?L+c:L)%c]._point;for(var U=y[0]._x+2*y[1]._x,P=y[0]._y+2*y[1]._y,B=2,z=E-1,H=[U],Z=[P],N=[B],W=[],X=[],A=1;A<E;A++){var Q=A<z,K=Q||b?1:2,$=Q?4:b?2:7,le=Q?4:b?3:8,he=Q?2:b?0:1,ce=K/B;B=N[A]=$-ce,U=H[A]=le*y[A]._x+he*y[A+1]._x-ce*U,P=Z[A]=le*y[A]._y+he*y[A+1]._y-ce*P}W[z]=H[z]/N[z],X[z]=Z[z]/N[z];for(var A=E-2;A>=0;A--)W[A]=(H[A]-W[A+1])/N[A],X[A]=(Z[A]-X[A+1])/N[A];W[E]=(3*y[E]._x-W[z])/2,X[E]=(3*y[E]._y-X[z])/2;for(var A=w,me=E-O,L=_;A<=me;A++,L++){var ne=f[L<0?L+c:L],ie=ne._point,de=W[A]-ie._x,ye=X[A]-ie._y;(m||A<me)&&ne.setHandleOut(de,ye),(m||A>w)&&ne.setHandleIn(-de,-ye)}}else for(var A=_;A<=S;A++)f[A<0?A+c:A].smooth(s,!m&&A===_,!m&&A===S)},toShape:function(t){if(!this._closed)return null;var i=this._segments,s,l,f,c;function v(b,x){var I=i[b],E=I.getNext(),M=i[x],w=M.getNext();return I._handleOut.isZero()&&E._handleIn.isZero()&&M._handleOut.isZero()&&w._handleIn.isZero()&&E._point.subtract(I._point).isCollinear(w._point.subtract(M._point))}function g(b){var x=i[b],I=x.getPrevious(),E=x.getNext();return I._handleOut.isZero()&&x._handleIn.isZero()&&x._handleOut.isZero()&&E._handleIn.isZero()&&x._point.subtract(I._point).isOrthogonal(E._point.subtract(x._point))}function m(b){var x=i[b],I=x.getNext(),E=x._handleOut,M=I._handleIn,w=.5522847498307936;if(E.isOrthogonal(M)){var O=x._point,y=I._point,A=new oe(O,E,!0).intersect(new oe(y,M,!0),!0);return A&&R.isZero(E.getLength()/A.subtract(O).getLength()-w)&&R.isZero(M.getLength()/A.subtract(y).getLength()-w)}return!1}function _(b,x){return i[b]._point.getDistance(i[x]._point)}if(!this.hasHandles()&&i.length===4&&v(0,2)&&v(1,3)&&g(1)?(s=Re.Rectangle,l=new G(_(0,3),_(0,1)),c=i[1]._point.add(i[2]._point).divide(2)):i.length===8&&m(0)&&m(2)&&m(4)&&m(6)&&v(1,5)&&v(3,7)?(s=Re.Rectangle,l=new G(_(1,6),_(0,3)),f=l.subtract(new G(_(0,7),_(1,2))).divide(2),c=i[3]._point.add(i[4]._point).divide(2)):i.length===4&&m(0)&&m(1)&&m(2)&&m(3)&&(R.isZero(_(0,2)-_(1,3))?(s=Re.Circle,f=_(0,2)/2):(s=Re.Ellipse,f=new G(_(2,0)/2,_(3,1)/2)),c=i[1]._point),s){var S=this.getPosition(!0),T=new s({center:S,size:l,radius:f,insert:!1});return T.copyAttributes(this,!0),T._matrix.prepend(this._matrix),T.rotate(c.subtract(S).getAngle()+90),(t===n||t)&&T.insertAbove(this),T}return null},toPath:"#clone",compare:function t(i){if(!i||i instanceof He)return t.base.call(this,i);var s=this.getCurves(),l=i.getCurves(),f=s.length,c=l.length;if(!f||!c)return f==c;for(var v=s[0].getValues(),g=[],m=0,_,S=0,T,b=0;b<c;b++){var M=l[b].getValues();g.push(M);var x=ue.getOverlaps(v,M);if(x){_=!b&&x[0][0]>0?c-1:b,T=x[0][1];break}}for(var I=Math.abs,E=1e-8,M=g[_],w;v&&M;){var x=ue.getOverlaps(v,M);if(x){var O=x[0][0];if(I(O-S)<E){S=x[1][0],S===1&&(v=++m<f?s[m].getValues():null,S=0);var y=x[0][1];if(I(y-T)<E){if(w||(w=[_,y]),T=x[1][1],T===1&&(++_>=c&&(_=0),M=g[_]||l[_].getValues(),T=0),!v)return w[0]===_&&w[1]===T;continue}}}break}return!1},_hitTestSelf:function(t,i,s,l){var f=this,c=this.getStyle(),v=this._segments,g=v.length,m=this._closed,_=i._tolerancePadding,S=_,T,b,x,I,E,M,w=i.stroke&&c.hasStroke(),O=i.fill&&c.hasFill(),y=i.curves,A=w?c.getStrokeWidth()/2:O&&i.tolerance>0||y?0:null;A!==null&&(A>0?(T=c.getStrokeJoin(),b=c.getStrokeCap(),x=c.getMiterLimit(),S=S.add(Te._getStrokePadding(A,l))):T=b="round");function L(W,X){return t.subtract(W).divide(X).length<=1}function U(W,X,Q){if(!i.selected||X.isSelected()){var K=W._point;if(X!==K&&(X=X.add(K)),L(X,S))return new Ye(Q,f,{segment:W,point:X})}}function P(W,X){return(X||i.segments)&&U(W,W._point,"segment")||!X&&i.handles&&(U(W,W._handleIn,"handle-in")||U(W,W._handleOut,"handle-out"))}function B(W){I.add(W)}function z(W){var X=m||W._index>0&&W._index<g-1;if((X?T:b)==="round")return L(W._point,S);if(I=new Te({internal:!0,closed:!0}),X?W.isSmooth()||Te._addBevelJoin(W,T,A,x,null,l,B,!0):b==="square"&&Te._addSquareCap(W,b,A,null,l,B,!0),!I.isEmpty()){var Q;return I.contains(t)||(Q=I.getNearestLocation(t))&&L(Q.getPoint(),_)}}if(i.ends&&!i.segments&&!m){if(M=P(v[0],!0)||P(v[g-1],!0))return M}else if(i.segments||i.handles){for(var H=0;H<g;H++)if(M=P(v[H]))return M}if(A!==null){if(E=this.getNearestLocation(t),E){var Z=E.getTime();Z===0||Z===1&&g>1?z(E.getSegment())||(E=null):L(E.getPoint(),S)||(E=null)}if(!E&&T==="miter"&&g>1)for(var H=0;H<g;H++){var N=v[H];if(t.getDistance(N._point)<=x*A&&z(N)){E=N.getLocation();break}}}return!E&&O&&this._contains(t)||E&&!w&&!y?new Ye("fill",this):E?new Ye(w?"stroke":"curve",this,{location:E,point:E.getPoint()}):null}},u.each(ue._evaluateMethods,function(t){this[t+"At"]=function(i){var s=this.getLocationAt(i);return s&&s[t]()}},{beans:!1,getLocationOf:function(){for(var t=F.read(arguments),i=this.getCurves(),s=0,l=i.length;s<l;s++){var f=i[s].getLocationOf(t);if(f)return f}return null},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getLocationAt:function(t){if(typeof t=="number"){for(var i=this.getCurves(),s=0,l=0,f=i.length;l<f;l++){var c=s,v=i[l];if(s+=v.getLength(),s>t)return v.getLocationAt(t-c)}if(i.length>0&&t<=this.getLength())return new ze(i[i.length-1],1)}else if(t&&t.getPath&&t.getPath()===this)return t;return null},getOffsetsWithTangent:function(){var t=F.read(arguments);if(t.isZero())return[];for(var i=[],s=0,l=this.getCurves(),f=0,c=l.length;f<c;f++){for(var v=l[f],g=v.getTimesWithTangent(t),m=0,_=g.length;m<_;m++){var S=s+v.getOffsetAtTime(g[m]);i.indexOf(S)<0&&i.push(S)}s+=v.length}return i}}),new function(){function t(s,l,f,c){if(c<=0)return;var v=c/2,g=c-2,m=v-1,_=new Array(6),S,T;function b(O){var y=_[O],A=_[O+1];(S!=y||T!=A)&&(s.beginPath(),s.moveTo(S,T),s.lineTo(y,A),s.stroke(),s.beginPath(),s.arc(y,A,v,0,Math.PI*2,!0),s.fill())}for(var x=0,I=l.length;x<I;x++){var E=l[x],M=E._selection;if(E._transformCoordinates(f,_),S=_[0],T=_[1],M&2&&b(2),M&4&&b(4),s.fillRect(S-v,T-v,c,c),g>0&&!(M&1)){var w=s.fillStyle;s.fillStyle="#ffffff",s.fillRect(S-m,T-m,g,g),s.fillStyle=w}}}function i(s,l,f){var c=l._segments,v=c.length,g=new Array(6),m=!0,_,S,T,b,x,I,E,M;function w(y){if(f)y._transformCoordinates(f,g),_=g[0],S=g[1];else{var A=y._point;_=A._x,S=A._y}if(m)s.moveTo(_,S),m=!1;else{if(f)x=g[2],I=g[3];else{var L=y._handleIn;x=_+L._x,I=S+L._y}x===_&&I===S&&E===T&&M===b?s.lineTo(_,S):s.bezierCurveTo(E,M,x,I,_,S)}if(T=_,b=S,f)E=g[4],M=g[5];else{var L=y._handleOut;E=T+L._x,M=b+L._y}}for(var O=0;O<v;O++)w(c[O]);l._closed&&v>0&&w(c[0])}return{_draw:function(s,l,f,c){var v=l.dontStart,g=l.dontFinish||l.clip,m=this.getStyle(),_=m.hasFill(),S=m.hasStroke(),T=m.getDashArray(),b=!Ne.support.nativeDash&&S&&T&&T.length;v||s.beginPath(),(_||S&&!b||g)&&(i(s,this,c),this._closed&&s.closePath());function x(y){return T[(y%b+b)%b]}if(!g&&(_||S)&&(this._setStyles(s,l,f),_&&(s.fill(m.getFillRule()),s.shadowColor="rgba(0,0,0,0)"),S)){if(b){v||s.beginPath();for(var I=new Ie(this,.25,32,!1,c),E=I.length,M=-m.getDashOffset(),w,O=0;M>0;)M-=x(O--)+x(O--);for(;M<E;)w=M+x(O++),(M>0||w>0)&&I.drawPart(s,Math.max(M,0),Math.max(w,0)),M=w+x(O++)}s.stroke()}},_drawSelected:function(s,l){s.beginPath(),i(s,this,l),s.stroke(),t(s,this._segments,l,Ne.settings.handleSize)}}},new function(){function t(i){var s=i._segments;if(!s.length)throw new Error("Use a moveTo() command first");return s[s.length-1]}return{moveTo:function(){var i=this._segments;i.length===1&&this.removeSegment(0),i.length||this._add([new ge(F.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new ge(F.read(arguments))])},cubicCurveTo:function(){var i=arguments,s=F.read(i),l=F.read(i),f=F.read(i),c=t(this);c.setHandleOut(s.subtract(c._point)),this._add([new ge(f,l.subtract(f))])},quadraticCurveTo:function(){var i=arguments,s=F.read(i),l=F.read(i),f=t(this)._point;this.cubicCurveTo(s.add(f.subtract(s).multiply(1/3)),s.add(l.subtract(s).multiply(1/3)),l)},curveTo:function(){var i=arguments,s=F.read(i),l=F.read(i),f=u.pick(u.read(i),.5),c=1-f,v=t(this)._point,g=s.subtract(v.multiply(c*c)).subtract(l.multiply(f*f)).divide(2*f*c);if(g.isNaN())throw new Error("Cannot put a curve through points with parameter = "+f);this.quadraticCurveTo(g,l)},arcTo:function(){var i=arguments,s=Math.abs,l=Math.sqrt,f=t(this),c=f._point,v=F.read(i),g,m=u.peek(i),_=u.pick(m,!0),S,T,b,x;if(typeof _=="boolean")var I=c.add(v).divide(2),g=I.add(I.subtract(c).rotate(_?-90:90));else if(u.remain(i)<=2)g=v,v=F.read(i);else if(!c.equals(v)){var E=G.read(i),M=R.isZero;if(M(E.width)||M(E.height))return this.lineTo(v);var w=u.read(i),_=!!u.read(i),O=!!u.read(i),I=c.add(v).divide(2),y=c.subtract(I).rotate(-w),A=y.x,L=y.y,U=s(E.width),P=s(E.height),B=U*U,z=P*P,H=A*A,Z=L*L,N=l(H/B+Z/z);if(N>1&&(U*=N,P*=N,B=U*U,z=P*P),N=(B*z-B*Z-z*H)/(B*Z+z*H),s(N)<1e-12&&(N=0),N<0)throw new Error("Cannot create an arc with the given arguments");S=new F(U*L/P,-P*A/U).multiply((O===_?-1:1)*l(N)).rotate(w).add(I),x=new re().translate(S).rotate(w).scale(U,P),b=x._inverseTransform(c),T=b.getDirectedAngle(x._inverseTransform(v)),!_&&T>0?T-=360:_&&T<0&&(T+=360)}if(g){var W=new oe(c.add(g).divide(2),g.subtract(c).rotate(90),!0),X=new oe(g.add(v).divide(2),v.subtract(g).rotate(90),!0),Q=new oe(c,v),K=Q.getSide(g);if(S=W.intersect(X,!0),!S){if(!K)return this.lineTo(v);throw new Error("Cannot create an arc with the given arguments")}b=c.subtract(S),T=b.getDirectedAngle(v.subtract(S));var $=Q.getSide(S,!0);$===0?T=K*s(T):K===$&&(T+=T<0?360:-360)}if(T){for(var le=1e-7,he=s(T),ce=he>=360?4:Math.ceil((he-le)/90),me=T/ce,ne=me*Math.PI/360,ie=4/3*Math.sin(ne)/(1+Math.cos(ne)),de=[],ye=0;ye<=ce;ye++){var y=v,_e=null;if(ye<ce&&(_e=b.rotate(90).multiply(ie),x?(y=x._transformPoint(b),_e=x._transformPoint(b.add(_e)).subtract(y)):y=S.add(b)),!ye)f.setHandleOut(_e);else{var Fe=b.rotate(-90).multiply(ie);x&&(Fe=x._transformPoint(b.add(Fe)).subtract(y)),de.push(new ge(y,Fe,_e))}b=b.rotate(me)}this._add(de)}},lineBy:function(){var i=F.read(arguments),s=t(this)._point;this.lineTo(s.add(i))},curveBy:function(){var i=arguments,s=F.read(i),l=F.read(i),f=u.read(i),c=t(this)._point;this.curveTo(c.add(s),c.add(l),f)},cubicCurveBy:function(){var i=arguments,s=F.read(i),l=F.read(i),f=F.read(i),c=t(this)._point;this.cubicCurveTo(c.add(s),c.add(l),c.add(f))},quadraticCurveBy:function(){var i=arguments,s=F.read(i),l=F.read(i),f=t(this)._point;this.quadraticCurveTo(f.add(s),f.add(l))},arcBy:function(){var i=arguments,s=t(this)._point,l=s.add(F.read(i)),f=u.pick(u.peek(i),!0);typeof f=="boolean"?this.arcTo(l,f):this.arcTo(l,s.add(F.read(i)))},closePath:function(i){this.setClosed(!0),this.join(this,i)}}},{_getBounds:function(t,i){var s=i.handle?"getHandleBounds":i.stroke?"getStrokeBounds":"getBounds";return Te[s](this._segments,this._closed,this,t,i)},statics:{getBounds:function(t,i,s,l,f,c){var v=t[0];if(!v)return new j;var g=new Array(6),m=v._transformCoordinates(l,new Array(6)),_=m.slice(0,2),S=_.slice(),T=new Array(2);function b(E){E._transformCoordinates(l,g);for(var M=0;M<2;M++)ue._addBounds(m[M],m[M+4],g[M+2],g[M],M,c?c[M]:0,_,S,T);var w=m;m=g,g=w}for(var x=1,I=t.length;x<I;x++)b(t[x]);return i&&b(v),new j(_[0],_[1],S[0]-_[0],S[1]-_[1])},getStrokeBounds:function(t,i,s,l,f){var c=s.getStyle(),v=c.hasStroke(),g=c.getStrokeWidth(),m=v&&s._getStrokeMatrix(l,f),_=v&&Te._getStrokePadding(g,m),S=Te.getBounds(t,i,s,l,f,_);if(!v)return S;var T=g/2,b=c.getStrokeJoin(),x=c.getStrokeCap(),I=c.getMiterLimit(),E=new j(new G(_));function M(U){S=S.include(U)}function w(U){S=S.unite(E.setCenter(U._point.transform(l)))}function O(U,P){P==="round"||U.isSmooth()?w(U):Te._addBevelJoin(U,P,T,I,l,m,M)}function y(U,P){P==="round"?w(U):Te._addSquareCap(U,P,T,l,m,M)}var A=t.length-(i?0:1);if(A>0){for(var L=1;L<A;L++)O(t[L],b);i?O(t[0],b):(y(t[0],x),y(t[t.length-1],x))}return S},_getStrokePadding:function(t,i){if(!i)return[t,t];var s=new F(t,0).transform(i),l=new F(0,t).transform(i),f=s.getAngleInRadians(),c=s.getLength(),v=l.getLength(),g=Math.sin(f),m=Math.cos(f),_=Math.tan(f),S=Math.atan2(v*_,c),T=Math.atan2(v,_*c);return[Math.abs(c*Math.cos(S)*m+v*Math.sin(S)*g),Math.abs(v*Math.sin(T)*m+c*Math.cos(T)*g)]},_addBevelJoin:function(t,i,s,l,f,c,v,g){var m=t.getCurve(),_=m.getPrevious(),S=m.getPoint1().transform(f),T=_.getNormalAtTime(1).multiply(s).transform(c),b=m.getNormalAtTime(0).multiply(s).transform(c),x=T.getDirectedAngle(b);if((x<0||x>=180)&&(T=T.negate(),b=b.negate()),g&&v(S),v(S.add(T)),i==="miter"){var I=new oe(S.add(T),new F(-T.y,T.x),!0).intersect(new oe(S.add(b),new F(-b.y,b.x),!0),!0);I&&S.getDistance(I)<=l*s&&v(I)}v(S.add(b))},_addSquareCap:function(t,i,s,l,f,c,v){var g=t._point.transform(l),m=t.getLocation(),_=m.getNormal().multiply(m.getTime()===0?s:-s).transform(f);i==="square"&&(v&&(c(g.subtract(_)),c(g.add(_))),g=g.add(_.rotate(-90))),c(g.add(_)),c(g.subtract(_))},getHandleBounds:function(t,i,s,l,f){var c=s.getStyle(),v=f.stroke&&c.hasStroke(),g,m;if(v){var _=s._getStrokeMatrix(l,f),S=c.getStrokeWidth()/2,T=S;c.getStrokeJoin()==="miter"&&(T=S*c.getMiterLimit()),c.getStrokeCap()==="square"&&(T=Math.max(T,S*Math.SQRT2)),g=Te._getStrokePadding(S,_),m=Te._getStrokePadding(T,_)}for(var b=new Array(6),x=1/0,I=-x,E=x,M=I,w=0,O=t.length;w<O;w++){var y=t[w];y._transformCoordinates(l,b);for(var A=0;A<6;A+=2){var L=A?g:m,U=L?L[0]:0,P=L?L[1]:0,B=b[A],z=b[A+1],H=B-U,Z=B+U,N=z-P,W=z+P;H<x&&(x=H),Z>I&&(I=Z),N<E&&(E=N),W>M&&(M=W)}}return new j(x,E,I-x,M-E)}}});Te.inject({statics:new function(){var t=.5522847498307936,i=[new ge([-1,0],[0,t],[0,-t]),new ge([0,-1],[-t,0],[t,0]),new ge([1,0],[0,-t],[0,t]),new ge([0,1],[t,0],[-t,0])];function s(f,c,v){var g=u.getNamed(v),m=new Te(g&&g.insert==!1&&pe.NO_INSERT);return m._add(f),m._closed=c,m.set(g,{insert:!0})}function l(f,c,v){for(var g=new Array(4),m=0;m<4;m++){var _=i[m];g[m]=new ge(_._point.multiply(c).add(f),_._handleIn.multiply(c),_._handleOut.multiply(c))}return s(g,!0,v)}return{Line:function(){var f=arguments;return s([new ge(F.readNamed(f,"from")),new ge(F.readNamed(f,"to"))],!1,f)},Circle:function(){var f=arguments,c=F.readNamed(f,"center"),v=u.readNamed(f,"radius");return l(c,new G(v),f)},Rectangle:function(){var f=arguments,c=j.readNamed(f,"rectangle"),v=G.readNamed(f,"radius",0,{readNull:!0}),g=c.getBottomLeft(!0),m=c.getTopLeft(!0),_=c.getTopRight(!0),S=c.getBottomRight(!0),T;if(!v||v.isZero())T=[new ge(g),new ge(m),new ge(_),new ge(S)];else{v=G.min(v,c.getSize(!0).divide(2));var b=v.width,x=v.height,I=b*t,E=x*t;T=[new ge(g.add(b,0),null,[-I,0]),new ge(g.subtract(0,x),[0,E]),new ge(m.add(0,x),null,[0,-E]),new ge(m.add(b,0),[-I,0],null),new ge(_.subtract(b,0),null,[I,0]),new ge(_.add(0,x),[0,-E],null),new ge(S.subtract(0,x),null,[0,E]),new ge(S.subtract(b,0),[I,0])]}return s(T,!0,f)},RoundRectangle:"#Rectangle",Ellipse:function(){var f=arguments,c=Re._readEllipse(f);return l(c.center,c.radius,f)},Oval:"#Ellipse",Arc:function(){var f=arguments,c=F.readNamed(f,"from"),v=F.readNamed(f,"through"),g=F.readNamed(f,"to"),m=u.getNamed(f),_=new Te(m&&m.insert==!1&&pe.NO_INSERT);return _.moveTo(c),_.arcTo(v,g),_.set(m)},RegularPolygon:function(){for(var f=arguments,c=F.readNamed(f,"center"),v=u.readNamed(f,"sides"),g=u.readNamed(f,"radius"),m=360/v,_=v%3===0,S=new F(0,_?-g:g),T=_?-1:.5,b=new Array(v),x=0;x<v;x++)b[x]=new ge(c.add(S.rotate((x+T)*m)));return s(b,!0,f)},Star:function(){for(var f=arguments,c=F.readNamed(f,"center"),v=u.readNamed(f,"points")*2,g=u.readNamed(f,"radius1"),m=u.readNamed(f,"radius2"),_=360/v,S=new F(0,-1),T=new Array(v),b=0;b<v;b++)T[b]=new ge(c.add(S.rotate(_*b).multiply(b%2?m:g)));return s(T,!0,f)}}}});var He=We.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(i){this._children=[],this._namedChildren={},this._initialize(i)||(typeof i=="string"?this.setPathData(i):this.addChildren(Array.isArray(i)?i:arguments))},insertChildren:function t(i,s){var l=s,f=l[0];f&&typeof f[0]=="number"&&(l=[l]);for(var c=s.length-1;c>=0;c--){var v=l[c];l===s&&!(v instanceof Te)&&(l=u.slice(l)),Array.isArray(v)?l[c]=new Te({segments:v,insert:!1}):v instanceof He&&(l.splice.apply(l,[c,1].concat(v.removeChildren())),v.remove())}return t.base.call(this,i,l)},reduce:function t(i){for(var s=this._children,l=s.length-1;l>=0;l--){var f=s[l].reduce(i);f.isEmpty()&&f.remove()}if(!s.length){var f=new Te(pe.NO_INSERT);return f.copyAttributes(this),f.insertAbove(this),this.remove(),f}return t.base.call(this)},isClosed:function(){for(var t=this._children,i=0,s=t.length;i<s;i++)if(!t[i]._closed)return!1;return!0},setClosed:function(t){for(var i=this._children,s=0,l=i.length;s<l;s++)i[s].setClosed(t)},getFirstSegment:function(){var t=this.getFirstChild();return t&&t.getFirstSegment()},getLastSegment:function(){var t=this.getLastChild();return t&&t.getLastSegment()},getCurves:function(){for(var t=this._children,i=[],s=0,l=t.length;s<l;s++)u.push(i,t[s].getCurves());return i},getFirstCurve:function(){var t=this.getFirstChild();return t&&t.getFirstCurve()},getLastCurve:function(){var t=this.getLastChild();return t&&t.getLastCurve()},getArea:function(){for(var t=this._children,i=0,s=0,l=t.length;s<l;s++)i+=t[s].getArea();return i},getLength:function(){for(var t=this._children,i=0,s=0,l=t.length;s<l;s++)i+=t[s].getLength();return i},getPathData:function(t,i){for(var s=this._children,l=[],f=0,c=s.length;f<c;f++){var v=s[f],g=v._matrix;l.push(v.getPathData(t&&!g.isIdentity()?t.appended(g):t,i))}return l.join("")},_hitTestChildren:function t(i,s,l){return t.base.call(this,i,s.class===Te||s.type==="path"?s:u.set({},s,{fill:!1}),l)},_draw:function(t,i,s,l){var f=this._children;if(!!f.length){i=i.extend({dontStart:!0,dontFinish:!0}),t.beginPath();for(var c=0,v=f.length;c<v;c++)f[c].draw(t,i,l);if(!i.clip){this._setStyles(t,i,s);var g=this._style;g.hasFill()&&(t.fill(g.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),g.hasStroke()&&t.stroke()}}},_drawSelected:function(t,i,s){for(var l=this._children,f=0,c=l.length;f<c;f++){var v=l[f],g=v._matrix;s[v._id]||v._drawSelected(t,g.isIdentity()?i:i.appended(g))}}},new function(){function t(i,s){var l=i._children;if(s&&!l.length)throw new Error("Use a moveTo() command first");return l[l.length-1]}return u.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(i){this[i]=function(){var s=t(this,!0);s[i].apply(s,arguments)}},{moveTo:function(){var i=t(this),s=i&&i.isEmpty()?i:new Te(pe.NO_INSERT);s!==i&&this.addChild(s),s.moveTo.apply(s,arguments)},moveBy:function(){var i=t(this,!0),s=i&&i.getLastSegment(),l=F.read(arguments);this.moveTo(s?l.add(s._point):l)},closePath:function(i){t(this,!0).closePath(i)}})},u.each(["reverse","flatten","simplify","smooth"],function(t){this[t]=function(i){for(var s=this._children,l,f=0,c=s.length;f<c;f++)l=s[f][t](i)||l;return l}},{}));We.inject(new function(){var t=Math.min,i=Math.max,s=Math.abs,l={unite:{"1":!0,"2":!0},intersect:{"2":!0},subtract:{"1":!0},exclude:{"1":!0,"-1":!0}};function f(w){return w._children||[w]}function c(w,O){var y=w.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(O){for(var A=f(y),L=0,U=A.length;L<U;L++){var w=A[L];!w._closed&&!w.isEmpty()&&(w.closePath(1e-12),w.getFirstSegment().setHandleIn(0,0),w.getLastSegment().setHandleOut(0,0))}y=y.resolveCrossings().reorient(y.getFillRule()==="nonzero",!0)}return y}function v(w,O,y,A,L){var U=new He(pe.NO_INSERT);return U.addChildren(w,!0),U=U.reduce({simplify:O}),L&&L.insert==!1||U.insertAbove(A&&y.isSibling(A)&&y.getIndex()<A.getIndex()?A:y),U.copyAttributes(y,!0),U}function g(w){return w.hasOverlap()||w.isCrossing()}function m(w,O,y,A){if(A&&(A.trace==!1||A.stroke)&&/^(subtract|intersect)$/.test(y))return _(w,O,y);var L=c(w,!0),U=O&&w!==O&&c(O,!0),P=l[y];P[y]=!0,U&&(P.subtract||P.exclude)^(U.isClockwise()^L.isClockwise())&&U.reverse();var B=x(ze.expand(L.getIntersections(U,g))),z=f(L),H=U&&f(U),Z=[],N=[],W;function X(_e){for(var Fe=0,ke=_e.length;Fe<ke;Fe++){var Me=_e[Fe];u.push(Z,Me._segments),u.push(N,Me.getCurves()),Me._overlapsOnly=!0}}function Q(_e){for(var Fe=[],ke=0,Me=_e&&_e.length;ke<Me;ke++)Fe.push(N[_e[ke]]);return Fe}if(B.length){X(z),H&&X(H);for(var K=new Array(N.length),$=0,le=N.length;$<le;$++)K[$]=N[$].getValues();for(var he=k.findCurveBoundsCollisions(K,K,0,!0),ce={},$=0;$<N.length;$++){var me=N[$],ne=me._path._id,ie=ce[ne]=ce[ne]||{};ie[me.getIndex()]={hor:Q(he[$].hor),ver:Q(he[$].ver)}}for(var $=0,le=B.length;$<le;$++)E(B[$]._segment,L,U,ce,P);for(var $=0,le=Z.length;$<le;$++){var de=Z[$],ye=de._intersection;de._winding||E(de,L,U,ce,P),ye&&ye._overlap||(de._path._overlapsOnly=!1)}W=M(Z,P)}else W=b(H?z.concat(H):z.slice(),function(_e){return!!P[_e]});return v(W,!0,w,O,A)}function _(w,O,y){var A=c(w),L=c(O),U=A.getIntersections(L,g),P=y==="subtract",B=y==="divide",z={},H=[];function Z(X){if(!z[X._id]&&(B||L.contains(X.getPointAt(X.getLength()/2))^P))return H.unshift(X),z[X._id]=!0}for(var N=U.length-1;N>=0;N--){var W=U[N].split();W&&(Z(W)&&W.getFirstSegment().setHandleIn(0,0),A.getLastSegment().setHandleOut(0,0))}return Z(A),v(H,!1,w,O)}function S(w,O){for(var y=w;y;){if(y===O)return;y=y._previous}for(;w._next&&w._next!==O;)w=w._next;if(!w._next){for(;O._previous;)O=O._previous;w._next=O,O._previous=w}}function T(w){for(var O=w.length-1;O>=0;O--)w[O].clearHandles()}function b(w,O,y){var A=w&&w.length;if(A){var L=u.each(w,function(he,ce){this[he._id]={container:null,winding:he.isClockwise()?1:-1,index:ce}},{}),U=w.slice().sort(function(he,ce){return s(ce.getArea())-s(he.getArea())}),P=U[0],B=k.findItemBoundsCollisions(U,null,R.GEOMETRIC_EPSILON);y==null&&(y=P.isClockwise());for(var z=0;z<A;z++){var H=U[z],Z=L[H._id],N=0,W=B[z];if(W){for(var X=null,Q=W.length-1;Q>=0;Q--)if(W[Q]<z){X=X||H.getInteriorPoint();var K=U[W[Q]];if(K.contains(X)){var $=L[K._id];N=$.winding,Z.winding+=N,Z.container=$.exclude?$.container:K;break}}}if(O(Z.winding)===O(N))Z.exclude=!0,w[Z.index]=null;else{var le=Z.container;H.setClockwise(le?!le.isClockwise():y)}}}return w}function x(w,O,y){var A=O&&[],L=1e-8,U=1-L,P=!1,B=y||[],z=y&&{},H,Z,N;function W(Fe){return Fe._path._id+"."+Fe._segment1._index}for(var X=(y&&y.length)-1;X>=0;X--){var Q=y[X];Q._path&&(z[W(Q)]=!0)}for(var X=w.length-1;X>=0;X--){var K=w[X],$=K._time,le=$,he=O&&!O(K),Q=K._curve,ce;if(Q&&(Q!==Z?(P=!Q.hasHandles()||z&&z[W(Q)],H=[],N=null,Z=Q):N>=L&&($/=N)),he){H&&H.push(K);continue}else O&&A.unshift(K);if(N=le,$<L)ce=Q._segment1;else if($>U)ce=Q._segment2;else{var me=Q.divideAtTime($,!0);P&&B.push(Q,me),ce=me._segment1;for(var ne=H.length-1;ne>=0;ne--){var ie=H[ne];ie._time=(ie._time-$)/(1-$)}}K._setSegment(ce);var de=ce._intersection,ye=K._intersection;if(de){S(de,ye);for(var _e=de;_e;)S(_e._intersection,de),_e=_e._next}else ce._intersection=ye}return y||T(B),A||w}function I(w,O,y,A,L){var U=Array.isArray(O)?O:O[y?"hor":"ver"],P=y?1:0,B=P^1,z=[w.x,w.y],H=z[P],Z=z[B],N=1e-9,W=1e-6,X=H-N,Q=H+N,K=0,$=0,le=0,he=0,ce=!1,me=!1,ne=1,ie=[],de,ye;function _e(Xe){var st=Xe[B+0],wt=Xe[B+6];if(!(Z<t(st,wt)||Z>i(st,wt))){var pt=Xe[P+0],Ot=Xe[P+2],ur=Xe[P+4],It=Xe[P+6];if(st===wt){(pt<Q&&It>X||It<Q&&pt>X)&&(ce=!0);return}var Mt=Z===st?0:Z===wt||X>i(pt,Ot,ur,It)||Q<t(pt,Ot,ur,It)?1:ue.solveCubic(Xe,B,Z,ie,0,1)>0?ie[0]:1,Ct=Mt===0?pt:Mt===1?It:ue.getPoint(Xe,Mt)[y?"y":"x"],kt=st>wt?1:-1,lr=de[B]>de[B+6]?1:-1,Ut=de[P+6];return Z!==st?(Ct<X?le+=kt:Ct>Q?he+=kt:ce=!0,Ct>H-W&&Ct<H+W&&(ne/=2)):(kt!==lr?pt<X?le+=kt:pt>Q&&(he+=kt):pt!=Ut&&(Ut<Q&&Ct>Q?(he+=kt,ce=!0):Ut>X&&Ct<X&&(le+=kt,ce=!0)),ne/=4),de=Xe,!L&&Ct>X&&Ct<Q&&ue.getTangent(Xe,Mt)[y?"x":"y"]===0&&I(w,O,!y,A,!0)}}function Fe(Xe){var st=Xe[B+0],wt=Xe[B+2],pt=Xe[B+4],Ot=Xe[B+6];if(Z<=i(st,wt,pt,Ot)&&Z>=t(st,wt,pt,Ot)){for(var ur=Xe[P+0],It=Xe[P+2],Mt=Xe[P+4],Ct=Xe[P+6],kt=X>i(ur,It,Mt,Ct)||Q<t(ur,It,Mt,Ct)?[Xe]:ue.getMonoCurves(Xe,y),lr,Ut=0,Fn=kt.length;Ut<Fn;Ut++)if(lr=_e(kt[Ut]))return lr}}for(var ke=0,Me=U.length;ke<Me;ke++){var De=U[ke],Pe=De._path,ct=De.getValues(),dt;if((!ke||U[ke-1]._path!==Pe)&&(de=null,Pe._closed||(ye=ue.getValues(Pe.getLastCurve().getSegment2(),De.getSegment1(),null,!A),ye[B]!==ye[B+6]&&(de=ye)),!de)){de=ct;for(var _t=Pe.getLastCurve();_t&&_t!==De;){var at=_t.getValues();if(at[B]!==at[B+6]){de=at;break}_t=_t.getPrevious()}}if(dt=Fe(ct))return dt;if(ke+1===Me||U[ke+1]._path!==Pe){if(ye&&(dt=Fe(ye)))return dt;ce&&!le&&!he&&(le=he=Pe.isClockwise(A)^y?1:-1),K+=le,$+=he,le=he=0,ce&&(me=!0,ce=!1),ye=null}}return K=s(K),$=s($),{winding:i(K,$),windingL:K,windingR:$,quality:ne,onPath:me}}function E(w,O,y,A,L){var U=[],P=w,B=0,N;do{var z=w.getCurve();if(z){var H=z.getLength();U.push({segment:w,curve:z,length:H}),B+=H}w=w.getNext()}while(w&&!w._intersection&&w!==P);for(var Z=[.5,.25,.75],N={winding:0,quality:-1},W=.001,X=1-W,Q=0;Q<Z.length&&N.quality<.5;Q++)for(var H=B*Z[Q],K=0,$=U.length;K<$;K++){var le=U[K],he=le.length;if(H<=he){var z=le.curve,ce=z._path,me=ce._parent,ne=me instanceof He?me:ce,ie=R.clamp(z.getTimeAt(H),W,X),de=z.getPointAtTime(ie),ye=s(z.getTangentAtTime(ie).y)<Math.SQRT1_2,_e=null;if(L.subtract&&y){var Fe=ne===O?y:O,ke=Fe._getWinding(de,ye,!0);if(ne===O&&ke.winding||ne===y&&!ke.winding){if(ke.quality<1)continue;_e={winding:0,quality:1}}}_e=_e||I(de,A[ce._id][z.getIndex()],ye,!0),_e.quality>N.quality&&(N=_e);break}H-=he}for(var K=U.length-1;K>=0;K--)U[K].segment._winding=N}function M(w,O){var y=[],A;function L(Me){var De;return!!(Me&&!Me._visited&&(!O||O[(De=Me._winding||{}).winding]&&!(O.unite&&De.winding===2&&De.windingL&&De.windingR)))}function U(Me){if(Me){for(var De=0,Pe=A.length;De<Pe;De++)if(Me===A[De])return!0}return!1}function P(Me){for(var De=Me._segments,Pe=0,ct=De.length;Pe<ct;Pe++)De[Pe]._visited=!0}function B(Me,De){var Pe=Me._intersection,ct=Pe,dt=[];De&&(A=[Me]);function _t(at,Xe){for(;at&&at!==Xe;){var st=at._segment,wt=st&&st._path;if(wt){var pt=st.getNext()||wt.getFirstSegment(),Ot=pt._intersection;st!==Me&&(U(st)||U(pt)||pt&&L(st)&&(L(pt)||Ot&&L(Ot._segment)))&&dt.push(st),De&&A.push(st)}at=at._next}}if(Pe){for(_t(Pe);Pe&&Pe._previous;)Pe=Pe._previous;_t(Pe,ct)}return dt}w.sort(function(Me,De){var Pe=Me._intersection,ct=De._intersection,dt=!!(Pe&&Pe._overlap),_t=!!(ct&&ct._overlap),at=Me._path,Xe=De._path;return dt^_t?dt?1:-1:!Pe^!ct?Pe?1:-1:at!==Xe?at._id-Xe._id:Me._index-De._index});for(var z=0,H=w.length;z<H;z++){var Z=w[z],N=L(Z),W=null,X=!1,Q=!0,K=[],$,le,he;if(N&&Z._path._overlapsOnly){var ce=Z._path,me=Z._intersection._segment._path;ce.compare(me)&&(ce.getArea()&&y.push(ce.clone(!1)),P(ce),P(me),N=!1)}for(;N;){var ne=!W,ie=B(Z,ne),de=ie.shift(),X=!ne&&(U(Z)||U(de)),ye=!X&&de;if(ne&&(W=new Te(pe.NO_INSERT),$=null),X){(Z.isFirst()||Z.isLast())&&(Q=Z._path._closed),Z._visited=!0;break}if(ye&&$&&(K.push($),$=null),$||(ye&&ie.push(Z),$={start:W._segments.length,crossings:ie,visited:le=[],handleIn:he}),ye&&(Z=de),!L(Z)){W.removeSegments($.start);for(var _e=0,Fe=le.length;_e<Fe;_e++)le[_e]._visited=!1;le.length=0;do Z=$&&$.crossings.shift(),(!Z||!Z._path)&&(Z=null,$=K.pop(),$&&(le=$.visited,he=$.handleIn));while($&&!L(Z));if(!Z)break}var ke=Z.getNext();W.add(new ge(Z._point,he,ke&&Z._handleOut)),Z._visited=!0,le.push(Z),Z=ke||Z._path.getFirstSegment(),he=ke&&ke._handleIn}X&&(Q&&(W.getFirstSegment().setHandleIn(he),W.setClosed(Q)),W.getArea()!==0&&y.push(W))}return y}return{_getWinding:function(w,O,y){return I(w,this.getCurves(),O,y)},unite:function(w,O){return m(this,w,"unite",O)},intersect:function(w,O){return m(this,w,"intersect",O)},subtract:function(w,O){return m(this,w,"subtract",O)},exclude:function(w,O){return m(this,w,"exclude",O)},divide:function(w,O){return O&&(O.trace==!1||O.stroke)?_(this,w,"divide"):v([this.subtract(w,O),this.intersect(w,O)],!0,this,w,O)},resolveCrossings:function(){var w=this._children,O=w||[this];function y($,le){var he=$&&$._intersection;return he&&he._overlap&&he._path===le}var A=!1,L=!1,U=this.getIntersections(null,function($){return $.hasOverlap()&&(A=!0)||$.isCrossing()&&(L=!0)}),P=A&&L&&[];if(U=ze.expand(U),A)for(var B=x(U,function($){return $.hasOverlap()},P),z=B.length-1;z>=0;z--){var H=B[z],Z=H._path,N=H._segment,W=N.getPrevious(),X=N.getNext();y(W,Z)&&y(X,Z)&&(N.remove(),W._handleOut._set(0,0),X._handleIn._set(0,0),W!==N&&!W.getCurve().hasLength()&&(X._handleIn.set(W._handleIn),W.remove()))}L&&(x(U,A&&function($){var le=$.getCurve(),he=$.getSegment(),ce=$._intersection,me=ce._curve,ne=ce._segment;if(le&&me&&le._path&&me._path)return!0;he&&(he._intersection=null),ne&&(ne._intersection=null)},P),P&&T(P),O=M(u.each(O,function($){u.push(this,$._segments)},[])));var Q=O.length,K;return Q>1&&w?(O!==w&&this.setChildren(O),K=this):Q===1&&!w&&(O[0]!==this&&this.setSegments(O[0].removeSegments()),K=this),K||(K=new He(pe.NO_INSERT),K.addChildren(O),K=K.reduce(),K.copyAttributes(this),this.replaceWith(K)),K},reorient:function(w,O){var y=this._children;return y&&y.length?this.setChildren(b(this.removeChildren(),function(A){return!!(w?A:A&1)},O)):O!==n&&this.setClockwise(O),this},getInteriorPoint:function(){var w=this.getBounds(),O=w.getCenter(!0);if(!this.contains(O)){for(var y=this.getCurves(),A=O.y,L=[],U=[],P=0,B=y.length;P<B;P++){var z=y[P].getValues(),H=z[1],Z=z[3],N=z[5],W=z[7];if(A>=t(H,Z,N,W)&&A<=i(H,Z,N,W))for(var X=ue.getMonoCurves(z),Q=0,K=X.length;Q<K;Q++){var $=X[Q],le=$[1],he=$[7];if(le!==he&&(A>=le&&A<=he||A>=he&&A<=le)){var ce=A===le?$[0]:A===he?$[6]:ue.solveCubic($,1,A,U,0,1)===1?ue.getPoint($,U[0]).x:($[0]+$[6])/2;L.push(ce)}}}L.length>1&&(L.sort(function(me,ne){return me-ne}),O.x=(L[0]+L[1])/2)}return O}}});var Ie=u.extend({_class:"PathFlattener",initialize:function(t,i,s,l,f){var c=[],v=[],g=0,m=1/(s||32),_=t._segments,S=_[0],T;function b(M,w){var O=ue.getValues(M,w,f);c.push(O),x(O,M._index,0,1)}function x(M,w,O,y){if(y-O>m&&!(l&&ue.isStraight(M))&&!ue.isFlatEnough(M,i||.25)){var A=ue.subdivide(M,.5),L=(O+y)/2;x(A[0],w,O,L),x(A[1],w,L,y)}else{var U=M[6]-M[0],P=M[7]-M[1],B=Math.sqrt(U*U+P*P);B>0&&(g+=B,v.push({offset:g,curve:M,index:w,time:y}))}}for(var I=1,E=_.length;I<E;I++)T=_[I],b(S,T),S=T;t._closed&&b(T||S,_[0]),this.curves=c,this.parts=v,this.length=g,this.index=0},_get:function(t){for(var i=this.parts,s=i.length,l,f=this.index;l=f,!(!f||i[--f].offset<t););for(;l<s;l++){var c=i[l];if(c.offset>=t){this.index=l;var v=i[l-1],g=v&&v.index===c.index?v.time:0,m=v?v.offset:0;return{index:c.index,time:g+(c.time-g)*(t-m)/(c.offset-m)}}}return{index:i[s-1].index,time:1}},drawPart:function(t,i,s){for(var l=this._get(i),f=this._get(s),c=l.index,v=f.index;c<=v;c++){var g=ue.getPart(this.curves[c],c===l.index?l.time:0,c===f.index?f.time:1);c===l.index&&t.moveTo(g[0],g[1]),t.bezierCurveTo.apply(t,g.slice(2))}}},u.each(ue._evaluateMethods,function(t){this[t+"At"]=function(i){var s=this._get(i);return ue[t](this.curves[s.index],s.time)}},{})),Ve=u.extend({initialize:function(t){for(var i=this.points=[],s=t._segments,l=t._closed,f=0,c,v=s.length;f<v;f++){var g=s[f].point;(!c||!c.equals(g))&&i.push(c=g.clone())}l&&(i.unshift(i[i.length-1]),i.push(i[1])),this.closed=l},fit:function(t){var i=this.points,s=i.length,l=null;return s>0&&(l=[new ge(i[0])],s>1&&(this.fitCubic(l,t,0,s-1,i[1].subtract(i[0]),i[s-2].subtract(i[s-1])),this.closed&&(l.shift(),l.pop()))),l},fitCubic:function(t,i,s,l,f,c){var v=this.points;if(l-s===1){var g=v[s],m=v[l],_=g.getDistance(m)/3;this.addCurve(t,[g,g.add(f.normalize(_)),m.add(c.normalize(_)),m]);return}for(var S=this.chordLengthParameterize(s,l),T=Math.max(i,i*i),b,x=!0,I=0;I<=4;I++){var E=this.generateBezier(s,l,S,f,c),M=this.findMaxError(s,l,E,S);if(M.error<i&&x){this.addCurve(t,E);return}if(b=M.index,M.error>=T)break;x=this.reparameterize(s,l,S,E),T=M.error}var w=v[b-1].subtract(v[b+1]);this.fitCubic(t,i,s,b,f,w),this.fitCubic(t,i,b,l,w.negate(),c)},addCurve:function(t,i){var s=t[t.length-1];s.setHandleOut(i[1].subtract(i[0])),t.push(new ge(i[3],i[2].subtract(i[3])))},generateBezier:function(t,i,s,l,f){for(var c=1e-12,v=Math.abs,g=this.points,m=g[t],_=g[i],S=[[0,0],[0,0]],T=[0,0],b=0,x=i-t+1;b<x;b++){var I=s[b],E=1-I,M=3*I*E,w=E*E*E,O=M*E,y=M*I,A=I*I*I,L=l.normalize(O),U=f.normalize(y),P=g[t+b].subtract(m.multiply(w+O)).subtract(_.multiply(y+A));S[0][0]+=L.dot(L),S[0][1]+=L.dot(U),S[1][0]=S[0][1],S[1][1]+=U.dot(U),T[0]+=L.dot(P),T[1]+=U.dot(P)}var B=S[0][0]*S[1][1]-S[1][0]*S[0][1],z,H;if(v(B)>c){var Z=S[0][0]*T[1]-S[1][0]*T[0],N=T[0]*S[1][1]-T[1]*S[0][1];z=N/B,H=Z/B}else{var W=S[0][0]+S[0][1],X=S[1][0]+S[1][1];z=H=v(W)>c?T[0]/W:v(X)>c?T[1]/X:0}var Q=_.getDistance(m),K=c*Q,$,le;if(z<K||H<K)z=H=Q/3;else{var he=_.subtract(m);$=l.normalize(z),le=f.normalize(H),$.dot(he)-le.dot(he)>Q*Q&&(z=H=Q/3,$=le=null)}return[m,m.add($||l.normalize(z)),_.add(le||f.normalize(H)),_]},reparameterize:function(t,i,s,l){for(var f=t;f<=i;f++)s[f-t]=this.findRoot(l,this.points[f],s[f-t]);for(var f=1,c=s.length;f<c;f++)if(s[f]<=s[f-1])return!1;return!0},findRoot:function(t,i,s){for(var l=[],f=[],c=0;c<=2;c++)l[c]=t[c+1].subtract(t[c]).multiply(3);for(var c=0;c<=1;c++)f[c]=l[c+1].subtract(l[c]).multiply(2);var v=this.evaluate(3,t,s),g=this.evaluate(2,l,s),m=this.evaluate(1,f,s),_=v.subtract(i),S=g.dot(g)+_.dot(m);return R.isMachineZero(S)?s:s-_.dot(g)/S},evaluate:function(t,i,s){for(var l=i.slice(),f=1;f<=t;f++)for(var c=0;c<=t-f;c++)l[c]=l[c].multiply(1-s).add(l[c+1].multiply(s));return l[0]},chordLengthParameterize:function(t,i){for(var s=[0],l=t+1;l<=i;l++)s[l-t]=s[l-t-1]+this.points[l].getDistance(this.points[l-1]);for(var l=1,f=i-t;l<=f;l++)s[l]/=s[f];return s},findMaxError:function(t,i,s,l){for(var f=Math.floor((i-t+1)/2),c=0,v=t+1;v<i;v++){var g=this.evaluate(3,s,l[v-t]),m=g.subtract(this.points[v]),_=m.x*m.x+m.y*m.y;_>=c&&(c=_,f=v)}return{error:c,index:f}}}),xt=pe.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(i){this._content="",this._lines=[];var s=i&&u.isPlainObject(i)&&i.x===n&&i.y===n;this._initialize(s&&i,!s&&F.read(arguments))},_equals:function(t){return this._content===t._content},copyContent:function(t){this.setContent(t._content)},getContent:function(){return this._content},setContent:function(t){this._content=""+t,this._lines=this._content.split(/\r\n|\n|\r/mg),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),yr=xt.extend({_class:"PointText",initialize:function(){xt.apply(this,arguments)},getPoint:function(){var t=this._matrix.getTranslation();return new q(t.x,t.y,this,"setPoint")},setPoint:function(){var t=F.read(arguments);this.translate(t.subtract(this._matrix.getTranslation()))},_draw:function(t,i,s){if(!!this._content){this._setStyles(t,i,s);var l=this._lines,f=this._style,c=f.hasFill(),v=f.hasStroke(),g=f.getLeading(),m=t.shadowColor;t.font=f.getFontStyle(),t.textAlign=f.getJustification();for(var _=0,S=l.length;_<S;_++){t.shadowColor=m;var T=l[_];c&&(t.fillText(T,0,0),t.shadowColor="rgba(0,0,0,0)"),v&&t.strokeText(T,0,0),t.translate(0,g)}}},_getBounds:function(t,i){var s=this._style,l=this._lines,f=l.length,c=s.getJustification(),v=s.getLeading(),g=this.getView().getTextWidth(s.getFontStyle(),l),m=0;c!=="left"&&(m-=g/(c==="center"?2:1));var _=new j(m,f?-.75*v:0,g,f*v);return t?t._transformBounds(_,_):_}}),$e=u.extend(new function(){var t={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},i={},s={transparent:[0,0,0,0]},l;function f(g){var m=g.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||g.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),_="rgb",S;if(m){var T=m[4]?4:3;S=new Array(T);for(var b=0;b<T;b++){var x=m[b+1];S[b]=parseInt(x.length==1?x+x:x,16)/255}}else if(m=g.match(/^(rgb|hsl)a?\((.*)\)$/)){_=m[1],S=m[2].trim().split(/[,\s]+/g);for(var I=_==="hsl",b=0,E=Math.min(S.length,4);b<E;b++){var M=S[b],x=parseFloat(M);if(I)if(b===0){var w=M.match(/([a-z]*)$/)[1];x*={turn:360,rad:180/Math.PI,grad:.9}[w]||1}else b<3&&(x/=100);else b<3&&(x/=/%$/.test(M)?100:255);S[b]=x}}else{var O=s[g];if(!O)if(a){l||(l=ht.getContext(1,1),l.globalCompositeOperation="copy"),l.fillStyle="rgba(0,0,0,0)",l.fillStyle=g,l.fillRect(0,0,1,1);var y=l.getImageData(0,0,1,1).data;O=s[g]=[y[0]/255,y[1]/255,y[2]/255]}else O=[0,0,0];S=O.slice()}return[_,S]}var c=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],v={"rgb-hsb":function(g,m,_){var S=Math.max(g,m,_),T=Math.min(g,m,_),b=S-T,x=b===0?0:(S==g?(m-_)/b+(m<_?6:0):S==m?(_-g)/b+2:(g-m)/b+4)*60;return[x,S===0?0:b/S,S]},"hsb-rgb":function(g,m,_){g=(g/60%6+6)%6;var T=Math.floor(g),S=g-T,T=c[T],b=[_,_*(1-m),_*(1-m*S),_*(1-m*(1-S))];return[b[T[0]],b[T[1]],b[T[2]]]},"rgb-hsl":function(g,m,_){var S=Math.max(g,m,_),T=Math.min(g,m,_),b=S-T,x=b===0,I=x?0:(S==g?(m-_)/b+(m<_?6:0):S==m?(_-g)/b+2:(g-m)/b+4)*60,E=(S+T)/2,M=x?0:E<.5?b/(S+T):b/(2-S-T);return[I,M,E]},"hsl-rgb":function(g,m,_){if(g=(g/360%1+1)%1,m===0)return[_,_,_];for(var S=[g+1/3,g,g-1/3],T=_<.5?_*(1+m):_+m-_*m,b=2*_-T,x=[],I=0;I<3;I++){var E=S[I];E<0&&(E+=1),E>1&&(E-=1),x[I]=6*E<1?b+(T-b)*6*E:2*E<1?T:3*E<2?b+(T-b)*(2/3-E)*6:b}return x},"rgb-gray":function(g,m,_){return[g*.2989+m*.587+_*.114]},"gray-rgb":function(g){return[g,g,g]},"gray-hsb":function(g){return[0,0,g]},"gray-hsl":function(g){return[0,0,g]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return u.each(t,function(g,m){i[m]=[],u.each(g,function(_,S){var T=u.capitalize(_),b=/^(hue|saturation)$/.test(_),x=i[m][S]=m==="gradient"?_==="gradient"?function(I){var E=this._components[0];return I=Lt.read(Array.isArray(I)?I:arguments,0,{readNull:!0}),E!==I&&(E&&E._removeOwner(this),I&&I._addOwner(this)),I}:function(){return F.read(arguments,0,{readNull:_==="highlight",clone:!0})}:function(I){return I==null||isNaN(I)?0:+I};this["get"+T]=function(){return this._type===m||b&&/^hs[bl]$/.test(this._type)?this._components[S]:this._convert(m)[S]},this["set"+T]=function(I){this._type!==m&&!(b&&/^hs[bl]$/.test(this._type))&&(this._components=this._convert(m),this._properties=t[m],this._type=m),this._components[S]=x.call(this,I),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function g(m){var _=arguments,S=this.__read,T=0,b,x,I,E;Array.isArray(m)&&(_=m,m=_[0]);var M=m!=null&&typeof m;if(M==="string"&&m in t&&(b=m,m=_[1],Array.isArray(m)?(x=m,I=_[2]):(S&&(T=1),_=u.slice(_,1),M=typeof m)),!x){if(E=M==="number"?_:M==="object"&&m.length!=null?m:null,E){b||(b=E.length>=3?"rgb":"gray");var w=t[b].length;I=E[w],S&&(T+=E===arguments?w+(I!=null?1:0):1),E.length>w&&(E=u.slice(E,0,w))}else if(M==="string"){var O=f(m);b=O[0],x=O[1],x.length===4&&(I=x[3],x.length--)}else if(M==="object")if(m.constructor===g){if(b=m._type,x=m._components.slice(),I=m._alpha,b==="gradient")for(var y=1,A=x.length;y<A;y++){var L=x[y];L&&(x[y]=L.clone())}}else if(m.constructor===Lt)b="gradient",E=_;else{b="hue"in m?"lightness"in m?"hsl":"hsb":"gradient"in m||"stops"in m||"radial"in m?"gradient":"gray"in m?"gray":"rgb";var U=t[b],P=i[b];this._components=x=[];for(var y=0,A=U.length;y<A;y++){var B=m[U[y]];B==null&&!y&&b==="gradient"&&"stops"in m&&(B={stops:m.stops,radial:m.radial}),B=P[y].call(this,B),B!=null&&(x[y]=B)}I=m.alpha}S&&b&&(T=1)}if(this._type=b||"rgb",!x){this._components=x=[];for(var P=i[this._type],y=0,A=P.length;y<A;y++){var B=P[y].call(this,E&&E[y]);B!=null&&(x[y]=B)}}return this._components=x,this._properties=t[this._type],this._alpha=I,S&&(this.__read=T),this},set:"#initialize",_serialize:function(g,m){var _=this.getComponents();return u.serialize(/^(gray|rgb)$/.test(this._type)?_:[this._type].concat(_),g,!0,m)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(g){var m;return this._type===g?this._components.slice():(m=v[this._type+"-"+g])?m.apply(this,this._components):v["rgb-"+g].apply(this,v[this._type+"-rgb"].apply(this,this._components))},convert:function(g){return new $e(g,this._convert(g),this._alpha)},getType:function(){return this._type},setType:function(g){this._components=this._convert(g),this._properties=t[g],this._type=g},getComponents:function(){var g=this._components.slice();return this._alpha!=null&&g.push(this._alpha),g},getAlpha:function(){return this._alpha!=null?this._alpha:1},setAlpha:function(g){this._alpha=g==null?null:Math.min(Math.max(g,0),1),this._changed()},hasAlpha:function(){return this._alpha!=null},equals:function(g){var m=u.isPlainValue(g,!0)?$e.read(arguments):g;return m===this||m&&this._class===m._class&&this._type===m._type&&this.getAlpha()===m.getAlpha()&&u.equals(this._components,m._components)||!1},toString:function(){for(var g=this._properties,m=[],_=this._type==="gradient",S=C.instance,T=0,b=g.length;T<b;T++){var x=this._components[T];x!=null&&m.push(g[T]+": "+(_?x:S.number(x)))}return this._alpha!=null&&m.push("alpha: "+S.number(this._alpha)),"{ "+m.join(", ")+" }"},toCSS:function(g){var m=this._convert("rgb"),_=g||this._alpha==null?1:this._alpha;function S(T){return Math.round((T<0?0:T>1?1:T)*255)}return m=[S(m[0]),S(m[1]),S(m[2])],_<1&&m.push(_<0?0:_),g?"#"+((1<<24)+(m[0]<<16)+(m[1]<<8)+m[2]).toString(16).slice(1):(m.length==4?"rgba(":"rgb(")+m.join(",")+")"},toCanvasStyle:function(g,m){if(this._canvasStyle)return this._canvasStyle;if(this._type!=="gradient")return this._canvasStyle=this.toCSS();var _=this._components,S=_[0],T=S._stops,b=_[1],x=_[2],I=_[3],E=m&&m.inverted(),M;if(E&&(b=E._transformPoint(b),x=E._transformPoint(x),I&&(I=E._transformPoint(I))),S._radial){var w=x.getDistance(b);if(I){var O=I.subtract(b);O.getLength()>w&&(I=b.add(O.normalize(w-.1)))}var y=I||b;M=g.createRadialGradient(y.x,y.y,0,b.x,b.y,w)}else M=g.createLinearGradient(b.x,b.y,x.x,x.y);for(var A=0,L=T.length;A<L;A++){var U=T[A],P=U._offset;M.addColorStop(P==null?A/(L-1):P,U._color.toCanvasStyle())}return this._canvasStyle=M},transform:function(g){if(this._type==="gradient"){for(var m=this._components,_=1,S=m.length;_<S;_++){var T=m[_];g._transformPoint(T,T,!0)}this._changed()}},statics:{_types:t,random:function(){var g=Math.random;return new $e(g(),g(),g())},_setOwner:function(g,m,_){return g&&(g._owner&&m&&g._owner!==m&&(g=g.clone()),!g._owner^!m&&(g._owner=m||null,g._setter=_||null)),g}}})},new function(){var t={add:function(i,s){return i+s},subtract:function(i,s){return i-s},multiply:function(i,s){return i*s},divide:function(i,s){return i/s}};return u.each(t,function(i,s){this[s]=function(l){l=$e.read(arguments);for(var f=this._type,c=this._components,v=l._convert(f),g=0,m=c.length;g<m;g++)v[g]=i(c[g],v[g]);return new $e(f,v,this._alpha!=null?i(this._alpha,l.getAlpha()):null)}},{})}),Lt=u.extend({_class:"Gradient",initialize:function(i,s){this._id=D.get(),i&&u.isPlainObject(i)&&(this.set(i),i=s=null),this._stops==null&&this.setStops(i||["white","black"]),this._radial==null&&this.setRadial(typeof s=="string"&&s==="radial"||s||!1)},_serialize:function(t,i){return i.add(this,function(){return u.serialize([this._stops,this._radial],t,!0,i)})},_changed:function(){for(var t=0,i=this._owners&&this._owners.length;t<i;t++)this._owners[t]._changed()},_addOwner:function(t){this._owners||(this._owners=[]),this._owners.push(t)},_removeOwner:function(t){var i=this._owners?this._owners.indexOf(t):-1;i!=-1&&(this._owners.splice(i,1),this._owners.length||(this._owners=n))},clone:function(){for(var t=[],i=0,s=this._stops.length;i<s;i++)t[i]=this._stops[i].clone();return new Lt(t,this._radial)},getStops:function(){return this._stops},setStops:function(t){if(t.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var i=this._stops;if(i)for(var s=0,l=i.length;s<l;s++)i[s]._owner=n;i=this._stops=Ur.readList(t,0,{clone:!0});for(var s=0,l=i.length;s<l;s++)i[s]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(t){this._radial=t,this._changed()},equals:function(t){if(t===this)return!0;if(t&&this._class===t._class){var i=this._stops,s=t._stops,l=i.length;if(l===s.length){for(var f=0;f<l;f++)if(!i[f].equals(s[f]))return!1;return!0}}return!1}}),Ur=u.extend({_class:"GradientStop",initialize:function(i,s){var l=i,f=s;typeof i=="object"&&s===n&&(Array.isArray(i)&&typeof i[0]!="number"?(l=i[0],f=i[1]):("color"in i||"offset"in i||"rampPoint"in i)&&(l=i.color,f=i.offset||i.rampPoint||0)),this.setColor(l),this.setOffset(f)},clone:function(){return new Ur(this._color.clone(),this._offset)},_serialize:function(t,i){var s=this._color,l=this._offset;return u.serialize(l==null?[s]:[s,l],t,!0,i)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(t){this._offset=t,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){$e._setOwner(this._color,null),this._color=$e._setOwner($e.read(arguments,0),this,"setColor"),this._changed()},equals:function(t){return t===this||t&&this._class===t._class&&this._color.equals(t._color)&&this._offset==t._offset||!1}}),or=u.extend(new function(){var t={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new F,selectedColor:null},i=u.set({},t,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),s=u.set({},i,{fillColor:new $e}),l={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},f={beans:!0},c={_class:"Style",beans:!0,initialize:function(g,m,_){this._values={},this._owner=m,this._project=m&&m._project||_||Ne.project,this._defaults=!m||m instanceof Ce?i:m instanceof xt?s:t,g&&this.set(g)}};return u.each(i,function(v,g){var m=/Color$/.test(g),_=g==="shadowOffset",S=u.capitalize(g),T=l[g],b="set"+S,x="get"+S;c[b]=function(I){var E=this._owner,M=E&&E._children,w=M&&M.length>0&&!(E instanceof He);if(w)for(var O=0,y=M.length;O<y;O++)M[O]._style[b](I);if((g==="selectedColor"||!w)&&g in this._defaults){var A=this._values[g];A!==I&&(m&&(A&&($e._setOwner(A,null),A._canvasStyle=null),I&&I.constructor===$e&&(I=$e._setOwner(I,E,w&&b))),this._values[g]=I,E&&E._changed(T||129))}},c[x]=function(I){var E=this._owner,M=E&&E._children,w=M&&M.length>0&&!(E instanceof He),O;if(w&&!I)for(var y=0,A=M.length;y<A;y++){var L=M[y]._style[x]();if(!y)O=L;else if(!u.equals(O,L))return n}else if(g in this._defaults){var O=this._values[g];if(O===n)O=this._defaults[g],O&&O.clone&&(O=O.clone());else{var U=m?$e:_?F:null;U&&!(O&&O.constructor===U)&&(this._values[g]=O=U.read([O],0,{readNull:!0,clone:!0}))}}return O&&m&&(O=$e._setOwner(O,E,w&&b)),O},f[x]=function(I){return this._style[x](I)},f[b]=function(I){this._style[b](I)}}),u.each({Font:"FontFamily",WindingRule:"FillRule"},function(v,g){var m="get"+g,_="set"+g;c[m]=f[m]="#get"+v,c[_]=f[_]="#set"+v}),pe.inject(f),c},{set:function(t){var i=t instanceof or,s=i?t._values:t;if(s){for(var l in s)if(l in this._defaults){var f=s[l];this[l]=f&&i&&f.clone?f.clone():f}}},equals:function(t){function i(s,l,f){var c=s._values,v=l._values,g=l._defaults;for(var m in c){var _=c[m],S=v[m];if(!(f&&m in v)&&!u.equals(_,S===n?g[m]:S))return!1}return!0}return t===this||t&&this._class===t._class&&i(this,t)&&i(t,this,!0)||!1},_dispose:function(){var t;t=this.getFillColor(),t&&(t._canvasStyle=null),t=this.getStrokeColor(),t&&(t._canvasStyle=null),t=this.getShadowColor(),t&&(t._canvasStyle=null)},hasFill:function(){var t=this.getFillColor();return!!t&&t.alpha>0},hasStroke:function(){var t=this.getStrokeColor();return!!t&&t.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var t=this.getShadowColor();return!!t&&t.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var t=this.getFontSize();return this.getFontWeight()+" "+t+(/[a-z]/i.test(t+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function t(){var i=t.base.call(this),s=this.getFontSize();return/pt|em|%|px/.test(s)&&(s=this.getView().getPixelSize(s)),i!=null?i:s*1.2}}),nt=new function(){function t(i,s,l,f){for(var c=["","webkit","moz","Moz","ms","o"],v=s[0].toUpperCase()+s.substring(1),g=0;g<6;g++){var m=c[g],_=m?m+v:s;if(_ in i){if(l)i[_]=f;else return i[_];break}}}return{getStyles:function(i){var s=i&&i.nodeType!==9?i.ownerDocument:i,l=s&&s.defaultView;return l&&l.getComputedStyle(i,"")},getBounds:function(i,s){var l=i.ownerDocument,f=l.body,c=l.documentElement,v;try{v=i.getBoundingClientRect()}catch{v={left:0,top:0,width:0,height:0}}var g=v.left-(c.clientLeft||f.clientLeft||0),m=v.top-(c.clientTop||f.clientTop||0);if(!s){var _=l.defaultView;g+=_.pageXOffset||c.scrollLeft||f.scrollLeft,m+=_.pageYOffset||c.scrollTop||f.scrollTop}return new j(g,m,v.width,v.height)},getViewportBounds:function(i){var s=i.ownerDocument,l=s.defaultView,f=s.documentElement;return new j(0,0,l.innerWidth||f.clientWidth,l.innerHeight||f.clientHeight)},getOffset:function(i,s){return nt.getBounds(i,s).getPoint()},getSize:function(i){return nt.getBounds(i,!0).getSize()},isInvisible:function(i){return nt.getSize(i).equals(new G(0,0))},isInView:function(i){return!nt.isInvisible(i)&&nt.getViewportBounds(i).intersects(nt.getBounds(i,!0))},isInserted:function(i){return o.body.contains(i)},getPrefixed:function(i,s){return i&&t(i,s)},setPrefixed:function(i,s,l){if(typeof s=="object")for(var f in s)t(i,f,!0,s[f]);else t(i,s,!0,l)}}},ft={add:function(t,i){if(t)for(var s in i)for(var l=i[s],f=s.split(/[\s,]+/g),c=0,v=f.length;c<v;c++){var g=f[c],m=t===o&&(g==="touchstart"||g==="touchmove")?{passive:!1}:!1;t.addEventListener(g,l,m)}},remove:function(t,i){if(t)for(var s in i)for(var l=i[s],f=s.split(/[\s,]+/g),c=0,v=f.length;c<v;c++)t.removeEventListener(f[c],l,!1)},getPoint:function(t){var i=t.targetTouches?t.targetTouches.length?t.targetTouches[0]:t.changedTouches[0]:t;return new F(i.pageX||i.clientX+o.documentElement.scrollLeft,i.pageY||i.clientY+o.documentElement.scrollTop)},getTarget:function(t){return t.target||t.srcElement},getRelatedTarget:function(t){return t.relatedTarget||t.toElement},getOffset:function(t,i){return ft.getPoint(t).subtract(nt.getOffset(i||ft.getTarget(t)))}};ft.requestAnimationFrame=new function(){var t=nt.getPrefixed(a,"requestAnimationFrame"),i=!1,s=[],l;function f(){var c=s;s=[];for(var v=0,g=c.length;v<g;v++)c[v]();i=t&&s.length,i&&t(f)}return function(c){s.push(c),t?i||(t(f),i=!0):l||(l=setInterval(f,1e3/60))}};var tt=u.extend(h,{_class:"View",initialize:function t(i,s){function l(T){return s[T]||parseInt(s.getAttribute(T),10)}function f(){var T=nt.getSize(s);return T.isNaN()||T.isZero()?new G(l("width"),l("height")):T}var c;if(a&&s){this._id=s.getAttribute("id"),this._id==null&&s.setAttribute("id",this._id="paper-view-"+t._id++),ft.add(s,this._viewEvents);var v="none";if(nt.setPrefixed(s.style,{userDrag:v,userSelect:v,touchCallout:v,contentZooming:v,tapHighlightColor:"rgba(0,0,0,0)"}),p.hasAttribute(s,"resize")){var g=this;ft.add(a,this._windowEvents={resize:function(){g.setViewSize(f())}})}if(c=f(),p.hasAttribute(s,"stats")&&typeof Stats!="undefined"){this._stats=new Stats;var m=this._stats.domElement,_=m.style,S=nt.getOffset(s);_.position="absolute",_.left=S.x+"px",_.top=S.y+"px",o.body.appendChild(m)}}else c=new G(s),s=null;this._project=i,this._scope=i._scope,this._element=s,this._pixelRatio||(this._pixelRatio=a&&a.devicePixelRatio||1),this._setElementSize(c.width,c.height),this._viewSize=c,t._views.push(this),t._viewsById[this._id]=this,(this._matrix=new re)._owner=this,t._focused||(t._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!Ne.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;tt._focused===this&&(tt._focused=null),tt._views.splice(tt._views.indexOf(this),1),delete tt._viewsById[this._id];var t=this._project;return t._view===this&&(t._view=null),ft.remove(this._element,this._viewEvents),ft.remove(a,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:u.each(pe._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(t){this[t]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(t){this._autoUpdate=t,t&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var t=this;ft.requestAnimationFrame(function(){if(t._requested=!1,t._animate){t.requestUpdate();var i=t._element;(!nt.getPrefixed(o,"hidden")||p.getAttribute(i,"keepalive")==="true")&&nt.isInView(i)&&t._handleFrame()}t._autoUpdate&&t.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){Ne=this._scope;var t=Date.now()/1e3,i=this._last?t-this._last:0;this._last=t,this.emit("frame",new u({delta:i,time:this._time+=i,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(t,i){var s=this._frameItems;i?(s[t._id]={item:t,time:0,count:0},++this._frameItemCount===1&&this.on("frame",this._handleFrameItems)):(delete s[t._id],--this._frameItemCount===0&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(t){for(var i in this._frameItems){var s=this._frameItems[i];s.item.emit("frame",new u(t,{time:s.time+=t.delta,count:s.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=n},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return this._pixelRatio*72},getViewSize:function(){var t=this._viewSize;return new J(t.width,t.height,this,"setViewSize")},setViewSize:function(){var t=G.read(arguments),i=t.subtract(this._viewSize);i.isZero()||(this._setElementSize(t.width,t.height),this._viewSize.set(t),this._changed(),this.emit("resize",{size:t,delta:i}),this._autoUpdate&&this.update())},_setElementSize:function(t,i){var s=this._element;s&&(s.width!==t&&(s.width=t),s.height!==i&&(s.height=i))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new j(new F,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return nt.isInView(this._element)},isInserted:function(){return nt.isInserted(this._element)},getPixelSize:function(t){var i=this._element,s;if(i){var l=i.parentNode,f=o.createElement("div");f.style.fontSize=t,l.appendChild(f),s=parseFloat(nt.getStyles(f).fontSize),l.removeChild(f)}else s=parseFloat(s);return s},getTextWidth:function(t,i){return 0}},u.each(["rotate","scale","shear","skew"],function(t){var i=t==="rotate";this[t]=function(){var s=arguments,l=(i?u:F).read(s),f=F.read(s,0,{readNull:!0});return this.transform(new re()[t](l,f||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var t=new re;return this.transform(t.translate.apply(t,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var t=F.read(arguments);this.translate(this.getCenter().subtract(t))},getZoom:function(){var t=this._decompose().scaling;return(t.x+t.y)/2},setZoom:function(t){this.transform(new re().scale(t/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(t){var i=this.getRotation();i!=null&&t!=null&&this.rotate(t-i)},getScaling:function(){var t=this._decompose().scaling;return new q(t.x,t.y,this,"setScaling")},setScaling:function(){var t=this.getScaling(),i=F.read(arguments,0,{clone:!0,readNull:!0});t&&i&&this.scale(i.x/t.x,i.y/t.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.set.apply(t,arguments)},transform:function(t){this._matrix.append(t)},scrollBy:function(){this.translate(F.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(F.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(F.read(arguments))},getEventPoint:function(t){return this.viewToProject(ft.getOffset(t,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(t,i){o&&typeof i=="string"&&(i=o.getElementById(i));var s=a?mu:tt;return new s(t,i)}}},new function(){if(!a)return;var t,i,s=!1,l=!1;function f(N){var W=ft.getTarget(N);return W.getAttribute&&tt._viewsById[W.getAttribute("id")]}function c(){var N=tt._focused;if(!N||!N.isVisible()){for(var W=0,X=tt._views.length;W<X;W++)if((N=tt._views[W]).isVisible()){tt._focused=i=N;break}}}function v(N,W,X){N._handleMouseEvent("mousemove",W,X)}var g=a.navigator,m,_,S;g.pointerEnabled||g.msPointerEnabled?(m="pointerdown MSPointerDown",_="pointermove MSPointerMove",S="pointerup pointercancel MSPointerUp MSPointerCancel"):(m="touchstart",_="touchmove",S="touchend touchcancel","ontouchstart"in a&&g.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(m+=" mousedown",_+=" mousemove",S+=" mouseup"));var T={},b={mouseout:function(N){var W=tt._focused,X=ft.getRelatedTarget(N);if(W&&(!X||X.nodeName==="HTML")){var Q=ft.getOffset(N,W._element),K=Q.x,$=Math.abs,le=$(K),he=1<<25,ce=le-he;Q.x=$(ce)<le?ce*(K<0?-1:1):K,v(W,N,W.viewToProject(Q))}},scroll:c};T[m]=function(N){var W=tt._focused=f(N);s||(s=!0,W._handleMouseEvent("mousedown",N))},b[_]=function(N){var W=tt._focused;if(!l){var X=f(N);X?W!==X&&(W&&v(W,N),t||(t=W),W=tt._focused=i=X):i&&i===W&&(t&&!t.isInserted()&&(t=null),W=tt._focused=t,t=null,c())}W&&v(W,N)},b[m]=function(){l=!0},b[S]=function(N){var W=tt._focused;W&&s&&W._handleMouseEvent("mouseup",N),l=s=!1},ft.add(o,b),ft.add(a,{load:c});var x=!1,I=!1,E={doubleclick:"click",mousedrag:"mousemove"},M=!1,w,O,y,A,L,U,P,B;function z(N,W,X,Q,K,$,le){var he=!1,ce;function me(ne,ie){if(ne.responds(ie)){if(ce||(ce=new yu(ie,Q,K,W||ne,$?K.subtract($):null)),ne.emit(ie,ce)&&(x=!0,ce.prevented&&(I=!0),ce.stopped))return he=!0}else{var de=E[ie];if(de)return me(ne,de)}}for(;N&&N!==le&&!me(N,X);)N=N._parent;return he}function H(N,W,X,Q,K,$){return N._project.removeOn(X),I=x=!1,L&&z(L,null,X,Q,K,$)||W&&W!==L&&!W.isDescendant(L)&&z(W,null,X==="mousedrag"?"mousemove":X,Q,K,$,L)||z(N,L||W||N,X,Q,K,$)}var Z={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:T,_handleMouseEvent:function(N,W,X){var Q=this._itemEvents,K=Q.native[N],$=N==="mousemove",le=this._scope.tool,he=this;function ce(Fe){return Q.virtual[Fe]||he.responds(Fe)||le&&le.responds(Fe)}$&&s&&ce("mousedrag")&&(N="mousedrag"),X||(X=this.getEventPoint(W));var me=this.getBounds().contains(X),ne=K&&me&&he._project.hitTest(X,{tolerance:0,fill:!0,stroke:!0}),ie=ne&&ne.item||null,de=!1,ye={};if(ye[N.substr(5)]=!0,K&&ie!==A&&(A&&z(A,null,"mouseleave",W,X),ie&&z(ie,null,"mouseenter",W,X),A=ie),M^me&&(z(this,null,me?"mouseenter":"mouseleave",W,X),de=!0),(me||ye.drag)&&!X.equals(O)&&(H(this,ie,$?N:"mousemove",W,X,O),de=!0),M=me,ye.down&&me||ye.up&&w){if(H(this,ie,N,W,X,w),ye.down){if(B=ie===U&&Date.now()-P<300,y=U=ie,!I&&ie){for(var _e=ie;_e&&!_e.responds("mousedrag");)_e=_e._parent;_e&&(L=ie)}w=X}else ye.up&&(!I&&ie===y&&(P=Date.now(),H(this,ie,B?"doubleclick":"click",W,X,w),B=!1),y=L=null);M=!1,de=!0}O=X,de&&le&&(x=le._handleMouseEvent(N,W,X,ye)||x),W.cancelable!==!1&&(x&&!ye.move||ye.down&&ce("mouseup"))&&W.preventDefault()},_handleKeyEvent:function(N,W,X,Q){var K=this._scope,$=K.tool,le;function he(ce){ce.responds(N)&&(Ne=K,ce.emit(N,le=le||new _u(N,W,X,Q)))}this.isVisible()&&(he(this),$&&$.responds(N)&&he($))},_countItemEvent:function(N,W){var X=this._itemEvents,Q=X.native,K=X.virtual;for(var $ in Z)Q[$]=(Q[$]||0)+(Z[$][N]||0)*W;K[N]=(K[N]||0)+W},statics:{updateFocus:c,_resetState:function(){s=l=x=M=!1,t=i=w=O=y=A=L=U=P=B=null}}}}),mu=tt.extend({_class:"CanvasView",initialize:function(i,s){if(!(s instanceof a.HTMLCanvasElement)){var l=G.read(arguments,1);if(l.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+u.slice(arguments,1));s=ht.getCanvas(l)}var f=this._context=s.getContext("2d");if(f.save(),this._pixelRatio=1,!/^off|false$/.test(p.getAttribute(s,"hidpi"))){var c=a.devicePixelRatio||1,v=nt.getPrefixed(f,"backingStorePixelRatio")||1;this._pixelRatio=c/v}tt.call(this,i,s),this._needsUpdate=!0},remove:function t(){return this._context.restore(),t.base.call(this)},_setElementSize:function t(i,s){var l=this._pixelRatio;if(t.base.call(this,i*l,s*l),l!==1){var f=this._element,c=this._context;if(!p.hasAttribute(f,"resize")){var v=f.style;v.width=i+"px",v.height=s+"px"}c.restore(),c.save(),c.scale(l,l)}},getContext:function(){return this._context},getPixelSize:function t(i){var s=Ne.agent,l;if(s&&s.firefox)l=t.base.call(this,i);else{var f=this._context,c=f.font;f.font=i+" serif",l=parseFloat(f.font),f.font=c}return l},getTextWidth:function(t,i){var s=this._context,l=s.font,f=0;s.font=t;for(var c=0,v=i.length;c<v;c++)f=Math.max(f,s.measureText(i[c]).width);return s.font=l,f},update:function(){if(!this._needsUpdate)return!1;var t=this._project,i=this._context,s=this._viewSize;return i.clearRect(0,0,s.width+1,s.height+1),t&&t.draw(i,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),kn=u.extend({_class:"Event",initialize:function(i){this.event=i,this.type=i&&i.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return _a.modifiers}}),_u=kn.extend({_class:"KeyEvent",initialize:function(i,s,l,f){this.type=i,this.event=s,this.key=l,this.character=f},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),_a=new function(){var t={"	":"tab"," ":"space","\b":"backspace","\x7F":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},i={tab:"	",space:" ",enter:"\r"},s={},l={},f,c,v=new u({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var _=Ne&&Ne.agent;return _&&_.mac?this.meta:this.control}}});function g(_){var S=_.key||_.keyIdentifier;return S=/^U\+/.test(S)?String.fromCharCode(parseInt(S.substr(2),16)):/^Arrow[A-Z]/.test(S)?S.substr(5):S==="Unidentified"||S===n?String.fromCharCode(_.keyCode):S,t[S]||(S.length>1?u.hyphenate(S):S.toLowerCase())}function m(_,S,T,b){var x=tt._focused,I;if(s[S]=_,_?l[S]=T:delete l[S],S.length>1&&(I=u.camelize(S))in v){v[I]=_;var E=Ne&&Ne.agent;if(I==="meta"&&E&&E.mac)if(_)f={};else{for(var M in f)M in l&&m(!1,M,f[M],b);f=null}}else _&&f&&(f[S]=T);x&&x._handleKeyEvent(_?"keydown":"keyup",b,S,T)}return ft.add(o,{keydown:function(_){var S=g(_),T=Ne&&Ne.agent;S.length>1||T&&T.chrome&&(_.altKey||T.mac&&_.metaKey||!T.mac&&_.ctrlKey)?m(!0,S,i[S]||(S.length>1?"":S),_):c=S},keypress:function(_){if(c){var S=g(_),T=_.charCode,b=T>=32?String.fromCharCode(T):S.length>1?"":S;S!==c&&(S=b.toLowerCase()),m(!0,S,b,_),c=null}},keyup:function(_){var S=g(_);S in l&&m(!1,S,l[S],_)}}),ft.add(a,{blur:function(_){for(var S in l)m(!1,S,l[S],_)}}),{modifiers:v,isDown:function(_){return!!s[_]}}},yu=kn.extend({_class:"MouseEvent",initialize:function(i,s,l,f,c){this.type=i,this.event=s,this.point=l,this.target=f,this.delta=c},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),xu=kn.extend({_class:"ToolEvent",_item:null,initialize:function(i,s,l){this.tool=i,this.type=s,this.event=l},_choosePoint:function(t,i){return t||(i?i.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(t){this._point=t},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(t){this._lastPoint=t},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(t){this._downPoint=t},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(t){this._middlePoint=t},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(t){this._delta=t},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(t){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=t},getItem:function(){if(!this._item){var t=this.tool._scope.project.hitTest(this.getPoint());if(t){for(var i=t.item,s=i._parent;/^(Group|CompoundPath)$/.test(s._class);)i=s,s=s._parent;this._item=i}}return this._item},setItem:function(t){this._item=t},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),bu=d.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(i){d.call(this),this._moveCount=-1,this._downCount=-1,this.set(i)},getMinDistance:function(){return this._minDistance},setMinDistance:function(t){this._minDistance=t,t!=null&&this._maxDistance!=null&&t>this._maxDistance&&(this._maxDistance=t)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(t){this._maxDistance=t,this._minDistance!=null&&t!=null&&t<this._minDistance&&(this._minDistance=t)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(t){this._minDistance=this._maxDistance=t},_handleMouseEvent:function(t,i,s,l){Ne=this._scope,l.drag&&!this.responds(t)&&(t="mousemove");var f=l.move||l.drag,c=this.responds(t),v=this.minDistance,g=this.maxDistance,m=!1,_=this;function S(b,x){var I=s,E=f?_._point:_._downPoint||I;if(f){if(_._moveCount>=0&&I.equals(E))return!1;if(E&&(b!=null||x!=null)){var M=I.subtract(E),w=M.getLength();if(w<(b||0))return!1;x&&(I=E.add(M.normalize(Math.min(w,x))))}_._moveCount++}return _._point=I,_._lastPoint=E||I,l.down&&(_._moveCount=-1,_._downPoint=I,_._downCount++),!0}function T(){c&&(m=_.emit(t,new xu(_,t,i))||m)}if(l.down)S(),T();else if(l.up)S(null,g),T();else if(c)for(;S(v,g);)T();return m}}),Su=u.extend(h,{_class:"Tween",statics:{easings:new u({linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:-1+2*(2-t)*t},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}})},initialize:function t(i,s,l,f,c,v){this.object=i;var g=typeof c,m=g==="function";this.type=m?g:g==="string"?c:"linear",this.easing=m?c:t.easings[this.type],this.duration=f,this.running=!1,this._then=null,this._startTime=null;var _=s||l;this._keys=_?Object.keys(_):[],this._parsedKeys=this._parseKeys(this._keys),this._from=_&&this._getState(s),this._to=_&&this._getState(l),v!==!1&&this.start()},then:function(t){return this._then=t,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(t){if(this.running){t>=1&&(t=1,this.running=!1);for(var i=this.easing(t),s=this._keys,l=function(S){return typeof S=="function"?S(i,t):S},f=0,c=s&&s.length;f<c;f++){var v=s[f],g=l(this._from[v]),m=l(this._to[v]),_=g&&m&&g.__add&&m.__add?m.__subtract(g).__multiply(i).__add(g):(m-g)*i+g;this._setProperty(this._parsedKeys[v],_)}this.responds("update")&&this.emit("update",new u({progress:t,factor:i})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(t){var i=this._startTime,s=i?(t-i)/this.duration:0;i||(this._startTime=t),this.update(s)},_getState:function(t){for(var i=this._keys,s={},l=0,f=i.length;l<f;l++){var c=i[l],v=this._parsedKeys[c],g=this._getProperty(v),m;if(t){var _=this._resolveValue(g,t[c]);this._setProperty(v,_),m=this._getProperty(v),m=m&&m.clone?m.clone():m,this._setProperty(v,g)}else m=g&&g.clone?g.clone():g;s[c]=m}return s},_resolveValue:function(t,i){if(i){if(Array.isArray(i)&&i.length===2){var s=i[0];return s&&s.match&&s.match(/^[+\-\*\/]=/)?this._calculate(t,s[0],i[1]):i}else if(typeof i=="string"){var l=i.match(/^[+\-*/]=(.*)/);if(l){var f=JSON.parse(l[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(t,i[0],f)}}}return i},_calculate:function(t,i,s){return Ne.PaperScript.calculateBinary(t,i,s)},_parseKeys:function(t){for(var i={},s=0,l=t.length;s<l;s++){var f=t[s],c=f.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");i[f]=c.split("/")}return i},_getProperty:function(t,i){for(var s=this.object,l=0,f=t.length-(i||0);l<f&&s;l++)s=s[t[l]];return s},_setProperty:function(t,i){var s=this._getProperty(t,1);s&&(s[t[t.length-1]]=i)}}),ya={request:function(t){var i=new r.XMLHttpRequest;return i.open((t.method||"get").toUpperCase(),t.url,u.pick(t.async,!0)),t.mimeType&&i.overrideMimeType(t.mimeType),i.onload=function(){var s=i.status;s===0||s===200?t.onLoad&&t.onLoad.call(i,i.responseText):i.onerror()},i.onerror=function(){var s=i.status,l='Could not load "'+t.url+'" (Status: '+s+")";if(t.onError)t.onError(l,s);else throw new Error(l)},i.send(null)}},ht=u.exports.CanvasProvider={canvases:[],getCanvas:function(t,i){if(!a)return null;var s,l=!0;typeof t=="object"&&(i=t.height,t=t.width),this.canvases.length?s=this.canvases.pop():(s=o.createElement("canvas"),l=!1);var f=s.getContext("2d");if(!f)throw new Error("Canvas "+s+" is unable to provide a 2D context.");return s.width===t&&s.height===i?l&&f.clearRect(0,0,t+1,i+1):(s.width=t,s.height=i),f.save(),s},getContext:function(t,i){var s=this.getCanvas(t,i);return s?s.getContext("2d"):null},release:function(t){var i=t&&t.canvas?t.canvas:t;i&&i.getContext&&(i.getContext("2d").restore(),this.canvases.push(i))}},gi=new function(){var t=Math.min,i=Math.max,s=Math.abs,l,f,c,v,g,m,_,S,T,b,x;function I(L,U,P){return .2989*L+.587*U+.114*P}function E(L,U,P,H){var z=H-I(L,U,P);T=L+z,b=U+z,x=P+z;var H=I(T,b,x),Z=t(T,b,x),N=i(T,b,x);if(Z<0){var W=H-Z;T=H+(T-H)*H/W,b=H+(b-H)*H/W,x=H+(x-H)*H/W}if(N>255){var X=255-H,Q=N-H;T=H+(T-H)*X/Q,b=H+(b-H)*X/Q,x=H+(x-H)*X/Q}}function M(L,U,P){return i(L,U,P)-t(L,U,P)}function w(L,U,P,B){var z=[L,U,P],H=i(L,U,P),Z=t(L,U,P),N;Z=Z===L?0:Z===U?1:2,H=H===L?0:H===U?1:2,N=t(Z,H)===0?i(Z,H)===1?2:1:0,z[H]>z[Z]?(z[N]=(z[N]-z[Z])*B/(z[H]-z[Z]),z[H]=B):z[N]=z[H]=0,z[Z]=0,T=z[0],b=z[1],x=z[2]}var O={multiply:function(){T=g*l/255,b=m*f/255,x=_*c/255},screen:function(){T=g+l-g*l/255,b=m+f-m*f/255,x=_+c-_*c/255},overlay:function(){T=g<128?2*g*l/255:255-2*(255-g)*(255-l)/255,b=m<128?2*m*f/255:255-2*(255-m)*(255-f)/255,x=_<128?2*_*c/255:255-2*(255-_)*(255-c)/255},"soft-light":function(){var L=l*g/255;T=L+g*(255-(255-g)*(255-l)/255-L)/255,L=f*m/255,b=L+m*(255-(255-m)*(255-f)/255-L)/255,L=c*_/255,x=L+_*(255-(255-_)*(255-c)/255-L)/255},"hard-light":function(){T=l<128?2*l*g/255:255-2*(255-l)*(255-g)/255,b=f<128?2*f*m/255:255-2*(255-f)*(255-m)/255,x=c<128?2*c*_/255:255-2*(255-c)*(255-_)/255},"color-dodge":function(){T=g===0?0:l===255?255:t(255,255*g/(255-l)),b=m===0?0:f===255?255:t(255,255*m/(255-f)),x=_===0?0:c===255?255:t(255,255*_/(255-c))},"color-burn":function(){T=g===255?255:l===0?0:i(0,255-(255-g)*255/l),b=m===255?255:f===0?0:i(0,255-(255-m)*255/f),x=_===255?255:c===0?0:i(0,255-(255-_)*255/c)},darken:function(){T=g<l?g:l,b=m<f?m:f,x=_<c?_:c},lighten:function(){T=g>l?g:l,b=m>f?m:f,x=_>c?_:c},difference:function(){T=g-l,T<0&&(T=-T),b=m-f,b<0&&(b=-b),x=_-c,x<0&&(x=-x)},exclusion:function(){T=g+l*(255-g-g)/255,b=m+f*(255-m-m)/255,x=_+c*(255-_-_)/255},hue:function(){w(l,f,c,M(g,m,_)),E(T,b,x,I(g,m,_))},saturation:function(){w(g,m,_,M(l,f,c)),E(T,b,x,I(g,m,_))},luminosity:function(){E(g,m,_,I(l,f,c))},color:function(){E(l,f,c,I(g,m,_))},add:function(){T=t(g+l,255),b=t(m+f,255),x=t(_+c,255)},subtract:function(){T=i(g-l,0),b=i(m-f,0),x=i(_-c,0)},average:function(){T=(g+l)/2,b=(m+f)/2,x=(_+c)/2},negation:function(){T=255-s(255-l-g),b=255-s(255-f-m),x=255-s(255-c-_)}},y=this.nativeModes=u.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(L){this[L]=!0},{}),A=ht.getContext(1,1);A&&(u.each(O,function(L,U){var P=U==="darken",B=!1;A.save();try{A.fillStyle=P?"#300":"#a00",A.fillRect(0,0,1,1),A.globalCompositeOperation=U,A.globalCompositeOperation===U&&(A.fillStyle=P?"#a00":"#300",A.fillRect(0,0,1,1),B=A.getImageData(0,0,1,1).data[0]!==P?170:51)}catch{}A.restore(),y[U]=B}),ht.release(A)),this.process=function(L,U,P,B,z){var H=U.canvas,Z=L==="normal";if(Z||y[L])P.save(),P.setTransform(1,0,0,1,0,0),P.globalAlpha=B,Z||(P.globalCompositeOperation=L),P.drawImage(H,z.x,z.y),P.restore();else{var N=O[L];if(!N)return;for(var W=P.getImageData(z.x,z.y,H.width,H.height),X=W.data,Q=U.getImageData(0,0,H.width,H.height).data,K=0,$=X.length;K<$;K+=4){l=Q[K],g=X[K],f=Q[K+1],m=X[K+1],c=Q[K+2],_=X[K+2],v=Q[K+3],S=X[K+3],N();var le=v*B/255,he=1-le;X[K]=le*T+he*g,X[K+1]=le*b+he*m,X[K+2]=le*x+he*_,X[K+3]=v*B+he*S}P.putImageData(W,z.x,z.y)}}},it=new function(){var t="http://www.w3.org/2000/svg",i="http://www.w3.org/2000/xmlns",s="http://www.w3.org/1999/xlink",l={href:s,xlink:i,xmlns:i+"/","xmlns:xlink":i+"/"};function f(g,m,_){return v(o.createElementNS(t,g),m,_)}function c(g,m){var _=l[m],S=_?g.getAttributeNS(_,m):g.getAttribute(m);return S==="null"?null:S}function v(g,m,_){for(var S in m){var T=m[S],b=l[S];typeof T=="number"&&_&&(T=_.number(T)),b?g.setAttributeNS(b,S,T):g.setAttribute(S,T)}return g}return{svg:t,xmlns:i,xlink:s,create:f,get:c,set:v}},xa=u.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(t,i){return!i&&(t instanceof We||t instanceof Re||t instanceof xt)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(t,i){var s=u.capitalize(i),l=t[2];this[i]={type:t[1],property:i,attribute:t[0],toSVG:l,fromSVG:l&&u.each(l,function(f,c){this[f]=c},{}),exportFilter:t[3],get:"get"+s,set:"set"+s}},{});new function(){var t;function i(O,y,A){var L=new u,U=O.getTranslation();if(y){var P;O.isInvertible()?(O=O._shiftless(),P=O._inverseTransform(U),U=null):P=new F,L[A?"cx":"x"]=P.x,L[A?"cy":"y"]=P.y}if(!O.isIdentity()){var B=O.decompose();if(B){var z=[],H=B.rotation,Z=B.scaling,N=B.skewing;U&&!U.isZero()&&z.push("translate("+t.point(U)+")"),H&&z.push("rotate("+t.number(H)+")"),(!R.isZero(Z.x-1)||!R.isZero(Z.y-1))&&z.push("scale("+t.point(Z)+")"),N.x&&z.push("skewX("+t.number(N.x)+")"),N.y&&z.push("skewY("+t.number(N.y)+")"),L.transform=z.join(" ")}else L.transform="matrix("+O.getValues().join(",")+")"}return L}function s(O,y){for(var A=i(O._matrix),L=O._children,U=it.create("g",A,t),P=0,B=L.length;P<B;P++){var z=L[P],H=M(z,y);if(H)if(z.isClipMask()){var Z=it.create("clipPath");Z.appendChild(H),I(z,Z,"clip"),it.set(U,{"clip-path":"url(#"+Z.id+")"})}else U.appendChild(H)}return U}function l(O,y){var A=i(O._matrix,!0),L=O.getSize(),U=O.getImage();return A.x-=L.width/2,A.y-=L.height/2,A.width=L.width,A.height=L.height,A.href=y.embedImages==!1&&U&&U.src||O.toDataURL(),it.create("image",A,t)}function f(O,y){var A=y.matchShapes;if(A){var L=O.toShape(!1);if(L)return c(L)}var U=O._segments,P=U.length,B,z=i(O._matrix);if(A&&P>=2&&!O.hasHandles())if(P>2){B=O._closed?"polygon":"polyline";for(var H=[],Z=0;Z<P;Z++)H.push(t.point(U[Z]._point));z.points=H.join(" ")}else{B="line";var N=U[0]._point,W=U[1]._point;z.set({x1:N.x,y1:N.y,x2:W.x,y2:W.y})}else B="path",z.d=O.getPathData(null,y.precision);return it.create(B,z,t)}function c(O){var y=O._type,A=O._radius,L=i(O._matrix,!0,y!=="rectangle");if(y==="rectangle"){y="rect";var U=O._size,P=U.width,B=U.height;L.x-=P/2,L.y-=B/2,L.width=P,L.height=B,A.isZero()&&(A=null)}return A&&(y==="circle"?L.r=A:(L.rx=A.width,L.ry=A.height)),it.create(y,L,t)}function v(O,y){var A=i(O._matrix),L=O.getPathData(null,y.precision);return L&&(A.d=L),it.create("path",A,t)}function g(O,y){var A=i(O._matrix,!0),L=O._definition,U=x(L,"symbol"),P=L._item,B=P.getStrokeBounds();return U||(U=it.create("symbol",{viewBox:t.rectangle(B)}),U.appendChild(M(P,y)),I(L,U,"symbol")),A.href="#"+U.id,A.x+=B.x,A.y+=B.y,A.width=B.width,A.height=B.height,A.overflow="visible",it.create("use",A,t)}function m(O){var y=x(O,"color");if(!y){var A=O.getGradient(),L=A._radial,U=O.getOrigin(),P=O.getDestination(),B;if(L){B={cx:U.x,cy:U.y,r:U.getDistance(P)};var z=O.getHighlight();z&&(B.fx=z.x,B.fy=z.y)}else B={x1:U.x,y1:U.y,x2:P.x,y2:P.y};B.gradientUnits="userSpaceOnUse",y=it.create((L?"radial":"linear")+"Gradient",B,t);for(var H=A._stops,Z=0,N=H.length;Z<N;Z++){var W=H[Z],X=W._color,Q=X.getAlpha(),K=W._offset;B={offset:K==null?Z/(N-1):K},X&&(B["stop-color"]=X.toCSS(!0)),Q<1&&(B["stop-opacity"]=Q),y.appendChild(it.create("stop",B,t))}I(O,y,"color")}return"url(#"+y.id+")"}function _(O){var y=it.create("text",i(O._matrix,!0),t);return y.textContent=O._content,y}var S={Group:s,Layer:s,Raster:l,Path:f,Shape:c,CompoundPath:v,SymbolItem:g,PointText:_};function T(O,y,A){var L={},U=!A&&O.getParent(),P=[];return O._name!=null&&(L.id=O._name),u.each(xa,function(B){var z=B.get,H=B.type,Z=O[z]();if(B.exportFilter?B.exportFilter(O,Z):!U||!u.equals(U[z](),Z)){if(H==="color"&&Z!=null){var N=Z.getAlpha();N<1&&(L[B.attribute+"-opacity"]=N)}H==="style"?P.push(B.attribute+": "+Z):L[B.attribute]=Z==null?"none":H==="color"?Z.gradient?m(Z):Z.toCSS(!0):H==="array"?Z.join(","):H==="lookup"?B.toSVG[Z]:Z}}),P.length&&(L.style=P.join(";")),L.opacity===1&&delete L.opacity,O._visible||(L.visibility="hidden"),it.set(y,L,t)}var b;function x(O,y){return b||(b={ids:{},svgs:{}}),O&&b.svgs[y+"-"+(O._id||O.__id||(O.__id=D.get("svg")))]}function I(O,y,A){b||x();var L=b.ids[A]=(b.ids[A]||0)+1;y.id=A+"-"+L,b.svgs[A+"-"+(O._id||O.__id)]=y}function E(O,y){var A=O,L=null;if(b){A=O.nodeName.toLowerCase()==="svg"&&O;for(var U in b.svgs)L||(A||(A=it.create("svg"),A.appendChild(O)),L=A.insertBefore(it.create("defs"),A.firstChild)),L.appendChild(b.svgs[U]);b=null}return y.asString?new r.XMLSerializer().serializeToString(A):A}function M(O,y,A){var L=S[O._class],U=L&&L(O,y);if(U){var P=y.onExport;P&&(U=P(O,U,y)||U);var B=JSON.stringify(O._data);B&&B!=="{}"&&B!=="null"&&U.setAttribute("data-paper-data",B)}return U&&T(O,U,A)}function w(O){return O||(O={}),t=new C(O.precision),O}pe.inject({exportSVG:function(O){return O=w(O),E(M(this,O,!0),O)}}),fe.inject({exportSVG:function(O){O=w(O);var y=this._children,A=this.getView(),L=u.pick(O.bounds,"view"),U=O.matrix||L==="view"&&A._matrix,P=U&&re.read([U]),B=L==="view"?new j([0,0],A.getViewSize()):L==="content"?pe._getBounds(y,P,{stroke:!0}).rect:j.read([L],0,{readNull:!0}),z={version:"1.1",xmlns:it.svg,"xmlns:xlink":it.xlink};B&&(z.width=B.width,z.height=B.height,(B.x||B.x===0||B.y||B.y===0)&&(z.viewBox=t.rectangle(B)));var H=it.create("svg",z,t),Z=H;P&&!P.isIdentity()&&(Z=H.appendChild(it.create("g",i(P),t)));for(var N=0,W=y.length;N<W;N++)Z.appendChild(M(y[N],O,!0));return E(H,O)}})},new function(){var t={},i;function s(y,A,L,U,P,B){var z=it.get(y,A)||B,H=z==null?U?null:L?"":0:L?z:parseFloat(z);return/%\s*$/.test(z)?H/100*(P?1:i[/x|^width/.test(A)?"width":"height"]):H}function l(y,A,L,U,P,B,z){return A=s(y,A||"x",!1,U,P,B),L=s(y,L||"y",!1,U,P,z),U&&(A==null||L==null)?null:new F(A,L)}function f(y,A,L,U,P){return A=s(y,A||"width",!1,U,P),L=s(y,L||"height",!1,U,P),U&&(A==null||L==null)?null:new G(A,L)}function c(y,A,L){return y==="none"?null:A==="number"?parseFloat(y):A==="array"?y?y.split(/[\s,]+/g).map(parseFloat):[]:A==="color"?M(y)||y:A==="lookup"?L[y]:y}function v(y,A,L,U){var P=y.childNodes,B=A==="clippath",z=A==="defs",H=new Ce,Z=H._project,N=Z._currentStyle,W=[];if(!B&&!z&&(H=E(H,y,U),Z._currentStyle=H._style.clone()),U)for(var X=y.querySelectorAll("defs"),Q=0,K=X.length;Q<K;Q++)w(X[Q],L,!1);for(var Q=0,K=P.length;Q<K;Q++){var $=P[Q],le;$.nodeType===1&&!/^defs$/i.test($.nodeName)&&(le=w($,L,!1))&&!(le instanceof Je)&&W.push(le)}return H.addChildren(W),B&&(H=E(H.reduce(),y,U)),Z._currentStyle=N,(B||z)&&(H.remove(),H=null),H}function g(y,A){for(var L=y.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),U=[],P=0,B=L.length;P<B;P+=2)U.push(new F(parseFloat(L[P]),parseFloat(L[P+1])));var z=new Te(U);return A==="polygon"&&z.closePath(),z}function m(y){return We.create(y.getAttribute("d"))}function _(y,A){var L=(s(y,"href",!0)||"").substring(1),U=A==="radialgradient",P;if(L)P=t[L].getGradient(),P._radial^U&&(P=P.clone(),P._radial=U);else{for(var B=y.childNodes,z=[],H=0,Z=B.length;H<Z;H++){var N=B[H];N.nodeType===1&&z.push(E(new Ur,N))}P=new Lt(z,U)}var W,X,Q,K=s(y,"gradientUnits",!0)!=="userSpaceOnUse";U?(W=l(y,"cx","cy",!1,K,"50%","50%"),X=W.add(s(y,"r",!1,!1,K,"50%"),0),Q=l(y,"fx","fy",!0,K)):(W=l(y,"x1","y1",!1,K,"0%","0%"),X=l(y,"x2","y2",!1,K,"100%","0%"));var $=E(new $e(P,W,X,Q),y);return $._scaleToBounds=K,null}var S={"#document":function(y,A,L,U){for(var P=y.childNodes,B=0,z=P.length;B<z;B++){var H=P[B];if(H.nodeType===1)return w(H,L,U)}},g:v,svg:v,clippath:v,polygon:g,polyline:g,path:m,lineargradient:_,radialgradient:_,image:function(y){var A=new Ke(s(y,"href",!0));return A.on("load",function(){var L=f(y);this.setSize(L);var U=l(y).add(L.divide(2));this._matrix.append(new re().translate(U))}),A},symbol:function(y,A,L,U){return new Je(v(y,A,L,U),!0)},defs:v,use:function(y){var A=(s(y,"href",!0)||"").substring(1),L=t[A],U=l(y);return L?L instanceof Je?L.place(U):L.clone().translate(U):null},circle:function(y){return new Re.Circle(l(y,"cx","cy"),s(y,"r"))},ellipse:function(y){return new Re.Ellipse({center:l(y,"cx","cy"),radius:f(y,"rx","ry")})},rect:function(y){return new Re.Rectangle(new j(l(y),f(y)),f(y,"rx","ry"))},line:function(y){return new Te.Line(l(y,"x1","y1"),l(y,"x2","y2"))},text:function(y){var A=new yr(l(y).add(l(y,"dx","dy")));return A.setContent(y.textContent.trim()||""),A},switch:v};function T(y,A,L,U){if(y.transform){for(var P=(U.getAttribute(L)||"").split(/\)\s*/g),B=new re,z=0,H=P.length;z<H;z++){var Z=P[z];if(!Z)break;for(var N=Z.split(/\(\s*/),W=N[0],X=N[1].split(/[\s,]+/g),Q=0,K=X.length;Q<K;Q++)X[Q]=parseFloat(X[Q]);switch(W){case"matrix":B.append(new re(X[0],X[1],X[2],X[3],X[4],X[5]));break;case"rotate":B.rotate(X[0],X[1]||0,X[2]||0);break;case"translate":B.translate(X[0],X[1]||0);break;case"scale":B.scale(X);break;case"skewX":B.skew(X[0],0);break;case"skewY":B.skew(0,X[0]);break}}y.transform(B)}}function b(y,A,L){var U=L==="fill-opacity"?"getFillColor":"getStrokeColor",P=y[U]&&y[U]();P&&P.setAlpha(parseFloat(A))}var x=u.set(u.each(xa,function(y){this[y.attribute]=function(A,L){if(A[y.set]&&(A[y.set](c(L,y.type,y.fromSVG)),y.type==="color")){var U=A[y.get]();if(U&&U._scaleToBounds){var P=A.getBounds();U.transform(new re().translate(P.getPoint()).scale(P.getSize()))}}}},{}),{id:function(y,A){t[A]=y,y.setName&&y.setName(A)},"clip-path":function(y,A){var L=M(A);if(L)if(L=L.clone(),L.setClipMask(!0),y instanceof Ce)y.insertChild(0,L);else return new Ce(L,y)},gradientTransform:T,transform:T,"fill-opacity":b,"stroke-opacity":b,visibility:function(y,A){y.setVisible&&y.setVisible(A==="visible")},display:function(y,A){y.setVisible&&y.setVisible(A!==null)},"stop-color":function(y,A){y.setColor&&y.setColor(A)},"stop-opacity":function(y,A){y._color&&y._color.setAlpha(parseFloat(A))},offset:function(y,A){if(y.setOffset){var L=A.match(/(.*)%$/);y.setOffset(L?L[1]/100:parseFloat(A))}},viewBox:function(y,A,L,U,P){var B=new j(c(A,"array")),z=f(U,null,null,!0),H,Z;if(y instanceof Ce){var N=z?z.divide(B.getSize()):1,Z=new re().scale(N).translate(B.getPoint().negate());H=y}else y instanceof Je&&(z&&B.setSize(z),H=y._item);if(H){if(I(U,"overflow",P)!=="visible"){var W=new Re.Rectangle(B);W.setClipMask(!0),H.addChild(W)}Z&&H.transform(Z)}}});function I(y,A,L){var U=y.attributes[A],P=U&&U.value;if(!P&&y.style){var B=u.camelize(A);P=y.style[B],!P&&L.node[B]!==L.parent[B]&&(P=L.node[B])}return P?P==="none"?null:P:n}function E(y,A,L){var U=A.parentNode,P={node:nt.getStyles(A)||{},parent:!L&&!/^defs$/i.test(U.tagName)&&nt.getStyles(U)||{}};return u.each(x,function(B,z){var H=I(A,z,P);y=H!==n&&B(y,H,z,A,P)||y}),y}function M(y){var A=y&&y.match(/\((?:["'#]*)([^"')]+)/),L=A&&A[1],U=L&&t[a?L.replace(a.location.href.split("#")[0]+"#",""):L];return U&&U._scaleToBounds&&(U=U.clone(),U._scaleToBounds=!0),U}function w(y,A,L){var U=y.nodeName.toLowerCase(),P=U!=="#document",B=o.body,z,H,Z;L&&P&&(i=Ne.getView().getSize(),i=f(y,null,null,!0)||i,z=it.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),H=y.parentNode,Z=y.nextSibling,z.appendChild(y),B.appendChild(z));var N=Ne.settings,W=N.applyMatrix,X=N.insertItems;N.applyMatrix=!1,N.insertItems=!1;var Q=S[U],K=Q&&Q(y,U,A,L)||null;if(N.insertItems=X,N.applyMatrix=W,K){P&&!(K instanceof Ce)&&(K=E(K,y,L));var $=A.onImport,le=P&&y.getAttribute("data-paper-data");$&&(K=$(y,K,A)||K),A.expandShapes&&K instanceof Re&&(K.remove(),K=K.toPath()),le&&(K._data=JSON.parse(le))}return z&&(B.removeChild(z),H&&(Z?H.insertBefore(y,Z):H.appendChild(y))),L&&(t={},K&&u.pick(A.applyMatrix,W)&&K.matrix.apply(!0,!0)),K}function O(y,A,L){if(!y)return null;A=typeof A=="function"?{onLoad:A}:A||{};var U=Ne,P=null;function B(N){try{var W=typeof N=="object"?N:new r.DOMParser().parseFromString(N.trim(),"image/svg+xml");if(!W.nodeName)throw W=null,new Error("Unsupported SVG source: "+y);Ne=U,P=w(W,A,!0),(!A||A.insert!==!1)&&L._insertItem(n,P);var X=A.onLoad;X&&X(P,N)}catch(Q){z(Q)}}function z(N,W){var X=A.onError;if(X)X(N,W);else throw new Error(N)}if(typeof y=="string"&&!/^[\s\S]*</.test(y)){var H=o.getElementById(y);H?B(H):ya.request({url:y,async:!0,onLoad:B,onError:z})}else if(typeof File!="undefined"&&y instanceof File){var Z=new FileReader;return Z.onload=function(){B(Z.result)},Z.onerror=function(){z(Z.error)},Z.readAsText(y)}else B(y);return P}pe.inject({importSVG:function(y,A){return O(y,A,this)}}),fe.inject({importSVG:function(y,A){return this.activate(),O(y,A,this)}})},u.exports.PaperScript=function(){var t=this,i=t.acorn;if(!i&&typeof ml!="undefined")try{i=require("acorn")}catch{}if(!i){var s,l;i=s=l={},function(E,M){if(typeof s=="object"&&typeof l=="object")return M(s);if(typeof n=="function"&&n.amd)return n(["exports"],M);M(E.acorn||(E.acorn={}))}(this,function(E){E.version="0.5.0";var M,w,O,y;E.parse=function(V,Y){return w=String(V),O=w.length,L(Y),Ma(),Qu(M.program)};var A=E.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function L(V){M=V||{};for(var Y in A)Object.prototype.hasOwnProperty.call(M,Y)||(M[Y]=A[Y]);y=M.sourceFile||null}var U=E.getLineInfo=function(V,Y){for(var te=1,ae=0;;){Br.lastIndex=ae;var Ee=Br.exec(V);if(Ee&&Ee.index<Y)++te,ae=Ee.index+Ee[0].length;else break}return{line:te,column:Y-ae}};E.tokenize=function(V,Y){w=String(V),O=w.length,L(Y),Ma();var te={};function ae(Ee){return le=z,wr(Ee),te.start=B,te.end=z,te.startLoc=H,te.endLoc=Z,te.type=N,te.value=W,te}return ae.jumpTo=function(Ee,Oe){if(P=Ee,M.locations){Q=1,K=Br.lastIndex=0;for(var Ue;(Ue=Br.exec(w))&&Ue.index<Ee;)++Q,K=Ue.index+Ue[0].length}X=Oe,Nr()},ae};var P,B,z,H,Z,N,W,X,Q,K,$,le,he,ce,me,ne;function ie(V,Y){var te=U(w,V);Y+=" ("+te.line+":"+te.column+")";var ae=new SyntaxError(Y);throw ae.pos=V,ae.loc=te,ae.raisedAt=P,ae}var de=[],ye={type:"num"},_e={type:"regexp"},Fe={type:"string"},ke={type:"name"},Me={type:"eof"},De={keyword:"break"},Pe={keyword:"case",beforeExpr:!0},ct={keyword:"catch"},dt={keyword:"continue"},_t={keyword:"debugger"},at={keyword:"default"},Xe={keyword:"do",isLoop:!0},st={keyword:"else",beforeExpr:!0},wt={keyword:"finally"},pt={keyword:"for",isLoop:!0},Ot={keyword:"function"},ur={keyword:"if"},It={keyword:"return",beforeExpr:!0},Mt={keyword:"switch"},Ct={keyword:"throw",beforeExpr:!0},kt={keyword:"try"},lr={keyword:"var"},Ut={keyword:"while",isLoop:!0},Fn={keyword:"with"},ba={keyword:"new",beforeExpr:!0},Sa={keyword:"this"},wa={keyword:"null",atomValue:null},Ca={keyword:"true",atomValue:!0},Ta={keyword:"false",atomValue:!1},En={keyword:"in",binop:7,beforeExpr:!0},vi={break:De,case:Pe,catch:ct,continue:dt,debugger:_t,default:at,do:Xe,else:st,finally:wt,for:pt,function:Ot,if:ur,return:It,switch:Mt,throw:Ct,try:kt,var:lr,while:Ut,with:Fn,null:wa,true:Ca,false:Ta,new:ba,in:En,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:Sa,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},An={type:"[",beforeExpr:!0},On={type:"]"},Dr={type:"{",beforeExpr:!0},xr={type:"}"},Wt={type:"(",beforeExpr:!0},Dt={type:")"},Kt={type:",",beforeExpr:!0},Zt={type:";",beforeExpr:!0},Rr={type:":",beforeExpr:!0},mi={type:"."},_i={type:"?",beforeExpr:!0},yi={binop:10,beforeExpr:!0},xi={isAssign:!0,beforeExpr:!0},br={isAssign:!0,beforeExpr:!0},wu={postfix:!0,prefix:!0,isUpdate:!0},ka={prefix:!0,beforeExpr:!0},Fa={binop:1,beforeExpr:!0},Ea={binop:2,beforeExpr:!0},Cu={binop:3,beforeExpr:!0},Tu={binop:4,beforeExpr:!0},ku={binop:5,beforeExpr:!0},Fu={binop:6,beforeExpr:!0},Eu={binop:7,beforeExpr:!0},Au={binop:8,beforeExpr:!0},Ou={binop:9,prefix:!0,beforeExpr:!0},Pu={binop:10,beforeExpr:!0};E.tokTypes={bracketL:An,bracketR:On,braceL:Dr,braceR:xr,parenL:Wt,parenR:Dt,comma:Kt,semi:Zt,colon:Rr,dot:mi,question:_i,slash:yi,eq:xi,name:ke,eof:Me,num:ye,regexp:_e,string:Fe};for(var Aa in vi)E.tokTypes["_"+Aa]=vi[Aa];function en(V){V=V.split(" ");var Y="",te=[];e:for(var ae=0;ae<V.length;++ae){for(var Ee=0;Ee<te.length;++Ee)if(te[Ee][0].length==V[ae].length){te[Ee].push(V[ae]);continue e}te.push([V[ae]])}function Oe(qe){if(qe.length==1)return Y+="return str === "+JSON.stringify(qe[0])+";";Y+="switch(str){";for(var Bt=0;Bt<qe.length;++Bt)Y+="case "+JSON.stringify(qe[Bt])+":";Y+="return true}return false;"}if(te.length>3){te.sort(function(qe,Bt){return Bt.length-qe.length}),Y+="switch(str.length){";for(var ae=0;ae<te.length;++ae){var Ue=te[ae];Y+="case "+Ue[0].length+":",Oe(Ue)}Y+="}"}else Oe(V);return new Function("str",Y)}var Lu=en("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),Iu=en("class enum extends super const export import"),Oa=en("implements interface let package private protected public static yield"),Pn=en("eval arguments"),Mu=en("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),Uu=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Pa="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F0\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",Du="\u0300-\u036F\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u0620-\u0649\u0672-\u06D3\u06E7-\u06E8\u06FB-\u06FC\u0730-\u074A\u0800-\u0814\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0840-\u0857\u08E4-\u08FE\u0900-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962-\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09D7\u09DF-\u09E0\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5F-\u0B60\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C01-\u0C03\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62-\u0C63\u0C66-\u0C6F\u0C82\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2-\u0CE3\u0CE6-\u0CEF\u0D02\u0D03\u0D46-\u0D48\u0D57\u0D62-\u0D63\u0D66-\u0D6F\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E34-\u0E3A\u0E40-\u0E45\u0E50-\u0E59\u0EB4-\u0EB9\u0EC8-\u0ECD\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F41-\u0F47\u0F71-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1029\u1040-\u1049\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u170E-\u1710\u1720-\u1730\u1740-\u1750\u1772\u1773\u1780-\u17B2\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1920-\u192B\u1930-\u193B\u1951-\u196D\u19B0-\u19C0\u19C8-\u19C9\u19D0-\u19D9\u1A00-\u1A15\u1A20-\u1A53\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1B46-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C00-\u1C22\u1C40-\u1C49\u1C5B-\u1C7D\u1CD0-\u1CD2\u1D00-\u1DBE\u1E01-\u1F15\u200C\u200D\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2D81-\u2D96\u2DE0-\u2DFF\u3021-\u3028\u3099\u309A\uA640-\uA66D\uA674-\uA67D\uA69F\uA6F0-\uA6F1\uA7F8-\uA800\uA806\uA80B\uA823-\uA827\uA880-\uA881\uA8B4-\uA8C4\uA8D0-\uA8D9\uA8F3-\uA8F7\uA900-\uA909\uA926-\uA92D\uA930-\uA945\uA980-\uA983\uA9B3-\uA9C0\uAA00-\uAA27\uAA40-\uAA41\uAA4C-\uAA4D\uAA50-\uAA59\uAA7B\uAAE0-\uAAE9\uAAF2-\uAAF3\uABC0-\uABE1\uABEC\uABED\uABF0-\uABF9\uFB20-\uFB28\uFE00-\uFE0F\uFE20-\uFE26\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F",La=new RegExp("["+Pa+"]"),Ru=new RegExp("["+Pa+Du+"]"),Ln=/[\n\r\u2028\u2029]/,Br=/\r\n|[\n\r\u2028\u2029]/g,In=E.isIdentifierStart=function(V){return V<65?V===36:V<91?!0:V<97?V===95:V<123?!0:V>=170&&La.test(String.fromCharCode(V))},Ia=E.isIdentifierChar=function(V){return V<48?V===36:V<58?!0:V<65?!1:V<91?!0:V<97?V===95:V<123?!0:V>=170&&Ru.test(String.fromCharCode(V))};function Sr(){this.line=Q,this.column=P-K}function Ma(){Q=1,P=K=0,X=!0,Nr()}function gt(V,Y){z=P,M.locations&&(Z=new Sr),N=V,Nr(),W=Y,X=V.beforeExpr}function Bu(){var V=M.onComment&&M.locations&&new Sr,Y=P,te=w.indexOf("*/",P+=2);if(te===-1&&ie(P-2,"Unterminated comment"),P=te+2,M.locations){Br.lastIndex=Y;for(var ae;(ae=Br.exec(w))&&ae.index<P;)++Q,K=ae.index+ae[0].length}M.onComment&&M.onComment(!0,w.slice(Y+2,te),Y,P,V,M.locations&&new Sr)}function bi(){for(var V=P,Y=M.onComment&&M.locations&&new Sr,te=w.charCodeAt(P+=2);P<O&&te!==10&&te!==13&&te!==8232&&te!==8233;)++P,te=w.charCodeAt(P);M.onComment&&M.onComment(!1,w.slice(V+2,P),V,P,Y,M.locations&&new Sr)}function Nr(){for(;P<O;){var V=w.charCodeAt(P);if(V===32)++P;else if(V===13){++P;var Y=w.charCodeAt(P);Y===10&&++P,M.locations&&(++Q,K=P)}else if(V===10||V===8232||V===8233)++P,M.locations&&(++Q,K=P);else if(V>8&&V<14)++P;else if(V===47){var Y=w.charCodeAt(P+1);if(Y===42)Bu();else if(Y===47)bi();else break}else if(V===160)++P;else if(V>=5760&&Uu.test(String.fromCharCode(V)))++P;else break}}function Nu(){var V=w.charCodeAt(P+1);return V>=48&&V<=57?Da(!0):(++P,gt(mi))}function zu(){var V=w.charCodeAt(P+1);return X?(++P,Ua()):V===61?vt(br,2):vt(yi,1)}function Gu(){var V=w.charCodeAt(P+1);return V===61?vt(br,2):vt(Pu,1)}function Hu(V){var Y=w.charCodeAt(P+1);return Y===V?vt(V===124?Fa:Ea,2):Y===61?vt(br,2):vt(V===124?Cu:ku,1)}function Vu(){var V=w.charCodeAt(P+1);return V===61?vt(br,2):vt(Tu,1)}function qu(V){var Y=w.charCodeAt(P+1);return Y===V?Y==45&&w.charCodeAt(P+2)==62&&Ln.test(w.slice(le,P))?(P+=3,bi(),Nr(),wr()):vt(wu,2):Y===61?vt(br,2):vt(Ou,1)}function Wu(V){var Y=w.charCodeAt(P+1),te=1;return Y===V?(te=V===62&&w.charCodeAt(P+2)===62?3:2,w.charCodeAt(P+te)===61?vt(br,te+1):vt(Au,te)):Y==33&&V==60&&w.charCodeAt(P+2)==45&&w.charCodeAt(P+3)==45?(P+=4,bi(),Nr(),wr()):(Y===61&&(te=w.charCodeAt(P+2)===61?3:2),vt(Eu,te))}function Zu(V){var Y=w.charCodeAt(P+1);return Y===61?vt(Fu,w.charCodeAt(P+2)===61?3:2):vt(V===61?xi:ka,1)}function Xu(V){switch(V){case 46:return Nu();case 40:return++P,gt(Wt);case 41:return++P,gt(Dt);case 59:return++P,gt(Zt);case 44:return++P,gt(Kt);case 91:return++P,gt(An);case 93:return++P,gt(On);case 123:return++P,gt(Dr);case 125:return++P,gt(xr);case 58:return++P,gt(Rr);case 63:return++P,gt(_i);case 48:var Y=w.charCodeAt(P+1);if(Y===120||Y===88)return Yu();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return Da(!1);case 34:case 39:return ju(V);case 47:return zu();case 37:case 42:return Gu();case 124:case 38:return Hu(V);case 94:return Vu();case 43:case 45:return qu(V);case 60:case 62:return Wu(V);case 61:case 33:return Zu(V);case 126:return vt(ka,1)}return!1}function wr(V){if(V?P=B+1:B=P,M.locations&&(H=new Sr),V)return Ua();if(P>=O)return gt(Me);var Y=w.charCodeAt(P);if(In(Y)||Y===92)return Ba();var te=Xu(Y);if(te===!1){var ae=String.fromCharCode(Y);if(ae==="\\"||La.test(ae))return Ba();ie(P,"Unexpected character '"+ae+"'")}return te}function vt(V,Y){var te=w.slice(P,P+Y);P+=Y,gt(V,te)}function Ua(){for(var Ee="",V,Y,te=P;;){P>=O&&ie(te,"Unterminated regular expression");var ae=w.charAt(P);if(Ln.test(ae)&&ie(te,"Unterminated regular expression"),V)V=!1;else{if(ae==="[")Y=!0;else if(ae==="]"&&Y)Y=!1;else if(ae==="/"&&!Y)break;V=ae==="\\"}++P}var Ee=w.slice(te,P);++P;var Oe=Ra();Oe&&!/^[gmsiy]*$/.test(Oe)&&ie(te,"Invalid regexp flag");try{var Ue=new RegExp(Ee,Oe)}catch(qe){qe instanceof SyntaxError&&ie(te,qe.message),ie(qe)}return gt(_e,Ue)}function tn(V,Y){for(var te=P,ae=0,Ee=0,Oe=Y==null?1/0:Y;Ee<Oe;++Ee){var Ue=w.charCodeAt(P),qe;if(Ue>=97?qe=Ue-97+10:Ue>=65?qe=Ue-65+10:Ue>=48&&Ue<=57?qe=Ue-48:qe=1/0,qe>=V)break;++P,ae=ae*V+qe}return P===te||Y!=null&&P-te!==Y?null:ae}function Yu(){P+=2;var V=tn(16);return V==null&&ie(B+2,"Expected hexadecimal number"),In(w.charCodeAt(P))&&ie(P,"Identifier directly after number"),gt(ye,V)}function Da(V){var Y=P,te=!1,ae=w.charCodeAt(P)===48;!V&&tn(10)===null&&ie(Y,"Invalid number"),w.charCodeAt(P)===46&&(++P,tn(10),te=!0);var Ee=w.charCodeAt(P);(Ee===69||Ee===101)&&(Ee=w.charCodeAt(++P),(Ee===43||Ee===45)&&++P,tn(10)===null&&ie(Y,"Invalid number"),te=!0),In(w.charCodeAt(P))&&ie(P,"Identifier directly after number");var Oe=w.slice(Y,P),Ue;return te?Ue=parseFloat(Oe):!ae||Oe.length===1?Ue=parseInt(Oe,10):/[89]/.test(Oe)||ne?ie(Y,"Invalid number"):Ue=parseInt(Oe,8),gt(ye,Ue)}function ju(V){P++;for(var Y="";;){P>=O&&ie(B,"Unterminated string constant");var te=w.charCodeAt(P);if(te===V)return++P,gt(Fe,Y);if(te===92){te=w.charCodeAt(++P);var ae=/^[0-7]+/.exec(w.slice(P,P+3));for(ae&&(ae=ae[0]);ae&&parseInt(ae,8)>255;)ae=ae.slice(0,-1);if(ae==="0"&&(ae=null),++P,ae)ne&&ie(P-2,"Octal literal in strict mode"),Y+=String.fromCharCode(parseInt(ae,8)),P+=ae.length-1;else switch(te){case 110:Y+=`
`;break;case 114:Y+="\r";break;case 120:Y+=String.fromCharCode(Mn(2));break;case 117:Y+=String.fromCharCode(Mn(4));break;case 85:Y+=String.fromCharCode(Mn(8));break;case 116:Y+="	";break;case 98:Y+="\b";break;case 118:Y+="\v";break;case 102:Y+="\f";break;case 48:Y+="\0";break;case 13:w.charCodeAt(P)===10&&++P;case 10:M.locations&&(K=P,++Q);break;default:Y+=String.fromCharCode(te);break}}else(te===13||te===10||te===8232||te===8233)&&ie(B,"Unterminated string constant"),Y+=String.fromCharCode(te),++P}}function Mn(V){var Y=tn(16,V);return Y===null&&ie(B,"Bad character escape sequence"),Y}var zr;function Ra(){zr=!1;for(var V,Y=!0,te=P;;){var ae=w.charCodeAt(P);if(Ia(ae))zr&&(V+=w.charAt(P)),++P;else if(ae===92){zr||(V=w.slice(te,P)),zr=!0,w.charCodeAt(++P)!=117&&ie(P,"Expecting Unicode escape sequence \\uXXXX"),++P;var Ee=Mn(4),Oe=String.fromCharCode(Ee);Oe||ie(P-1,"Invalid Unicode escape"),(Y?In(Ee):Ia(Ee))||ie(P-4,"Invalid Unicode escape"),V+=Oe}else break;Y=!1}return zr?V:w.slice(te,P)}function Ba(){var V=Ra(),Y=ke;return!zr&&Mu(V)&&(Y=vi[V]),gt(Y,V)}function Ge(){$=B,le=z,he=Z,wr()}function Si(V){if(ne=V,P=B,M.locations)for(;P<K;)K=w.lastIndexOf(`
`,K-2)+1,--Q;Nr(),wr()}function Na(){this.type=null,this.start=B,this.end=null}function za(){this.start=H,this.end=null,y!==null&&(this.source=y)}function yt(){var V=new Na;return M.locations&&(V.loc=new za),M.directSourceFile&&(V.sourceFile=M.directSourceFile),M.ranges&&(V.range=[B,0]),V}function fr(V){var Y=new Na;return Y.start=V.start,M.locations&&(Y.loc=new za,Y.loc.start=V.loc.start),M.ranges&&(Y.range=[V.range[0],0]),Y}function Be(V,Y){return V.type=Y,V.end=le,M.locations&&(V.loc.end=he),M.ranges&&(V.range[1]=le),V}function wi(V){return M.ecmaVersion>=5&&V.type==="ExpressionStatement"&&V.expression.type==="Literal"&&V.expression.value==="use strict"}function et(V){if(N===V)return Ge(),!0}function Un(){return!M.strictSemicolons&&(N===Me||N===xr||Ln.test(w.slice(le,B)))}function Cr(){!et(Zt)&&!Un()&&Jt()}function ut(V){N===V?Ge():Jt()}function Jt(){ie(B,"Unexpected token")}function Dn(V){V.type!=="Identifier"&&V.type!=="MemberExpression"&&ie(V.start,"Assigning to rvalue"),ne&&V.type==="Identifier"&&Pn(V.name)&&ie(V.start,"Assigning to "+V.name+" in strict mode")}function Qu(V){$=le=P,M.locations&&(he=new Sr),ce=ne=null,me=[],wr();var Y=V||yt(),te=!0;for(V||(Y.body=[]);N!==Me;){var ae=Rt();Y.body.push(ae),te&&wi(ae)&&Si(!0),te=!1}return Be(Y,"Program")}var Ci={kind:"loop"},Ku={kind:"switch"};function Rt(){(N===yi||N===br&&W=="/=")&&wr(!0);var V=N,Y=yt();switch(V){case De:case dt:Ge();var te=V===De;et(Zt)||Un()?Y.label=null:N!==ke?Jt():(Y.label=hr(),Cr());for(var ae=0;ae<me.length;++ae){var Ee=me[ae];if((Y.label==null||Ee.name===Y.label.name)&&(Ee.kind!=null&&(te||Ee.kind==="loop")||Y.label&&te))break}return ae===me.length&&ie(Y.start,"Unsyntactic "+V.keyword),Be(Y,te?"BreakStatement":"ContinueStatement");case _t:return Ge(),Cr(),Be(Y,"DebuggerStatement");case Xe:return Ge(),me.push(Ci),Y.body=Rt(),me.pop(),ut(Ut),Y.test=rn(),Cr(),Be(Y,"DoWhileStatement");case pt:if(Ge(),me.push(Ci),ut(Wt),N===Zt)return Ti(Y,null);if(N===lr){var Oe=yt();return Ge(),Ha(Oe,!0),Be(Oe,"VariableDeclaration"),Oe.declarations.length===1&&et(En)?Ga(Y,Oe):Ti(Y,Oe)}var Oe=bt(!1,!0);return et(En)?(Dn(Oe),Ga(Y,Oe)):Ti(Y,Oe);case Ot:return Ge(),Oi(Y,!0);case ur:return Ge(),Y.test=rn(),Y.consequent=Rt(),Y.alternate=et(st)?Rt():null,Be(Y,"IfStatement");case It:return!ce&&!M.allowReturnOutsideFunction&&ie(B,"'return' outside of function"),Ge(),et(Zt)||Un()?Y.argument=null:(Y.argument=bt(),Cr()),Be(Y,"ReturnStatement");case Mt:Ge(),Y.discriminant=rn(),Y.cases=[],ut(Dr),me.push(Ku);for(var Ue,qe;N!=xr;)if(N===Pe||N===at){var Bt=N===Pe;Ue&&Be(Ue,"SwitchCase"),Y.cases.push(Ue=yt()),Ue.consequent=[],Ge(),Bt?Ue.test=bt():(qe&&ie($,"Multiple default clauses"),qe=!0,Ue.test=null),ut(Rr)}else Ue||Jt(),Ue.consequent.push(Rt());return Ue&&Be(Ue,"SwitchCase"),Ge(),me.pop(),Be(Y,"SwitchStatement");case Ct:return Ge(),Ln.test(w.slice(le,B))&&ie(le,"Illegal newline after throw"),Y.argument=bt(),Cr(),Be(Y,"ThrowStatement");case kt:if(Ge(),Y.block=nn(),Y.handler=null,N===ct){var Tr=yt();Ge(),ut(Wt),Tr.param=hr(),ne&&Pn(Tr.param.name)&&ie(Tr.param.start,"Binding "+Tr.param.name+" in strict mode"),ut(Dt),Tr.guard=null,Tr.body=nn(),Y.handler=Be(Tr,"CatchClause")}return Y.guardedHandlers=de,Y.finalizer=et(wt)?nn():null,!Y.handler&&!Y.finalizer&&ie(Y.start,"Missing catch or finally clause"),Be(Y,"TryStatement");case lr:return Ge(),Ha(Y),Cr(),Be(Y,"VariableDeclaration");case Ut:return Ge(),Y.test=rn(),me.push(Ci),Y.body=Rt(),me.pop(),Be(Y,"WhileStatement");case Fn:return ne&&ie(B,"'with' in strict mode"),Ge(),Y.object=rn(),Y.body=Rt(),Be(Y,"WithStatement");case Dr:return nn();case Zt:return Ge(),Be(Y,"EmptyStatement");default:var Li=W,Rn=bt();if(V===ke&&Rn.type==="Identifier"&&et(Rr)){for(var ae=0;ae<me.length;++ae)me[ae].name===Li&&ie(Rn.start,"Label '"+Li+"' is already declared");var nl=N.isLoop?"loop":N===Mt?"switch":null;return me.push({name:Li,kind:nl}),Y.body=Rt(),me.pop(),Y.label=Rn,Be(Y,"LabeledStatement")}else return Y.expression=Rn,Cr(),Be(Y,"ExpressionStatement")}}function rn(){ut(Wt);var V=bt();return ut(Dt),V}function nn(V){var Y=yt(),te=!0,ae=!1,Ee;for(Y.body=[],ut(Dr);!et(xr);){var Oe=Rt();Y.body.push(Oe),te&&V&&wi(Oe)&&(Ee=ae,Si(ae=!0)),te=!1}return ae&&!Ee&&Si(!1),Be(Y,"BlockStatement")}function Ti(V,Y){return V.init=Y,ut(Zt),V.test=N===Zt?null:bt(),ut(Zt),V.update=N===Dt?null:bt(),ut(Dt),V.body=Rt(),me.pop(),Be(V,"ForStatement")}function Ga(V,Y){return V.left=Y,V.right=bt(),ut(Dt),V.body=Rt(),me.pop(),Be(V,"ForInStatement")}function Ha(V,Y){for(V.declarations=[],V.kind="var";;){var te=yt();if(te.id=hr(),ne&&Pn(te.id.name)&&ie(te.id.start,"Binding "+te.id.name+" in strict mode"),te.init=et(xi)?bt(!0,Y):null,V.declarations.push(Be(te,"VariableDeclarator")),!et(Kt))break}return V}function bt(V,Y){var te=ki(Y);if(!V&&N===Kt){var ae=fr(te);for(ae.expressions=[te];et(Kt);)ae.expressions.push(ki(Y));return Be(ae,"SequenceExpression")}return te}function ki(V){var Y=Ju(V);if(N.isAssign){var te=fr(Y);return te.operator=W,te.left=Y,Ge(),te.right=ki(V),Dn(Y),Be(te,"AssignmentExpression")}return Y}function Ju(V){var Y=$u(V);if(et(_i)){var te=fr(Y);return te.test=Y,te.consequent=bt(!0),ut(Rr),te.alternate=bt(!0,V),Be(te,"ConditionalExpression")}return Y}function $u(V){return Fi(Ei(),-1,V)}function Fi(V,Y,te){var ae=N.binop;if(ae!=null&&(!te||N!==En)&&ae>Y){var Ee=fr(V);Ee.left=V,Ee.operator=W;var Oe=N;Ge(),Ee.right=Fi(Ei(),ae,te);var Ue=Be(Ee,Oe===Fa||Oe===Ea?"LogicalExpression":"BinaryExpression");return Fi(Ue,Y,te)}return V}function Ei(){if(N.prefix){var V=yt(),Y=N.isUpdate;return V.operator=W,V.prefix=!0,X=!0,Ge(),V.argument=Ei(),Y?Dn(V.argument):ne&&V.operator==="delete"&&V.argument.type==="Identifier"&&ie(V.start,"Deleting local variable in strict mode"),Be(V,Y?"UpdateExpression":"UnaryExpression")}for(var te=el();N.postfix&&!Un();){var V=fr(te);V.operator=W,V.prefix=!1,V.argument=te,Dn(te),Ge(),te=Be(V,"UpdateExpression")}return te}function el(){return an(Ai())}function an(V,Y){if(et(mi)){var te=fr(V);return te.object=V,te.property=hr(!0),te.computed=!1,an(Be(te,"MemberExpression"),Y)}else if(et(An)){var te=fr(V);return te.object=V,te.property=bt(),te.computed=!0,ut(On),an(Be(te,"MemberExpression"),Y)}else if(!Y&&et(Wt)){var te=fr(V);return te.callee=V,te.arguments=Pi(Dt,!1),an(Be(te,"CallExpression"),Y)}else return V}function Ai(){switch(N){case Sa:var ae=yt();return Ge(),Be(ae,"ThisExpression");case ke:return hr();case ye:case Fe:case _e:var ae=yt();return ae.value=W,ae.raw=w.slice(B,z),Ge(),Be(ae,"Literal");case wa:case Ca:case Ta:var ae=yt();return ae.value=N.atomValue,ae.raw=N.keyword,Ge(),Be(ae,"Literal");case Wt:var V=H,Y=B;Ge();var te=bt();return te.start=Y,te.end=z,M.locations&&(te.loc.start=V,te.loc.end=Z),M.ranges&&(te.range=[Y,z]),ut(Dt),te;case An:var ae=yt();return Ge(),ae.elements=Pi(On,!0,!0),Be(ae,"ArrayExpression");case Dr:return rl();case Ot:var ae=yt();return Ge(),Oi(ae,!1);case ba:return tl();default:Jt()}}function tl(){var V=yt();return Ge(),V.callee=an(Ai(),!0),et(Wt)?V.arguments=Pi(Dt,!1):V.arguments=de,Be(V,"NewExpression")}function rl(){var V=yt(),Y=!0,te=!1;for(V.properties=[],Ge();!et(xr);){if(Y)Y=!1;else if(ut(Kt),M.allowTrailingCommas&&et(xr))break;var ae={key:Va()},Ee=!1,Oe;if(et(Rr)?(ae.value=bt(!0),Oe=ae.kind="init"):M.ecmaVersion>=5&&ae.key.type==="Identifier"&&(ae.key.name==="get"||ae.key.name==="set")?(Ee=te=!0,Oe=ae.kind=ae.key.name,ae.key=Va(),N!==Wt&&Jt(),ae.value=Oi(yt(),!1)):Jt(),ae.key.type==="Identifier"&&(ne||te))for(var Ue=0;Ue<V.properties.length;++Ue){var qe=V.properties[Ue];if(qe.key.name===ae.key.name){var Bt=Oe==qe.kind||Ee&&qe.kind==="init"||Oe==="init"&&(qe.kind==="get"||qe.kind==="set");Bt&&!ne&&Oe==="init"&&qe.kind==="init"&&(Bt=!1),Bt&&ie(ae.key.start,"Redefinition of property")}}V.properties.push(ae)}return Be(V,"ObjectExpression")}function Va(){return N===ye||N===Fe?Ai():hr(!0)}function Oi(V,Y){N===ke?V.id=hr():Y?Jt():V.id=null,V.params=[];var te=!0;for(ut(Wt);!et(Dt);)te?te=!1:ut(Kt),V.params.push(hr());var ae=ce,Ee=me;if(ce=!0,me=[],V.body=nn(!0),ce=ae,me=Ee,ne||V.body.body.length&&wi(V.body.body[0]))for(var Oe=V.id?-1:0;Oe<V.params.length;++Oe){var Ue=Oe<0?V.id:V.params[Oe];if((Oa(Ue.name)||Pn(Ue.name))&&ie(Ue.start,"Defining '"+Ue.name+"' in strict mode"),Oe>=0)for(var qe=0;qe<Oe;++qe)Ue.name===V.params[qe].name&&ie(Ue.start,"Argument name clash in strict mode")}return Be(V,Y?"FunctionDeclaration":"FunctionExpression")}function Pi(V,Y,te){for(var ae=[],Ee=!0;!et(V);){if(Ee)Ee=!1;else if(ut(Kt),Y&&M.allowTrailingCommas&&et(V))break;te&&N===Kt?ae.push(null):ae.push(bt(!0))}return ae}function hr(V){var Y=yt();return V&&M.forbidReserved=="everywhere"&&(V=!1),N===ke?(!V&&(M.forbidReserved&&(M.ecmaVersion===3?Lu:Iu)(W)||ne&&Oa(W))&&w.slice(B,z).indexOf("\\")==-1&&ie(B,"The keyword '"+W+"' is reserved"),Y.name=W):V&&N.keyword?Y.name=N.keyword:Jt(),X=!1,Ge(),Be(Y,"Identifier")}}),i.version||(i=null)}function f(E,M){return(t.acorn||i).parse(E,M)}var c={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"__equals","!=":"__equals"},v={"-":"__negate","+":"__self"},g=u.each(["add","subtract","multiply","divide","modulo","equals","negate"],function(E){this["__"+E]="#"+E},{__self:function(){return this}});F.inject(g),G.inject(g),$e.inject(g);function m(E,M,w){var O=c[M];if(E&&E[O]){var y=E[O](w);return M==="!="?!y:y}switch(M){case"+":return E+w;case"-":return E-w;case"*":return E*w;case"/":return E/w;case"%":return E%w;case"==":return E==w;case"!=":return E!=w}}function _(E,M){var w=v[E];if(M&&M[w])return M[w]();switch(E){case"+":return+M;case"-":return-M}}function S(E,M){if(!E)return"";M=M||{};var w=[];function O(ne){for(var ie=0,de=w.length;ie<de;ie++){var ye=w[ie];if(ye[0]>=ne)break;ne+=ye[1]}return ne}function y(ne){return E.substring(O(ne.range[0]),O(ne.range[1]))}function A(ne,ie){return E.substring(O(ne.range[1]),O(ie.range[0]))}function L(ne,ie){for(var de=O(ne.range[0]),ye=O(ne.range[1]),_e=0,Fe=w.length-1;Fe>=0;Fe--)if(de>w[Fe][0]){_e=Fe+1;break}w.splice(_e,0,[de,ie.length-ye+de]),E=E.substring(0,de)+ie+E.substring(ye)}function U(ne,ie){switch(ne.type){case"UnaryExpression":if(ne.operator in v&&ne.argument.type!=="Literal"){var de=y(ne.argument);L(ne,'$__("'+ne.operator+'", '+de+")")}break;case"BinaryExpression":if(ne.operator in c&&ne.left.type!=="Literal"){var ye=y(ne.left),_e=y(ne.right),Fe=A(ne.left,ne.right),ke=ne.operator;L(ne,"__$__("+ye+","+Fe.replace(new RegExp("\\"+ke),'"'+ke+'"')+", "+_e+")")}break;case"UpdateExpression":case"AssignmentExpression":var Me=ie&&ie.type;if(!(Me==="ForStatement"||Me==="BinaryExpression"&&/^[=!<>]/.test(ie.operator)||Me==="MemberExpression"&&ie.computed)){if(ne.type==="UpdateExpression"){var de=y(ne.argument),De="__$__("+de+', "'+ne.operator[0]+'", 1)',Pe=de+" = "+De;ne.prefix?Pe="("+Pe+")":(Me==="AssignmentExpression"||Me==="VariableDeclarator"||Me==="BinaryExpression")&&(y(ie.left||ie.id)===de&&(Pe=De),Pe=de+"; "+Pe),L(ne,Pe)}else if(/^.=$/.test(ne.operator)&&ne.left.type!=="Literal"){var ye=y(ne.left),_e=y(ne.right),De=ye+" = __$__("+ye+', "'+ne.operator[0]+'", '+_e+")";L(ne,/^\(.*\)$/.test(y(ne))?"("+De+")":De)}}break}}function P(ne){switch(ne.type){case"ExportDefaultDeclaration":L({range:[ne.start,ne.declaration.start]},"module.exports = ");break;case"ExportNamedDeclaration":var ie=ne.declaration,de=ne.specifiers;if(ie){var ye=ie.declarations;ye&&(ye.forEach(function(Fe){L(Fe,"module.exports."+y(Fe))}),L({range:[ne.start,ie.start+ie.kind.length]},""))}else if(de){var _e=de.map(function(Fe){var ke=y(Fe);return"module.exports."+ke+" = "+ke+"; "}).join("");_e&&L(ne,_e)}break}}function B(ne,ie,de){if(ne){for(var ye in ne)if(ye!=="range"&&ye!=="loc"){var _e=ne[ye];if(Array.isArray(_e))for(var Fe=0,ke=_e.length;Fe<ke;Fe++)B(_e[Fe],ne,de);else _e&&typeof _e=="object"&&B(_e,ne,de)}de.operatorOverloading!==!1&&U(ne,ie),de.moduleExports!==!1&&P(ne)}}function z(ne){var ie="",de="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(ne=(Math.abs(ne)<<1)+(ne<0?1:0);ne||!ie;){var ye=ne&31;ne>>=5,ne&&(ye|=32),ie+=de[ye]}return ie}var H=M.url||"",Z=M.sourceMaps,N=M.paperFeatures||{},W=M.source||E,X=M.offset||0,Q=Ne.agent,K=Q.versionNumber,$=!1,le=/\r\n|\n|\r/mg,he;if(Z&&(Q.chrome&&K>=30||Q.webkit&&K>=537.76||Q.firefox&&K>=23||Q.node)){if(Q.node)X-=2;else if(a&&H&&!a.location.href.indexOf(H)){var ce=o.getElementsByTagName("html")[0].innerHTML;X=ce.substr(0,ce.indexOf(E)+1).match(le).length+1}$=X>0&&!(Q.chrome&&K>=36||Q.safari&&K>=600||Q.firefox&&K>=40||Q.node);var me=["AA"+z($?0:X)+"A"];me.length=(E.match(le)||[]).length+1+($?X:0),he={version:3,file:H,names:[],mappings:me.join(";AACA"),sourceRoot:"",sources:[H],sourcesContent:[W]}}return(N.operatorOverloading!==!1||N.moduleExports!==!1)&&B(f(E,{ranges:!0,preserveParens:!0,sourceType:"module"}),null,N),he&&($&&(E=new Array(X+1).join(`
`)+E),/^(inline|both)$/.test(Z)&&(E+=`
//# sourceMappingURL=data:application/json;base64,`+r.btoa(unescape(encodeURIComponent(JSON.stringify(he))))),E+=`
//# sourceURL=`+(H||"paperscript")),{url:H,source:W,code:E,map:he}}function T(E,M,w){Ne=M;var O=M.getView(),y=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(E)&&!/\bnew\s+Tool\b/.test(E)?new bu:null,A=y?y._events:[],L=["onFrame","onResize"].concat(A),U=[],P=[],B,z=typeof E=="object"?E:S(E,w);E=z.code;function H(K,$){for(var le in K)($||!/^_/.test(le))&&new RegExp("([\\b\\s\\W]|^)"+le.replace(/\$/g,"\\$")+"\\b").test(E)&&(U.push(le),P.push(K[le]))}H({__$__:m,$__:_,paper:M,tool:y},!0),H(M),E="var module = { exports: {} }; "+E;var X=u.each(L,function(K){new RegExp("\\s+"+K+"\\b").test(E)&&(U.push(K),this.push("module.exports."+K+" = "+K+";"))},[]).join(`
`);X&&(E+=`
`+X),E+=`
return module.exports;`;var Z=Ne.agent;if(o&&(Z.chrome||Z.firefox&&Z.versionNumber<40)){var N=o.createElement("script"),W=o.head||o.getElementsByTagName("head")[0];Z.firefox&&(E=`
`+E),N.appendChild(o.createTextNode("document.__paperscript__ = function("+U+") {"+E+`
}`)),W.appendChild(N),B=o.__paperscript__,delete o.__paperscript__,W.removeChild(N)}else B=Function(U,E);var X=B&&B.apply(M,P),Q=X||{};return u.each(A,function(K){var $=Q[K];$&&(y[K]=$)}),O&&(Q.onResize&&O.setOnResize(Q.onResize),O.emit("resize",{size:O.size,delta:new F}),Q.onFrame&&O.setOnFrame(Q.onFrame),O.requestUpdate()),X}function b(E){if(/^text\/(?:x-|)paperscript$/.test(E.type)&&p.getAttribute(E,"ignore")!=="true"){var M=p.getAttribute(E,"canvas"),w=o.getElementById(M),O=E.src||E.getAttribute("data-src"),y=p.hasAttribute(E,"async"),A="data-paper-scope";if(!w)throw new Error('Unable to find canvas with id "'+M+'"');var L=p.get(w.getAttribute(A))||new p().setup(w);return w.setAttribute(A,L._id),O?ya.request({url:O,async:y,mimeType:"text/plain",onLoad:function(U){T(U,L,O)}}):T(E.innerHTML,L,E.baseURI),E.setAttribute("data-paper-ignore","true"),L}}function x(){u.each(o&&o.getElementsByTagName("script"),b)}function I(E){return E?b(E):x()}return a&&(o.readyState==="complete"?setTimeout(x):ft.add(a,{load:x})),{compile:S,execute:T,load:I,parse:f,calculateBinary:m,calculateUnary:_}}.call(this);var Ne=new(p.inject(u.exports,{Base:u,Numerical:R,Key:_a,DomEvent:ft,DomElement:nt,document:o,window:a,Symbol:Je,PlacedSymbol:Ze}));return Ne.agent.node&&Ms(Ne),typeof n=="function"&&n.amd?n("paper",Ne):e&&(e.exports=Ne),Ne}).call(_l,typeof self=="object"?self:null)})(Yo);var Pt=Yo.exports;/*!
* SVGPathCommander v1.0.4 (http://thednp.github.io/svg-path-commander)
* Copyright 2022 © thednp
* Licensed under MIT (https://github.com/thednp/svg-path-commander/blob/master/LICENSE)
*/const Cn={origin:[0,0,0],round:4},hn={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0};function Us(e){let r=e.pathValue[e.segmentStart],n=r.toLowerCase();const{data:a}=e;for(;a.length>=hn[n]&&(n==="m"&&a.length>2?(e.segments.push([r,...a.splice(0,2)]),n="l",r=r==="m"?"l":"L"):e.segments.push([r,...a.splice(0,hn[n])]),!!hn[n]););}const tr="SVGPathCommander error";function q0(e){const{index:r,pathValue:n}=e,a=n.charCodeAt(r);if(a===48){e.param=0,e.index+=1;return}if(a===49){e.param=1,e.index+=1;return}e.err=`${tr}: invalid Arc flag "${n[r]}", expecting 0 or 1 at index ${r}`}function Vr(e){return e>=48&&e<=57}const qr="Invalid path value";function W0(e){const{max:r,pathValue:n,index:a}=e;let o=a,u=!1,h=!1,p=!1,d=!1,k;if(o>=r){e.err=`${tr}: ${qr} at index ${o}, "pathValue" is missing param`;return}if(k=n.charCodeAt(o),(k===43||k===45)&&(o+=1,k=n.charCodeAt(o)),!Vr(k)&&k!==46){e.err=`${tr}: ${qr} at index ${o}, "${n[o]}" is not a number`;return}if(k!==46){if(u=k===48,o+=1,k=n.charCodeAt(o),u&&o<r&&k&&Vr(k)){e.err=`${tr}: ${qr} at index ${a}, "${n[a]}" illegal number`;return}for(;o<r&&Vr(n.charCodeAt(o));)o+=1,h=!0;k=n.charCodeAt(o)}if(k===46){for(d=!0,o+=1;Vr(n.charCodeAt(o));)o+=1,p=!0;k=n.charCodeAt(o)}if(k===101||k===69){if(d&&!h&&!p){e.err=`${tr}: ${qr} at index ${o}, "${n[o]}" invalid float exponent`;return}if(o+=1,k=n.charCodeAt(o),(k===43||k===45)&&(o+=1),o<r&&Vr(n.charCodeAt(o)))for(;o<r&&Vr(n.charCodeAt(o));)o+=1;else{e.err=`${tr}: ${qr} at index ${o}, "${n[o]}" invalid integer exponent`;return}}e.index=o,e.param=+e.pathValue.slice(a,o)}function Z0(e){const r=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];return e===10||e===13||e===8232||e===8233||e===32||e===9||e===11||e===12||e===160||e>=5760&&r.includes(e)}function cn(e){const{pathValue:r,max:n}=e;for(;e.index<n&&Z0(r.charCodeAt(e.index));)e.index+=1}function X0(e){switch(e|32){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}}function Y0(e){return e>=48&&e<=57||e===43||e===45||e===46}function j0(e){return(e|32)===97}function jo(e){const{max:r,pathValue:n,index:a}=e,o=n.charCodeAt(a),u=hn[n[a].toLowerCase()];if(e.segmentStart=a,!X0(o)){e.err=`${tr}: ${qr} "${n[a]}" is not a path command`;return}if(e.index+=1,cn(e),e.data=[],!u){Us(e);return}for(;;){for(let h=u;h>0;h-=1){if(j0(o)&&(h===3||h===4)?q0(e):W0(e),e.err.length)return;e.data.push(e.param),cn(e),e.index<r&&n.charCodeAt(e.index)===44&&(e.index+=1,cn(e))}if(e.index>=e.max||!Y0(n.charCodeAt(e.index)))break}Us(e)}function Ht(e){return e.map(r=>Array.isArray(r)?[...r]:r)}function Qo(e){this.segments=[],this.pathValue=e,this.max=e.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""}function ui(e){return Array.isArray(e)&&e.every(r=>{const n=r[0].toLowerCase();return hn[n]===r.length-1&&"achlmqstvz".includes(n)})}function _r(e){if(ui(e))return Ht(e);const r=new Qo(e);for(cn(r);r.index<r.max&&!r.err.length;)jo(r);return r.err?r.err:r.segments}function da(e){return ui(e)&&e.every(([r])=>r===r.toUpperCase())}function $r(e){if(da(e))return Ht(e);const r=_r(e);let n=0,a=0,o=0,u=0;return r.map(h=>{const p=h.slice(1).map(Number),[d]=h,k=d.toUpperCase();if(d==="M")return[n,a]=p,o=n,u=a,["M",n,a];let C=[];if(d!==k)switch(k){case"A":C=[k,p[0],p[1],p[2],p[3],p[4],p[5]+n,p[6]+a];break;case"V":C=[k,p[0]+a];break;case"H":C=[k,p[0]+n];break;default:{const D=p.map((F,q)=>F+(q%2?a:n));C=[k,...D]}}else C=[k,...p];const R=C.length;switch(k){case"Z":n=o,a=u;break;case"H":[,n]=C;break;case"V":[,a]=C;break;default:n=C[R-2],a=C[R-1],k==="M"&&(o=n,u=a)}return C})}function Ko(e){return ui(e)&&e.slice(1).every(([r])=>r===r.toLowerCase())}function pa(e){if(Ko(e))return Ht(e);const r=_r(e);let n=0,a=0,o=0,u=0;return r.map(h=>{const p=h.slice(1).map(Number),[d]=h,k=d.toLowerCase();if(d==="M")return[n,a]=p,o=n,u=a,["M",n,a];let C=[];if(d!==k)switch(k){case"a":C=[k,p[0],p[1],p[2],p[3],p[4],p[5]-n,p[6]-a];break;case"v":C=[k,p[0]-a];break;case"h":C=[k,p[0]-n];break;default:{const D=p.map((F,q)=>F-(q%2?a:n));C=[k,...D]}}else d==="m"&&(o=p[0]+n,u=p[1]+a),C=[k,...p];const R=C.length;switch(k){case"z":n=o,a=u;break;case"h":n+=C[1];break;case"v":a+=C[1];break;default:n+=C[R-2],a+=C[R-1]}return C})}function Ji(e,r,n){if(e[n].length>7){e[n].shift();const a=e[n];let o=n;for(;a.length;)r[n]="A",e.splice(o+=1,0,["C",...a.splice(0,6)]);e.splice(n,1)}}function Q0(e,r){const[n]=e,{x1:a,y1:o,x2:u,y2:h}=r,p=e.slice(1).map(Number);let d=e;if("TQ".includes(n)||(r.qx=null,r.qy=null),n==="H")d=["L",e[1],o];else if(n==="V")d=["L",a,e[1]];else if(n==="S"){const k=a*2-u,C=o*2-h;r.x1=k,r.y1=C,d=["C",k,C,...p]}else if(n==="T"){const k=a*2-r.qx,C=o*2-r.qy;r.qx=k,r.qy=C,d=["Q",k,C,...p]}else if(n==="Q"){const[k,C]=p;r.qx=k,r.qy=C}return d}function ga(e){return da(e)&&e.every(([r])=>"ACLMQZ".includes(r))}const li={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null};function sr(e){if(ga(e))return Ht(e);const r=$r(e),n=Gr({},li),a=r.length;for(let o=0;o<a;o+=1){r[o]=Q0(r[o],n);const u=r[o],h=u.length;n.x1=+u[h-2],n.y1=+u[h-1],n.x2=+u[h-4]||n.x1,n.y2=+u[h-3]||n.y1}return r}function Jo(e){const r=_r(e),n=sr(r),{length:a}=r,o=n.slice(-1)[0][0]==="Z",u=o?a-2:a-1,[h,p]=n[0].slice(1),[d,k]=n[u].slice(-2);return o&&h===d&&p===k?r.slice(0,-1):r}function $o(e){return ga(e)&&e.every(([r])=>"MC".includes(r))}function Vn(e,r,n){const a=e*Math.cos(n)-r*Math.sin(n),o=e*Math.sin(n)+r*Math.cos(n);return{x:a,y:o}}function eu(e,r,n,a,o,u,h,p,d,k){let C=e,R=r,D=n,F=a,q=p,G=d;const J=Math.PI*120/180,j=Math.PI/180*(+o||0);let se=[],re,oe,fe,pe,Ce;if(k)[oe,fe,pe,Ce]=k;else{re=Vn(C,R,-j),C=re.x,R=re.y,re=Vn(q,G,-j),q=re.x,G=re.y;const Ie=(C-q)/2,Ve=(R-G)/2;let xt=Ie*Ie/(D*D)+Ve*Ve/(F*F);xt>1&&(xt=Math.sqrt(xt),D*=xt,F*=xt);const yr=D*D,$e=F*F,Lt=(u===h?-1:1)*Math.sqrt(Math.abs((yr*$e-yr*Ve*Ve-$e*Ie*Ie)/(yr*Ve*Ve+$e*Ie*Ie)));pe=Lt*D*Ve/F+(C+q)/2,Ce=Lt*-F*Ie/D+(R+G)/2,oe=(Math.asin((R-Ce)/F)*10**9>>0)/10**9,fe=(Math.asin((G-Ce)/F)*10**9>>0)/10**9,oe=C<pe?Math.PI-oe:oe,fe=q<pe?Math.PI-fe:fe,oe<0&&(oe=Math.PI*2+oe),fe<0&&(fe=Math.PI*2+fe),h&&oe>fe&&(oe-=Math.PI*2),!h&&fe>oe&&(fe-=Math.PI*2)}let xe=fe-oe;if(Math.abs(xe)>J){const Ie=fe,Ve=q,xt=G;fe=oe+J*(h&&fe>oe?1:-1),q=pe+D*Math.cos(fe),G=Ce+F*Math.sin(fe),se=eu(q,G,D,F,o,0,h,Ve,xt,[fe,Ie,pe,Ce])}xe=fe-oe;const Re=Math.cos(oe),Ke=Math.sin(oe),Ze=Math.cos(fe),Je=Math.sin(fe),Ye=Math.tan(xe/4),ge=4/3*D*Ye,Qe=4/3*F*Ye,ue=[C,R],ze=[C+ge*Ke,R-Qe*Re],We=[q+ge*Je,G-Qe*Ze],Te=[q,G];if(ze[0]=2*ue[0]-ze[0],ze[1]=2*ue[1]-ze[1],k)return[...ze,...We,...Te,...se];se=[...ze,...We,...Te,...se];const He=[];for(let Ie=0,Ve=se.length;Ie<Ve;Ie+=1)He[Ie]=Ie%2?Vn(se[Ie-1],se[Ie],j).y:Vn(se[Ie],se[Ie+1],j).x;return He}function K0(e,r,n,a,o,u){const h=.3333333333333333,p=2/3;return[h*e+p*n,h*r+p*a,h*o+p*n,h*u+p*a,o,u]}function Wr(e,r,n){const[a,o]=e,[u,h]=r;return[a+(u-a)*n,o+(h-o)*n]}function fi(e,r){return Math.sqrt((e[0]-r[0])*(e[0]-r[0])+(e[1]-r[1])*(e[1]-r[1]))}function _n(e,r,n,a,o){const u=fi([e,r],[n,a]);let h={x:0,y:0};if(typeof o=="number")if(o===0)h={x:e,y:r};else if(o>=u)h={x:n,y:a};else{const[p,d]=Wr([e,r],[n,a],o/u);h={x:p,y:d}}return{length:u,point:h,min:{x:Math.min(e,n),y:Math.min(r,a)},max:{x:Math.max(e,n),y:Math.max(r,a)}}}function Ds(e,r,n,a){const u=[e,r],h=[n,a],p=Wr(u,h,.5),d=Wr(h,p,.5),k=Wr(p,d,.5),C=Wr(d,k,.5),R=Wr(k,C,.5),D=[...u,...p,...k,...R,.5],F=_n(...D).point,q=[...R,...C,...d,...h,0],G=_n(...q).point;return[F.x,F.y,G.x,G.y,n,a]}function Xn(e,r){const[n]=e,a=e.slice(1).map(Number),[o,u]=a;let h;const{x1:p,y1:d,x:k,y:C}=r;switch("TQ".includes(n)||(r.qx=null,r.qy=null),n){case"M":return r.x=o,r.y=u,e;case"A":return h=[p,d,...a],["C",...eu(...h)];case"Q":return r.qx=o,r.qy=u,h=[p,d,...a],["C",...K0(...h)];case"L":return["C",...Ds(p,d,o,u)];case"Z":return["C",...Ds(p,d,k,C)]}return e}function hi(e){if($o(e))return Ht(e);const r=Jo(sr(e)),n=Gr({},li),a=[];let o="",u=r.length;for(let h=0;h<u;h+=1){[o]=r[h],a[h]=o,r[h]=Xn(r[h],n),Ji(r,a,h),u=r.length;const p=r[h],d=p.length;n.x1=+p[d-2],n.y1=+p[d-1],n.x2=+p[d-4]||n.x1,n.y2=+p[d-3]||n.y1}return r}function ni(e,r){let{round:n}=Cn;if(r==="off"||n==="off")return Ht(e);n=r>=0?r:n;const a=typeof n=="number"&&n>=1?10**n:1;return e.map(o=>{const u=o.slice(1).map(Number).map(h=>n?Math.round(h*a)/a:Math.round(h));return[o[0],...u]})}function Or(e,r){return ni(e,r).map(n=>n[0]+n.slice(1).join(" ")).join("")}function Yn(e){const r=$r(e),n=r.slice(-1)[0][0]==="Z",a=sr(r).map((o,u)=>{const[h,p]=o.slice(-2).map(Number);return{seg:r[u],n:o,c:r[u][0],x:h,y:p}}).map((o,u,h)=>{const p=o.seg,d=o.n,k=u&&h[u-1],C=h[u+1],R=o.c,D=h.length,F=u?h[u-1].x:h[D-1].x,q=u?h[u-1].y:h[D-1].y;let G=[];switch(R){case"M":G=n?["Z"]:[R,F,q];break;case"A":G=[R,...p.slice(1,-3),p[5]===1?0:1,F,q];break;case"C":C&&C.c==="S"?G=["S",p[1],p[2],F,q]:G=[R,p[3],p[4],p[1],p[2],F,q];break;case"S":k&&"CS".includes(k.c)&&(!C||C.c!=="S")?G=["C",d[3],d[4],d[1],d[2],F,q]:G=[R,d[1],d[2],F,q];break;case"Q":C&&C.c==="T"?G=["T",F,q]:G=[R,...p.slice(1,-2),F,q];break;case"T":k&&"QT".includes(k.c)&&(!C||C.c!=="T")?G=["Q",d[1],d[2],F,q]:G=[R,F,q];break;case"Z":G=["M",F,q];break;case"H":G=[R,F];break;case"V":G=[R,q];break;default:G=[R,...p.slice(1,-2),F,q]}return G});return n?a.reverse():[a[0],...a.slice(1).reverse()]}function tu(e){const r=[];let n,a=-1;return e.forEach(o=>{o[0]==="M"?(n=[o],a+=1):n=[...n,o],r[a]=n}),r}function J0(e,r,n,a){const[o]=e,u=j=>Math.round(j*10**4)/10**4,h=e.slice(1).map(j=>+j),p=r.slice(1).map(j=>+j),{x1:d,y1:k,x2:C,y2:R,x:D,y:F}=n;let q=e;const[G,J]=p.slice(-2);if("TQ".includes(o)||(n.qx=null,n.qy=null),["V","H","S","T","Z"].includes(o))q=[o,...h];else if(o==="L")u(D)===u(G)?q=["V",J]:u(F)===u(J)&&(q=["H",G]);else if(o==="C"){const[j,se]=p;"CS".includes(a)&&(u(j)===u(d*2-C)&&u(se)===u(k*2-R)||u(d)===u(C*2-D)&&u(k)===u(R*2-F))&&(q=["S",...p.slice(-4)]),n.x1=j,n.y1=se}else if(o==="Q"){const[j,se]=p;n.qx=j,n.qy=se,"QT".includes(a)&&(u(j)===u(d*2-C)&&u(se)===u(k*2-R)||u(d)===u(C*2-D)&&u(k)===u(R*2-F))&&(q=["T",...p.slice(-2)])}return q}function ru(e,r){const n=$r(e),a=sr(n),o=Gr({},li),u=[],h=n.length;let p="",d="",k=0,C=0,R=0,D=0;for(let G=0;G<h;G+=1){[p]=n[G],u[G]=p,G&&(d=u[G-1]),n[G]=J0(n[G],a[G],o,d);const J=n[G],j=J.length;switch(o.x1=+J[j-2],o.y1=+J[j-1],o.x2=+J[j-4]||o.x1,o.y2=+J[j-3]||o.y1,p){case"Z":k=R,C=D;break;case"H":[,k]=J;break;case"V":[,C]=J;break;default:[k,C]=J.slice(-2).map(Number),p==="M"&&(R=k,D=C)}o.x=k,o.y=C}const F=ni(n,r),q=ni(pa(n),r);return F.map((G,J)=>J?G.join("").length<q[J].join("").length?G:q[J]:G)}function Tn(e){const r=new Tt,n=Array.from(e);if(!n.every(a=>!Number.isNaN(a)))throw TypeError(`CSSMatrix: "${e}" must only have numbers.`);if(n.length===16){const[a,o,u,h,p,d,k,C,R,D,F,q,G,J,j,se]=n;r.m11=a,r.a=a,r.m21=p,r.c=p,r.m31=R,r.m41=G,r.e=G,r.m12=o,r.b=o,r.m22=d,r.d=d,r.m32=D,r.m42=J,r.f=J,r.m13=u,r.m23=k,r.m33=F,r.m43=j,r.m14=h,r.m24=C,r.m34=q,r.m44=se}else if(n.length===6){const[a,o,u,h,p,d]=n;r.m11=a,r.a=a,r.m12=o,r.b=o,r.m21=u,r.c=u,r.m22=h,r.d=h,r.m41=p,r.e=p,r.m42=d,r.f=d}else throw new TypeError("CSSMatrix: expecting an Array of 6/16 values.");return r}function nu(e){const r=Object.keys(new Tt);if(typeof e=="object"&&r.every(n=>n in e))return Tn([e.m11,e.m12,e.m13,e.m14,e.m21,e.m22,e.m23,e.m24,e.m31,e.m32,e.m33,e.m34,e.m41,e.m42,e.m43,e.m44]);throw TypeError(`CSSMatrix: "${JSON.stringify(e)}" is not a DOMMatrix / CSSMatrix / JSON compatible object.`)}function iu(e){if(typeof e!="string")throw TypeError(`CSSMatrix: "${e}" is not a string.`);const r=String(e).replace(/\s/g,"");let n=new Tt;const a=`CSSMatrix: invalid transform string "${e}"`;return r.split(")").filter(o=>o).forEach(o=>{const[u,h]=o.split("(");if(!h)throw TypeError(a);const p=h.split(",").map(q=>q.includes("rad")?parseFloat(q)*(180/Math.PI):parseFloat(q)),[d,k,C,R]=p,D=[d,k,C],F=[d,k,C,R];if(u==="perspective"&&d&&[k,C].every(q=>q===void 0))n.m34=-1/d;else if(u.includes("matrix")&&[6,16].includes(p.length)&&p.every(q=>!Number.isNaN(+q))){const q=p.map(G=>Math.abs(G)<1e-6?0:G);n=n.multiply(Tn(q))}else if(u==="translate3d"&&D.every(q=>!Number.isNaN(+q)))n=n.translate(d,k,C);else if(u==="translate"&&d&&C===void 0)n=n.translate(d,k||0,0);else if(u==="rotate3d"&&F.every(q=>!Number.isNaN(+q))&&R)n=n.rotateAxisAngle(d,k,C,R);else if(u==="rotate"&&d&&[k,C].every(q=>q===void 0))n=n.rotate(0,0,d);else if(u==="scale3d"&&D.every(q=>!Number.isNaN(+q))&&D.some(q=>q!==1))n=n.scale(d,k,C);else if(u==="scale"&&!Number.isNaN(d)&&d!==1&&C===void 0){const G=Number.isNaN(+k)?d:k;n=n.scale(d,G,1)}else if(u==="skew"&&(d||!Number.isNaN(d)&&k)&&C===void 0)n=n.skew(d,k||0);else if(/[XYZ]/.test(u)&&d&&[k,C].every(q=>q===void 0)&&["translate","rotate","scale","skew"].some(q=>u.includes(q)))if(["skewX","skewY"].includes(u))n=n[u](d);else{const q=u.replace(/[XYZ]/,""),G=u.replace(q,""),J=["X","Y","Z"].indexOf(G),j=q==="scale"?1:0,se=[J===0?d:j,J===1?d:j,J===2?d:j];n=n[q](...se)}else throw TypeError(a)}),n}function $i(e,r){return r?[e.a,e.b,e.c,e.d,e.e,e.f]:[e.m11,e.m12,e.m13,e.m14,e.m21,e.m22,e.m23,e.m24,e.m31,e.m32,e.m33,e.m34,e.m41,e.m42,e.m43,e.m44]}function va(e,r,n){const a=new Tt;return a.m41=e,a.e=e,a.m42=r,a.f=r,a.m43=n,a}function au(e,r,n){const a=new Tt,o=Math.PI/180,u=e*o,h=r*o,p=n*o,d=Math.cos(u),k=-Math.sin(u),C=Math.cos(h),R=-Math.sin(h),D=Math.cos(p),F=-Math.sin(p),q=C*D,G=-C*F;a.m11=q,a.a=q,a.m12=G,a.b=G,a.m13=R;const J=k*R*D+d*F;a.m21=J,a.c=J;const j=d*D-k*R*F;return a.m22=j,a.d=j,a.m23=-k*C,a.m31=k*F-d*R*D,a.m32=k*D+d*R*F,a.m33=d*C,a}function su(e,r,n,a){const o=new Tt,u=Math.sqrt(e*e+r*r+n*n);if(u===0)return o;const h=e/u,p=r/u,d=n/u,k=a*(Math.PI/360),C=Math.sin(k),R=Math.cos(k),D=C*C,F=h*h,q=p*p,G=d*d,J=1-2*(q+G)*D;o.m11=J,o.a=J;const j=2*(h*p*D+d*C*R);o.m12=j,o.b=j,o.m13=2*(h*d*D-p*C*R);const se=2*(p*h*D-d*C*R);o.m21=se,o.c=se;const re=1-2*(G+F)*D;return o.m22=re,o.d=re,o.m23=2*(p*d*D+h*C*R),o.m31=2*(d*h*D+p*C*R),o.m32=2*(d*p*D-h*C*R),o.m33=1-2*(F+q)*D,o}function ou(e,r,n){const a=new Tt;return a.m11=e,a.a=e,a.m22=r,a.d=r,a.m33=n,a}function ci(e,r){const n=new Tt;if(e){const a=e*Math.PI/180,o=Math.tan(a);n.m21=o,n.c=o}if(r){const a=r*Math.PI/180,o=Math.tan(a);n.m12=o,n.b=o}return n}function uu(e){return ci(e,0)}function lu(e){return ci(0,e)}function $t(e,r){const n=r.m11*e.m11+r.m12*e.m21+r.m13*e.m31+r.m14*e.m41,a=r.m11*e.m12+r.m12*e.m22+r.m13*e.m32+r.m14*e.m42,o=r.m11*e.m13+r.m12*e.m23+r.m13*e.m33+r.m14*e.m43,u=r.m11*e.m14+r.m12*e.m24+r.m13*e.m34+r.m14*e.m44,h=r.m21*e.m11+r.m22*e.m21+r.m23*e.m31+r.m24*e.m41,p=r.m21*e.m12+r.m22*e.m22+r.m23*e.m32+r.m24*e.m42,d=r.m21*e.m13+r.m22*e.m23+r.m23*e.m33+r.m24*e.m43,k=r.m21*e.m14+r.m22*e.m24+r.m23*e.m34+r.m24*e.m44,C=r.m31*e.m11+r.m32*e.m21+r.m33*e.m31+r.m34*e.m41,R=r.m31*e.m12+r.m32*e.m22+r.m33*e.m32+r.m34*e.m42,D=r.m31*e.m13+r.m32*e.m23+r.m33*e.m33+r.m34*e.m43,F=r.m31*e.m14+r.m32*e.m24+r.m33*e.m34+r.m34*e.m44,q=r.m41*e.m11+r.m42*e.m21+r.m43*e.m31+r.m44*e.m41,G=r.m41*e.m12+r.m42*e.m22+r.m43*e.m32+r.m44*e.m42,J=r.m41*e.m13+r.m42*e.m23+r.m43*e.m33+r.m44*e.m43,j=r.m41*e.m14+r.m42*e.m24+r.m43*e.m34+r.m44*e.m44;return Tn([n,a,o,u,h,p,d,k,C,R,D,F,q,G,J,j])}class Tt{constructor(...r){const n=this;if(n.a=1,n.b=0,n.c=0,n.d=1,n.e=0,n.f=0,n.m11=1,n.m12=0,n.m13=0,n.m14=0,n.m21=0,n.m22=1,n.m23=0,n.m24=0,n.m31=0,n.m32=0,n.m33=1,n.m34=0,n.m41=0,n.m42=0,n.m43=0,n.m44=1,r.length){const a=[16,6].some(o=>o===r.length)?r:r[0];return n.setMatrixValue(a)}return n}get isIdentity(){const r=this;return r.m11===1&&r.m12===0&&r.m13===0&&r.m14===0&&r.m21===0&&r.m22===1&&r.m23===0&&r.m24===0&&r.m31===0&&r.m32===0&&r.m33===1&&r.m34===0&&r.m41===0&&r.m42===0&&r.m43===0&&r.m44===1}get is2D(){const r=this;return r.m31===0&&r.m32===0&&r.m33===1&&r.m34===0&&r.m43===0&&r.m44===1}setMatrixValue(r){const n=this;return typeof r=="string"&&r.length&&r!=="none"?iu(r):[Array,Float64Array,Float32Array].some(a=>r instanceof a)?Tn(r):[Tt,DOMMatrix,Object].some(a=>r instanceof a)?nu(r):n}toFloat32Array(r){return Float32Array.from($i(this,r))}toFloat64Array(r){return Float64Array.from($i(this,r))}toString(){const r=this,{is2D:n}=r,a=r.toFloat64Array(n).join(", ");return`${n?"matrix":"matrix3d"}(${a})`}toJSON(){const r=this,{is2D:n,isIdentity:a}=r;return Za(Gr({},r),{is2D:n,isIdentity:a})}multiply(r){return $t(this,r)}translate(r,n,a){const o=r;let u=n,h=a;return u===void 0&&(u=0),h===void 0&&(h=0),$t(this,va(o,u,h))}scale(r,n,a){const o=r;let u=n,h=a;return u===void 0&&(u=r),h===void 0&&(h=1),$t(this,ou(o,u,h))}rotate(r,n,a){let o=r,u=n||0,h=a||0;return typeof r=="number"&&n===void 0&&a===void 0&&(h=o,o=0,u=0),$t(this,au(o,u,h))}rotateAxisAngle(r,n,a,o){if([r,n,a,o].some(u=>Number.isNaN(+u)))throw new TypeError("CSSMatrix: expecting 4 values");return $t(this,su(r,n,a,o))}skewX(r){return $t(this,uu(r))}skewY(r){return $t(this,lu(r))}skew(r,n){return $t(this,ci(r,n))}transformPoint(r){const n=this,a=n.m11*r.x+n.m21*r.y+n.m31*r.z+n.m41*r.w,o=n.m12*r.x+n.m22*r.y+n.m32*r.z+n.m42*r.w,u=n.m13*r.x+n.m23*r.y+n.m33*r.z+n.m43*r.w,h=n.m14*r.x+n.m24*r.y+n.m34*r.z+n.m44*r.w;return r instanceof DOMPoint?new DOMPoint(a,o,u,h):{x:a,y:o,z:u,w:h}}}Object.assign(Tt,{Translate:va,Rotate:au,RotateAxisAngle:su,Scale:ou,SkewX:uu,SkewY:lu,Skew:ci,Multiply:$t,fromArray:Tn,fromMatrix:nu,fromString:iu,toArray:$i});var $0="1.0.3";const ed=$0;Object.assign(Tt,{Version:ed});function td(e){let r=new Tt;const{origin:n}=e,[a,o]=n,{translate:u}=e,{rotate:h}=e,{skew:p}=e,{scale:d}=e;return Array.isArray(u)&&u.every(k=>!Number.isNaN(+k))&&u.some(k=>k!==0)?r=r.translate(...u):typeof u=="number"&&!Number.isNaN(u)&&(r=r.translate(u)),(h||p||d)&&(r=r.translate(a,o),Array.isArray(h)&&h.every(k=>!Number.isNaN(+k))&&h.some(k=>k!==0)?r=r.rotate(...h):typeof h=="number"&&!Number.isNaN(h)&&(r=r.rotate(h)),Array.isArray(p)&&p.every(k=>!Number.isNaN(+k))&&p.some(k=>k!==0)?(r=p[0]?r.skewX(p[0]):r,r=p[1]?r.skewY(p[1]):r):typeof p=="number"&&!Number.isNaN(p)&&(r=r.skewX(p)),Array.isArray(d)&&d.every(k=>!Number.isNaN(+k))&&d.some(k=>k!==1)?r=r.scale(...d):typeof d=="number"&&!Number.isNaN(d)&&(r=r.scale(d)),r=r.translate(-a,-o)),r}function rd(e,r){let n=va(...r);return[,,,n.m44]=r,n=e.multiply(n),[n.m41,n.m42,n.m43,n.m44]}function Rs(e,r,n){const[a,o,u]=n,[h,p,d]=rd(e,[...r,0,1]),k=h-a,C=p-o,R=d-u;return[k*(Math.abs(u)/Math.abs(R)||1)+a,C*(Math.abs(u)/Math.abs(R)||1)+o]}function fu(e,r){let n=0,a=0,o,u,h,p,d,k;const C=$r(e),R=r&&Object.keys(r);if(!r||!R.length)return Ht(C);const D=sr(C);if(!r.origin){const{origin:fe}=Cn;Object.assign(r,{origin:fe})}const F=td(r),{origin:q}=r,G=Gr({},li);let J=[],j=0,se="",re=[];const oe=[];if(!F.isIdentity){for(o=0,h=C.length;o<h;o+=1){J=C[o],C[o]&&([se]=J),oe[o]=se,se==="A"&&(J=Xn(D[o],G),C[o]=Xn(D[o],G),Ji(C,oe,o),D[o]=Xn(D[o],G),Ji(D,oe,o),h=Math.max(C.length,D.length)),J=D[o],j=J.length,G.x1=+J[j-2],G.y1=+J[j-1],G.x2=+J[j-4]||G.x1,G.y2=+J[j-3]||G.y1;const fe={s:C[o],c:C[o][0],x:G.x1,y:G.y1};re=[...re,fe]}return re.map(fe=>{switch(se=fe.c,J=fe.s,se){case"L":case"H":case"V":return[d,k]=Rs(F,[fe.x,fe.y],q),n!==d&&a!==k?J=["L",d,k]:a===k?J=["H",d]:n===d&&(J=["V",k]),n=d,a=k,J;default:for(u=1,p=J.length;u<p;u+=2)[n,a]=Rs(F,[+J[u],+J[u+1]],q),J[u]=n,J[u+1]=a;return J}})}return Ht(C)}function Bs(e,r){const{x:n,y:a}=e,{x:o,y:u}=r,h=n*o+a*u,p=Math.sqrt((n**2+a**2)*(o**2+u**2));return(n*u-a*o<0?-1:1)*Math.acos(h/p)}function nd(e,r,n,a,o,u,h,p,d,k){const{abs:C,sin:R,cos:D,sqrt:F,PI:q}=Math;let G=C(n),J=C(a);const se=(o%360+360)%360*(q/180);if(e===p&&r===d)return{x:e,y:r};if(G===0||J===0)return _n(e,r,p,d,k).point;const re=(e-p)/2,oe=(r-d)/2,fe={x:D(se)*re+R(se)*oe,y:-R(se)*re+D(se)*oe},pe=fe.x**2/G**2+fe.y**2/J**2;pe>1&&(G*=F(pe),J*=F(pe));const Ce=G**2*J**2-G**2*fe.y**2-J**2*fe.x**2,xe=G**2*fe.y**2+J**2*fe.x**2;let Re=Ce/xe;Re=Re<0?0:Re;const Ke=(u!==h?1:-1)*F(Re),Ze={x:Ke*(G*fe.y/J),y:Ke*(-(J*fe.x)/G)},Je={x:D(se)*Ze.x-R(se)*Ze.y+(e+p)/2,y:R(se)*Ze.x+D(se)*Ze.y+(r+d)/2},Ye={x:(fe.x-Ze.x)/G,y:(fe.y-Ze.y)/J},ge=Bs({x:1,y:0},Ye),Qe={x:(-fe.x-Ze.x)/G,y:(-fe.y-Ze.y)/J};let ue=Bs(Ye,Qe);!h&&ue>0?ue-=2*q:h&&ue<0&&(ue+=2*q),ue%=2*q;const ze=ge+ue*k,We=G*D(ze),Te=J*R(ze);return{x:D(se)*We-R(se)*Te+Je.x,y:R(se)*We+D(se)*Te+Je.y}}function id(e,r,n,a,o,u,h,p,d,k){const C=typeof k=="number";let R=e,D=r,F=0,q=[R,D,F],G=[R,D],J=0,j={x:0,y:0},se=[{x:R,y:D}];C&&k===0&&(j={x:R,y:D});const re=300;for(let oe=0;oe<=re;oe+=1){if(J=oe/re,{x:R,y:D}=nd(e,r,n,a,o,u,h,p,d,J),se=[...se,{x:R,y:D}],F+=fi(G,[R,D]),G=[R,D],C&&F>k&&k>q[2]){const fe=(F-k)/(F-q[2]);j={x:G[0]*(1-fe)+q[0]*fe,y:G[1]*(1-fe)+q[1]*fe}}q=[R,D,F]}return C&&k>=F&&(j={x:p,y:d}),{length:F,point:j,min:{x:Math.min(...se.map(oe=>oe.x)),y:Math.min(...se.map(oe=>oe.y))},max:{x:Math.max(...se.map(oe=>oe.x)),y:Math.max(...se.map(oe=>oe.y))}}}function ad(e,r,n,a,o,u,h,p,d){const k=1-d;return{x:k**3*e+3*k**2*d*n+3*k*d**2*o+d**3*h,y:k**3*r+3*k**2*d*a+3*k*d**2*u+d**3*p}}function sd(e,r,n,a,o,u,h,p,d){const k=typeof d=="number";let C=e,R=r,D=0,F=[C,R,D],q=[C,R],G=0,J={x:0,y:0},j=[{x:C,y:R}];k&&d===0&&(J={x:C,y:R});const se=300;for(let re=0;re<=se;re+=1){if(G=re/se,{x:C,y:R}=ad(e,r,n,a,o,u,h,p,G),j=[...j,{x:C,y:R}],D+=fi(q,[C,R]),q=[C,R],k&&D>d&&d>F[2]){const oe=(D-d)/(D-F[2]);J={x:q[0]*(1-oe)+F[0]*oe,y:q[1]*(1-oe)+F[1]*oe}}F=[C,R,D]}return k&&d>=D&&(J={x:h,y:p}),{length:D,point:J,min:{x:Math.min(...j.map(re=>re.x)),y:Math.min(...j.map(re=>re.y))},max:{x:Math.max(...j.map(re=>re.x)),y:Math.max(...j.map(re=>re.y))}}}function od(e,r,n,a,o,u,h){const p=1-h;return{x:p**2*e+2*p*h*n+h**2*o,y:p**2*r+2*p*h*a+h**2*u}}function ud(e,r,n,a,o,u,h){const p=typeof h=="number";let d=e,k=r,C=0,R=[d,k,C],D=[d,k],F=0,q={x:0,y:0},G=[{x:d,y:k}];p&&h===0&&(q={x:d,y:k});const J=300;for(let j=0;j<=J;j+=1){if(F=j/J,{x:d,y:k}=od(e,r,n,a,o,u,F),G=[...G,{x:d,y:k}],C+=fi(D,[d,k]),D=[d,k],p&&C>h&&h>R[2]){const se=(C-h)/(C-R[2]);q={x:D[0]*(1-se)+R[0]*se,y:D[1]*(1-se)+R[1]*se}}R=[d,k,C]}return p&&h>=C&&(q={x:o,y:u}),{length:C,point:q,min:{x:Math.min(...G.map(j=>j.x)),y:Math.min(...G.map(j=>j.y))},max:{x:Math.max(...G.map(j=>j.x)),y:Math.max(...G.map(j=>j.y))}}}function di(e,r){const n=sr(e),a=typeof r=="number";let o,u=[],h,p=0,d=0,k=0,C=0,R,D=[],F=[],q=0,G={x:0,y:0},J=G,j=G,se=G,re=0;for(let oe=0,fe=n.length;oe<fe;oe+=1)R=n[oe],[h]=R,o=h==="M",u=o?u:[p,d,...R.slice(1)],o?([,k,C]=R,G={x:k,y:C},J=G,q=0,a&&r<.001&&(se=G)):h==="L"?{length:q,min:G,max:J,point:j}=_n(...u,(r||0)-re):h==="A"?{length:q,min:G,max:J,point:j}=id(...u,(r||0)-re):h==="C"?{length:q,min:G,max:J,point:j}=sd(...u,(r||0)-re):h==="Q"?{length:q,min:G,max:J,point:j}=ud(...u,(r||0)-re):h==="Z"&&(u=[p,d,k,C],{length:q,min:G,max:J,point:j}=_n(...u,(r||0)-re)),a&&re<r&&re+q>=r&&(se=j),F=[...F,J],D=[...D,G],re+=q,[p,d]=h!=="Z"?R.slice(-2):[k,C];return a&&r>=re&&(se={x:p,y:d}),{length:re,point:se,min:{x:Math.min(...D.map(oe=>oe.x)),y:Math.min(...D.map(oe=>oe.y))},max:{x:Math.max(...F.map(oe=>oe.x)),y:Math.max(...F.map(oe=>oe.y))}}}function hu(e){if(!e)return{x:0,y:0,width:0,height:0,x2:0,y2:0,cx:0,cy:0,cz:0};const{min:{x:r,y:n},max:{x:a,y:o}}=di(e),u=a-r,h=o-n;return{width:u,height:h,x:r,y:n,x2:a,y2:o,cx:r+u/2,cy:n+h/2,cz:Math.max(u,h)+Math.min(u,h)/2}}function Yr(e){return di(e).length}function dn(e,r){return di(e,r).point}class cu{constructor(r,n){const a=n||{},o=typeof r=="undefined";if(o||!r.length)throw TypeError(`${tr}: "pathValue" is ${o?"undefined":"empty"}`);const u=_r(r);if(typeof u=="string")throw TypeError(u);this.segments=u;const{width:h,height:p,cx:d,cy:k,cz:C}=this.getBBox(),{round:R,origin:D}=a;let F;if(R==="auto"){const G=`${Math.floor(Math.max(h,p))}`.length;F=G>=4?0:4-G}else Number.isInteger(R)||R==="off"?F=R:{round:F}=Cn;let q;if(Array.isArray(D)&&D.length>=2){const[G,J,j]=D.map(Number);q=[Number.isNaN(G)?d:G,Number.isNaN(J)?k:J,Number.isNaN(j)?C:j]}else q=[d,k,C];return this.round=F,this.origin=q,this}getBBox(){return hu(this.segments)}getTotalLength(){return Yr(this.segments)}getPointAtLength(r){return dn(this.segments,r)}toAbsolute(){const{segments:r}=this;return this.segments=$r(r),this}toRelative(){const{segments:r}=this;return this.segments=pa(r),this}toCurve(){const{segments:r}=this;return this.segments=hi(r),this}reverse(r){this.toAbsolute();const{segments:n}=this,a=tu(n),o=a.length>1?a:0,u=o&&Ht(o).map((p,d)=>r?d?Yn(p):_r(p):Yn(p));let h=[];return o?h=u.flat(1):h=r?n:Yn(n),this.segments=Ht(h),this}normalize(){const{segments:r}=this;return this.segments=sr(r),this}optimize(){const{segments:r}=this;return this.segments=ru(r,this.round),this}transform(r){if(!r||typeof r!="object"||typeof r=="object"&&!["translate","rotate","skew","scale"].some(d=>d in r))return this;const n={};Object.keys(r).forEach(d=>{n[d]=Array.isArray(r[d])?[...r[d]]:Number(r[d])});const{segments:a}=this,[o,u,h]=this.origin,{origin:p}=n;if(Array.isArray(p)&&p.length>=2){const[d,k,C]=p.map(Number);n.origin=[Number.isNaN(d)?o:d,Number.isNaN(k)?u:k,C||h]}else n.origin=[o,u,h];return this.segments=fu(a,n),this}flipX(){return this.transform({rotate:[0,180,0]}),this}flipY(){return this.transform({rotate:[180,0,0]}),this}toString(){return Or(this.segments,this.round)}}function ld(e,r,n,a,o,u,h,p){return 3*((p-r)*(n+o)-(h-e)*(a+u)+a*(e-o)-n*(r-u)+p*(o+e/3)-h*(u+r/3))/20}function du(e){let r=0,n=0,a=0;return hi(e).map(o=>{switch(o[0]){case"M":return[,r,n]=o,0;default:return a=ld(r,n,...o.slice(1)),[r,n]=o.slice(-2),a}}).reduce((o,u)=>o+u,0)}function fd(e){return du(hi(e))>=0}function ma(e,r){const n=_r(e);if(typeof n=="string")throw TypeError(n);let a=[...n],o=Yr(a),u=a.length-1,h=0,p=0,d=n[0];const[k,C]=d.slice(-2),R={x:k,y:C};if(u<=0||!r||!Number.isFinite(r))return{segment:d,index:0,length:p,point:R,lengthAtSegment:h};if(r>=o)return a=n.slice(0,-1),h=Yr(a),p=o-h,{segment:n[u],index:u,length:p,lengthAtSegment:h};const D=[];for(;u>0;)d=a[u],a=a.slice(0,-1),h=Yr(a),p=o-h,o=h,D.push({segment:d,index:u,length:p,lengthAtSegment:h}),u-=1;return D.find(({lengthAtSegment:F})=>F<=r)}function pi(e,r){const n=_r(e),a=sr(n),o=Yr(n),u=oe=>{const fe=oe.x-r.x,pe=oe.y-r.y;return fe*fe+pe*pe};let h=8,p,d=0,k,C=0,R=1/0;for(let oe=0;oe<=o;oe+=h)p=dn(a,oe),d=u(p),d<R&&(k=p,C=oe,R=d);h/=2;let D,F,q=0,G=0,J=0,j=0;for(;h>.5;)q=C-h,D=dn(a,q),J=u(D),G=C+h,F=dn(a,G),j=u(F),q>=0&&J<R?(k=D,C=q,R=J):G<=o&&j<R?(k=F,C=G,R=j):h/=2;const se=ma(n,C),re=Math.sqrt(R);return{closest:k,distance:re,segment:se}}function hd(e,r){return pi(e,r).closest}function cd(e,r){return pi(e,r).segment}function dd(e,r){return ma(e,r).segment}function pd(e,r){const{distance:n}=pi(e,r);return Math.abs(n)<.001}function pu(e){if(typeof e!="string")return!1;const r=new Qo(e);for(cn(r);r.index<r.max&&!r.err.length;)jo(r);return!r.err.length&&"mM".includes(r.segments[0][0])}const Ns={line:["x1","y1","x2","y2"],circle:["cx","cy","r"],ellipse:["cx","cy","rx","ry"],rect:["width","height","x","y","rx","ry"],polygon:["points"],polyline:["points"],glyph:["d"]};function gd(e){const{x1:r,y1:n,x2:a,y2:o}=e;return[["M",r,n],["L",a,o]]}function vd(e){const r=[],n=(e.points||"").trim().split(/[\s|,]/).map(Number);let a=0;for(;a<n.length;)r.push([a?"L":"M",n[a],n[a+1]]),a+=2;return e.type==="polygon"?[...r,["z"]]:r}function md(e){const{cx:r,cy:n,r:a}=e;return[["M",r-a,n],["a",a,a,0,1,0,2*a,0],["a",a,a,0,1,0,-2*a,0]]}function _d(e){const{cx:r,cy:n,rx:a,ry:o}=e;return[["M",r-a,n],["a",a,o,0,1,0,2*a,0],["a",a,o,0,1,0,-2*a,0]]}function yd(e){const r=+e.x||0,n=+e.y||0,a=+e.width,o=+e.height;let u=+e.rx,h=+e.ry;return u||h?(u=u||h,h=h||u,u*2>a&&(u-=(u*2-a)/2),h*2>o&&(h-=(h*2-o)/2),[["M",r+u,n],["h",a-u*2],["s",u,0,u,h],["v",o-h*2],["s",0,h,-u,h],["h",-a+u*2],["s",-u,0,-u,-h],["v",-o+h*2],["s",0,-h,u,-h]]):[["M",r,n],["h",a],["v",o],["H",r],["Z"]]}function xd(e,r){const n=Object.keys(Ns),{tagName:a}=e;if(a&&!n.some(C=>a===C))throw TypeError(`${tr}: "${a}" is not SVGElement`);const o=document.createElementNS("http://www.w3.org/2000/svg","path"),u=a||e.type,h={};h.type=u;const p=Ns[u];a?(p.forEach(C=>{h[C]=e.getAttribute(C)}),Object.values(e.attributes).forEach(({name:C,value:R})=>{p.includes(C)||o.setAttribute(C,R)})):(Object.assign(h,e),Object.keys(h).forEach(C=>{!p.includes(C)&&C!=="type"&&o.setAttribute(C.replace(/[A-Z]/g,R=>`-${R.toLowerCase()}`),h[C])}));let d;const{round:k}=Cn;return u==="circle"?d=Or(md(h),k):u==="ellipse"?d=Or(_d(h),k):["polyline","polygon"].includes(u)?d=Or(vd(h),k):u==="rect"?d=Or(yd(h),k):u==="line"?d=Or(gd(h),k):u==="glyph"&&(d=a?e.getAttribute("d"):e.d),pu(d)?(o.setAttribute("d",d),r&&a&&(e.before(o,e),e.remove()),o):!1}function bd(e){const r=e.slice(1).map((n,a,o)=>a?[...o[a-1].slice(-2),...n.slice(1)]:[...e[0].slice(1),...n.slice(1)]).map(n=>n.map((a,o)=>n[n.length-o-2*(1-o%2)])).reverse();return[["M",...r[0].slice(0,2)],...r.map(n=>["C",...n.slice(2)])]}const Sd={CSSMatrix:Tt,parsePathString:_r,isPathArray:ui,isCurveArray:$o,isAbsoluteArray:da,isRelativeArray:Ko,isNormalizedArray:ga,isValidPath:pu,pathToAbsolute:$r,pathToRelative:pa,pathToCurve:hi,pathToString:Or,getDrawDirection:fd,getPathArea:du,getPathBBox:hu,pathLengthFactory:di,getTotalLength:Yr,getPointAtLength:dn,getClosestPoint:hd,getSegmentOfPoint:cd,getPropertiesAtPoint:pi,getPropertiesAtLength:ma,getSegmentAtLength:dd,isPointInStroke:pd,clonePath:Ht,splitPath:tu,fixPath:Jo,roundPath:ni,optimizePath:ru,reverseCurve:bd,reversePath:Yn,normalizePath:sr,transformPath:fu,shapeToPath:xd,options:Cn};var wd="1.0.4";const Cd=wd;Object.assign(cu,Sd,{Version:Cd});function Td(e){return{scale_x:un(e.scale_x),scale_y:un(e.scale_y),rotation:un(e.rotation)}}function kd(e,r,n=new Pt.Point(0,0)){e.scale(r.scale_x,r.scale_y,n),e.rotate(r.rotation,n)}function Fd(e){return new Pt.Path.Rectangle(e)}function gu(e,r=.56,n=!1,a="NE"){const o=e.topRight;let u;n?u=e.topRight:u=e.bottomLeft;let h=e.topLeft,p=h.add(o.subtract(h).multiply(r)),d=e.bottomRight,k=d.add(o.subtract(d).multiply(r));const C=new Pt.Path;return C.moveTo(h),C.cubicCurveTo(p,k,d),C.lineTo(u),C.closePath(),(a=="SE"||a=="SW")&&C.scale(1,-1,e.center),(a=="NW"||a=="SW")&&C.scale(-1,1,e.center),C}function Ed(e,r=.56,n=!1){const a=new Pt.Size(e.width/2,e.height/2),o={NE:e.topCenter,NW:e.topLeft,SE:e.center,SW:e.leftCenter},u=[];for(let h of yl){const p=new Pt.Rectangle(o[h],a);u.push(gu(p,r,n,h))}return u}function vu(e){return e.split(/\r?\n/)}function Ad(e){const r=[],n=vu(e);n.reverse();for(let[a,o]of n.entries()){const u=o.split("");for(let[h,p]of u.entries())r.push({symbol:p,point:{x:h,y:a}})}return r}function Od(e,r){let n=[];if(r.shape.kind==on.Rectangle)n.push(Fd(e));else if(r.shape.kind==on.Ellipse)n.push(...Ed(e,un(r.shape.props.squaring),Ya(r.shape.props.negative)));else if(r.shape.kind==on.Quarter)n.push(gu(e,un(r.shape.props.squaring),Ya(r.shape.props.negative),xl(r.shape.props.orientation)));else if(r.shape.kind==on.Void)n.push(new Pt.Path);else throw new Error("unknownShape");return n}function Pd(e,r){for(let n of e.rules)if(n.symbol==r)return n;throw new Error("missingSymbol")}function Ld(e,r,n){const a=r*n,o=r,u=a*e.point.x,h=o*e.point.y,p=new Pt.Point(u,h),d=new Pt.Size(a,o);return new Pt.Rectangle(p,d)}function Id(e,r){const a=vu(e)[0].length;return r*a}function Md(e,r=!1){const a=e.exportSVG({asString:!1}).getAttribute("d");return a?new cu(a,{round:0}).optimize().normalize().toAbsolute().segments:[]}function Ud(e){const r=[];if(!e.length)return[];for(let n of e)n[0]=="Z"&&r.push({type:n[0]}),(n[0]=="L"||n[0]=="M")&&r.push({type:n[0],x:n[1],y:n[2]}),n[0]=="C"&&r.push({type:n[0],x1:n[1],y1:n[2],x2:n[3],y2:n[4],x:n[5],y:n[6]});return r}function Dd(e,r,n=0){for(let a of r)a.type=="M"?e.moveTo(a.x,a.y+n):a.type=="L"?e.lineTo(a.x,a.y+n):a.type=="Z"?e.close():a.type=="C"&&e.bezierCurveTo(a.x1,a.y1+n,a.x2,a.y2+n,a.x,a.y+n);return e}function Rd(e){if(ea[e])return parseInt(ea[e],16);throw new Error("glyphNameNotCorrect")}const ea={A:"0041",AE:"00C6",AEacute:"01FC",Aacute:"00C1",Abreve:"0102",Acircumflex:"00C2",Adieresis:"00C4",Agrave:"00C0",Alpha:"0391",Alphatonos:"0386",Amacron:"0100",Aogonek:"0104",Aring:"00C5",Aringacute:"01FA",Atilde:"00C3",B:"0042",Beta:"0392",C:"0043",Cacute:"0106",Ccaron:"010C",Ccedilla:"00C7",Ccircumflex:"0108",Cdotaccent:"010A",Chi:"03A7",D:"0044",Dcaron:"010E",Dcroat:"0110",Delta:"2206",E:"0045",Eacute:"00C9",Ebreve:"0114",Ecaron:"011A",Ecircumflex:"00CA",Edieresis:"00CB",Edotaccent:"0116",Egrave:"00C8",Emacron:"0112",Eng:"014A",Eogonek:"0118",Epsilon:"0395",Epsilontonos:"0388",Eta:"0397",Etatonos:"0389",Eth:"00D0",Euro:"20AC",F:"0046",G:"0047",Gamma:"0393",Gbreve:"011E",Gcaron:"01E6",Gcircumflex:"011C",Gdotaccent:"0120",H:"0048",H18533:"25CF",H18543:"25AA",H18551:"25AB",H22073:"25A1",Hbar:"0126",Hcircumflex:"0124",I:"0049",IJ:"0132",Iacute:"00CD",Ibreve:"012C",Icircumflex:"00CE",Idieresis:"00CF",Idotaccent:"0130",Ifraktur:"2111",Igrave:"00CC",Imacron:"012A",Iogonek:"012E",Iota:"0399",Iotadieresis:"03AA",Iotatonos:"038A",Itilde:"0128",J:"004A",Jcircumflex:"0134",K:"004B",Kappa:"039A",L:"004C",Lacute:"0139",Lambda:"039B",Lcaron:"013D",Ldot:"013F",Lslash:"0141",M:"004D",Mu:"039C",N:"004E",Nacute:"0143",Ncaron:"0147",Ntilde:"00D1",Nu:"039D",O:"004F",OE:"0152",Oacute:"00D3",Obreve:"014E",Ocircumflex:"00D4",Odieresis:"00D6",Ograve:"00D2",Ohorn:"01A0",Ohungarumlaut:"0150",Omacron:"014C",Omega:"2126",Omegatonos:"038F",Omicron:"039F",Omicrontonos:"038C",Oslash:"00D8",Oslashacute:"01FE",Otilde:"00D5",P:"0050",Phi:"03A6",Pi:"03A0",Psi:"03A8",Q:"0051",R:"0052",Racute:"0154",Rcaron:"0158",Rfraktur:"211C",Rho:"03A1",S:"0053",SF010000:"250C",SF020000:"2514",SF030000:"2510",SF040000:"2518",SF050000:"253C",SF060000:"252C",SF070000:"2534",SF080000:"251C",SF090000:"2524",SF100000:"2500",SF110000:"2502",SF190000:"2561",SF200000:"2562",SF210000:"2556",SF220000:"2555",SF230000:"2563",SF240000:"2551",SF250000:"2557",SF260000:"255D",SF270000:"255C",SF280000:"255B",SF360000:"255E",SF370000:"255F",SF380000:"255A",SF390000:"2554",SF400000:"2569",SF410000:"2566",SF420000:"2560",SF430000:"2550",SF440000:"256C",SF450000:"2567",SF460000:"2568",SF470000:"2564",SF480000:"2565",SF490000:"2559",SF500000:"2558",SF510000:"2552",SF520000:"2553",SF530000:"256B",SF540000:"256A",Sacute:"015A",Scaron:"0160",Scedilla:"015E",Scircumflex:"015C",Sigma:"03A3",T:"0054",Tau:"03A4",Tbar:"0166",Tcaron:"0164",Theta:"0398",Thorn:"00DE",U:"0055",Uacute:"00DA",Ubreve:"016C",Ucircumflex:"00DB",Udieresis:"00DC",Ugrave:"00D9",Uhorn:"01AF",Uhungarumlaut:"0170",Umacron:"016A",Uogonek:"0172",Upsilon:"03A5",Upsilon1:"03D2",Upsilondieresis:"03AB",Upsilontonos:"038E",Uring:"016E",Utilde:"0168",V:"0056",W:"0057",Wacute:"1E82",Wcircumflex:"0174",Wdieresis:"1E84",Wgrave:"1E80",X:"0058",Xi:"039E",Y:"0059",Yacute:"00DD",Ycircumflex:"0176",Ydieresis:"0178",Ygrave:"1EF2",Z:"005A",Zacute:"0179",Zcaron:"017D",Zdotaccent:"017B",Zeta:"0396",a:"0061",aacute:"00E1",abreve:"0103",acircumflex:"00E2",acute:"00B4",acutecomb:"0301",adieresis:"00E4",ae:"00E6",aeacute:"01FD",agrave:"00E0",aleph:"2135",alpha:"03B1",alphatonos:"03AC",amacron:"0101",ampersand:"0026",angle:"2220",angleleft:"2329",angleright:"232A",anoteleia:"0387",aogonek:"0105",approxequal:"2248",aring:"00E5",aringacute:"01FB",arrowboth:"2194",arrowdblboth:"21D4",arrowdbldown:"21D3",arrowdblleft:"21D0",arrowdblright:"21D2",arrowdblup:"21D1",arrowdown:"2193",arrowleft:"2190",arrowright:"2192",arrowup:"2191",arrowupdn:"2195",arrowupdnbse:"21A8",asciicircum:"005E",asciitilde:"007E",asterisk:"002A",asteriskmath:"2217",at:"0040",atilde:"00E3",b:"0062",backslash:"005C",bar:"007C",beta:"03B2",block:"2588",braceleft:"007B",braceright:"007D",bracketleft:"005B",bracketright:"005D",breve:"02D8",brokenbar:"00A6",bullet:"2022",c:"0063",cacute:"0107",caron:"02C7",carriagereturn:"21B5",ccaron:"010D",ccedilla:"00E7",ccircumflex:"0109",cdotaccent:"010B",cedilla:"00B8",cent:"00A2",chi:"03C7",circle:"25CB",circlemultiply:"2297",circleplus:"2295",circumflex:"02C6",club:"2663",colon:"003A",colonmonetary:"20A1",comma:"002C",congruent:"2245",copyright:"00A9",currency:"00A4",d:"0064",dagger:"2020",daggerdbl:"2021",dcaron:"010F",dcroat:"0111",degree:"00B0",delta:"03B4",diamond:"2666",dieresis:"00A8",dieresistonos:"0385",divide:"00F7",dkshade:"2593",dnblock:"2584",dollar:"0024",dong:"20AB",dotaccent:"02D9",dotbelowcomb:"0323",dotlessi:"0131",dotmath:"22C5",e:"0065",eacute:"00E9",ebreve:"0115",ecaron:"011B",ecircumflex:"00EA",edieresis:"00EB",edotaccent:"0117",egrave:"00E8",eight:"0038",element:"2208",ellipsis:"2026",emacron:"0113",emdash:"2014",emptyset:"2205",endash:"2013",eng:"014B",eogonek:"0119",epsilon:"03B5",epsilontonos:"03AD",equal:"003D",equivalence:"2261",estimated:"212E",eta:"03B7",etatonos:"03AE",eth:"00F0",exclam:"0021",exclamdbl:"203C",exclamdown:"00A1",existential:"2203",f:"0066",female:"2640",figuredash:"2012",filledbox:"25A0",filledrect:"25AC",five:"0035",fiveeighths:"215D",florin:"0192",four:"0034",fraction:"2044",franc:"20A3",g:"0067",gamma:"03B3",gbreve:"011F",gcaron:"01E7",gcircumflex:"011D",gdotaccent:"0121",germandbls:"00DF",gradient:"2207",grave:"0060",gravecomb:"0300",greater:"003E",greaterequal:"2265",guillemotleft:"00AB",guillemotright:"00BB",guilsinglleft:"2039",guilsinglright:"203A",h:"0068",hbar:"0127",hcircumflex:"0125",heart:"2665",hookabovecomb:"0309",house:"2302",hungarumlaut:"02DD",hyphen:"002D",i:"0069",iacute:"00ED",ibreve:"012D",icircumflex:"00EE",idieresis:"00EF",igrave:"00EC",ij:"0133",imacron:"012B",infinity:"221E",integral:"222B",integralbt:"2321",integraltp:"2320",intersection:"2229",invbullet:"25D8",invcircle:"25D9",invsmileface:"263B",iogonek:"012F",iota:"03B9",iotadieresis:"03CA",iotadieresistonos:"0390",iotatonos:"03AF",itilde:"0129",j:"006A",jcircumflex:"0135",k:"006B",kappa:"03BA",kgreenlandic:"0138",l:"006C",lacute:"013A",lambda:"03BB",lcaron:"013E",ldot:"0140",less:"003C",lessequal:"2264",lfblock:"258C",lira:"20A4",logicaland:"2227",logicalnot:"00AC",logicalor:"2228",longs:"017F",lozenge:"25CA",lslash:"0142",ltshade:"2591",m:"006D",macron:"00AF",male:"2642",minus:"2212",minute:"2032",mu:"00B5",multiply:"00D7",musicalnote:"266A",musicalnotedbl:"266B",n:"006E",nacute:"0144",napostrophe:"0149",ncaron:"0148",nine:"0039",notelement:"2209",notequal:"2260",notsubset:"2284",ntilde:"00F1",nu:"03BD",numbersign:"0023",o:"006F",oacute:"00F3",obreve:"014F",ocircumflex:"00F4",odieresis:"00F6",oe:"0153",ogonek:"02DB",ograve:"00F2",ohorn:"01A1",ohungarumlaut:"0151",omacron:"014D",omega:"03C9",omega1:"03D6",omegatonos:"03CE",omicron:"03BF",omicrontonos:"03CC",one:"0031",onedotenleader:"2024",oneeighth:"215B",onehalf:"00BD",onequarter:"00BC",onethird:"2153",openbullet:"25E6",ordfeminine:"00AA",ordmasculine:"00BA",orthogonal:"221F",oslash:"00F8",oslashacute:"01FF",otilde:"00F5",p:"0070",paragraph:"00B6",parenleft:"0028",parenright:"0029",partialdiff:"2202",percent:"0025",period:"002E",periodcentered:"00B7",perpendicular:"22A5",perthousand:"2030",peseta:"20A7",phi:"03C6",phi1:"03D5",pi:"03C0",plus:"002B",plusminus:"00B1",prescription:"211E",product:"220F",propersubset:"2282",propersuperset:"2283",proportional:"221D",psi:"03C8",q:"0071",question:"003F",questiondown:"00BF",quotedbl:"0022",quotedblbase:"201E",quotedblleft:"201C",quotedblright:"201D",quoteleft:"2018",quotereversed:"201B",quoteright:"2019",quotesinglbase:"201A",quotesingle:"0027",r:"0072",racute:"0155",radical:"221A",rcaron:"0159",reflexsubset:"2286",reflexsuperset:"2287",registered:"00AE",revlogicalnot:"2310",rho:"03C1",ring:"02DA",rtblock:"2590",s:"0073",sacute:"015B",scaron:"0161",scedilla:"015F",scircumflex:"015D",second:"2033",section:"00A7",semicolon:"003B",seven:"0037",seveneighths:"215E",shade:"2592",sigma:"03C3",sigma1:"03C2",similar:"223C",six:"0036",slash:"002F",smileface:"263A",space:"0020",spade:"2660",sterling:"00A3",suchthat:"220B",summation:"2211",sun:"263C",t:"0074",tau:"03C4",tbar:"0167",tcaron:"0165",therefore:"2234",theta:"03B8",theta1:"03D1",thorn:"00FE",three:"0033",threeeighths:"215C",threequarters:"00BE",tilde:"02DC",tildecomb:"0303",tonos:"0384",trademark:"2122",triagdn:"25BC",triaglf:"25C4",triagrt:"25BA",triagup:"25B2",two:"0032",twodotenleader:"2025",twothirds:"2154",u:"0075",uacute:"00FA",ubreve:"016D",ucircumflex:"00FB",udieresis:"00FC",ugrave:"00F9",uhorn:"01B0",uhungarumlaut:"0171",umacron:"016B",underscore:"005F",underscoredbl:"2017",union:"222A",universal:"2200",uogonek:"0173",upblock:"2580",upsilon:"03C5",upsilondieresis:"03CB",upsilondieresistonos:"03B0",upsilontonos:"03CD",uring:"016F",utilde:"0169",v:"0076",w:"0077",wacute:"1E83",wcircumflex:"0175",wdieresis:"1E85",weierstrass:"2118",wgrave:"1E81",x:"0078",xi:"03BE",y:"0079",yacute:"00FD",ycircumflex:"0177",ydieresis:"00FF",yen:"00A5",ygrave:"1EF3",z:"007A",zacute:"017A",zcaron:"017E",zdotaccent:"017C",zero:"0030",zeta:"03B6"};function Bd(e,r,n=100,a=1,o=1){const u=new Pt.Size(n,n);Pt.setup(u);const h=[],p=Ad(e.structure);for(let R of p){const D=Pd(r,R.symbol);if(D.shape.kind!=on.Void){const F=Ld(R,n,a),q=Od(F,D),G=Td(D.shape.props);for(let J of q)kd(J,G,F.center);h.push(...q)}}const d=new fn.Path;for(let R of h){const D=Md(R),F=Ud(D);Dd(d,F,-n*o)}const k=e.name,C=Id(e.structure,n*a);return Pt.project.clear(),new fn.Glyph({name:k,unicode:parseInt(ea[k],16),advanceWidth:C,path:d})}function zs(e,r,n){const o=Math.round(1e3/n.height),u=[],h=new fn.Glyph({name:".notdef",unicode:0,advanceWidth:o*4,path:new fn.Path});u.push(h);for(let p of r)u.push(Bd(p,e,o,1,n.baseline));return new fn.Font({familyName:"GTL",styleName:e.name,unitsPerEm:1e3,ascender:o*(n.height-n.baseline),descender:-o*n.baseline,glyphs:u})}function Nd(e){let r;return{c(){r=ii("\u2193 Download")},l(n){r=ai(n,"\u2193 Download")},m(n,a){ir(n,r,a)},d(n){n&&St(r)}}}function zd(e){let r,n,a,o=e[0].names.fullName.en+"",u,h,p,d,k,C,R,D;return p=new bl({props:{$$slots:{default:[Nd]},$$scope:{ctx:e}}}),p.$on("click",e[5]),{c(){r=Pr("div"),n=Pr("div"),a=Pr("h2"),u=ii(o),h=jn(),Xs(p.$$.fragment),d=jn(),k=Pr("canvas"),this.h()},l(F){r=Lr(F,"DIV",{});var q=Zr(r);n=Lr(q,"DIV",{class:!0});var G=Zr(n);a=Lr(G,"H2",{class:!0});var J=Zr(a);u=ai(J,o),J.forEach(St),h=Qn(G),Ys(p.$$.fragment,G),G.forEach(St),d=Qn(q),k=Lr(q,"CANVAS",{width:!0,height:!0}),Zr(k).forEach(St),q.forEach(St),this.h()},h(){er(a,"class","text-lg font-mono"),er(n,"class","flex flex-row flex-nowrap items-center space-x-8"),er(k,"width",e[1]),er(k,"height",e[2])},m(F,q){ir(F,r,q),Fr(r,n),Fr(n,a),Fr(a,u),Fr(n,h),js(p,n,null),Fr(r,d),Fr(r,k),C=!0,R||(D=ll(e[3].call(null,k)),R=!0)},p(F,[q]){(!C||q&1)&&o!==(o=F[0].names.fullName.en+"")&&fl(u,o);const G={};q&128&&(G.$$scope={dirty:q,ctx:F}),p.$set(G),(!C||q&2)&&er(k,"width",F[1]),(!C||q&4)&&er(k,"height",F[2])},i(F){C||(Ir(p.$$.fragment,F),C=!0)},o(F){jr(p.$$.fragment,F),C=!1},d(F){F&&St(r),Qs(p),R=!1,D()}}}function Gd(e,r,n){let a;qn(e,$s,C=>n(6,a=C));let{font:o}=r,{text:u}=r,{canvasWidth:h=600}=r,{canvasHeight:p=200}=r;function d(C){const R=C.getContext("2d");console.log(o.descender);const D=p/5*3,F=D/a.height,q=p-F*a.baseline;o.draw(R,u,0,q,D,{kerning:!1})}function k(C){hl.call(this,e,C)}return e.$$set=C=>{"font"in C&&n(0,o=C.font),"text"in C&&n(4,u=C.text),"canvasWidth"in C&&n(1,h=C.canvasWidth),"canvasHeight"in C&&n(2,p=C.canvasHeight)},[o,h,p,d,u,k]}class Hd extends qs{constructor(r){super(),Ws(this,r,Gd,zd,Zs,{font:0,text:4,canvasWidth:1,canvasHeight:2})}}function Gs(e,r,n){const a=e.slice();return a[8]=r[n],a[10]=n,a}function Hs(e){let r;return{c(){r=ii("loading")},l(n){r=ai(n,"loading")},m(n,a){ir(n,r,a)},d(n){n&&St(r)}}}function Vd(e){let r,n;return{c(){r=Pr("p"),n=ii("Crea glifi e sintassi per vedere qui i risultati!"),this.h()},l(a){r=Lr(a,"P",{class:!0});var o=Zr(r);n=ai(o,"Crea glifi e sintassi per vedere qui i risultati!"),o.forEach(St),this.h()},h(){er(r,"class","font-mono w-full border-2 border-slate-200 text-slate-300 p-12")},m(a,o){ir(a,r,o),Fr(r,n)},p:Ii,i:Ii,o:Ii,d(a){a&&St(r)}}}function qd(e){let r,n,a=e[0],o=[];for(let h=0;h<a.length;h+=1)o[h]=Vs(Gs(e,a,h));const u=h=>jr(o[h],1,1,()=>{o[h]=null});return{c(){for(let h=0;h<o.length;h+=1)o[h].c();r=Xa()},l(h){for(let p=0;p<o.length;p+=1)o[p].l(h);r=Xa()},m(h,p){for(let d=0;d<o.length;d+=1)o[d].m(h,p);ir(h,r,p),n=!0},p(h,p){if(p&27){a=h[0];let d;for(d=0;d<a.length;d+=1){const k=Gs(h,a,d);o[d]?(o[d].p(k,p),Ir(o[d],1)):(o[d]=Vs(k),o[d].c(),Ir(o[d],1),o[d].m(r.parentNode,r))}for(Js(),d=a.length;d<o.length;d+=1)u(d);Ks()}},i(h){if(!n){for(let p=0;p<a.length;p+=1)Ir(o[p]);n=!0}},o(h){o=o.filter(Boolean);for(let p=0;p<o.length;p+=1)jr(o[p]);n=!1},d(h){dl(o,h),h&&St(r)}}}function Vs(e){let r,n,a,o;function u(){return e[5](e[10])}return r=new Hd({props:{font:e[8],text:e[1]}}),r.$on("click",u),{c(){Xs(r.$$.fragment),n=jn(),a=Pr("hr"),this.h()},l(h){Ys(r.$$.fragment,h),n=Qn(h),a=Lr(h,"HR",{class:!0}),this.h()},h(){er(a,"class","my-8")},m(h,p){js(r,h,p),ir(h,n,p),ir(h,a,p),o=!0},p(h,p){e=h;const d={};p&1&&(d.font=e[8]),p&2&&(d.text=e[1]),r.$set(d)},i(h){o||(Ir(r.$$.fragment,h),o=!0)},o(h){jr(r.$$.fragment,h),o=!1},d(h){Qs(r,h),h&&St(n),h&&St(a)}}}function Wd(e){let r,n,a,o,u,h=e[2]&&Hs();const p=[qd,Vd],d=[];function k(C,R){return C[0].length?0:1}return a=k(e),o=d[a]=p[a](e),{c(){h&&h.c(),r=jn(),n=Pr("div"),o.c(),this.h()},l(C){h&&h.l(C),r=Qn(C),n=Lr(C,"DIV",{class:!0});var R=Zr(n);o.l(R),R.forEach(St),this.h()},h(){er(n,"class","p-8")},m(C,R){h&&h.m(C,R),ir(C,r,R),ir(C,n,R),d[a].m(n,null),u=!0},p(C,[R]){C[2]?h||(h=Hs(),h.c(),h.m(r.parentNode,r)):h&&(h.d(1),h=null);let D=a;a=k(C),a===D?d[a].p(C,R):(Js(),jr(d[D],1,1,()=>{d[D]=null}),Ks(),o=d[a],o?o.p(C,R):(o=d[a]=p[a](C),o.c()),Ir(o,1),o.m(n,null))},i(C){u||(Ir(o),u=!0)},o(C){jr(o),u=!1},d(C){h&&h.d(C),C&&St(r),C&&St(n),d[a].d()}}}function Zd(e,r,n){let a,o,u;qn(e,$s,R=>n(6,a=R)),qn(e,pl,R=>n(7,o=R)),qn(e,gl,R=>n(3,u=R));let h=[],p="";cl(()=>{if(!o.length)return;const R=[];for(let D=0;D<3&&o[D];D++)R.push(o[D]);for(let D of R)try{const F=Rd(D.name);n(1,p+=String.fromCharCode(F))}catch(F){console.log(F)}for(let D of u)if(D&&D.rules.length){const F=zs(D,R,a);n(0,h=[...h,F])}});let d=!1;function k(R){n(2,d=!0),zs(R,o,a).download(),n(2,d=!1)}return[h,p,d,u,k,R=>{k(u[R])}]}class $d extends qs{constructor(r){super(),Ws(this,r,Zd,Wd,Zs,{})}}export{$d as default};
