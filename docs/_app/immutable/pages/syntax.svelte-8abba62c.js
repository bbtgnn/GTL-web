import{S as ee,i as te,s as ne,e as T,t as Q,c as U,a as F,h as C,d as h,g as w,L as E,j as ge,b as I,a6 as et,a7 as Ie,O as _e,R as $e,a8 as tt,E as Z,a9 as nt,_ as lt,aa as at,U as L,V as z,w as S,x as V,y as D,P as A,q as $,o as b,B as q,k as R,m as B,n as H,p as J,l as M,ab as Se,T as Me,K as fe,Q as ue}from"../chunks/index-14642c17.js";import{w as He}from"../chunks/index-f0af3546.js";import{V as le,S as Y,v as rt,j as it,k as st,l as ot,m as ut,c as ft,n as pt}from"../chunks/shapes-f7969361.js";import{n as de,a as oe,g as ct}from"../chunks/index.browser-89930ef9.js";import{S as _t,_ as dt,D as mt,a as gt}from"../chunks/deleteButton-b10f0627.js";import{I as Je,B as Xe,F as $t,a as ht}from"../chunks/fontGenerator-50922cd2.js";import{I as me}from"../chunks/inputNumber-f6a52da6.js";import{L as x}from"../chunks/label-45dffe90.js";import{G as vt}from"../chunks/glyphsField-a1f0ab15.js";function Ve(r,e,n){const t=r.slice();return t[6]=e[n],t}function De(r,e){let n,t=e[6].label+"",a,i;return{key:r,first:null,c(){n=T("option"),a=Q(t),this.h()},l(l){n=U(l,"OPTION",{});var o=F(n);a=C(o,t),o.forEach(h),this.h()},h(){n.__value=i=e[6].value,n.value=n.__value,this.first=n},m(l,o){w(l,n,o),E(n,a)},p(l,o){e=l,o&2&&t!==(t=e[6].label+"")&&ge(a,t),o&2&&i!==(i=e[6].value)&&(n.__value=i,n.value=n.__value)},d(l){l&&h(n)}}}function bt(r){let e,n=[],t=new Map,a,i,l=r[1];const o=s=>s[6].label;for(let s=0;s<l.length;s+=1){let u=Ve(r,l,s),f=o(u);t.set(f,n[s]=De(f,u))}return{c(){e=T("select");for(let s=0;s<n.length;s+=1)n[s].c();this.h()},l(s){e=U(s,"SELECT",{class:!0,name:!0,id:!0});var u=F(e);for(let f=0;f<n.length;f+=1)n[f].l(u);u.forEach(h),this.h()},h(){I(e,"class","block h-10 bg-slate-200 font-mono rounded-none"),I(e,"name",r[2]),I(e,"id",r[2]),r[0]===void 0&&et(()=>r[4].call(e))},m(s,u){w(s,e,u);for(let f=0;f<n.length;f+=1)n[f].m(e,null);Ie(e,r[0]),a||(i=[_e(e,"change",r[4]),_e(e,"change",r[3])],a=!0)},p(s,[u]){u&2&&(l=s[1],n=$e(n,u,o,1,s,l,t,e,tt,De,null,Ve)),u&4&&I(e,"name",s[2]),u&4&&I(e,"id",s[2]),u&3&&Ie(e,s[0])},i:Z,o:Z,d(s){s&&h(e);for(let u=0;u<n.length;u+=1)n[u].d();a=!1,nt(i)}}}function kt(r,e,n){let{options:t}=e,{value:a}=e,{name:i=de(5)}=e;const l=lt();function o(){l("changed",a)}function s(){a=at(this),n(0,a),n(1,t)}return r.$$set=u=>{"options"in u&&n(1,t=u.options),"value"in u&&n(0,a=u.value),"name"in u&&n(2,i=u.name)},[a,t,i,o,s]}class se extends ee{constructor(e){super(),te(this,e,kt,bt,ne,{options:1,value:0,name:2})}}function yt(r){let e,n,t;function a(l){r[5](l)}let i={};return r[0]!==void 0&&(i.value=r[0]),e=new Je({props:i}),L.push(()=>z(e,"value",a)),{c(){S(e.$$.fragment)},l(l){V(e.$$.fragment,l)},m(l,o){D(e,l,o),t=!0},p(l,[o]){const s={};!n&&o&1&&(n=!0,s.value=l[0],A(()=>n=!1)),e.$set(s)},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){b(e.$$.fragment,l),t=!1},d(l){q(e,l)}}}function wt(r,e,n){let{value:t=[]}=e,{parseNumbers:a=!1}=e,{parseBooleans:i=!1}=e,{separator:l=";"}=e,o="";u();function s(){const c=o.split(l).map(d=>d.trim()).filter(d=>d);!a&&!i?n(1,t=[...c]):a?n(1,t=[...c.map(d=>parseFloat(d)).filter(d=>!isNaN(d))]):i&&n(1,t=[...c.map(d=>d=="true"?!0:d=="false"?!1:null).filter(d=>d!==null)])}function u(){t.length&&n(0,o=t.join(`${l} `))}function f(c){o=c,n(0,o)}return r.$$set=c=>{"value"in c&&n(1,t=c.value),"parseNumbers"in c&&n(2,a=c.parseNumbers),"parseBooleans"in c&&n(3,i=c.parseBooleans),"separator"in c&&n(4,l=c.separator)},r.$$.update=()=>{r.$$.dirty&1&&s()},[o,t,a,i,l,f]}class he extends ee{constructor(e){super(),te(this,e,wt,yt,ne,{value:1,parseNumbers:2,parseBooleans:3,separator:4})}}function qe(r){let e,n,t,a,i,l,o,s;function u(_){r[6](_)}let f={options:r[3]};r[1]!==void 0&&(f.value=r[1]),n=new se({props:f}),L.push(()=>z(n,"value",u)),n.$on("changed",r[2]);const c=[It,Et],d=[];function v(_,m){return _[0].value.kind=="fixed"?0:_[0].value.kind=="choice"?1:-1}return~(l=v(r))&&(o=d[l]=c[l](r)),{c(){e=T("div"),S(n.$$.fragment),a=R(),i=T("div"),o&&o.c(),this.h()},l(_){e=U(_,"DIV",{class:!0});var m=F(e);V(n.$$.fragment,m),a=B(m),i=U(m,"DIV",{class:!0});var g=F(i);o&&o.l(g),g.forEach(h),m.forEach(h),this.h()},h(){I(i,"class","flex flex-row space-x-2"),I(e,"class","flex flex-row space-x-4")},m(_,m){w(_,e,m),D(n,e,null),E(e,a),E(e,i),~l&&d[l].m(i,null),s=!0},p(_,m){const g={};!t&&m&2&&(t=!0,g.value=_[1],A(()=>t=!1)),n.$set(g);let p=l;l=v(_),l===p?~l&&d[l].p(_,m):(o&&(H(),b(d[p],1,1,()=>{d[p]=null}),J()),~l?(o=d[l],o?o.p(_,m):(o=d[l]=c[l](_),o.c()),$(o,1),o.m(i,null)):o=null)},i(_){s||($(n.$$.fragment,_),$(o),s=!0)},o(_){b(n.$$.fragment,_),b(o),s=!1},d(_){_&&h(e),q(n),~l&&d[l].d()}}}function Et(r){let e,n,t;function a(l){r[8](l)}let i={parseBooleans:!0};return r[0].value.data.options!==void 0&&(i.value=r[0].value.data.options),e=new he({props:i}),L.push(()=>z(e,"value",a)),{c(){S(e.$$.fragment)},l(l){V(e.$$.fragment,l)},m(l,o){D(e,l,o),t=!0},p(l,o){const s={};!n&&o&1&&(n=!0,s.value=l[0].value.data.options,A(()=>n=!1)),e.$set(s)},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){b(e.$$.fragment,l),t=!1},d(l){q(e,l)}}}function It(r){let e,n,t;function a(l){r[7](l)}let i={options:r[4]};return r[0].value.data!==void 0&&(i.value=r[0].value.data),e=new se({props:i}),L.push(()=>z(e,"value",a)),{c(){S(e.$$.fragment)},l(l){V(e.$$.fragment,l)},m(l,o){D(e,l,o),t=!0},p(l,o){const s={};!n&&o&1&&(n=!0,s.value=l[0].value.data,A(()=>n=!1)),e.$set(s)},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){b(e.$$.fragment,l),t=!1},d(l){q(e,l)}}}function St(r){let e,n,t=r[0]&&qe(r);return{c(){t&&t.c(),e=M()},l(a){t&&t.l(a),e=M()},m(a,i){t&&t.m(a,i),w(a,e,i),n=!0},p(a,[i]){a[0]?t?(t.p(a,i),i&1&&$(t,1)):(t=qe(a),t.c(),$(t,1),t.m(e.parentNode,e)):t&&(H(),b(t,1,1,()=>{t=null}),J())},i(a){n||($(t),n=!0)},o(a){b(t),n=!1},d(a){t&&t.d(a),a&&h(e)}}}function Vt(r,e,n){let{prop:t}=e,{defaults:a={fixed:!1,choice:{options:[!1,!0]}}}=e,i;t&&(i=t.value.kind,i!=t.value.kind&&l(i));function l(v){n(0,t.value.kind=v,t),n(0,t.value.data=a[v],t)}function o(v){const _=v.detail;l(_)}const s=[{label:"fixed",value:le.Fixed},{label:"choice",value:le.Choice}],u=[{label:"true",value:!0},{label:"false",value:!1}];function f(v){i=v,n(1,i)}function c(v){r.$$.not_equal(t.value.data,v)&&(t.value.data=v,n(0,t))}function d(v){r.$$.not_equal(t.value.data.options,v)&&(t.value.data.options=v,n(0,t))}return r.$$set=v=>{"prop"in v&&n(0,t=v.prop),"defaults"in v&&n(5,a=v.defaults)},[t,i,o,s,u,a,f,c,d]}class Dt extends ee{constructor(e){super(),te(this,e,Vt,St,ne,{prop:0,defaults:5})}}function Ne(r){let e,n,t,a,i,l,o,s;function u(_){r[5](_)}let f={options:r[3]};r[1]!==void 0&&(f.value=r[1]),n=new se({props:f}),L.push(()=>z(n,"value",u)),n.$on("changed",r[2]);const c=[Pt,Nt,qt],d=[];function v(_,m){return _[0].value.kind=="fixed"?0:_[0].value.kind=="range"?1:_[0].value.kind=="choice"?2:-1}return~(l=v(r))&&(o=d[l]=c[l](r)),{c(){e=T("div"),S(n.$$.fragment),a=R(),i=T("div"),o&&o.c(),this.h()},l(_){e=U(_,"DIV",{class:!0});var m=F(e);V(n.$$.fragment,m),a=B(m),i=U(m,"DIV",{class:!0});var g=F(i);o&&o.l(g),g.forEach(h),m.forEach(h),this.h()},h(){I(i,"class","flex flex-row space-x-2"),I(e,"class","flex flex-row space-x-4")},m(_,m){w(_,e,m),D(n,e,null),E(e,a),E(e,i),~l&&d[l].m(i,null),s=!0},p(_,m){const g={};!t&&m&2&&(t=!0,g.value=_[1],A(()=>t=!1)),n.$set(g);let p=l;l=v(_),l===p?~l&&d[l].p(_,m):(o&&(H(),b(d[p],1,1,()=>{d[p]=null}),J()),~l?(o=d[l],o?o.p(_,m):(o=d[l]=c[l](_),o.c()),$(o,1),o.m(i,null)):o=null)},i(_){s||($(n.$$.fragment,_),$(o),s=!0)},o(_){b(n.$$.fragment,_),b(o),s=!1},d(_){_&&h(e),q(n),~l&&d[l].d()}}}function qt(r){let e,n,t;function a(l){r[9](l)}let i={parseNumbers:!0};return r[0].value.data.options!==void 0&&(i.value=r[0].value.data.options),e=new he({props:i}),L.push(()=>z(e,"value",a)),{c(){S(e.$$.fragment)},l(l){V(e.$$.fragment,l)},m(l,o){D(e,l,o),t=!0},p(l,o){const s={};!n&&o&1&&(n=!0,s.value=l[0].value.data.options,A(()=>n=!1)),e.$set(s)},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){b(e.$$.fragment,l),t=!1},d(l){q(e,l)}}}function Nt(r){let e,n,t,a,i,l,o,s,u,f,c,d,v;function _(k){r[7](k)}let m={name:"min"};r[0].value.data.min!==void 0&&(m.value=r[0].value.data.min),t=new me({props:m}),L.push(()=>z(t,"value",_)),l=new x({props:{target:"min",$$slots:{default:[Tt]},$$scope:{ctx:r}}});function g(k){r[8](k)}let p={name:"max"};return r[0].value.data.max!==void 0&&(p.value=r[0].value.data.max),u=new me({props:p}),L.push(()=>z(u,"value",g)),d=new x({props:{target:"max",$$slots:{default:[Ut]},$$scope:{ctx:r}}}),{c(){e=T("div"),n=T("div"),S(t.$$.fragment),i=R(),S(l.$$.fragment),o=R(),s=T("div"),S(u.$$.fragment),c=R(),S(d.$$.fragment),this.h()},l(k){e=U(k,"DIV",{class:!0});var P=F(e);n=U(P,"DIV",{class:!0});var y=F(n);V(t.$$.fragment,y),i=B(y),V(l.$$.fragment,y),y.forEach(h),o=B(P),s=U(P,"DIV",{class:!0});var O=F(s);V(u.$$.fragment,O),c=B(O),V(d.$$.fragment,O),O.forEach(h),P.forEach(h),this.h()},h(){I(n,"class","flex flex-row flex-nowrap items-center space-x-2"),I(s,"class","flex flex-row flex-nowrap items-center space-x-2"),I(e,"class","space-y-2")},m(k,P){w(k,e,P),E(e,n),D(t,n,null),E(n,i),D(l,n,null),E(e,o),E(e,s),D(u,s,null),E(s,c),D(d,s,null),v=!0},p(k,P){const y={};!a&&P&1&&(a=!0,y.value=k[0].value.data.min,A(()=>a=!1)),t.$set(y);const O={};P&2048&&(O.$$scope={dirty:P,ctx:k}),l.$set(O);const X={};!f&&P&1&&(f=!0,X.value=k[0].value.data.max,A(()=>f=!1)),u.$set(X);const G={};P&2048&&(G.$$scope={dirty:P,ctx:k}),d.$set(G)},i(k){v||($(t.$$.fragment,k),$(l.$$.fragment,k),$(u.$$.fragment,k),$(d.$$.fragment,k),v=!0)},o(k){b(t.$$.fragment,k),b(l.$$.fragment,k),b(u.$$.fragment,k),b(d.$$.fragment,k),v=!1},d(k){k&&h(e),q(t),q(l),q(u),q(d)}}}function Pt(r){let e,n,t;function a(l){r[6](l)}let i={};return r[0].value.data!==void 0&&(i.value=r[0].value.data),e=new me({props:i}),L.push(()=>z(e,"value",a)),{c(){S(e.$$.fragment)},l(l){V(e.$$.fragment,l)},m(l,o){D(e,l,o),t=!0},p(l,o){const s={};!n&&o&1&&(n=!0,s.value=l[0].value.data,A(()=>n=!1)),e.$set(s)},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){b(e.$$.fragment,l),t=!1},d(l){q(e,l)}}}function Tt(r){let e;return{c(){e=Q("min")},l(n){e=C(n,"min")},m(n,t){w(n,e,t)},d(n){n&&h(e)}}}function Ut(r){let e;return{c(){e=Q("max")},l(n){e=C(n,"max")},m(n,t){w(n,e,t)},d(n){n&&h(e)}}}function Ft(r){let e,n,t=r[0]&&Ne(r);return{c(){t&&t.c(),e=M()},l(a){t&&t.l(a),e=M()},m(a,i){t&&t.m(a,i),w(a,e,i),n=!0},p(a,[i]){a[0]?t?(t.p(a,i),i&1&&$(t,1)):(t=Ne(a),t.c(),$(t,1),t.m(e.parentNode,e)):t&&(H(),b(t,1,1,()=>{t=null}),J())},i(a){n||($(t),n=!0)},o(a){b(t),n=!1},d(a){t&&t.d(a),a&&h(e)}}}function Ot(r,e,n){let{prop:t}=e,{defaults:a={fixed:1,choice:{options:[1,2]},range:{min:1,max:2}}}=e,i;t&&(i=t.value.kind,i!=t.value.kind&&l(i));function l(_){n(0,t.value.kind=_,t),n(0,t.value.data=a[_],t)}function o(_){const m=_.detail;l(m)}const s=[{label:"fixed",value:le.Fixed},{label:"choice",value:le.Choice},{label:"range",value:le.Range}];function u(_){i=_,n(1,i)}function f(_){r.$$.not_equal(t.value.data,_)&&(t.value.data=_,n(0,t))}function c(_){r.$$.not_equal(t.value.data.min,_)&&(t.value.data.min=_,n(0,t))}function d(_){r.$$.not_equal(t.value.data.max,_)&&(t.value.data.max=_,n(0,t))}function v(_){r.$$.not_equal(t.value.data.options,_)&&(t.value.data.options=_,n(0,t))}return r.$$set=_=>{"prop"in _&&n(0,t=_.prop),"defaults"in _&&n(4,a=_.defaults)},[t,i,o,s,a,u,f,c,d,v]}class pe extends ee{constructor(e){super(),te(this,e,Ot,Ft,ne,{prop:0,defaults:4})}}function Pe(r){let e,n,t,a,i,l,o,s;function u(_){r[6](_)}let f={options:r[3]};r[1]!==void 0&&(f.value=r[1]),n=new se({props:f}),L.push(()=>z(n,"value",u)),n.$on("changed",r[2]);const c=[Bt,Rt],d=[];function v(_,m){return _[0].value.kind=="fixed"?0:_[0].value.kind=="choice"?1:-1}return~(l=v(r))&&(o=d[l]=c[l](r)),{c(){e=T("div"),S(n.$$.fragment),a=R(),i=T("div"),o&&o.c(),this.h()},l(_){e=U(_,"DIV",{class:!0});var m=F(e);V(n.$$.fragment,m),a=B(m),i=U(m,"DIV",{class:!0});var g=F(i);o&&o.l(g),g.forEach(h),m.forEach(h),this.h()},h(){I(i,"class","flex flex-row space-x-2"),I(e,"class","flex flex-row space-x-4")},m(_,m){w(_,e,m),D(n,e,null),E(e,a),E(e,i),~l&&d[l].m(i,null),s=!0},p(_,m){const g={};!t&&m&2&&(t=!0,g.value=_[1],A(()=>t=!1)),n.$set(g);let p=l;l=v(_),l===p?~l&&d[l].p(_,m):(o&&(H(),b(d[p],1,1,()=>{d[p]=null}),J()),~l?(o=d[l],o?o.p(_,m):(o=d[l]=c[l](_),o.c()),$(o,1),o.m(i,null)):o=null)},i(_){s||($(n.$$.fragment,_),$(o),s=!0)},o(_){b(n.$$.fragment,_),b(o),s=!1},d(_){_&&h(e),q(n),~l&&d[l].d()}}}function Rt(r){let e,n,t;function a(l){r[8](l)}let i={};return r[0].value.data.options!==void 0&&(i.value=r[0].value.data.options),e=new he({props:i}),L.push(()=>z(e,"value",a)),{c(){S(e.$$.fragment)},l(l){V(e.$$.fragment,l)},m(l,o){D(e,l,o),t=!0},p(l,o){const s={};!n&&o&1&&(n=!0,s.value=l[0].value.data.options,A(()=>n=!1)),e.$set(s)},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){b(e.$$.fragment,l),t=!1},d(l){q(e,l)}}}function Bt(r){let e,n,t;function a(l){r[7](l)}let i={options:r[4]};return r[0].value.data!==void 0&&(i.value=r[0].value.data),e=new se({props:i}),L.push(()=>z(e,"value",a)),{c(){S(e.$$.fragment)},l(l){V(e.$$.fragment,l)},m(l,o){D(e,l,o),t=!0},p(l,o){const s={};!n&&o&1&&(n=!0,s.value=l[0].value.data,A(()=>n=!1)),e.$set(s)},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){b(e.$$.fragment,l),t=!1},d(l){q(e,l)}}}function Kt(r){let e,n,t=r[0]&&Pe(r);return{c(){t&&t.c(),e=M()},l(a){t&&t.l(a),e=M()},m(a,i){t&&t.m(a,i),w(a,e,i),n=!0},p(a,[i]){a[0]?t?(t.p(a,i),i&1&&$(t,1)):(t=Pe(a),t.c(),$(t,1),t.m(e.parentNode,e)):t&&(H(),b(t,1,1,()=>{t=null}),J())},i(a){n||($(t),n=!0)},o(a){b(t),n=!1},d(a){t&&t.d(a),a&&h(e)}}}function Gt(r,e,n){let{prop:t}=e,{defaults:a={fixed:"NE",choice:{options:["NE","NW"]}}}=e,i;t&&(i=t.value.kind,i!=t.value.kind&&l(i));function l(v){n(0,t.value.kind=v,t),n(0,t.value.data=a[v],t)}function o(v){const _=v.detail;l(_)}const s=[{label:"fixed",value:le.Fixed},{label:"choice",value:le.Choice}],u=[{label:"NW",value:"NW"},{label:"NE",value:"NE"},{label:"SW",value:"SW"},{label:"SE",value:"SE"}];function f(v){i=v,n(1,i)}function c(v){r.$$.not_equal(t.value.data,v)&&(t.value.data=v,n(0,t))}function d(v){r.$$.not_equal(t.value.data.options,v)&&(t.value.data.options=v,n(0,t))}return r.$$set=v=>{"prop"in v&&n(0,t=v.prop),"defaults"in v&&n(5,a=v.defaults)},[t,i,o,s,u,a,f,c,d]}class Lt extends ee{constructor(e){super(),te(this,e,Gt,Kt,ne,{prop:0,defaults:5})}}function Te(r){let e,n,t;return{c(){e=T("input"),this.h()},l(a){e=U(a,"INPUT",{type:!0,accept:!0}),this.h()},h(){I(e,"type","file"),I(e,"accept","image/svg+xml")},m(a,i){w(a,e,i),n||(t=_e(e,"change",r[3]),n=!0)},p:Z,d(a){a&&h(e),n=!1,t()}}}function zt(r){let e,n,t,a,i,l,o;return l=new Xe({props:{$$slots:{default:[Qt]},$$scope:{ctx:r}}}),l.$on("click",r[4]),{c(){e=T("div"),n=T("div"),t=T("img"),i=R(),S(l.$$.fragment),this.h()},l(s){e=U(s,"DIV",{class:!0});var u=F(e);n=U(u,"DIV",{class:!0});var f=F(n);t=U(f,"IMG",{class:!0,src:!0,alt:!0}),f.forEach(h),i=B(u),V(l.$$.fragment,u),u.forEach(h),this.h()},h(){I(t,"class","w-20 h-20 object-cover"),Se(t.src,a=r[0])||I(t,"src",a),I(t,"alt","up"),I(n,"class","bg-white"),I(e,"class","flex flex-row bg-slate-300 border-slate-300 border-2 w-fit items-center")},m(s,u){w(s,e,u),E(e,n),E(n,t),E(e,i),D(l,e,null),o=!0},p(s,u){(!o||u&1&&!Se(t.src,a=s[0]))&&I(t,"src",a);const f={};u&32&&(f.$$scope={dirty:u,ctx:s}),l.$set(f)},i(s){o||($(l.$$.fragment,s),o=!0)},o(s){b(l.$$.fragment,s),o=!1},d(s){s&&h(e),q(l)}}}function At(r){let e,n;return{c(){e=T("p"),n=Q("Loading...")},l(t){e=U(t,"P",{});var a=F(e);n=C(a,"Loading..."),a.forEach(h)},m(t,a){w(t,e,a),E(e,n)},p:Z,i:Z,o:Z,d(t){t&&h(e)}}}function Qt(r){let e;return{c(){e=Q("x")},l(n){e=C(n,"x")},m(n,t){w(n,e,t)},d(n){n&&h(e)}}}function Ct(r){let e,n,t,a,i,l=!r[0]&&Te(r);const o=[At,zt],s=[];function u(f,c){return f[2]?0:f[0]?1:-1}return~(n=u(r))&&(t=s[n]=o[n](r)),{c(){l&&l.c(),e=R(),t&&t.c(),a=M()},l(f){l&&l.l(f),e=B(f),t&&t.l(f),a=M()},m(f,c){l&&l.m(f,c),w(f,e,c),~n&&s[n].m(f,c),w(f,a,c),i=!0},p(f,[c]){f[0]?l&&(l.d(1),l=null):l?l.p(f,c):(l=Te(f),l.c(),l.m(e.parentNode,e));let d=n;n=u(f),n===d?~n&&s[n].p(f,c):(t&&(H(),b(s[d],1,1,()=>{s[d]=null}),J()),~n?(t=s[n],t?t.p(f,c):(t=s[n]=o[n](f),t.c()),$(t,1),t.m(a.parentNode,a)):t=null)},i(f){i||($(t),i=!0)},o(f){b(t),i=!1},d(f){l&&l.d(f),f&&h(e),~n&&s[n].d(f),f&&h(a)}}}function Wt(r,e,n){let{dataUrl:t}=e,a=!1,i;function l(){i=this.files,n(1,i)}const o=()=>{n(0,t="")};return r.$$set=s=>{"dataUrl"in s&&n(0,t=s.dataUrl)},r.$$.update=()=>{if(r.$$.dirty&2&&i){n(2,a=!0);const s=i[0],u=new FileReader;u.readAsDataURL(s),u.onload=()=>{const f=u.result;n(0,t=f),n(2,a=!1)}}},[t,i,a,l,o]}class jt extends ee{constructor(e){super(),te(this,e,Wt,Ct,ne,{dataUrl:0})}}function Ue(r){let e,n,t;function a(l){r[1](l)}let i={};return r[0].value.data!==void 0&&(i.dataUrl=r[0].value.data),e=new jt({props:i}),L.push(()=>z(e,"dataUrl",a)),{c(){S(e.$$.fragment)},l(l){V(e.$$.fragment,l)},m(l,o){D(e,l,o),t=!0},p(l,o){const s={};!n&&o&1&&(n=!0,s.dataUrl=l[0].value.data,A(()=>n=!1)),e.$set(s)},i(l){t||($(e.$$.fragment,l),t=!0)},o(l){b(e.$$.fragment,l),t=!1},d(l){q(e,l)}}}function Mt(r){let e,n,t=r[0].value.kind==le.Fixed&&Ue(r);return{c(){t&&t.c(),e=M()},l(a){t&&t.l(a),e=M()},m(a,i){t&&t.m(a,i),w(a,e,i),n=!0},p(a,[i]){a[0].value.kind==le.Fixed?t?(t.p(a,i),i&1&&$(t,1)):(t=Ue(a),t.c(),$(t,1),t.m(e.parentNode,e)):t&&(H(),b(t,1,1,()=>{t=null}),J())},i(a){n||($(t),n=!0)},o(a){b(t),n=!1},d(a){t&&t.d(a),a&&h(e)}}}function Ht(r,e,n){let{prop:t}=e;function a(i){r.$$.not_equal(t.value.data,i)&&(t.value.data=i,n(0,t))}return r.$$set=i=>{"prop"in i&&n(0,t=i.prop)},[t,a]}class Jt extends ee{constructor(e){super(),te(this,e,Ht,Mt,ne,{prop:0})}}function Xt(r){let e;return{c(){e=Q("Forma")},l(n){e=C(n,"Forma")},m(n,t){w(n,e,t)},d(n){n&&h(e)}}}function Fe(r){let e,n,t,a,i,l,o,s,u,f,c,d,v,_,m,g,p,k,P,y,O,X,G=r[0].shape.kind==Y.SVG&&Oe(r);a=new x({props:{target:"scale_x",$$slots:{default:[Zt]},$$scope:{ctx:r}}});function Ye(N){r[8](N)}let ve={};r[0].shape.props.scale_x!==void 0&&(ve.prop=r[0].shape.props.scale_x),l=new pe({props:ve}),L.push(()=>z(l,"prop",Ye)),f=new x({props:{target:"scale_y",$$slots:{default:[xt]},$$scope:{ctx:r}}});function Ze(N){r[9](N)}let be={};r[0].shape.props.scale_y!==void 0&&(be.prop=r[0].shape.props.scale_y),d=new pe({props:be}),L.push(()=>z(d,"prop",Ze)),g=new x({props:{target:"rotation",$$slots:{default:[en]},$$scope:{ctx:r}}});function xe(N){r[10](N)}let ke={defaults:r[4]};r[0].shape.props.rotation!==void 0&&(ke.prop=r[0].shape.props.rotation),k=new pe({props:ke}),L.push(()=>z(k,"prop",xe));let W=(r[0].shape.kind==Y.Quarter||r[0].shape.kind==Y.Ellipse)&&Re(r),j=r[0].shape.kind==Y.Quarter&&Be(r);return{c(){e=T("div"),G&&G.c(),n=R(),t=T("div"),S(a.$$.fragment),i=R(),S(l.$$.fragment),s=R(),u=T("div"),S(f.$$.fragment),c=R(),S(d.$$.fragment),_=R(),m=T("div"),S(g.$$.fragment),p=R(),S(k.$$.fragment),y=R(),W&&W.c(),O=R(),j&&j.c(),this.h()},l(N){e=U(N,"DIV",{class:!0});var K=F(e);G&&G.l(K),n=B(K),t=U(K,"DIV",{class:!0});var ae=F(t);V(a.$$.fragment,ae),i=B(ae),V(l.$$.fragment,ae),ae.forEach(h),s=B(K),u=U(K,"DIV",{class:!0});var re=F(u);V(f.$$.fragment,re),c=B(re),V(d.$$.fragment,re),re.forEach(h),_=B(K),m=U(K,"DIV",{class:!0});var ie=F(m);V(g.$$.fragment,ie),p=B(ie),V(k.$$.fragment,ie),ie.forEach(h),y=B(K),W&&W.l(K),O=B(K),j&&j.l(K),K.forEach(h),this.h()},h(){I(t,"class","block"),I(u,"class","block"),I(m,"class","block"),I(e,"class","space-y-4 pl-8")},m(N,K){w(N,e,K),G&&G.m(e,null),E(e,n),E(e,t),D(a,t,null),E(t,i),D(l,t,null),E(e,s),E(e,u),D(f,u,null),E(u,c),D(d,u,null),E(e,_),E(e,m),D(g,m,null),E(m,p),D(k,m,null),E(e,y),W&&W.m(e,null),E(e,O),j&&j.m(e,null),X=!0},p(N,K){N[0].shape.kind==Y.SVG?G?(G.p(N,K),K&1&&$(G,1)):(G=Oe(N),G.c(),$(G,1),G.m(e,n)):G&&(H(),b(G,1,1,()=>{G=null}),J());const ae={};K&16384&&(ae.$$scope={dirty:K,ctx:N}),a.$set(ae);const re={};!o&&K&1&&(o=!0,re.prop=N[0].shape.props.scale_x,A(()=>o=!1)),l.$set(re);const ie={};K&16384&&(ie.$$scope={dirty:K,ctx:N}),f.$set(ie);const ye={};!v&&K&1&&(v=!0,ye.prop=N[0].shape.props.scale_y,A(()=>v=!1)),d.$set(ye);const we={};K&16384&&(we.$$scope={dirty:K,ctx:N}),g.$set(we);const Ee={};!P&&K&1&&(P=!0,Ee.prop=N[0].shape.props.rotation,A(()=>P=!1)),k.$set(Ee),N[0].shape.kind==Y.Quarter||N[0].shape.kind==Y.Ellipse?W?(W.p(N,K),K&1&&$(W,1)):(W=Re(N),W.c(),$(W,1),W.m(e,O)):W&&(H(),b(W,1,1,()=>{W=null}),J()),N[0].shape.kind==Y.Quarter?j?(j.p(N,K),K&1&&$(j,1)):(j=Be(N),j.c(),$(j,1),j.m(e,null)):j&&(H(),b(j,1,1,()=>{j=null}),J())},i(N){X||($(G),$(a.$$.fragment,N),$(l.$$.fragment,N),$(f.$$.fragment,N),$(d.$$.fragment,N),$(g.$$.fragment,N),$(k.$$.fragment,N),$(W),$(j),X=!0)},o(N){b(G),b(a.$$.fragment,N),b(l.$$.fragment,N),b(f.$$.fragment,N),b(d.$$.fragment,N),b(g.$$.fragment,N),b(k.$$.fragment,N),b(W),b(j),X=!1},d(N){N&&h(e),G&&G.d(),q(a),q(l),q(f),q(d),q(g),q(k),W&&W.d(),j&&j.d()}}}function Oe(r){let e,n,t,a,i,l;n=new x({props:{target:"",$$slots:{default:[Yt]},$$scope:{ctx:r}}});function o(u){r[7](u)}let s={};return r[0].shape.props.path!==void 0&&(s.prop=r[0].shape.props.path),a=new Jt({props:s}),L.push(()=>z(a,"prop",o)),{c(){e=T("div"),S(n.$$.fragment),t=R(),S(a.$$.fragment),this.h()},l(u){e=U(u,"DIV",{class:!0});var f=F(e);V(n.$$.fragment,f),t=B(f),V(a.$$.fragment,f),f.forEach(h),this.h()},h(){I(e,"class","block")},m(u,f){w(u,e,f),D(n,e,null),E(e,t),D(a,e,null),l=!0},p(u,f){const c={};f&16384&&(c.$$scope={dirty:f,ctx:u}),n.$set(c);const d={};!i&&f&1&&(i=!0,d.prop=u[0].shape.props.path,A(()=>i=!1)),a.$set(d)},i(u){l||($(n.$$.fragment,u),$(a.$$.fragment,u),l=!0)},o(u){b(n.$$.fragment,u),b(a.$$.fragment,u),l=!1},d(u){u&&h(e),q(n),q(a)}}}function Yt(r){let e;return{c(){e=Q("SVG Path")},l(n){e=C(n,"SVG Path")},m(n,t){w(n,e,t)},d(n){n&&h(e)}}}function Zt(r){let e;return{c(){e=Q("Scala orizzontale")},l(n){e=C(n,"Scala orizzontale")},m(n,t){w(n,e,t)},d(n){n&&h(e)}}}function xt(r){let e;return{c(){e=Q("Scala verticale")},l(n){e=C(n,"Scala verticale")},m(n,t){w(n,e,t)},d(n){n&&h(e)}}}function en(r){let e;return{c(){e=Q("Rotazione")},l(n){e=C(n,"Rotazione")},m(n,t){w(n,e,t)},d(n){n&&h(e)}}}function Re(r){let e,n,t,a,i,l,o,s,u,f,c,d;n=new x({props:{target:"squaring",$$slots:{default:[tn]},$$scope:{ctx:r}}});function v(p){r[11](p)}let _={defaults:r[5]};r[0].shape.props.squaring!==void 0&&(_.prop=r[0].shape.props.squaring),a=new pe({props:_}),L.push(()=>z(a,"prop",v)),s=new x({props:{target:"negative",$$slots:{default:[nn]},$$scope:{ctx:r}}});function m(p){r[12](p)}let g={};return r[0].shape.props.negative!==void 0&&(g.prop=r[0].shape.props.negative),f=new Dt({props:g}),L.push(()=>z(f,"prop",m)),{c(){e=T("div"),S(n.$$.fragment),t=R(),S(a.$$.fragment),l=R(),o=T("div"),S(s.$$.fragment),u=R(),S(f.$$.fragment),this.h()},l(p){e=U(p,"DIV",{class:!0});var k=F(e);V(n.$$.fragment,k),t=B(k),V(a.$$.fragment,k),k.forEach(h),l=B(p),o=U(p,"DIV",{class:!0});var P=F(o);V(s.$$.fragment,P),u=B(P),V(f.$$.fragment,P),P.forEach(h),this.h()},h(){I(e,"class","block"),I(o,"class","block")},m(p,k){w(p,e,k),D(n,e,null),E(e,t),D(a,e,null),w(p,l,k),w(p,o,k),D(s,o,null),E(o,u),D(f,o,null),d=!0},p(p,k){const P={};k&16384&&(P.$$scope={dirty:k,ctx:p}),n.$set(P);const y={};!i&&k&1&&(i=!0,y.prop=p[0].shape.props.squaring,A(()=>i=!1)),a.$set(y);const O={};k&16384&&(O.$$scope={dirty:k,ctx:p}),s.$set(O);const X={};!c&&k&1&&(c=!0,X.prop=p[0].shape.props.negative,A(()=>c=!1)),f.$set(X)},i(p){d||($(n.$$.fragment,p),$(a.$$.fragment,p),$(s.$$.fragment,p),$(f.$$.fragment,p),d=!0)},o(p){b(n.$$.fragment,p),b(a.$$.fragment,p),b(s.$$.fragment,p),b(f.$$.fragment,p),d=!1},d(p){p&&h(e),q(n),q(a),p&&h(l),p&&h(o),q(s),q(f)}}}function tn(r){let e;return{c(){e=Q("Squadratura")},l(n){e=C(n,"Squadratura")},m(n,t){w(n,e,t)},d(n){n&&h(e)}}}function nn(r){let e;return{c(){e=Q("Negativo")},l(n){e=C(n,"Negativo")},m(n,t){w(n,e,t)},d(n){n&&h(e)}}}function Be(r){let e,n,t,a,i,l;n=new x({props:{target:"orientamento",$$slots:{default:[ln]},$$scope:{ctx:r}}});function o(u){r[13](u)}let s={};return r[0].shape.props.orientation!==void 0&&(s.prop=r[0].shape.props.orientation),a=new Lt({props:s}),L.push(()=>z(a,"prop",o)),{c(){e=T("div"),S(n.$$.fragment),t=R(),S(a.$$.fragment),this.h()},l(u){e=U(u,"DIV",{class:!0});var f=F(e);V(n.$$.fragment,f),t=B(f),V(a.$$.fragment,f),f.forEach(h),this.h()},h(){I(e,"class","block")},m(u,f){w(u,e,f),D(n,e,null),E(e,t),D(a,e,null),l=!0},p(u,f){const c={};f&16384&&(c.$$scope={dirty:f,ctx:u}),n.$set(c);const d={};!i&&f&1&&(i=!0,d.prop=u[0].shape.props.orientation,A(()=>i=!1)),a.$set(d)},i(u){l||($(n.$$.fragment,u),$(a.$$.fragment,u),l=!0)},o(u){b(n.$$.fragment,u),b(a.$$.fragment,u),l=!1},d(u){u&&h(e),q(n),q(a)}}}function ln(r){let e;return{c(){e=Q("Orientamento")},l(n){e=C(n,"Orientamento")},m(n,t){w(n,e,t)},d(n){n&&h(e)}}}function an(r){let e,n,t=r[0].symbol+"",a,i,l,o,s,u,f,c,d,v;s=new x({props:{target:"shape",$$slots:{default:[Xt]},$$scope:{ctx:r}}});function _(p){r[6](p)}let m={options:r[3]};r[1]!==void 0&&(m.value=r[1]),f=new se({props:m}),L.push(()=>z(f,"value",_)),f.$on("changed",r[2]);let g=r[0].shape.kind!=Y.Void&&Fe(r);return{c(){e=T("div"),n=T("div"),a=Q(t),i=R(),l=T("div"),o=T("div"),S(s.$$.fragment),u=R(),S(f.$$.fragment),d=R(),g&&g.c(),this.h()},l(p){e=U(p,"DIV",{class:!0});var k=F(e);n=U(k,"DIV",{class:!0});var P=F(n);a=C(P,t),P.forEach(h),i=B(k),l=U(k,"DIV",{class:!0});var y=F(l);o=U(y,"DIV",{class:!0});var O=F(o);V(s.$$.fragment,O),u=B(O),V(f.$$.fragment,O),O.forEach(h),d=B(y),g&&g.l(y),y.forEach(h),k.forEach(h),this.h()},h(){I(n,"class","text-xl p-4 bg-slate-800 text-white font-mono"),I(o,"class","space-y-1"),I(l,"class","space-y-8 px-0 pt-4"),I(e,"class","flex flex-col flex-nowrap")},m(p,k){w(p,e,k),E(e,n),E(n,a),E(e,i),E(e,l),E(l,o),D(s,o,null),E(o,u),D(f,o,null),E(l,d),g&&g.m(l,null),v=!0},p(p,[k]){(!v||k&1)&&t!==(t=p[0].symbol+"")&&ge(a,t);const P={};k&16384&&(P.$$scope={dirty:k,ctx:p}),s.$set(P);const y={};!c&&k&2&&(c=!0,y.value=p[1],A(()=>c=!1)),f.$set(y),p[0].shape.kind!=Y.Void?g?(g.p(p,k),k&1&&$(g,1)):(g=Fe(p),g.c(),$(g,1),g.m(l,null)):g&&(H(),b(g,1,1,()=>{g=null}),J())},i(p){v||($(s.$$.fragment,p),$(f.$$.fragment,p),$(g),v=!0)},o(p){b(s.$$.fragment,p),b(f.$$.fragment,p),b(g),v=!1},d(p){p&&h(e),q(s),q(f),g&&g.d()}}}function rn(r,e,n){let{rule:t}=e,a=t.shape.kind;a!=t.shape.kind&&i();function i(){const p={void:rt,rectangle:it,ellipse:st,quarter:ot,svg:ut};n(0,t.shape.props=p[a],t),n(0,t.shape.kind=a,t)}const l=[{label:"rectangle",value:Y.Rectangle},{label:"ellipse",value:Y.Ellipse},{label:"quarter",value:Y.Quarter},{label:"void",value:Y.Void},{label:"svg",value:Y.SVG}],o={fixed:0,choice:{options:[0,45]},range:{min:0,max:90}},s={fixed:.56,choice:{options:[0,.56,1]},range:{min:0,max:1}};function u(p){a=p,n(1,a)}function f(p){r.$$.not_equal(t.shape.props.path,p)&&(t.shape.props.path=p,n(0,t))}function c(p){r.$$.not_equal(t.shape.props.scale_x,p)&&(t.shape.props.scale_x=p,n(0,t))}function d(p){r.$$.not_equal(t.shape.props.scale_y,p)&&(t.shape.props.scale_y=p,n(0,t))}function v(p){r.$$.not_equal(t.shape.props.rotation,p)&&(t.shape.props.rotation=p,n(0,t))}function _(p){r.$$.not_equal(t.shape.props.squaring,p)&&(t.shape.props.squaring=p,n(0,t))}function m(p){r.$$.not_equal(t.shape.props.negative,p)&&(t.shape.props.negative=p,n(0,t))}function g(p){r.$$.not_equal(t.shape.props.orientation,p)&&(t.shape.props.orientation=p,n(0,t))}return r.$$set=p=>{"rule"in p&&n(0,t=p.rule)},[t,a,i,l,o,s,u,f,c,d,v,_,m,g]}class sn extends ee{constructor(e){super(),te(this,e,rn,an,ne,{rule:0})}}function Ke(r,e,n){const t=r.slice();return t[2]=e[n],t[3]=e,t[4]=n,t}function on(r){let e,n;return{c(){e=T("p"),n=Q("Inizia a disegnare un glifo per modificare la sintassi!"),this.h()},l(t){e=U(t,"P",{class:!0});var a=F(e);n=C(a,"Inizia a disegnare un glifo per modificare la sintassi!"),a.forEach(h),this.h()},h(){I(e,"class","font-mono w-full border-2 border-slate-200 text-slate-300 p-12")},m(t,a){w(t,e,a),E(e,n)},p:Z,i:Z,o:Z,d(t){t&&h(e)}}}function un(r){let e=[],n=new Map,t,a,i=r[0].rules;const l=o=>o[2];for(let o=0;o<i.length;o+=1){let s=Ke(r,i,o),u=l(s);n.set(u,e[o]=Ge(u,s))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();t=M()},l(o){for(let s=0;s<e.length;s+=1)e[s].l(o);t=M()},m(o,s){for(let u=0;u<e.length;u+=1)e[u].m(o,s);w(o,t,s),a=!0},p(o,s){s&1&&(i=o[0].rules,H(),e=$e(e,s,l,1,o,i,n,t.parentNode,Me,Ge,t,Ke),J())},i(o){if(!a){for(let s=0;s<i.length;s+=1)$(e[s]);a=!0}},o(o){for(let s=0;s<e.length;s+=1)b(e[s]);a=!1},d(o){for(let s=0;s<e.length;s+=1)e[s].d(o);o&&h(t)}}}function Ge(r,e){let n,t,a,i;function l(s){e[1](s,e[2],e[3],e[4])}let o={};return e[2]!==void 0&&(o.rule=e[2]),t=new sn({props:o}),L.push(()=>z(t,"rule",l)),{key:r,first:null,c(){n=M(),S(t.$$.fragment),this.h()},l(s){n=M(),V(t.$$.fragment,s),this.h()},h(){this.first=n},m(s,u){w(s,n,u),D(t,s,u),i=!0},p(s,u){e=s;const f={};!a&&u&1&&(a=!0,f.rule=e[2],A(()=>a=!1)),t.$set(f)},i(s){i||($(t.$$.fragment,s),i=!0)},o(s){b(t.$$.fragment,s),i=!1},d(s){s&&h(n),q(t,s)}}}function fn(r){let e,n,t,a,i,l,o;const s=[un,on],u=[];function f(c,d){return c[0].rules.length?0:1}return i=f(r),l=u[i]=s[i](r),{c(){e=T("p"),n=Q("Regole sintassi"),t=R(),a=T("div"),l.c(),this.h()},l(c){e=U(c,"P",{class:!0});var d=F(e);n=C(d,"Regole sintassi"),d.forEach(h),t=B(c),a=U(c,"DIV",{class:!0});var v=F(a);l.l(v),v.forEach(h),this.h()},h(){I(e,"class","text-small font-mono text-slate-900 mb-2 text-sm"),I(a,"class","block space-y-12")},m(c,d){w(c,e,d),E(e,n),w(c,t,d),w(c,a,d),u[i].m(a,null),o=!0},p(c,[d]){let v=i;i=f(c),i===v?u[i].p(c,d):(H(),b(u[v],1,1,()=>{u[v]=null}),J(),l=u[i],l?l.p(c,d):(l=u[i]=s[i](c),l.c()),$(l,1),l.m(a,null))},i(c){o||($(l),o=!0)},o(c){b(l),o=!1},d(c){c&&h(e),c&&h(t),c&&h(a),u[i].d()}}}function pn(r,e,n){let{syntax:t}=e;function a(i,l,o,s){o[s]=i,n(0,t)}return r.$$set=i=>{"syntax"in i&&n(0,t=i.syntax)},[t,a]}class cn extends ee{constructor(e){super(),te(this,e,pn,fn,ne,{syntax:0})}}function _n(r){let e;return{c(){e=Q("Preview text")},l(n){e=C(n,"Preview text")},m(n,t){w(n,e,t)},d(n){n&&h(e)}}}function Le(r){let e,n;return e=new $t({props:{syntax:r[0],glyphs:r[1],$$slots:{default:[dn,({font:t})=>({7:t}),({font:t})=>t?128:0]},$$scope:{ctx:r}}}),{c(){S(e.$$.fragment)},l(t){V(e.$$.fragment,t)},m(t,a){D(e,t,a),n=!0},p(t,a){const i={};a&1&&(i.syntax=t[0]),a&2&&(i.glyphs=t[1]),a&388&&(i.$$scope={dirty:a,ctx:t}),e.$set(i)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function ze(r){let e,n;return e=new ht({props:{font:r[7],text:r[2]}}),{c(){S(e.$$.fragment)},l(t){V(e.$$.fragment,t)},m(t,a){D(e,t,a),n=!0},p(t,a){const i={};a&128&&(i.font=t[7]),a&4&&(i.text=t[2]),e.$set(i)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function dn(r){let e,n,t=r[7]&&ze(r);return{c(){t&&t.c(),e=M()},l(a){t&&t.l(a),e=M()},m(a,i){t&&t.m(a,i),w(a,e,i),n=!0},p(a,i){a[7]?t?(t.p(a,i),i&128&&$(t,1)):(t=ze(a),t.c(),$(t,1),t.m(e.parentNode,e)):t&&(H(),b(t,1,1,()=>{t=null}),J())},i(a){n||($(t),n=!0)},o(a){b(t),n=!1},d(a){t&&t.d(a),a&&h(e)}}}function mn(r){let e,n,t,a,i,l,o,s,u,f;t=new x({props:{target:"previewText",$$slots:{default:[_n]},$$scope:{ctx:r}}});function c(g){r[4](g)}function d(g){r[5](g)}function v(g){r[6](g)}let _={name:"previewText"};r[3]!==void 0&&(_.text=r[3]),r[1]!==void 0&&(_.glyphs=r[1]),r[2]!==void 0&&(_.validText=r[2]),i=new vt({props:_}),L.push(()=>z(i,"text",c)),L.push(()=>z(i,"glyphs",d)),L.push(()=>z(i,"validText",v));let m=r[1].length&&r[0]&&Le(r);return{c(){e=T("div"),n=T("div"),S(t.$$.fragment),a=R(),S(i.$$.fragment),u=R(),m&&m.c(),this.h()},l(g){e=U(g,"DIV",{class:!0});var p=F(e);n=U(p,"DIV",{class:!0});var k=F(n);V(t.$$.fragment,k),a=B(k),V(i.$$.fragment,k),k.forEach(h),u=B(p),m&&m.l(p),p.forEach(h),this.h()},h(){I(n,"class","space-y-2 overflow-x-hidden shrink-0 sticky top-0 border-b border-b-gray-200 bg-white"),I(e,"class","space-y-8")},m(g,p){w(g,e,p),E(e,n),D(t,n,null),E(n,a),D(i,n,null),E(e,u),m&&m.m(e,null),f=!0},p(g,[p]){const k={};p&256&&(k.$$scope={dirty:p,ctx:g}),t.$set(k);const P={};!l&&p&8&&(l=!0,P.text=g[3],A(()=>l=!1)),!o&&p&2&&(o=!0,P.glyphs=g[1],A(()=>o=!1)),!s&&p&4&&(s=!0,P.validText=g[2],A(()=>s=!1)),i.$set(P),g[1].length&&g[0]?m?(m.p(g,p),p&3&&$(m,1)):(m=Le(g),m.c(),$(m,1),m.m(e,null)):m&&(H(),b(m,1,1,()=>{m=null}),J())},i(g){f||($(t.$$.fragment,g),$(i.$$.fragment,g),$(m),f=!0)},o(g){b(t.$$.fragment,g),b(i.$$.fragment,g),b(m),f=!1},d(g){g&&h(e),q(t),q(i),m&&m.d()}}}const Ae=He("hello");function gn(r,e,n){let t,a=Z;fe(r,Ae,c=>n(3,t=c)),r.$$.on_destroy.push(()=>a());let{syntax:i}=e,l=[],o="";function s(c){t=c,Ae.set(t)}function u(c){l=c,n(1,l)}function f(c){o=c,n(2,o)}return r.$$set=c=>{"syntax"in c&&n(0,i=c.syntax)},[i,l,o,t,s,u,f]}class $n extends ee{constructor(e){super(),te(this,e,gn,mn,ne,{syntax:0})}}function Qe(r,e,n){const t=r.slice();return t[11]=e[n],t}function hn(r){let e;return{c(){e=Q("+ Aggiungi stile")},l(n){e=C(n,"+ Aggiungi stile")},m(n,t){w(n,e,t)},d(n){n&&h(e)}}}function vn(r){let e,n;return e=new Xe({props:{$$slots:{default:[hn]},$$scope:{ctx:r}}}),e.$on("click",r[2]),{c(){S(e.$$.fragment)},l(t){V(e.$$.fragment,t)},m(t,a){D(e,t,a),n=!0},p(t,a){const i={};a&16384&&(i.$$scope={dirty:a,ctx:t}),e.$set(i)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function bn(r){let e;return{c(){e=Q("Lista stili")},l(n){e=C(n,"Lista stili")},m(n,t){w(n,e,t)},d(n){n&&h(e)}}}function kn(r){let e=r[11].name+"",n,t;return{c(){n=Q(e),t=R()},l(a){n=C(a,e),t=B(a)},m(a,i){w(a,n,i),w(a,t,i)},p(a,i){i&1&&e!==(e=a[11].name+"")&&ge(n,e)},d(a){a&&h(n),a&&h(t)}}}function Ce(r,e){let n,t,a;return t=new gt({props:{selection:ce,id:e[11].id,$$slots:{default:[kn]},$$scope:{ctx:e}}}),{key:r,first:null,c(){n=M(),S(t.$$.fragment),this.h()},l(i){n=M(),V(t.$$.fragment,i),this.h()},h(){this.first=n},m(i,l){w(i,n,l),D(t,i,l),a=!0},p(i,l){e=i;const o={};l&1&&(o.id=e[11].id),l&16385&&(o.$$scope={dirty:l,ctx:e}),t.$set(o)},i(i){a||($(t.$$.fragment,i),a=!0)},o(i){b(t.$$.fragment,i),a=!1},d(i){i&&h(n),q(t,i)}}}function yn(r){let e=[],n=new Map,t,a,i=r[0];const l=o=>o[11].id;for(let o=0;o<i.length;o+=1){let s=Qe(r,i,o),u=l(s);n.set(u,e[o]=Ce(u,s))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();t=M()},l(o){for(let s=0;s<e.length;s+=1)e[s].l(o);t=M()},m(o,s){for(let u=0;u<e.length;u+=1)e[u].m(o,s);w(o,t,s),a=!0},p(o,s){s&1&&(i=o[0],H(),e=$e(e,s,l,1,o,i,n,t.parentNode,Me,Ce,t,Qe),J())},i(o){if(!a){for(let s=0;s<i.length;s+=1)$(e[s]);a=!0}},o(o){for(let s=0;s<e.length;s+=1)b(e[s]);a=!1},d(o){for(let s=0;s<e.length;s+=1)e[s].d(o);o&&h(t)}}}function We(r){let e,n,t,a,i,l,o,s,u,f,c,d,v,_,m;function g(y){r[6](y)}let p={name:"styleName"};r[0][r[1]].name!==void 0&&(p.value=r[0][r[1]].name),l=new Je({props:p}),L.push(()=>z(l,"value",g)),u=new mt({}),u.$on("delete",r[3]);function k(y){r[7](y)}let P={};return r[0][r[1]]!==void 0&&(P.syntax=r[0][r[1]]),v=new cn({props:P}),L.push(()=>z(v,"syntax",k)),{c(){e=T("div"),n=T("div"),t=T("p"),a=Q("Nome stile"),i=R(),S(l.$$.fragment),s=R(),S(u.$$.fragment),f=R(),c=T("hr"),d=R(),S(v.$$.fragment),this.h()},l(y){e=U(y,"DIV",{class:!0});var O=F(e);n=U(O,"DIV",{class:!0});var X=F(n);t=U(X,"P",{class:!0});var G=F(t);a=C(G,"Nome stile"),G.forEach(h),i=B(X),V(l.$$.fragment,X),X.forEach(h),s=B(O),V(u.$$.fragment,O),O.forEach(h),f=B(y),c=U(y,"HR",{}),d=B(y),V(v.$$.fragment,y),this.h()},h(){I(t,"class","text-small font-mono text-slate-900 mb-2 text-sm"),I(n,"class","flex flex-col mb-8"),I(e,"class","")},m(y,O){w(y,e,O),E(e,n),E(n,t),E(t,a),E(n,i),D(l,n,null),E(e,s),D(u,e,null),w(y,f,O),w(y,c,O),w(y,d,O),D(v,y,O),m=!0},p(y,O){const X={};!o&&O&3&&(o=!0,X.value=y[0][y[1]].name,A(()=>o=!1)),l.$set(X);const G={};!_&&O&3&&(_=!0,G.syntax=y[0][y[1]],A(()=>_=!1)),v.$set(G)},i(y){m||($(l.$$.fragment,y),$(u.$$.fragment,y),$(v.$$.fragment,y),m=!0)},o(y){b(l.$$.fragment,y),b(u.$$.fragment,y),b(v.$$.fragment,y),m=!1},d(y){y&&h(e),q(l),q(u),y&&h(f),y&&h(c),y&&h(d),q(v,y)}}}function je(r){let e,n;return e=new $n({props:{syntax:r[0][r[1]]}}),{c(){S(e.$$.fragment)},l(t){V(e.$$.fragment,t)},m(t,a){D(e,t,a),n=!0},p(t,a){const i={};a&3&&(i.syntax=t[0][t[1]]),e.$set(i)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function wn(r){let e,n,t,a,i,l,o;n=new _t({props:{$$slots:{items:[yn],listTitle:[bn],topArea:[vn]},$$scope:{ctx:r}}});let s=r[1]!==void 0&&We(r),u=r[1]!==void 0&&je(r);return{c(){e=T("div"),S(n.$$.fragment),t=R(),a=T("div"),s&&s.c(),i=R(),l=T("div"),u&&u.c(),this.h()},l(f){e=U(f,"DIV",{class:!0});var c=F(e);V(n.$$.fragment,c),t=B(c),a=U(c,"DIV",{class:!0});var d=F(a);s&&s.l(d),d.forEach(h),i=B(c),l=U(c,"DIV",{class:!0});var v=F(l);u&&u.l(v),v.forEach(h),c.forEach(h),this.h()},h(){I(a,"class","p-8 space-y-8 overflow-y-auto"),I(l,"class","p-8 border border-l-gray-300 overflow-y-scroll"),I(e,"class","h-full flex flex-row flex-nowrap items-stretch")},m(f,c){w(f,e,c),D(n,e,null),E(e,t),E(e,a),s&&s.m(a,null),E(e,i),E(e,l),u&&u.m(l,null),o=!0},p(f,[c]){const d={};c&16385&&(d.$$scope={dirty:c,ctx:f}),n.$set(d),f[1]!==void 0?s?(s.p(f,c),c&2&&$(s,1)):(s=We(f),s.c(),$(s,1),s.m(a,null)):s&&(H(),b(s,1,1,()=>{s=null}),J()),f[1]!==void 0?u?(u.p(f,c),c&2&&$(u,1)):(u=je(f),u.c(),$(u,1),u.m(l,null)):u&&(H(),b(u,1,1,()=>{u=null}),J())},i(f){o||($(n.$$.fragment,f),$(s),$(u),o=!0)},o(f){b(n.$$.fragment,f),b(s),b(u),o=!1},d(f){f&&h(e),q(n),s&&s.d(),u&&u.d()}}}const ce=He("");function En(r,e){for(let n of r.rules)if(n.symbol==e)return n;throw new Error("missingSymbol")}function In(r,e,n){let t,a,i=Z,l;fe(r,oe,m=>n(0,t=m)),fe(r,ce,m=>n(5,a=m)),fe(r,ct,m=>n(8,l=m)),r.$$.on_destroy.push(()=>i());for(let m of t){const g=m.rules.map(p=>p.symbol);for(let p of o(l))g.includes(p)||m.rules.push(ft(p));for(let p of g)if(!o(l).includes(p)){const k=En(m,p),P=m.rules.indexOf(k);m.rules.splice(P,1)}}function o(m){const g=[];for(const p of m){const k=p.structure.replace(/(\r\n|\n|\r)/gm,"");k&&g.push(...k.split(""))}return dt.uniq(g)}function s(m=null){const g=pt(m||de(5),de(5),o(l));ue(oe,t=[...t,g],t),ue(ce,a=g.id,a)}function u(){s()}let f,c;function d(){ue(oe,t=t.filter(m=>m.id!=a),t),t[0]&&ue(ce,a=t[0].id,a)}function v(m){r.$$.not_equal(t[c].name,m)&&(t[c].name=m,oe.set(t))}function _(m){r.$$.not_equal(t[c],m)&&(t[c]=m,oe.set(t))}return r.$$.update=()=>{r.$$.dirty&33&&n(4,f=t.find(m=>m.id==a)),r.$$.dirty&17&&f&&n(1,c=t.indexOf(f))},[t,c,u,d,f,a,v,_]}class On extends ee{constructor(e){super(),te(this,e,In,wn,ne,{})}}export{ce as currentSyntaxId,On as default};
