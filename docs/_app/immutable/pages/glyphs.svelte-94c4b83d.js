import{S as se,i as oe,s as ae,e as y,t as V,k as N,c as w,a as E,h as A,d as p,m as S,b as I,g as v,L as $,n as L,o as b,p as R,q as g,K as H,E as O,w as P,x as B,y as C,B as F,l as T,M as ie,j as fe,N as X,O as pe,P as _e,Q as z,R as me,T as he,U as de,V as ge}from"../chunks/index-80687ddf.js";import{s as K,g as j,a as $e}from"../chunks/index-20ce0964.js";import{n as ve}from"../chunks/index.browser-85ea5a5b.js";import{I as be}from"../chunks/inputText-89ed85c5.js";import{S as ke,a as ye}from"../chunks/sidebarTile-4ebb4043.js";import{B as we}from"../chunks/button-ead49fba.js";import{g as Ee,F as xe,a as Ge}from"../chunks/fontGenerator-a25b831f.js";import"../chunks/_commonjsHelpers-bc7114ed.js";import"../chunks/shapes-08d68f77.js";import"../chunks/index-f5484668.js";function J(i,t,r){const e=i.slice();return e[6]=t[r],e}function Ie(i){let t,r;return{c(){t=y("p"),r=V("No glyphs")},l(e){t=w(e,"P",{});var l=E(t);r=A(l,"No glyphs"),l.forEach(p)},m(e,l){v(e,t,l),$(t,r)},p:O,i:O,o:O,d(e){e&&p(t)}}}function Ne(i){let t,r,e=i[2],l=[];for(let a=0;a<e.length;a+=1)l[a]=Z(J(i,e,a));const s=a=>b(l[a],1,1,()=>{l[a]=null});return{c(){for(let a=0;a<l.length;a+=1)l[a].c();t=T()},l(a){for(let o=0;o<l.length;o+=1)l[o].l(a);t=T()},m(a,o){for(let n=0;n<l.length;n+=1)l[n].m(a,o);v(a,t,o),r=!0},p(a,o){if(o&519){e=a[2];let n;for(n=0;n<e.length;n+=1){const f=J(a,e,n);l[n]?(l[n].p(f,o),g(l[n],1)):(l[n]=Z(f),l[n].c(),g(l[n],1),l[n].m(t.parentNode,t))}for(L(),n=e.length;n<l.length;n+=1)s(n);R()}},i(a){if(!r){for(let o=0;o<e.length;o+=1)g(l[o]);r=!0}},o(a){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)b(l[o]);r=!1},d(a){ie(l,a),a&&p(t)}}}function Y(i){let t,r,e=i[9].names.fontSubfamily.en+"",l,s,a,o;return a=new Ge({props:{canvasWidth:300,font:i[9],text:i[1]}}),{c(){t=y("div"),r=y("p"),l=V(e),s=N(),P(a.$$.fragment),this.h()},l(n){t=w(n,"DIV",{class:!0});var f=E(t);r=w(f,"P",{class:!0});var m=E(r);l=A(m,e),m.forEach(p),s=S(f),B(a.$$.fragment,f),f.forEach(p),this.h()},h(){I(r,"class","text-small font-mono text-slate-900 text-sm"),I(t,"class","space-y-2")},m(n,f){v(n,t,f),$(t,r),$(r,l),$(t,s),C(a,t,null),o=!0},p(n,f){(!o||f&512)&&e!==(e=n[9].names.fontSubfamily.en+"")&&fe(l,e);const m={};f&512&&(m.font=n[9]),f&2&&(m.text=n[1]),a.$set(m)},i(n){o||(g(a.$$.fragment,n),o=!0)},o(n){b(a.$$.fragment,n),o=!1},d(n){n&&p(t),F(a)}}}function Se(i){let t,r,e=i[9]&&Y(i);return{c(){e&&e.c(),t=N()},l(l){e&&e.l(l),t=S(l)},m(l,s){e&&e.m(l,s),v(l,t,s),r=!0},p(l,s){l[9]?e?(e.p(l,s),s&512&&g(e,1)):(e=Y(l),e.c(),g(e,1),e.m(t.parentNode,t)):e&&(L(),b(e,1,1,()=>{e=null}),R())},i(l){r||(g(e),r=!0)},o(l){b(e),r=!1},d(l){e&&e.d(l),l&&p(t)}}}function Z(i){let t,r;return t=new xe({props:{syntax:i[6],glyphs:[i[0]],$$slots:{default:[Se,({font:e})=>({9:e}),({font:e})=>e?512:0]},$$scope:{ctx:i}}}),{c(){P(t.$$.fragment)},l(e){B(t.$$.fragment,e)},m(e,l){C(t,e,l),r=!0},p(e,l){const s={};l&4&&(s.syntax=e[6]),l&1&&(s.glyphs=[e[0]]),l&1538&&(s.$$scope={dirty:l,ctx:e}),t.$set(s)},i(e){r||(g(t.$$.fragment,e),r=!0)},o(e){b(t.$$.fragment,e),r=!1},d(e){F(t,e)}}}function De(i){let t,r,e,l,s,a,o;const n=[Ne,Ie],f=[];function m(c,k){return c[0]?0:1}return s=m(i),a=f[s]=n[s](i),{c(){t=y("div"),r=y("p"),e=V("Anteprima"),l=N(),a.c(),this.h()},l(c){t=w(c,"DIV",{class:!0});var k=E(t);r=w(k,"P",{class:!0});var u=E(r);e=A(u,"Anteprima"),u.forEach(p),l=S(k),a.l(k),k.forEach(p),this.h()},h(){I(r,"class","text-small font-mono text-slate-900 text-sm"),I(t,"class","space-y-8")},m(c,k){v(c,t,k),$(t,r),$(r,e),$(t,l),f[s].m(t,null),o=!0},p(c,[k]){let u=s;s=m(c),s===u?f[s].p(c,k):(L(),b(f[u],1,1,()=>{f[u]=null}),R(),a=f[s],a?a.p(c,k):(a=f[s]=n[s](c),a.c()),g(a,1),a.m(t,null))},i(c){o||(g(a),o=!0)},o(c){b(a),o=!1},d(c){c&&p(t),f[s].d()}}}function Ve(i,t,r){let e,l,s;H(i,K,f=>r(3,e=f)),H(i,j,f=>r(4,l=f)),H(i,$e,f=>r(2,s=f));let a,o;function n(f){try{return String.fromCharCode(Ee(f.name))}catch(m){return console.log(m),""}}return i.$$.update=()=>{i.$$.dirty&24&&e&&r(0,a=l.find(f=>f.id===e)),i.$$.dirty&1&&a&&r(1,o=n(a))},[a,o,s,e,l]}class Ae extends se{constructor(t){super(),oe(this,t,Ve,De,ae,{})}}function ee(i,t,r){const e=i.slice();return e[5]=t[r],e[6]=t,e[7]=r,e}function te(i,t,r){const e=i.slice();return e[5]=t[r],e}function Te(i){let t;return{c(){t=V("+ Aggiungi glifo")},l(r){t=A(r,"+ Aggiungi glifo")},m(r,e){v(r,t,e)},d(r){r&&p(t)}}}function Pe(i){let t,r;return t=new we({props:{$$slots:{default:[Te]},$$scope:{ctx:i}}}),t.$on("click",i[2]),{c(){P(t.$$.fragment)},l(e){B(t.$$.fragment,e)},m(e,l){C(t,e,l),r=!0},p(e,l){const s={};l&1024&&(s.$$scope={dirty:l,ctx:e}),t.$set(s)},i(e){r||(g(t.$$.fragment,e),r=!0)},o(e){b(t.$$.fragment,e),r=!1},d(e){F(t,e)}}}function Be(i){let t;return{c(){t=V("Lista glifi")},l(r){t=A(r,"Lista glifi")},m(r,e){v(r,t,e)},d(r){r&&p(t)}}}function Ce(i){let t=i[5].name+"",r,e;return{c(){r=V(t),e=N()},l(l){r=A(l,t),e=S(l)},m(l,s){v(l,r,s),v(l,e,s)},p(l,s){s&2&&t!==(t=l[5].name+"")&&fe(r,t)},d(l){l&&p(r),l&&p(e)}}}function le(i,t){let r,e,l;return e=new ye({props:{selection:K,id:t[5].id,$$slots:{default:[Ce]},$$scope:{ctx:t}}}),{key:i,first:null,c(){r=T(),P(e.$$.fragment),this.h()},l(s){r=T(),B(e.$$.fragment,s),this.h()},h(){this.first=r},m(s,a){v(s,r,a),C(e,s,a),l=!0},p(s,a){t=s;const o={};a&2&&(o.id=t[5].id),a&1026&&(o.$$scope={dirty:a,ctx:t}),e.$set(o)},i(s){l||(g(e.$$.fragment,s),l=!0)},o(s){b(e.$$.fragment,s),l=!1},d(s){s&&p(r),F(e,s)}}}function Fe(i){let t=[],r=new Map,e,l,s=i[1];const a=o=>o[5].id;for(let o=0;o<s.length;o+=1){let n=te(i,s,o),f=a(n);r.set(f,t[o]=le(f,n))}return{c(){for(let o=0;o<t.length;o+=1)t[o].c();e=T()},l(o){for(let n=0;n<t.length;n+=1)t[n].l(o);e=T()},m(o,n){for(let f=0;f<t.length;f+=1)t[f].m(o,n);v(o,e,n),l=!0},p(o,n){n&2&&(s=o[1],L(),t=me(t,n,a,1,o,s,r,e.parentNode,he,le,e,te),R())},i(o){if(!l){for(let n=0;n<s.length;n+=1)g(t[n]);l=!0}},o(o){for(let n=0;n<t.length;n+=1)b(t[n]);l=!1},d(o){for(let n=0;n<t.length;n+=1)t[n].d(o);o&&p(e)}}}function re(i){let t,r,e,l,s,a,o,n,f,m,c,k,u,_,x,d,D,q;function ce(h){i[3](h,i[5])}let Q={};i[5].name!==void 0&&(Q.value=i[5].name),s=new be({props:Q}),de.push(()=>ge(s,"value",ce));function ue(){i[4].call(_,i[6],i[7])}return{c(){t=y("div"),r=y("p"),e=V("Nome glifo"),l=N(),P(s.$$.fragment),o=N(),n=y("hr"),f=N(),m=y("div"),c=y("p"),k=V("Struttura glifo"),u=N(),_=y("textarea"),x=N(),this.h()},l(h){t=w(h,"DIV",{class:!0});var G=E(t);r=w(G,"P",{class:!0});var M=E(r);e=A(M,"Nome glifo"),M.forEach(p),l=S(G),B(s.$$.fragment,G),G.forEach(p),o=S(h),n=w(h,"HR",{}),f=S(h),m=w(h,"DIV",{class:!0});var U=E(m);c=w(U,"P",{class:!0});var W=E(c);k=A(W,"Struttura glifo"),W.forEach(p),u=S(U),_=w(U,"TEXTAREA",{class:!0}),E(_).forEach(p),x=S(U),U.forEach(p),this.h()},h(){I(r,"class","text-small font-mono text-slate-900 mb-2 text-sm"),I(t,"class","shrink-0"),I(c,"class","text-small font-mono text-slate-900 mb-2 text-sm"),I(_,"class","h-0 grow p-2 bg-slate-200 tracking-[0.75em] hover:bg-slate-300 font-mono focus:ring-4"),I(m,"class","grow flex flex-col items-stretch")},m(h,G){v(h,t,G),$(t,r),$(r,e),$(t,l),C(s,t,null),v(h,o,G),v(h,n,G),v(h,f,G),v(h,m,G),$(m,c),$(c,k),$(m,u),$(m,_),X(_,i[5].structure),$(m,x),d=!0,D||(q=pe(_,"input",ue),D=!0)},p(h,G){i=h;const M={};!a&&G&2&&(a=!0,M.value=i[5].name,_e(()=>a=!1)),s.$set(M),G&2&&X(_,i[5].structure)},i(h){d||(g(s.$$.fragment,h),d=!0)},o(h){b(s.$$.fragment,h),d=!1},d(h){h&&p(t),F(s),h&&p(o),h&&p(n),h&&p(f),h&&p(m),D=!1,q()}}}function ne(i){let t,r,e=i[5].id==i[0]&&re(i);return{c(){e&&e.c(),t=T()},l(l){e&&e.l(l),t=T()},m(l,s){e&&e.m(l,s),v(l,t,s),r=!0},p(l,s){l[5].id==l[0]?e?(e.p(l,s),s&3&&g(e,1)):(e=re(l),e.c(),g(e,1),e.m(t.parentNode,t)):e&&(L(),b(e,1,1,()=>{e=null}),R())},i(l){r||(g(e),r=!0)},o(l){b(e),r=!1},d(l){e&&e.d(l),l&&p(t)}}}function qe(i){let t,r,e,l,s,a,o,n,f;e=new ke({props:{$$slots:{items:[Fe],listTitle:[Be],topArea:[Pe]},$$scope:{ctx:i}}});let m=i[1],c=[];for(let u=0;u<m.length;u+=1)c[u]=ne(ee(i,m,u));const k=u=>b(c[u],1,1,()=>{c[u]=null});return n=new Ae({}),{c(){t=y("div"),r=y("div"),P(e.$$.fragment),l=N(),s=y("div");for(let u=0;u<c.length;u+=1)c[u].c();a=N(),o=y("div"),P(n.$$.fragment),this.h()},l(u){t=w(u,"DIV",{class:!0});var _=E(t);r=w(_,"DIV",{class:!0});var x=E(r);B(e.$$.fragment,x),x.forEach(p),l=S(_),s=w(_,"DIV",{class:!0});var d=E(s);for(let q=0;q<c.length;q+=1)c[q].l(d);d.forEach(p),a=S(_),o=w(_,"DIV",{class:!0});var D=E(o);B(n.$$.fragment,D),D.forEach(p),_.forEach(p),this.h()},h(){I(r,"class","shrink-0 flex items-stretch"),I(s,"class","p-8 space-y-8 grow flex flex-col items-stretch"),I(o,"class","p-8 border border-l-gray-300 overflow-y-scroll"),I(t,"class","flex flex-row flex-nowrap items-stretch overflow-hidden grow")},m(u,_){v(u,t,_),$(t,r),C(e,r,null),$(t,l),$(t,s);for(let x=0;x<c.length;x+=1)c[x].m(s,null);$(t,a),$(t,o),C(n,o,null),f=!0},p(u,[_]){const x={};if(_&1026&&(x.$$scope={dirty:_,ctx:u}),e.$set(x),_&3){m=u[1];let d;for(d=0;d<m.length;d+=1){const D=ee(u,m,d);c[d]?(c[d].p(D,_),g(c[d],1)):(c[d]=ne(D),c[d].c(),g(c[d],1),c[d].m(s,null))}for(L(),d=m.length;d<c.length;d+=1)k(d);R()}},i(u){if(!f){g(e.$$.fragment,u);for(let _=0;_<m.length;_+=1)g(c[_]);g(n.$$.fragment,u),f=!0}},o(u){b(e.$$.fragment,u),c=c.filter(Boolean);for(let _=0;_<c.length;_+=1)b(c[_]);b(n.$$.fragment,u),f=!1},d(u){u&&p(t),F(e),ie(c,u),F(n)}}}function Le(i,t,r){let e,l;H(i,K,n=>r(0,e=n)),H(i,j,n=>r(1,l=n)),l.length||s();function s(){const n={id:ve(5),name:"[aggiungi nome]",structure:""};z(j,l=[...l,n],l),z(K,e=n.id,e)}function a(n,f){i.$$.not_equal(f.name,n)&&(f.name=n,j.set(l))}function o(n,f){n[f].structure=this.value,j.set(l)}return[e,l,s,a,o]}class ze extends se{constructor(t){super(),oe(this,t,Le,qe,ae,{})}}export{ze as default};
