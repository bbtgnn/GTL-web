import{D as E,E as A,F as m,G as D,s as w,e as C,c as F,b as G,f as g,l as f,i as b,C as N,n as u,k as H,q as v,w as P,x as j,y as R,z as V,H as B}from"./scheduler.C-FasNJY.js";import{g as I,a as k,c as J,t as y,S,i as W}from"./index.kvxrQ0J1.js";import{m as q}from"./index.browser.CB3wmJJP.js";import{g as K}from"./createFont.C8QtLuR4.js";function p(n,t){const l=t.token={};function c(e,s,r,o){if(t.token!==l)return;t.resolved=o;let i=t.ctx;r!==void 0&&(i=i.slice(),i[r]=o);const a=e&&(t.current=e)(i);let d=!1;t.block&&(t.blocks?t.blocks.forEach((h,_)=>{_!==s&&h&&(I(),k(h,1,1,()=>{t.blocks[_]===h&&(t.blocks[_]=null)}),J())}):t.block.d(1),a.c(),y(a,1),a.m(t.mount(),t.anchor),d=!0),t.block=a,t.blocks&&(t.blocks[s]=a),d&&D()}if(E(n)){const e=A();if(n.then(s=>{m(e),c(t.then,1,t.value,s),m(null)},s=>{if(m(e),c(t.catch,2,t.error,s),m(null),!t.hasCatch)throw s}),t.current!==t.pending)return c(t.pending,0),!0}else{if(t.current!==t.then)return c(t.then,1,t.value,n),!0;t.resolved=n}}function L(n,t,l){const c=t.slice(),{resolved:e}=n;n.current===n.then&&(c[n.value]=e),n.current===n.catch&&(c[n.error]=e),n.block.p(c,l)}function M(n){let t,l,c;return{c(){t=C("canvas"),this.h()},l(e){t=F(e,"CANVAS",{class:!0,width:!0,height:!0}),G(t).forEach(g),this.h()},h(){f(t,"class","bg-gray-100 p-10"),f(t,"width",n[0]),f(t,"height",n[1])},m(e,s){b(e,t,s),l||(c=N(n[2].call(null,t)),l=!0)},p(e,[s]){s&1&&f(t,"width",e[0]),s&2&&f(t,"height",e[1])},i:u,o:u,d(e){e&&g(t),l=!1,c()}}}function O(n,t,l){let c;H(n,q,a=>l(5,c=a));let{font:e}=t,{text:s}=t,{canvasWidth:r=600}=t,{canvasHeight:o=150}=t;function i(a){const d=a.getContext("2d",{willReadFrequently:!0}),h=o,_=h/c.height,z=o-_*c.baseline;e.draw(d,s,0,z,h,{kerning:!1})}return n.$$set=a=>{"font"in a&&l(3,e=a.font),"text"in a&&l(4,s=a.text),"canvasWidth"in a&&l(0,r=a.canvasWidth),"canvasHeight"in a&&l(1,o=a.canvasHeight)},[r,o,i,e,s]}class ct extends S{constructor(t){super(),W(this,t,O,M,w,{font:3,text:4,canvasWidth:0,canvasHeight:1})}}const Q=n=>({font:n&1}),x=n=>({font:n[6]});function T(n){return{c:u,l:u,m:u,p:u,i:u,o:u,d:u}}function U(n){let t;const l=n[5].default,c=P(l,n,n[4],x);return{c(){c&&c.c()},l(e){c&&c.l(e)},m(e,s){c&&c.m(e,s),t=!0},p(e,s){c&&c.p&&(!t||s&17)&&j(c,l,e,e[4],t?V(l,e[4],s,Q):R(e[4]),x)},i(e){t||(y(c,e),t=!0)},o(e){k(c,e),t=!1},d(e){c&&c.d(e)}}}function X(n){let t,l="loading";return{c(){t=C("p"),t.textContent=l},l(c){t=F(c,"P",{"data-svelte-h":!0}),B(t)!=="svelte-1ecjz70"&&(t.textContent=l)},m(c,e){b(c,t,e)},p:u,i:u,o:u,d(c){c&&g(t)}}}function Y(n){let t,l,c,e={ctx:n,current:null,token:null,hasCatch:!1,pending:X,then:U,catch:T,value:6,blocks:[,,,]};return p(l=n[0],e),{c(){t=v(),e.block.c()},l(s){t=v(),e.block.l(s)},m(s,r){b(s,t,r),e.block.m(s,e.anchor=r),e.mount=()=>t.parentNode,e.anchor=t,c=!0},p(s,[r]){n=s,e.ctx=n,r&1&&l!==(l=n[0])&&p(l,e)||L(e,n,r)},i(s){c||(y(e.block),c=!0)},o(s){for(let r=0;r<3;r+=1){const o=e.blocks[r];k(o)}c=!1},d(s){s&&g(t),e.block.d(s),e.token=null,e=null}}}function Z(n,t,l){let c;H(n,q,a=>l(3,c=a));let{$$slots:e={},$$scope:s}=t,{syntax:r}=t,{glyphs:o}=t,i;return n.$$set=a=>{"syntax"in a&&l(1,r=a.syntax),"glyphs"in a&&l(2,o=a.glyphs),"$$scope"in a&&l(4,s=a.$$scope)},n.$$.update=()=>{n.$$.dirty&14&&l(0,i=K(r,o,c))},[i,r,o,c,s,e]}class st extends S{constructor(t){super(),W(this,t,Z,Y,w,{syntax:1,glyphs:2})}}export{st as F,ct as a};
