import{S as _,i as y,s as x,U as d,V as b,w as T,x as w,y as v,P as G,q as S,o as B,B as C,K as k}from"./index-14642c17.js";import{g as q}from"./index.browser-89930ef9.js";import{I,g as U}from"./fontGenerator-784899d0.js";function A(s){let t,a,i;function r(n){s[4](n)}let o={name:s[1],grow:!0};return s[0]!==void 0&&(o.value=s[0]),t=new I({props:o}),d.push(()=>b(t,"value",r)),{c(){T(t.$$.fragment)},l(n){w(t.$$.fragment,n)},m(n,l){v(t,n,l),i=!0},p(n,[l]){const c={};l&2&&(c.name=n[1]),!a&&l&1&&(a=!0,c.value=n[0],G(()=>a=!1)),t.$set(c)},i(n){i||(S(t.$$.fragment,n),i=!0)},o(n){B(t.$$.fragment,n),i=!1},d(n){C(t,n)}}}function E(s,t){let a=s;for(let i of t)a=a.replace(i,"");return a}function F(s,t,a){let i;k(s,q,e=>a(5,i=e));let{text:r=""}=t,{glyphs:o=[]}=t,{validText:n=""}=t,{name:l="previewText"}=t;function c(e){if(e.length>1)throw new Error("char must be a single character");for(let u of i)try{if(U(u.name)===e.charCodeAt(0))return u}catch(f){console.log(f,u.name)}}function h(e){let u=[],f=[];for(let m of e){const g=c(m);g?u.push(g):f.push(m)}return{found:[...new Set(u)],missing:f}}function p(e){r=e,a(0,r)}return s.$$set=e=>{"text"in e&&a(0,r=e.text),"glyphs"in e&&a(2,o=e.glyphs),"validText"in e&&a(3,n=e.validText),"name"in e&&a(1,l=e.name)},s.$$.update=()=>{if(s.$$.dirty&1){const e=h(r);a(2,o=e.found),a(3,n=E(r,e.missing))}},[r,l,o,n,p]}class V extends _{constructor(t){super(),y(this,t,F,A,x,{text:0,glyphs:2,validText:3,name:1})}}export{V as G};
