import{S as _,i as y,s as x,u as d,v as b,w as T,x as v,y as w,z as G,o as S,q as C,A as k,l as q}from"./index.c8313fb2.js";import{g as A}from"./index.browser.3f8e3725.js";import{I as B,b as I}from"./fontGenerator.5f815fc9.js";function z(s){let t,a,i;function l(n){s[4](n)}let o={name:s[1],grow:!0};return s[0]!==void 0&&(o.value=s[0]),t=new B({props:o}),d.push(()=>b(t,"value",l)),{c(){T(t.$$.fragment)},l(n){v(t.$$.fragment,n)},m(n,r){w(t,n,r),i=!0},p(n,[r]){const c={};r&2&&(c.name=n[1]),!a&&r&1&&(a=!0,c.value=n[0],G(()=>a=!1)),t.$set(c)},i(n){i||(S(t.$$.fragment,n),i=!0)},o(n){C(t.$$.fragment,n),i=!1},d(n){k(t,n)}}}function E(s,t){let a=s;for(let i of t)a=a.replace(i,"");return a}function F(s,t,a){let i;q(s,A,e=>a(5,i=e));let{text:l=""}=t,{glyphs:o=[]}=t,{validText:n=""}=t,{name:r="previewText"}=t;function c(e){if(e.length>1)throw new Error("char must be a single character");for(let u of i)try{if(I(u.name)===e.charCodeAt(0))return u}catch(f){console.log(f,u.name)}}function h(e){let u=[],f=[];for(let m of e){const g=c(m);g?u.push(g):f.push(m)}return{found:[...new Set(u)],missing:f}}function p(e){l=e,a(0,l)}return s.$$set=e=>{"text"in e&&a(0,l=e.text),"glyphs"in e&&a(2,o=e.glyphs),"validText"in e&&a(3,n=e.validText),"name"in e&&a(1,r=e.name)},s.$$.update=()=>{if(s.$$.dirty&1){const e=h(l);a(2,o=e.found),a(3,n=E(l,e.missing))}},[l,r,o,n,p]}class D extends _{constructor(t){super(),y(this,t,F,z,x,{text:0,glyphs:2,validText:3,name:1})}}export{D as G};
