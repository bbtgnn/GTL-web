import{w}from"./index.c0a17338.js";import{T as D}from"./index.c6f2fdfd.js";var f={};function m(e){return e==="local"?localStorage:sessionStorage}function g(e,t,r){return console.warn(`writable() has been deprecated. Please use persisted() instead.

change:

import { writable } from 'svelte-local-storage-store'

to:

import { persisted } from 'svelte-local-storage-store'`),y(e,t,r)}function y(e,t,r){const n=(r==null?void 0:r.serializer)??JSON,i=(r==null?void 0:r.storage)??"local",s=typeof window<"u"&&typeof document<"u";function a(c,u){s&&m(i).setItem(c,n.stringify(u))}if(!f[e]){const c=w(t,o=>{const l=s?m(i).getItem(e):null;if(l&&o(n.parse(l)),s){const v=d=>{d.key===e&&o(d.newValue?n.parse(d.newValue):null)};return window.addEventListener("storage",v),()=>window.removeEventListener("storage",v)}}),{subscribe:u,set:p}=c;f[e]={set(o){a(e,o),p(o)},update(o){const l=o(D(c));a(e,l),p(l)},subscribe:u}}return f[e]}async function A(){const e="showDirectoryPicker";return window&&e in window&&typeof window[e]=="function"}async function L(){if(A())return await window.showDirectoryPicker()}var U=(e=>(e.Directory="directory",e.File="file",e.FileDataUrl="fileDataUrl",e))(U||{});const h={kind:"directory",name:"root",value:[]};async function b(e){return new Promise((t,r)=>{const n=new FileReader;n.onload=()=>{t(n.result)},n.readAsDataURL(e)})}async function S(e){return{kind:"fileDataUrl",name:e.name,value:await b(e.value)}}async function F(e,t=!1,r=[],n=h){for await(const[i,s]of e)if(s.kind==="directory"){const a={kind:"directory",name:i,value:[]};n.value.push(a),await F(s,t,r,a)}else{if(r.includes(i))continue;const a={kind:"file",name:i,value:await s.getFile()};n.value.push(t?await S(a):a)}return n}const R=g("syntaxes",[]),T=g("glyphs",[]),k=g("metrics",{baseline:1,height:5}),E=w(""),V=w("Hello World!"),_=y("svgs",h);let j=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,r)=>(r&=63,r<36?t+=r.toString(36):r<62?t+=(r-26).toString(36).toUpperCase():r>62?t+="-":t+="_",t),"");export{U as F,E as a,_ as b,L as c,h as d,T as g,F as l,k as m,j as n,V as p,R as s};
