import{N as wt,s as it,e as v,a as P,c as b,b as z,g as S,f as _,l as C,i as j,h as d,u as Pt,O as St,w as bt,x as Ct,y as Et,z as It,o as at,q as mt,P as J,H as R,p as dt,k as X,t as M,d as Q,Q as N,n as jt}from"../chunks/scheduler.C4kI4csh.js";import{S as rt,i as ft,d as A,e as O,m as U,t as E,a as w,f as G,g as Dt,c as Tt,h as Vt,b as _t}from"../chunks/index.BGtRa5jK.js";import{a as $t,m as nt,g as ot,s as lt,d as Ft}from"../chunks/index.browser.DZqLo4Tb.js";import{B as L}from"../chunks/createFont.fTSbOh0_.js";import{c as gt}from"../chunks/7.BL5MHZHJ.js";function Nt(o,{delay:t=0,duration:e=400,easing:s=wt}={}){const n=+getComputedStyle(o).opacity;return{delay:t,duration:e,easing:s,css:l=>`opacity: ${l*n}`}}function qt(o){let t;const e=o[3].default,s=bt(e,o,o[5],null);return{c(){s&&s.c()},l(n){s&&s.l(n)},m(n,l){s&&s.m(n,l),t=!0},p(n,l){s&&s.p&&(!t||l&32)&&Ct(s,e,n,n[5],t?It(e,n[5],l,null):Et(n[5]),null)},i(n){t||(E(s,n),t=!0)},o(n){w(s,n),t=!1},d(n){s&&s.d(n)}}}function xt(o){let t,e,s,n,l,a,i;return e=new L({props:{$$slots:{default:[qt]},$$scope:{ctx:o}}}),e.$on("click",o[2]),{c(){t=v("div"),A(e.$$.fragment),s=P(),n=v("input"),this.h()},l(r){t=b(r,"DIV",{});var u=z(t);O(e.$$.fragment,u),s=S(u),n=b(u,"INPUT",{class:!0,type:!0,accept:!0}),u.forEach(_),this.h()},h(){C(n,"class","hidden"),C(n,"type","file"),C(n,"accept",".json")},m(r,u){j(r,t,u),U(e,t,null),d(t,s),d(t,n),o[4](n),l=!0,a||(i=Pt(n,"change",o[1]),a=!0)},p(r,[u]){const $={};u&32&&($.$$scope={dirty:u,ctx:r}),e.$set($)},i(r){l||(E(e.$$.fragment,r),l=!0)},o(r){w(e.$$.fragment,r),l=!1},d(r){r&&_(t),G(e),o[4](null),a=!1,i()}}}function At(o,t,e){let{$$slots:s={},$$scope:n}=t;const l=St();let a;const i=$=>{const h=$.target.files[0],g=new FileReader;g.readAsText(h),g.onload=B=>{const q=B.target.result;l("upload",{json:q})}};function r(){a.click()}function u($){at[$?"unshift":"push"](()=>{a=$,e(0,a)})}return o.$$set=$=>{"$$scope"in $&&e(5,n=$.$$scope)},[a,i,r,s,u,n]}class Ot extends rt{constructor(t){super(),ft(this,t,At,xt,it,{})}}function ht(o){let t,e,s;const n=o[4].default,l=bt(n,o,o[3],null);return{c(){t=v("div"),l&&l.c(),this.h()},l(a){t=b(a,"DIV",{class:!0});var i=z(t);l&&l.l(i),i.forEach(_),this.h()},h(){C(t,"class","p-4"),J(t,"bg-red-300",o[1]=="negative"),J(t,"bg-gold-300",o[1]=="neutral"),J(t,"bg-green-300",o[1]=="positive")},m(a,i){j(a,t,i),l&&l.m(t,null),s=!0},p(a,i){l&&l.p&&(!s||i&8)&&Ct(l,n,a,a[3],s?It(n,a[3],i,null):Et(a[3]),null),(!s||i&2)&&J(t,"bg-red-300",a[1]=="negative"),(!s||i&2)&&J(t,"bg-gold-300",a[1]=="neutral"),(!s||i&2)&&J(t,"bg-green-300",a[1]=="positive")},i(a){s||(E(l,a),e&&e.end(1),s=!0)},o(a){w(l,a),e=Vt(t,Nt,{}),s=!1},d(a){a&&_(t),l&&l.d(a),a&&e&&e.end()}}}function Ut(o){let t,e,s=o[0]&&ht(o);return{c(){s&&s.c(),t=mt()},l(n){s&&s.l(n),t=mt()},m(n,l){s&&s.m(n,l),j(n,t,l),e=!0},p(n,[l]){n[0]?s?(s.p(n,l),l&1&&E(s,1)):(s=ht(n),s.c(),E(s,1),s.m(t.parentNode,t)):s&&(Dt(),w(s,1,1,()=>{s=null}),Tt())},i(n){e||(E(s),e=!0)},o(n){w(s),e=!1},d(n){n&&_(t),s&&s.d(n)}}}function Gt(o,t,e){let{$$slots:s={},$$scope:n}=t,{state:l="positive"}=t,{duration:a=3e3}=t,{visible:i=!1}=t;return o.$$set=r=>{"state"in r&&e(1,l=r.state),"duration"in r&&e(2,a=r.duration),"visible"in r&&e(0,i=r.visible),"$$scope"in r&&e(3,n=r.$$scope)},o.$$.update=()=>{o.$$.dirty&7&&i&&l=="positive"&&setTimeout(()=>{e(0,i=!1)},a)},[i,l,a,n,s]}class vt extends rt{constructor(t){super(),ft(this,t,Gt,Ut,it,{state:1,duration:2,visible:0})}}function zt(o){let t;return{c(){t=M("Clear")},l(e){t=Q(e,"Clear")},m(e,s){j(e,t,s)},d(e){e&&_(t)}}}function Bt(o){let t;return{c(){t=M("Esporta")},l(e){t=Q(e,"Esporta")},m(e,s){j(e,t,s)},d(e){e&&_(t)}}}function Jt(o){let t;return{c(){t=M("Importa")},l(e){t=Q(e,"Importa")},m(e,s){j(e,t,s)},d(e){e&&_(t)}}}function Rt(o){let t,e="Caricamento riuscito! Controlla la sintassi e i glifi :)";return{c(){t=v("p"),t.textContent=e,this.h()},l(s){t=b(s,"P",{class:!0,"data-svelte-h":!0}),R(t)!=="svelte-1yfhz2m"&&(t.textContent=e),this.h()},h(){C(t,"class","font-mono text-slate-900")},m(s,n){j(s,t,n)},p:jt,d(s){s&&_(t)}}}function Xt(o){let t;return{c(){t=M("X")},l(e){t=Q(e,"X")},m(e,s){j(e,t,s)},d(e){e&&_(t)}}}function Ht(o){let t,e,s="Errore di caricamento :(",n,l,a;return l=new L({props:{$$slots:{default:[Xt]},$$scope:{ctx:o}}}),l.$on("click",o[5]),{c(){t=v("div"),e=v("p"),e.textContent=s,n=P(),A(l.$$.fragment),this.h()},l(i){t=b(i,"DIV",{class:!0});var r=z(t);e=b(r,"P",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-1ts5kmp"&&(e.textContent=s),n=S(r),O(l.$$.fragment,r),r.forEach(_),this.h()},h(){C(e,"class","font-mono text-slate-900"),C(t,"class","flex flex-row justify-between items-center")},m(i,r){j(i,t,r),d(t,e),d(t,n),U(l,t,null),a=!0},p(i,r){const u={};r&8192&&(u.$$scope={dirty:r,ctx:i}),l.$set(u)},i(i){a||(E(l.$$.fragment,i),a=!0)},o(i){w(l.$$.fragment,i),a=!1},d(i){i&&_(t),G(l)}}}function Lt(o){let t,e,s,n="Elimina progetto",l,a,i="Il progetto verrÃ  esportato automaticamente prima di essere eliminato",r,u,$,h,g,B="Esporta progetto",q,I,c,m,k,ut="Importa progetto",K,D,W,T,Y,Z,V,tt,H;u=new L({props:{$$slots:{default:[zt]},$$scope:{ctx:o}}}),u.$on("click",o[2]),I=new L({props:{$$slots:{default:[Bt]},$$scope:{ctx:o}}}),I.$on("click",o[3]),D=new Ot({props:{$$slots:{default:[Jt]},$$scope:{ctx:o}}}),D.$on("upload",o[4]);function kt(f){o[6](f)}let ct={state:"positive",$$slots:{default:[Rt]},$$scope:{ctx:o}};o[0]!==void 0&&(ct.visible=o[0]),T=new vt({props:ct}),at.push(()=>_t(T,"visible",kt));function yt(f){o[7](f)}let pt={state:"negative",$$slots:{default:[Ht]},$$scope:{ctx:o}};return o[1]!==void 0&&(pt.visible=o[1]),V=new vt({props:pt}),at.push(()=>_t(V,"visible",yt)),{c(){t=v("div"),e=v("div"),s=v("p"),s.textContent=n,l=P(),a=v("p"),a.textContent=i,r=P(),A(u.$$.fragment),$=P(),h=v("div"),g=v("p"),g.textContent=B,q=P(),A(I.$$.fragment),c=P(),m=v("div"),k=v("p"),k.textContent=ut,K=P(),A(D.$$.fragment),W=P(),A(T.$$.fragment),Z=P(),A(V.$$.fragment),this.h()},l(f){t=b(f,"DIV",{class:!0});var p=z(t);e=b(p,"DIV",{});var F=z(e);s=b(F,"P",{class:!0,"data-svelte-h":!0}),R(s)!=="svelte-1htv0fr"&&(s.textContent=n),l=S(F),a=b(F,"P",{class:!0,"data-svelte-h":!0}),R(a)!=="svelte-1145jqg"&&(a.textContent=i),r=S(F),O(u.$$.fragment,F),F.forEach(_),$=S(p),h=b(p,"DIV",{});var x=z(h);g=b(x,"P",{class:!0,"data-svelte-h":!0}),R(g)!=="svelte-1dheb00"&&(g.textContent=B),q=S(x),O(I.$$.fragment,x),x.forEach(_),c=S(p),m=b(p,"DIV",{class:!0});var y=z(m);k=b(y,"P",{class:!0,"data-svelte-h":!0}),R(k)!=="svelte-1y7hqc"&&(k.textContent=ut),K=S(y),O(D.$$.fragment,y),W=S(y),O(T.$$.fragment,y),Z=S(y),O(V.$$.fragment,y),y.forEach(_),p.forEach(_),this.h()},h(){C(s,"class","font-mono"),C(a,"class","font-mono text-sm mb-2 text-slate-600"),C(g,"class","mb-2 font-mono"),C(k,"class","font-mono"),C(m,"class","space-y-2"),C(t,"class","p-8 space-y-8 flex flex-col")},m(f,p){j(f,t,p),d(t,e),d(e,s),d(e,l),d(e,a),d(e,r),U(u,e,null),d(t,$),d(t,h),d(h,g),d(h,q),U(I,h,null),d(t,c),d(t,m),d(m,k),d(m,K),U(D,m,null),d(m,W),U(T,m,null),d(m,Z),U(V,m,null),H=!0},p(f,[p]){const F={};p&8192&&(F.$$scope={dirty:p,ctx:f}),u.$set(F);const x={};p&8192&&(x.$$scope={dirty:p,ctx:f}),I.$set(x);const y={};p&8192&&(y.$$scope={dirty:p,ctx:f}),D.$set(y);const et={};p&8192&&(et.$$scope={dirty:p,ctx:f}),!Y&&p&1&&(Y=!0,et.visible=f[0],dt(()=>Y=!1)),T.$set(et);const st={};p&8192&&(st.$$scope={dirty:p,ctx:f}),!tt&&p&2&&(tt=!0,st.visible=f[1],dt(()=>tt=!1)),V.$set(st)},i(f){H||(E(u.$$.fragment,f),E(I.$$.fragment,f),E(D.$$.fragment,f),E(T.$$.fragment,f),E(V.$$.fragment,f),H=!0)},o(f){w(u.$$.fragment,f),w(I.$$.fragment,f),w(D.$$.fragment,f),w(T.$$.fragment,f),w(V.$$.fragment,f),H=!1},d(f){f&&_(t),G(u),G(I),G(D),G(T),G(V)}}}function Mt(o,t,e){let s,n,l,a,i;X(o,gt,c=>e(8,s=c)),X(o,$t,c=>e(9,n=c)),X(o,nt,c=>e(10,l=c)),X(o,ot,c=>e(11,a=c)),X(o,lt,c=>e(12,i=c));function r(){u(),N(lt,i=[],i),N(ot,a=[],a),N(nt,l=Ft,l)}function u(){let c="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify({glyphs:a,syntaxes:i,metrics:l})),m=document.createElement("a");m.setAttribute("href",c),m.setAttribute("download","GTL.json"),m.click()}function $(c){try{const m=c.detail.json,k=JSON.parse(m);N(lt,i=k.syntaxes,i),N(ot,a=k.glyphs,a),N(nt,l=k.metrics,l),N($t,n="",n),N(gt,s="",s),e(0,h=!0)}catch{e(1,g=!0),console.log("ImportError")}}let h=!1,g=!1;function B(){e(1,g=!1)}function q(c){h=c,e(0,h)}function I(c){g=c,e(1,g)}return[h,g,r,u,$,B,q,I]}class te extends rt{constructor(t){super(),ft(this,t,Mt,Lt,it,{})}}export{te as component};
